import{b2 as N,aB as _,b3 as h,b4 as u,aa as x,u as m,k as E,b5 as I,j as n,m as P,I as f,D as j,v as B,w as C,H as G,b6 as y,aW as k,b7 as R,b8 as v,e as D}from"./index-FX96rGzE.js";import{F}from"./FilterList-qHf6XsUZ.js";var s=(e=>(e.UPDATE="UPDATE",e.UNINSTALL="UNINSTALL",e.INSTALL="INSTALL",e))(s||{}),S=(e=>(e.OBSOLETE="OBSOLETE",e.UPDATING="UPDATING",e.UNINSTALLING="UNINSTALLING",e.INSTALLING="INSTALLING",e))(S||{});const o={...s,...S};var i=(e=>(e.INSTALLED="INSTALLED",e.UPDATE_PENDING="UPDATE_PENDING",e.OBSOLETE="OBSOLETE",e))(i||{});const Y={[s.UPDATE]:S.UPDATING,[s.UNINSTALL]:S.UNINSTALLING,[s.INSTALL]:S.INSTALLING},q={[s.UPDATE]:s.UNINSTALL,[s.UNINSTALL]:s.INSTALL,[s.INSTALL]:s.UNINSTALL},z={[o.UNINSTALL]:"extension.action.label.uninstall",[o.INSTALL]:"extension.action.label.install",[o.UPDATE]:"extension.action.label.update",[o.OBSOLETE]:"extension.state.label.obsolete",[o.UPDATING]:"extension.state.label.updating",[o.UNINSTALLING]:"extension.state.label.uninstalling",[o.INSTALLING]:"extension.state.label.installing"},J={[s.UPDATE]:"extension.label.update_failed",[s.INSTALL]:"extension.label.installation_failed",[s.UNINSTALL]:"extension.label.uninstallation_failed"},M={[i.INSTALLED]:"extension.state.label.installed",[i.UPDATE_PENDING]:"extension.state.label.update_pending",[i.OBSOLETE]:"extension.state.label.obsolete",[N.ALL]:"extension.language.all",[N.OTHER]:"extension.language.other",[N.LOCAL_SOURCE]:"extension.language.other"},Q=(e,l,L)=>l?o.OBSOLETE:L?o.UPDATE:e?o.UNINSTALL:o.INSTALL,w=e=>[i.INSTALLED,i.UPDATE_PENDING,i.OBSOLETE].includes(e),H=e=>w(e)||[N.ALL,N.OTHER,N.LOCAL_SOURCE].includes(e),X=e=>H(e)?_(M[e]):h(e);function V(e){const l=Object.groupBy(e,t=>t.isInstalled?t.hasUpdate?i.UPDATE_PENDING:t.isObsolete?i.OBSOLETE:i.INSTALLED:t.lang);return Object.entries(l).toSorted(([t],[a])=>{const r=Object.values(i);return r.includes(t)?-1:r.includes(a)?1:u(t,a)}).map(([t,a])=>[t,(a!=null?a:[]).toSorted((r,d)=>u(r.lang,d.lang))]).filter(([,t])=>!!t.length)}const Z=e=>[...new Set(e.map(l=>l.lang))].toSorted(u),$=(e,l,L,c)=>e.filter(t=>l.includes(t.lang)).filter(t=>L||!t.isNsfw).filter(t=>!c||x(t.name).includes(x(c)));function ee(e){const{t:l}=m(),{selectedLanguages:L,setSelectedLanguages:c,languages:t}=e,[a,r]=E.useState(I(L)),[d,A]=E.useState(!1),U=E.useMemo(()=>I([...a.toSorted(u),...t.toSorted(u)]),[t,a]),O=()=>{A(!1),r(I(L))},b=()=>{A(!1),c(I(L))},p=(T,g)=>{r(g?[...a,T]:a.toSpliced(a.indexOf(T),1))};return n.jsxs(n.Fragment,{children:[n.jsx(P,{title:l("settings.title"),children:n.jsx(f,{onClick:()=>A(!0),"aria-label":"display more actions",edge:"end",color:"inherit",children:n.jsx(F,{})})}),n.jsxs(j,{sx:{".MuiDialog-paper":{maxHeight:435,width:"80%"}},maxWidth:"xs",open:d,onClose:O,children:[n.jsx(B,{children:l("global.language.title.enabled_languages")}),n.jsx(C,{dividers:!0,sx:{padding:0},children:n.jsx(G,{children:U.map(T=>n.jsxs(y,{children:[n.jsx(k,{primary:X(T)}),n.jsx(R,{checked:a.includes(T),onChange:g=>p(T,g.target.checked)})]},T))})}),n.jsxs(v,{children:[n.jsx(D,{autoFocus:!0,onClick:O,color:"primary",children:l("global.button.cancel")}),n.jsx(D,{onClick:b,color:"primary",children:l("global.button.ok")})]})]})]})}export{S as E,z as I,ee as L,o as a,s as b,Y as c,q as d,J as e,Z as f,Q as g,$ as h,V as i,i as j,X as t};
