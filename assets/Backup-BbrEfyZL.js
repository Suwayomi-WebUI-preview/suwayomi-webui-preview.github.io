import{d as C,j as u,aM as ge,aN as ke,Z as O,aO as me,aP as pe,T as hs,B as xe,aQ as Us,I as gs,aR as zs,aS as ks,aT as Ws,aU as He,an as Cs,aV as Ue,aW as Ts,aX as qs,aY as vs,aZ as o,aj as Ks,u as xs,aG as Ye,ap as Qe,a_ as _e,D as ws,l as ys,k as Ss,aC as Ms,r as Ve,a$ as os,m as Te,f as Gs,g as Ae,h as Ys,w as Ee,ao as Qs,aB as ns,S as as,A as rs,L as is,a9 as ls}from"./index-CBxbdOZa.js";import{f as cs}from"./file-selector-DlHkLoY8.js";import{P as Xs}from"./Progress-D2irP_JT.js";import{T as Zs}from"./TextSetting-CfHRi9JE.js";import{N as us}from"./NumberSetting-CFmaU-S2.js";import{c as qe,s as ye,a as Js,u as fe,b as je,_ as S,d as et,e as ee,f as le,g as st,P as tt,C as ot,h as nt,i as at,j as rt,k as Xe,l as Re,m as we,n as it,o as lt,p as De,q as ct,S as ut,r as Ze,t as Je,v as es,w as ze,x as ss,y as dt,D as Ds,z as We,M as mt,A as Oe,B as Ps,E as Vs,F as Is,G as pt,H as js,I as ft,J as bt,L as ht,K as gt}from"./useMobilePicker-Dq_KXUip.js";import{E as kt}from"./EmptyViewAbsoluteCentered-DCgg8ff9.js";import{u as Ct}from"./useAppTitle-BmkqDPsV.js";import{u as ds}from"./use-window-event-BNPYW1ld.js";import{u as Tt}from"./use-merged-ref-BIpNM0cx.js";import{L as vt}from"./ListSubheader-ChTMvLky.js";import"./PasswordTextField-B0HL_3JF.js";import"./TextField-DuGJKvvj.js";import"./useFormControl-EdH_WGd-.js";import"./formControlState-Dq1zat_P.js";import"./InputAdornment-PGzZQUDk.js";import"./Slider-yvhelXje.js";import"./Chip-BeTPtnoR.js";const Ke=({adapter:e,value:s,timezone:n,props:t})=>{if(s===null)return null;const{minTime:a,maxTime:c,minutesStep:i,shouldDisableTime:d,disableIgnoringDatePartForTimeValidation:f=!1,disablePast:m,disableFuture:v}=t,r=e.utils.date(void 0,n),h=qe(f,e.utils);switch(!0){case!e.utils.isValid(s):return"invalidDate";case!!(a&&h(a,s)):return"minTime";case!!(c&&h(s,c)):return"maxTime";case!!(v&&e.utils.isAfter(s,r)):return"disableFuture";case!!(m&&e.utils.isBefore(s,r)):return"disablePast";case!!(d&&d(s,"hours")):return"shouldDisableTime-hours";case!!(d&&d(s,"minutes")):return"shouldDisableTime-minutes";case!!(d&&d(s,"seconds")):return"shouldDisableTime-seconds";case!!(i&&e.utils.getMinutes(s)%i!==0):return"minutesStep";default:return null}};Ke.valueManager=ye;function xt(e={}){const{enableAccessibleFieldDOMStructure:s=!0,ampm:n}=e;return C.useMemo(()=>({valueType:"time",validator:Ke,internal_valueManager:ye,internal_fieldValueManager:Js,internal_enableAccessibleFieldDOMStructure:s,internal_useApplyDefaultValuesToFieldInternalProps:yt,internal_useOpenPickerButtonAriaLabel:wt(n)}),[n,s])}function wt(e){return function(n){const t=fe(),a=je();return C.useMemo(()=>{const c=(e!=null?e:t.is12HourCycleInCurrentLocale())?"fullTime12h":"fullTime24h",i=t.isValid(n)?t.format(n,c):null;return a.openTimePickerDialogue(i)},[n,a,t])}}function yt(e){const s=fe(),n=Rs(e),t=C.useMemo(()=>{var a;return(a=e.ampm)!=null?a:s.is12HourCycleInCurrentLocale()},[e.ampm,s]);return C.useMemo(()=>{var a;return S({},e,n,{format:(a=e.format)!=null?a:t?s.formats.fullTime12h:s.formats.fullTime24h})},[e,n,t,s])}function Rs(e){return C.useMemo(()=>{var s,n;return{disablePast:(s=e.disablePast)!=null?s:!1,disableFuture:(n=e.disableFuture)!=null?n:!1}},[e.disablePast,e.disableFuture])}function St(e,s,n){const t=C.useRef(null);return C.useEffect(()=>{const a=t.current;if(a)return a.addEventListener(e,s,n),()=>a==null?void 0:a.removeEventListener(e,s,n)},[s,n]),t}const Mt=e=>{const s=xt(e);return et({manager:s,props:e})},Dt=["slots","slotProps","InputProps","inputProps"],Ns=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiTimeField"}),{slots:a,slotProps:c}=t,i=le(t,Dt),d=st({slotProps:c,ref:n,externalForwardedProps:i}),f=Mt(d);return u.jsx(tt,{slots:a,slotProps:c,fieldResponse:f,defaultOpenPickerIcon:ot})});function Pt(e){return ge("MuiPickersToolbarText",e)}ke("MuiPickersToolbarText",["root"]);const Vt=["className","classes","selected","value"],It=e=>pe({root:["root"]},Pt,e),jt=O(hs,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,s)=>[s.root]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),Fs=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiPickersToolbarText"}),{className:a,classes:c,selected:i,value:d}=t,f=le(t,Vt),m=It(c);return u.jsx(jt,S({ref:n,className:me(m.root,a),component:"span"},i&&{"data-selected":!0},f,{children:d}))}),Rt=["align","className","classes","selected","typographyClassName","value","variant","width"],Nt=e=>pe({root:["root"]},nt,e),Ft=O(xe,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,s)=>s.root})({padding:0,minWidth:16,textTransform:"none"}),Ne=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiPickersToolbarButton"}),{align:a,className:c,classes:i,selected:d,typographyClassName:f,value:m,variant:v,width:r}=t,h=le(t,Rt),b=Nt(i);return u.jsx(Ft,S({variant:"text",ref:n,className:me(b.root,c)},r?{sx:{width:r}}:{},h,{children:u.jsx(Fs,{align:a,className:f,variant:v,value:m,selected:d})}))});function Ot(e){return ge("MuiTimePickerToolbar",e)}const Fe=ke("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Lt=["ampm","ampmInClock","className","classes"],Bt=(e,s)=>{const{pickerOrientation:n,toolbarDirection:t}=s;return pe({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",n==="landscape"&&"hourMinuteLabelLandscape",t==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",n==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},Ot,e)},_t=O(it,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(e,s)=>s.root})({}),At=O(Fs,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(e,s)=>s.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Et=O("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(e,s)=>[{["&.".concat(Fe.hourMinuteLabelLandscape)]:s.hourMinuteLabelLandscape,["&.".concat(Fe.hourMinuteLabelReverse)]:s.hourMinuteLabelReverse},s.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{pickerOrientation:"landscape"},style:{marginTop:"auto"}}]}),$t=O("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,s)=>[{[".".concat(Fe.ampmLabel)]:s.ampmLabel},{["&.".concat(Fe.ampmLandscape)]:s.ampmLandscape},s.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,["& .".concat(Fe.ampmLabel)]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Ht(e){const s=ee({props:e,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:t,className:a,classes:c}=s,i=le(s,Lt),d=fe(),f=je(),m=at(),v=Bt(c,m),{value:r,setValue:h,disabled:b,readOnly:k,view:x,setView:M,views:D}=rt(),P=!!(n&&!t&&D.includes("hours")),{meridiemMode:V,handleMeridiemChange:N}=Xe(r,n,j=>h(j,{changeImportance:"set"})),I=j=>d.isValid(r)?d.format(r,j):"--",_=u.jsx(At,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:v.separator});return u.jsxs(_t,S({landscapeDirection:"row",toolbarTitle:f.timePickerToolbarTitle,ownerState:m,className:me(v.root,a)},i,{children:[u.jsxs(Et,{className:v.hourMinuteLabel,ownerState:m,children:[Re(D,"hours")&&u.jsx(Ne,{tabIndex:-1,variant:"h3",onClick:()=>M("hours"),selected:x==="hours",value:I(n?"hours12h":"hours24h")}),Re(D,["hours","minutes"])&&_,Re(D,"minutes")&&u.jsx(Ne,{tabIndex:-1,variant:"h3",onClick:()=>M("minutes"),selected:x==="minutes",value:I("minutes")}),Re(D,["minutes","seconds"])&&_,Re(D,"seconds")&&u.jsx(Ne,{variant:"h3",onClick:()=>M("seconds"),selected:x==="seconds",value:I("seconds")})]}),P&&u.jsxs($t,{className:v.ampmSelection,ownerState:m,children:[u.jsx(Ne,{disableRipple:!0,variant:"subtitle2",selected:V==="am",typographyClassName:v.ampmLabel,value:we(d,"am"),onClick:k?void 0:()=>N("am"),disabled:b}),u.jsx(Ne,{disableRipple:!0,variant:"subtitle2",selected:V==="pm",typographyClassName:v.ampmLabel,value:we(d,"pm"),onClick:k?void 0:()=>N("pm"),disabled:b})]})]}))}function Os(e,s){var d,f;const n=fe(),t=ee({props:e,name:s}),a=Rs(t),c=(d=t.ampm)!=null?d:n.is12HourCycleInCurrentLocale(),i=C.useMemo(()=>{var m;return((m=t.localeText)==null?void 0:m.toolbarTitle)==null?t.localeText:S({},t.localeText,{timePickerToolbarTitle:t.localeText.toolbarTitle})},[t.localeText]);return S({},t,a,{ampm:c,localeText:i},lt({views:t.views,openTo:t.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{slots:S({toolbar:Ht},t.slots),slotProps:S({},t.slotProps,{toolbar:S({ampm:c,ampmInClock:t.ampmInClock},(f=t.slotProps)==null?void 0:f.toolbar)})})}function Ut(e){return ge("MuiTimeClock",e)}ke("MuiTimeClock",["root","arrowSwitcher"]);const Ie=220,he=36,Le={x:Ie/2,y:Ie/2},Ls={x:Le.x,y:0},zt=Ls.x-Le.x,Wt=Ls.y-Le.y,qt=e=>e*(180/Math.PI),Bs=(e,s,n)=>{const t=s-Le.x,a=n-Le.y,c=Math.atan2(zt,Wt)-Math.atan2(t,a);let i=qt(c);i=Math.round(i/e)*e,i%=360;const d=Math.floor(i/e)||0,f=t**2+a**2,m=Math.sqrt(f);return{value:d,distance:m}},Kt=(e,s,n=1)=>{const t=n*6;let{value:a}=Bs(t,e,s);return a=a*n%60,a},Gt=(e,s,n)=>{const{value:t,distance:a}=Bs(30,e,s);let c=t||12;return n?c%=12:a<Ie/2-he&&(c+=12,c%=24),c};function Yt(e){return ge("MuiClockPointer",e)}ke("MuiClockPointer",["root","thumb"]);const Qt=["className","classes","isBetweenTwoClockValues","isInner","type","viewValue"],Xt=e=>pe({root:["root"],thumb:["thumb"]},Yt,e),Zt=O("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(e,s)=>s.root})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{isClockPointerAnimated:!0},style:{transition:e.transitions.create(["transform","height"])}}]})),Jt=O("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(e,s)=>s.thumb})(({theme:e})=>({width:4,height:4,backgroundColor:(e.vars||e).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:"calc(50% - ".concat(he/2,"px)"),border:"".concat((he-4)/2,"px solid ").concat((e.vars||e).palette.primary.main),boxSizing:"content-box",variants:[{props:{isClockPointerBetweenTwoValues:!1},style:{backgroundColor:(e.vars||e).palette.primary.main}}]}));function eo(e){const s=ee({props:e,name:"MuiClockPointer"}),{className:n,classes:t,isBetweenTwoClockValues:a,isInner:c,type:i,viewValue:d}=s,f=le(s,Qt),m=C.useRef(i);C.useEffect(()=>{m.current=i},[i]);const{ownerState:v}=De(),r=S({},v,{isClockPointerAnimated:m.current!==i,isClockPointerBetweenTwoValues:a}),h=Xt(t),b=()=>{let x=360/(i==="hours"?12:60)*d;return i==="hours"&&d>12&&(x-=360),{height:Math.round((c?.26:.4)*Ie),transform:"rotateZ(".concat(x,"deg)")}};return u.jsx(Zt,S({style:b(),className:me(h.root,n),ownerState:r},f,{children:u.jsx(Jt,{ownerState:r,className:h.thumb})}))}function so(e){return ge("MuiClock",e)}ke("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const to=(e,s)=>{const n={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",s.clockMeridiemMode==="am"&&"selected"],pmButton:["pmButton",s.clockMeridiemMode==="pm"&&"selected"],meridiemText:["meridiemText"]};return pe(n,so,e)},oo=O("div",{name:"MuiClock",slot:"Root",overridesResolver:(e,s)=>s.root})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2)})),no=O("div",{name:"MuiClock",slot:"Clock",overridesResolver:(e,s)=>s.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),ao=O("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(e,s)=>s.wrapper})({"&:focus":{outline:"none"}}),ro=O("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(e,s)=>s.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{isClockDisabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),io=O("div",{name:"MuiClock",slot:"Pin",overridesResolver:(e,s)=>s.pin})(({theme:e})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),_s=(e,s)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:he,variants:[{props:{clockMeridiemMode:s},style:{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}}}]}),lo=O(gs,{name:"MuiClock",slot:"AmButton",overridesResolver:(e,s)=>s.amButton})(({theme:e})=>S({},_s(e,"am"),{position:"absolute",left:8})),co=O(gs,{name:"MuiClock",slot:"PmButton",overridesResolver:(e,s)=>s.pmButton})(({theme:e})=>S({},_s(e,"pm"),{position:"absolute",right:8})),ms=O(hs,{name:"MuiClock",slot:"meridiemText",overridesResolver:(e,s)=>s.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function uo(e){const s=ee({props:e,name:"MuiClock"}),{ampm:n,ampmInClock:t,autoFocus:a,children:c,value:i,handleMeridiemChange:d,isTimeDisabled:f,meridiemMode:m,minutesStep:v=1,onChange:r,selectedId:h,type:b,viewValue:k,viewRange:[x,M],disabled:D=!1,readOnly:P,className:V,classes:N}=s,I=fe(),_=je(),{ownerState:j}=De(),R=S({},j,{isClockDisabled:D,clockMeridiemMode:m}),F=C.useRef(!1),l=to(N,R),y=f(k,b),$=!n&&b==="hours"&&(k<1||k>12),A=(g,re)=>{D||P||f(g,b)||r(g,re)},B=(g,re)=>{let{offsetX:z,offsetY:te}=g;if(z===void 0){const oe=g.target.getBoundingClientRect();z=g.changedTouches[0].clientX-oe.left,te=g.changedTouches[0].clientY-oe.top}const J=b==="seconds"||b==="minutes"?Kt(z,te,v):Gt(z,te,!!n);A(J,re)},ce=g=>{F.current=!0,B(g,"shallow")},se=g=>{F.current&&(B(g,"finish"),F.current=!1),g.preventDefault()},Se=g=>{g.buttons>0&&B(g.nativeEvent,"shallow")},ue=g=>{F.current&&(F.current=!1),B(g.nativeEvent,"finish")},Z=b==="hours"?!1:k%5!==0,be=b==="minutes"?v:1,L=C.useRef(null);Us(()=>{a&&L.current.focus()},[a]);const H=g=>Math.max(x,Math.min(M,g)),G=g=>(g+(M+1))%(M+1),Y=g=>{if(!F.current)switch(g.key){case"Home":A(x,"partial"),g.preventDefault();break;case"End":A(M,"partial"),g.preventDefault();break;case"ArrowUp":A(G(k+be),"partial"),g.preventDefault();break;case"ArrowDown":A(G(k-be),"partial"),g.preventDefault();break;case"PageUp":A(H(k+5),"partial"),g.preventDefault();break;case"PageDown":A(H(k-5),"partial"),g.preventDefault();break;case"Enter":case" ":A(k,"finish"),g.preventDefault();break}};return u.jsxs(oo,{className:me(l.root,V),children:[u.jsxs(no,{className:l.clock,children:[u.jsx(ro,{onTouchMove:ce,onTouchStart:ce,onTouchEnd:se,onMouseUp:ue,onMouseMove:Se,ownerState:R,className:l.squareMask}),!y&&u.jsxs(C.Fragment,{children:[u.jsx(io,{className:l.pin}),i!=null&&u.jsx(eo,{type:b,viewValue:k,isInner:$,isBetweenTwoClockValues:Z})]}),u.jsx(ao,{"aria-activedescendant":h,"aria-label":_.clockLabelText(b,i==null?null:I.format(i,n?"fullTime12h":"fullTime24h")),ref:L,role:"listbox",onKeyDown:Y,tabIndex:0,className:l.wrapper,children:c})]}),n&&t&&u.jsxs(C.Fragment,{children:[u.jsx(lo,{onClick:P?void 0:()=>d("am"),disabled:D||m===null,ownerState:R,className:l.amButton,title:we(I,"am"),children:u.jsx(ms,{variant:"caption",className:l.meridiemText,children:we(I,"am")})}),u.jsx(co,{disabled:D||m===null,onClick:P?void 0:()=>d("pm"),ownerState:R,className:l.pmButton,title:we(I,"pm"),children:u.jsx(ms,{variant:"caption",className:l.meridiemText,children:we(I,"pm")})})]})]})}function mo(e){return ge("MuiClockNumber",e)}const $e=ke("MuiClockNumber",["root","selected","disabled"]),po=["className","classes","disabled","index","inner","label","selected"],fo=(e,s)=>{const n={root:["root",s.isClockNumberSelected&&"selected",s.isClockNumberDisabled&&"disabled"]};return pe(n,mo,e)},bo=O("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,s)=>[s.root,{["&.".concat($e.disabled)]:s.disabled},{["&.".concat($e.selected)]:s.selected}]})(({theme:e})=>({height:he,width:he,position:"absolute",left:"calc((100% - ".concat(he,"px) / 2)"),display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(e.vars||e).palette.text.primary,fontFamily:e.typography.fontFamily,"&:focused":{backgroundColor:(e.vars||e).palette.background.paper},["&.".concat($e.selected)]:{color:(e.vars||e).palette.primary.contrastText},["&.".concat($e.disabled)]:{pointerEvents:"none",color:(e.vars||e).palette.text.disabled},variants:[{props:{isClockNumberInInnerRing:!0},style:S({},e.typography.body2,{color:(e.vars||e).palette.text.secondary})}]}));function As(e){const s=ee({props:e,name:"MuiClockNumber"}),{className:n,classes:t,disabled:a,index:c,inner:i,label:d,selected:f}=s,m=le(s,po),{ownerState:v}=De(),r=S({},v,{isClockNumberInInnerRing:i,isClockNumberSelected:f,isClockNumberDisabled:a}),h=fo(t,r),b=c%12/12*Math.PI*2-Math.PI/2,k=(Ie-he-2)/2*(i?.65:1),x=Math.round(Math.cos(b)*k),M=Math.round(Math.sin(b)*k);return u.jsx(bo,S({className:me(h.root,n),"aria-disabled":a?!0:void 0,"aria-selected":f?!0:void 0,role:"option",style:{transform:"translate(".concat(x,"px, ").concat(M+(Ie-he)/2,"px")},ownerState:r},m,{children:d}))}const ho=({ampm:e,value:s,getClockNumberText:n,isDisabled:t,selectedId:a,utils:c})=>{const i=s?c.getHours(s):null,d=[],f=e?1:0,m=e?12:23,v=r=>i===null?!1:e?r===12?i===12||i===0:i===r||i-12===r:i===r;for(let r=f;r<=m;r+=1){let h=r.toString();r===0&&(h="00");const b=!e&&(r===0||r>12);h=c.formatNumber(h);const k=v(r);d.push(u.jsx(As,{id:k?a:void 0,index:r,inner:b,selected:k,disabled:t(r),label:h,"aria-label":n(h)},r))}return d},ps=({utils:e,value:s,isDisabled:n,getClockNumberText:t,selectedId:a})=>{const c=e.formatNumber;return[[5,c("05")],[10,c("10")],[15,c("15")],[20,c("20")],[25,c("25")],[30,c("30")],[35,c("35")],[40,c("40")],[45,c("45")],[50,c("50")],[55,c("55")],[0,c("00")]].map(([i,d],f)=>{const m=i===s;return u.jsx(As,{label:d,id:m?a:void 0,index:f+1,inner:!1,disabled:n(i),selected:m,"aria-label":t(d)},i)})},ts=({value:e,referenceDate:s,utils:n,props:t,timezone:a})=>{const c=C.useMemo(()=>ye.getInitialReferenceValue({value:e,utils:n,props:t,referenceDate:s,granularity:ut.day,timezone:a,getTodayDate:()=>ct(n,a,"date")}),[]);return e!=null?e:c},go=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","timezone"],ko=e=>pe({root:["root"],arrowSwitcher:["arrowSwitcher"]},Ut,e),Co=O(ss,{name:"MuiTimeClock",slot:"Root",overridesResolver:(e,s)=>s.root})({display:"flex",flexDirection:"column",position:"relative"}),To=O(dt,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(e,s)=>s.arrowSwitcher})({position:"absolute",right:12,top:15}),vo=["hours","minutes"],xo=C.forwardRef(function(s,n){const t=fe(),a=ee({props:s,name:"MuiTimeClock"}),{ampm:c=t.is12HourCycleInCurrentLocale(),ampmInClock:i=!1,autoFocus:d,slots:f,slotProps:m,value:v,defaultValue:r,referenceDate:h,disableIgnoringDatePartForTimeValidation:b=!1,maxTime:k,minTime:x,disableFuture:M,disablePast:D,minutesStep:P=1,shouldDisableTime:V,showViewSwitcher:N,onChange:I,view:_,views:j=vo,openTo:R,onViewChange:F,focusedView:l,onFocusedViewChange:y,className:$,classes:A,disabled:B,readOnly:ce,timezone:se}=a,Se=le(a,go),{value:ue,handleValueChange:Z,timezone:be}=Ze({name:"TimeClock",timezone:se,value:v,defaultValue:r,referenceDate:h,onChange:I,valueManager:ye}),L=ts({value:ue,referenceDate:h,utils:t,props:a,timezone:be}),H=je(),G=Je(be),Y=zs(),{ownerState:g}=De(),{view:re,setView:z,previousView:te,nextView:J,setValueAndGoToNextView:oe}=es({view:_,views:j,openTo:R,onViewChange:F,onChange:Z,focusedView:l,onFocusedViewChange:y}),{meridiemMode:ne,handleMeridiemChange:ae}=Xe(L,c,oe),de=C.useCallback((q,Q)=>{const U=qe(b,t),X=Q==="hours"||Q==="minutes"&&j.includes("seconds"),p=({start:w,end:E})=>!(x&&U(x,E)||k&&U(w,k)||M&&U(w,G)||D&&U(G,X?E:w)),T=(w,E=1)=>{if(w%E!==0)return!1;if(V)switch(Q){case"hours":return!V(t.setHours(L,w),"hours");case"minutes":return!V(t.setMinutes(L,w),"minutes");case"seconds":return!V(t.setSeconds(L,w),"seconds");default:return!1}return!0};switch(Q){case"hours":{const w=ze(q,ne,c),E=t.setHours(L,w);if(t.getHours(E)!==w)return!0;const K=t.setSeconds(t.setMinutes(E,0),0),Pe=t.setSeconds(t.setMinutes(E,59),59);return!p({start:K,end:Pe})||!T(w)}case"minutes":{const w=t.setMinutes(L,q),E=t.setSeconds(w,0),K=t.setSeconds(w,59);return!p({start:E,end:K})||!T(q,P)}case"seconds":{const w=t.setSeconds(L,q);return!p({start:w,end:w})||!T(q)}default:throw new Error("not supported")}},[c,L,b,k,ne,x,P,V,t,M,D,G,j]),Ce=C.useMemo(()=>{switch(re){case"hours":{const q=(X,p)=>{const T=ze(X,ne,c);oe(t.setHours(L,T),p,"hours")},Q=t.getHours(L);let U;return c?Q>12?U=[12,23]:U=[0,11]:U=[0,23],{onChange:q,viewValue:Q,children:ho({value:ue,utils:t,ampm:c,getClockNumberText:H.hoursClockNumberText,isDisabled:X=>B||de(X,"hours"),selectedId:Y}),viewRange:U}}case"minutes":{const q=t.getMinutes(L);return{viewValue:q,onChange:(U,X)=>{oe(t.setMinutes(L,U),X,"minutes")},children:ps({utils:t,value:q,getClockNumberText:H.minutesClockNumberText,isDisabled:U=>B||de(U,"minutes"),selectedId:Y}),viewRange:[0,59]}}case"seconds":{const q=t.getSeconds(L);return{viewValue:q,onChange:(U,X)=>{oe(t.setSeconds(L,U),X,"seconds")},children:ps({utils:t,value:q,getClockNumberText:H.secondsClockNumberText,isDisabled:U=>B||de(U,"seconds"),selectedId:Y}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[re,t,ue,c,H.hoursClockNumberText,H.minutesClockNumberText,H.secondsClockNumberText,ne,oe,L,de,Y,B]),Me=ko(A);return u.jsxs(Co,S({ref:n,className:me(Me.root,$),ownerState:g},Se,{children:[u.jsx(uo,S({autoFocus:d!=null?d:!!l,ampmInClock:i&&j.includes("hours"),value:ue,type:re,ampm:c,minutesStep:P,isTimeDisabled:de,meridiemMode:ne,handleMeridiemChange:ae,selectedId:Y,disabled:B,readOnly:ce},Ce)),N&&u.jsx(To,{className:Me.arrowSwitcher,slots:f,slotProps:m,onGoToPrevious:()=>z(te),isPreviousDisabled:!te,previousLabel:H.openPreviousView,onGoToNext:()=>z(J),isNextDisabled:!J,nextLabel:H.openNextView,ownerState:g})]}))});function wo(e){return ge("MuiDigitalClock",e)}ke("MuiDigitalClock",["root","list","item"]);const yo=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],So=e=>pe({root:["root"],list:["list"],item:["item"]},wo,e),Mo=O(ss,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(e,s)=>s.root})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:Ds,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),Do=O(Ts,{name:"MuiDigitalClock",slot:"List",overridesResolver:(e,s)=>s.list})({padding:0}),Po=O(Cs,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue",overridesResolver:(e,s)=>s.item})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ue(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ue(e.palette.primary.main,e.palette.action.focusOpacity)}})),Vo=C.forwardRef(function(s,n){var X;const t=fe(),a=C.useRef(null),c=ks(n,a),i=C.useRef(null),d=ee({props:s,name:"MuiDigitalClock"}),{ampm:f=t.is12HourCycleInCurrentLocale(),timeStep:m=30,autoFocus:v,slots:r,slotProps:h,value:b,defaultValue:k,referenceDate:x,disableIgnoringDatePartForTimeValidation:M=!1,maxTime:D,minTime:P,disableFuture:V,disablePast:N,minutesStep:I=1,shouldDisableTime:_,onChange:j,view:R,openTo:F,onViewChange:l,focusedView:y,onFocusedViewChange:$,className:A,classes:B,disabled:ce,readOnly:se,views:Se=["hours"],skipDisabled:ue=!1,timezone:Z}=d,be=le(d,yo),{value:L,handleValueChange:H,timezone:G}=Ze({name:"DigitalClock",timezone:Z,value:b,defaultValue:k,referenceDate:x,onChange:j,valueManager:ye}),Y=je(),g=Je(G),{ownerState:re}=De(),z=S({},re,{hasDigitalClockAlreadyBeenRendered:!!a.current}),te=So(B),J=(X=r==null?void 0:r.digitalClockItem)!=null?X:Po,oe=Ws({elementType:J,externalSlotProps:h==null?void 0:h.digitalClockItem,ownerState:z,className:te.item}),ne=ts({value:L,referenceDate:x,utils:t,props:d,timezone:G}),ae=He(p=>H(p,"finish","hours")),{setValueAndGoToNextView:de}=es({view:R,views:Se,openTo:F,onViewChange:l,onChange:ae,focusedView:y,onFocusedViewChange:$}),Ce=He(p=>{de(p,"finish")});C.useEffect(()=>{if(a.current===null)return;const p=a.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!p)return;const T=p.offsetTop;(v||y)&&p.focus(),a.current.scrollTop=T-4});const Me=C.useCallback(p=>{const T=qe(M,t),w=()=>!(P&&T(P,p)||D&&T(p,D)||V&&T(p,g)||N&&T(g,p)),E=()=>t.getMinutes(p)%I!==0?!1:_?!_(p,"hours"):!0;return!w()||!E()},[M,t,P,D,V,g,N,I,_]),q=C.useMemo(()=>{const p=[];let w=t.startOfDay(ne);for(;t.isSameDay(ne,w);)p.push(w),w=t.addMinutes(w,m);return p},[ne,m,t]),Q=q.findIndex(p=>t.isEqual(p,ne)),U=p=>{switch(p.key){case"PageUp":{const T=We(i.current)-5,w=i.current.children,E=Math.max(0,T),K=w[E];K&&K.focus(),p.preventDefault();break}case"PageDown":{const T=We(i.current)+5,w=i.current.children,E=Math.min(w.length-1,T),K=w[E];K&&K.focus(),p.preventDefault();break}}};return u.jsx(Mo,S({ref:c,className:me(te.root,A),ownerState:z},be,{children:u.jsx(Do,{ref:i,role:"listbox","aria-label":Y.timePickerToolbarTitle,className:te.list,onKeyDown:U,children:q.map((p,T)=>{const w=Me(p);if(ue&&w)return null;const E=t.isEqual(p,L),K=t.format(p,f?"fullTime12h":"fullTime24h"),W=Q===T||Q===-1&&T===0?0:-1;return u.jsx(J,S({onClick:()=>!se&&Ce(p),selected:E,disabled:ce||w,disableRipple:se,role:"option","aria-disabled":se,"aria-selected":E,tabIndex:W,itemValue:p,formattedValue:K},oe,{children:K}),"".concat(p.valueOf(),"-").concat(K))})})}))});function Io(e){return ge("MuiMultiSectionDigitalClock",e)}ke("MuiMultiSectionDigitalClock",["root"]);function jo(e){return ge("MuiMultiSectionDigitalClockSection",e)}ke("MuiMultiSectionDigitalClockSection",["root","item"]);const Ro=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],No=e=>pe({root:["root"],item:["item"]},jo,e),Fo=O(Ts,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(e,s)=>s.root})(({theme:e})=>({maxHeight:Ds,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),Oo=O(Cs,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(e,s)=>s.item})(({theme:e})=>({padding:8,margin:"2px 4px",width:mt,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ue(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ue(e.palette.primary.main,e.palette.action.focusOpacity)}})),Lo=C.forwardRef(function(s,n){var F;const t=C.useRef(null),a=ks(n,t),c=C.useRef(null),i=ee({props:s,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:f,className:m,classes:v,disabled:r,readOnly:h,items:b,active:k,slots:x,slotProps:M,skipDisabled:D}=i,P=le(i,Ro),{ownerState:V}=De(),N=S({},V,{hasDigitalClockAlreadyBeenRendered:!!t.current}),I=No(v),_=(F=x==null?void 0:x.digitalClockSectionItem)!=null?F:Oo;C.useEffect(()=>{if(t.current===null)return;const l=t.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(k&&d&&l&&l.focus(),!l||c.current===l)return;c.current=l;const y=l.offsetTop;t.current.scrollTop=y-4});const j=b.findIndex(l=>l.isFocused(l.value)),R=l=>{switch(l.key){case"PageUp":{const y=We(t.current)-5,$=t.current.children,A=Math.max(0,y),B=$[A];B&&B.focus(),l.preventDefault();break}case"PageDown":{const y=We(t.current)+5,$=t.current.children,A=Math.min($.length-1,y),B=$[A];B&&B.focus(),l.preventDefault();break}}};return u.jsx(Fo,S({ref:a,className:me(I.root,m),ownerState:N,autoFocusItem:d&&k,role:"listbox",onKeyDown:R},P,{children:b.map((l,y)=>{var se;const $=(se=l.isDisabled)==null?void 0:se.call(l,l.value),A=r||$;if(D&&A)return null;const B=l.isSelected(l.value),ce=j===y||j===-1&&y===0?0:-1;return u.jsx(_,S({onClick:()=>!h&&f(l.value),selected:B,disabled:A,disableRipple:h,role:"option","aria-disabled":h||A||void 0,"aria-label":l.ariaLabel,"aria-selected":B,tabIndex:ce,className:I.item},M==null?void 0:M.digitalClockSectionItem,{children:l.label}),l.label)})}))}),Bo=({now:e,value:s,utils:n,ampm:t,isDisabled:a,resolveAriaLabel:c,timeStep:i,valueOrReferenceDate:d})=>{const f=s?n.getHours(s):null,m=[],v=(b,k)=>{const x=k!=null?k:f;return x===null?!1:t?b===12?x===12||x===0:x===b||x-12===b:x===b},r=b=>v(b,n.getHours(d)),h=t?11:23;for(let b=0;b<=h;b+=i){let k=n.format(n.setHours(e,b),t?"hours12h":"hours24h");const x=c(parseInt(k,10).toString());k=n.formatNumber(k),m.push({value:b,label:k,isSelected:v,isDisabled:a,isFocused:r,ariaLabel:x})}return m},fs=({value:e,utils:s,isDisabled:n,timeStep:t,resolveLabel:a,resolveAriaLabel:c,hasValue:i=!0})=>{const d=m=>e===null?!1:i&&e===m,f=m=>e===m;return[...Array.from({length:Math.ceil(60/t)},(m,v)=>{const r=t*v;return{value:r,label:s.formatNumber(a(r)),isDisabled:n,isSelected:d,isFocused:f,ariaLabel:c(r.toString())}})]},_o=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],Ao=e=>pe({root:["root"]},Io,e),Eo=O(ss,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(e,s)=>s.root})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:"1px solid ".concat((e.vars||e).palette.divider)})),$o=C.forwardRef(function(s,n){const t=fe(),a=qs(),c=ee({props:s,name:"MuiMultiSectionDigitalClock"}),{ampm:i=t.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:f,slots:m,slotProps:v,value:r,defaultValue:h,referenceDate:b,disableIgnoringDatePartForTimeValidation:k=!1,maxTime:x,minTime:M,disableFuture:D,disablePast:P,minutesStep:V=1,shouldDisableTime:N,onChange:I,view:_,views:j=["hours","minutes"],openTo:R,onViewChange:F,focusedView:l,onFocusedViewChange:y,className:$,classes:A,disabled:B,readOnly:ce,skipDisabled:se=!1,timezone:Se}=c,ue=le(c,_o),{value:Z,handleValueChange:be,timezone:L}=Ze({name:"MultiSectionDigitalClock",timezone:Se,value:r,defaultValue:h,referenceDate:b,onChange:I,valueManager:ye}),H=je(),G=Je(L),Y=C.useMemo(()=>S({hours:1,minutes:5,seconds:5},d),[d]),g=ts({value:Z,referenceDate:b,utils:t,props:c,timezone:L}),re=He((p,T,w)=>be(p,T,w)),z=C.useMemo(()=>!i||!j.includes("hours")||j.includes("meridiem")?j:[...j,"meridiem"],[i,j]),{view:te,setValueAndGoToNextView:J,focusedView:oe}=es({view:_,views:z,openTo:R,onViewChange:F,onChange:re,focusedView:l,onFocusedViewChange:y}),ne=He(p=>{J(p,"finish","meridiem")}),{meridiemMode:ae,handleMeridiemChange:de}=Xe(g,i,ne,"finish"),Ce=C.useCallback((p,T)=>{const w=qe(k,t),E=T==="hours"||T==="minutes"&&z.includes("seconds"),K=({start:W,end:ie})=>!(M&&w(M,ie)||x&&w(W,x)||D&&w(W,G)||P&&w(G,E?ie:W)),Pe=(W,ie=1)=>{if(W%ie!==0)return!1;if(N)switch(T){case"hours":return!N(t.setHours(g,W),"hours");case"minutes":return!N(t.setMinutes(g,W),"minutes");case"seconds":return!N(t.setSeconds(g,W),"seconds");default:return!1}return!0};switch(T){case"hours":{const W=ze(p,ae,i),ie=t.setHours(g,W);if(t.getHours(ie)!==W)return!0;const Be=t.setSeconds(t.setMinutes(ie,0),0),Hs=t.setSeconds(t.setMinutes(ie,59),59);return!K({start:Be,end:Hs})||!Pe(W)}case"minutes":{const W=t.setMinutes(g,p),ie=t.setSeconds(W,0),Be=t.setSeconds(W,59);return!K({start:ie,end:Be})||!Pe(p,V)}case"seconds":{const W=t.setSeconds(g,p);return!K({start:W,end:W})||!Pe(p)}default:throw new Error("not supported")}},[i,g,k,x,ae,M,V,N,t,D,P,G,z]),Me=C.useCallback(p=>{switch(p){case"hours":return{onChange:T=>{const w=ze(T,ae,i);J(t.setHours(g,w),"finish","hours")},items:Bo({now:G,value:Z,ampm:i,utils:t,isDisabled:T=>Ce(T,"hours"),timeStep:Y.hours,resolveAriaLabel:H.hoursClockNumberText,valueOrReferenceDate:g})};case"minutes":return{onChange:T=>{J(t.setMinutes(g,T),"finish","minutes")},items:fs({value:t.getMinutes(g),utils:t,isDisabled:T=>Ce(T,"minutes"),resolveLabel:T=>t.format(t.setMinutes(G,T),"minutes"),timeStep:Y.minutes,hasValue:!!Z,resolveAriaLabel:H.minutesClockNumberText})};case"seconds":return{onChange:T=>{J(t.setSeconds(g,T),"finish","seconds")},items:fs({value:t.getSeconds(g),utils:t,isDisabled:T=>Ce(T,"seconds"),resolveLabel:T=>t.format(t.setSeconds(G,T),"seconds"),timeStep:Y.seconds,hasValue:!!Z,resolveAriaLabel:H.secondsClockNumberText})};case"meridiem":{const T=we(t,"am"),w=we(t,"pm");return{onChange:de,items:[{value:"am",label:T,isSelected:()=>!!Z&&ae==="am",isFocused:()=>!!g&&ae==="am",ariaLabel:T},{value:"pm",label:w,isSelected:()=>!!Z&&ae==="pm",isFocused:()=>!!g&&ae==="pm",ariaLabel:w}]}}default:throw new Error("Unknown view: ".concat(p," found."))}},[G,Z,i,t,Y.hours,Y.minutes,Y.seconds,H.hoursClockNumberText,H.minutesClockNumberText,H.secondsClockNumberText,ae,J,g,Ce,de]),q=C.useMemo(()=>{if(!a)return z;const p=z.filter(T=>T!=="meridiem");return p.reverse(),z.includes("meridiem")&&p.push("meridiem"),p},[a,z]),Q=C.useMemo(()=>z.reduce((p,T)=>S({},p,{[T]:Me(T)}),{}),[z,Me]),{ownerState:U}=De(),X=Ao(A);return u.jsx(Eo,S({ref:n,className:me(X.root,$),ownerState:U,role:"group"},ue,{children:q.map(p=>u.jsx(Lo,{items:Q[p].items,onChange:Q[p].onChange,active:te===p,autoFocus:f!=null?f:oe===p,disabled:B,readOnly:ce,slots:m,slotProps:v,skipDisabled:se,"aria-label":H.selectViewText(p)},p))}))}),Ge=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:v,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:x,minutesStep:M,ampm:D,ampmInClock:P,slots:V,slotProps:N,readOnly:I,disabled:_,sx:j,autoFocus:R,showViewSwitcher:F,disableIgnoringDatePartForTimeValidation:l,timezone:y})=>u.jsx(xo,{view:e,onViewChange:s,focusedView:n&&Oe(n)?n:null,onFocusedViewChange:t,views:a.filter(Oe),value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:v,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:x,minutesStep:M,ampm:D,ampmInClock:P,slots:V,slotProps:N,readOnly:I,disabled:_,sx:j,autoFocus:R,showViewSwitcher:F,disableIgnoringDatePartForTimeValidation:l,timezone:y}),Ho=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:v,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:x,minutesStep:M,ampm:D,slots:P,slotProps:V,readOnly:N,disabled:I,sx:_,autoFocus:j,disableIgnoringDatePartForTimeValidation:R,timeSteps:F,skipDisabled:l,timezone:y})=>u.jsx(Vo,{view:e,onViewChange:s,focusedView:n&&Oe(n)?n:null,onFocusedViewChange:t,views:a.filter(Oe),value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:v,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:x,minutesStep:M,ampm:D,slots:P,slotProps:V,readOnly:N,disabled:I,sx:_,autoFocus:j,disableIgnoringDatePartForTimeValidation:R,timeStep:F==null?void 0:F.minutes,skipDisabled:l,timezone:y}),bs=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:v,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:x,minutesStep:M,ampm:D,slots:P,slotProps:V,readOnly:N,disabled:I,sx:_,autoFocus:j,disableIgnoringDatePartForTimeValidation:R,timeSteps:F,skipDisabled:l,timezone:y})=>u.jsx($o,{view:e,onViewChange:s,focusedView:n&&Ps(n)?n:null,onFocusedViewChange:t,views:a.filter(Oe),value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:v,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:x,minutesStep:M,ampm:D,slots:P,slotProps:V,readOnly:N,disabled:I,sx:_,autoFocus:j,disableIgnoringDatePartForTimeValidation:R,timeSteps:F,skipDisabled:l,timezone:y}),Uo=(e,s,n)=>n?s.filter(t=>!Ps(t)||t==="hours"):e?[...s,"meridiem"]:s,zo=(e,s)=>{var n,t;return 24*60/(((n=e.hours)!=null?n:1)*((t=e.minutes)!=null?t:5))<=s};function Wo({thresholdToRenderTimeInASingleColumn:e,ampm:s,timeSteps:n,views:t}){const a=e!=null?e:24,c=S({hours:1,minutes:5,seconds:5},n),i=zo(c,a);return{thresholdToRenderTimeInASingleColumn:a,timeSteps:c,shouldRenderTimeInASingleColumn:i,views:Uo(s,t,i)}}const Es=C.forwardRef(function(s,n){var x,M,D;const t=fe(),a=Os(s,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:c,views:i,timeSteps:d}=Wo(a),f=c?Ho:bs,m=S({hours:f,minutes:f,seconds:f,meridiem:f},a.viewRenderers),v=(x=a.ampmInClock)!=null?x:!0,h=((M=m.hours)==null?void 0:M.name)===bs.name?i:i.filter(P=>P!=="meridiem"),b=S({},a,{ampmInClock:v,timeSteps:d,viewRenderers:m,format:Vs(t,a),views:c?["hours"]:h,slots:S({field:Ns},a.slots),slotProps:S({},a.slotProps,{field:P=>{var V;return S({},vs((V=a.slotProps)==null?void 0:V.field,P),Is(a))},toolbar:S({hidden:!0,ampmInClock:v},(D=a.slotProps)==null?void 0:D.toolbar)})}),{renderPicker:k}=pt({ref:n,props:b,valueManager:ye,valueType:"time",validator:Ke,steps:null});return k()});Es.propTypes={ampm:o.bool,ampmInClock:o.bool,autoFocus:o.bool,className:o.string,closeOnSelect:o.bool,defaultValue:o.object,disabled:o.bool,disableFuture:o.bool,disableIgnoringDatePartForTimeValidation:o.bool,disableOpenPicker:o.bool,disablePast:o.bool,enableAccessibleFieldDOMStructure:o.any,format:o.string,formatDensity:o.oneOf(["dense","spacious"]),inputRef:js,label:o.node,localeText:o.object,maxTime:o.object,minTime:o.object,minutesStep:o.number,name:o.string,onAccept:o.func,onChange:o.func,onClose:o.func,onError:o.func,onOpen:o.func,onSelectedSectionsChange:o.func,onViewChange:o.func,open:o.bool,openTo:o.oneOf(["hours","meridiem","minutes","seconds"]),orientation:o.oneOf(["landscape","portrait"]),readOnly:o.bool,reduceAnimations:o.bool,referenceDate:o.object,selectedSections:o.oneOfType([o.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),o.number]),shouldDisableTime:o.func,skipDisabled:o.bool,slotProps:o.object,slots:o.object,sx:o.oneOfType([o.arrayOf(o.oneOfType([o.func,o.object,o.bool])),o.func,o.object]),thresholdToRenderTimeInASingleColumn:o.number,timeSteps:o.shape({hours:o.number,minutes:o.number,seconds:o.number}),timezone:o.string,value:o.object,view:o.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:o.shape({hours:o.func,meridiem:o.func,minutes:o.func,seconds:o.func}),views:o.arrayOf(o.oneOf(["hours","minutes","seconds"]).isRequired)};const $s=C.forwardRef(function(s,n){var m,v;const t=fe(),a=Os(s,"MuiMobileTimePicker"),c=S({hours:Ge,minutes:Ge,seconds:Ge},a.viewRenderers),i=(m=a.ampmInClock)!=null?m:!1,d=S({},a,{ampmInClock:i,viewRenderers:c,format:Vs(t,a),slots:S({field:Ns},a.slots),slotProps:S({},a.slotProps,{field:r=>{var h;return S({},vs((h=a.slotProps)==null?void 0:h.field,r),Is(a))},toolbar:S({hidden:!1,ampmInClock:i},(v=a.slotProps)==null?void 0:v.toolbar)})}),{renderPicker:f}=ft({ref:n,props:d,valueManager:ye,valueType:"time",validator:Ke,steps:null});return f()});$s.propTypes={ampm:o.bool,ampmInClock:o.bool,autoFocus:o.bool,className:o.string,closeOnSelect:o.bool,defaultValue:o.object,disabled:o.bool,disableFuture:o.bool,disableIgnoringDatePartForTimeValidation:o.bool,disableOpenPicker:o.bool,disablePast:o.bool,enableAccessibleFieldDOMStructure:o.any,format:o.string,formatDensity:o.oneOf(["dense","spacious"]),inputRef:js,label:o.node,localeText:o.object,maxTime:o.object,minTime:o.object,minutesStep:o.number,name:o.string,onAccept:o.func,onChange:o.func,onClose:o.func,onError:o.func,onOpen:o.func,onSelectedSectionsChange:o.func,onViewChange:o.func,open:o.bool,openTo:o.oneOf(["hours","minutes","seconds"]),orientation:o.oneOf(["landscape","portrait"]),readOnly:o.bool,reduceAnimations:o.bool,referenceDate:o.object,selectedSections:o.oneOfType([o.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),o.number]),shouldDisableTime:o.func,slotProps:o.object,slots:o.object,sx:o.oneOfType([o.arrayOf(o.oneOfType([o.func,o.object,o.bool])),o.func,o.object]),timezone:o.string,value:o.object,view:o.oneOf(["hours","minutes","seconds"]),viewRenderers:o.shape({hours:o.func,minutes:o.func,seconds:o.func}),views:o.arrayOf(o.oneOf(["hours","minutes","seconds"]).isRequired)};const qo=["desktopModeMediaQuery"],Ko=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiTimePicker"}),{desktopModeMediaQuery:a=bt}=t,c=le(t,qo);return Ks(a,{defaultMatches:!0})?u.jsx(Es,S({ref:n},c)):u.jsx($s,S({ref:n},c))}),Go=({settingName:e,value:s,defaultValue:n,handleChange:t})=>{const{t:a}=xs(),[c,i]=C.useState(!1),[d,f]=C.useState(s);C.useEffect(()=>{s&&f(s)},[s]);const m=C.useCallback(h=>{i(!1),h&&f(s)},[s]),v=C.useCallback(()=>m(!0),[m]),r=C.useCallback((h,b=!0)=>{b&&m(!1),s!==h&&t(h)},[s,t,m]);return u.jsxs(u.Fragment,{children:[u.jsx(Ye,{onClick:()=>i(!0),children:u.jsx(Qe,{primary:e,secondary:_e(s,"HH:mm").format("LT"),secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),u.jsxs(ws,{open:c,onClose:m,children:[u.jsxs(ys,{children:[u.jsx(Ss,{sx:{paddingLeft:0},children:e}),u.jsx(ht,{dateAdapter:gt,adapterLocale:_e.locale(),children:u.jsx(Ko,{value:_e(d,"HH:mm"),defaultValue:_e(n,"HH:mm"),format:"LT",onChange:h=>{var b;return f((b=h==null?void 0:h.format("HH:mm"))!=null?b:"00:00")}})})]}),u.jsxs(Ms,{children:[n!==void 0?u.jsx(xe,{onClick:()=>{f(n),r(n,!1)},color:"primary",children:a("global.button.reset_to_default")}):null,u.jsx(xe,{onClick:v,color:"primary",children:a("global.button.cancel")}),u.jsx(xe,{onClick:()=>{r(d)},color:"primary",children:a("global.button.ok")})]})]})]})},Yo=e=>({backupPath:e.backupPath,backupTime:e.backupTime,backupInterval:e.backupInterval,backupTTL:e.backupTTL}),Qo=e=>e===0?ls("global.label.never"):ls("settings.backup.automated.cleanup.label.value",{days:e,count:e});let ve;function hn(){var F;const{t:e}=xs();Ct(e("settings.backup.title"));const{data:s,loading:n,error:t,refetch:a}=Ve.useGetServerSettings({notifyOnNetworkStatusChange:!0}),[c]=Ve.useUpdateServerSettings(),{data:i}=Ve.useGetBackupRestoreStatus(ve!=null?ve:"",{skip:!ve,pollInterval:1e3}),[d,f]=C.useState(null),[m,v]=C.useState(!1),[r,h]=C.useState(),[,b]=C.useState(0),k=C.useRef(null),x=(()=>{if(!(i!=null&&i.restoreStatus))return 0;const l=100*(i.restoreStatus.mangaProgress/i.restoreStatus.totalManga);return Number.isNaN(l)?0:l})(),M=(l,y)=>{c({variables:{input:{settings:{[l]:y}}}}).catch($=>Te(e("global.error.label.failed_to_save_changes"),"error",Ae($)))};C.useEffect(()=>{if(!(i!=null&&i.restoreStatus))return;const l=i.restoreStatus.state===os.Success,y=i.restoreStatus.state===os.Failure;(l||y)&&(l&&Te(e("settings.backup.action.restore.label.success"),"success"),y&&Te(e("settings.backup.action.restore.error.label.failure"),"error"),ve=void 0,b(Date.now()))},[(F=i==null?void 0:i.restoreStatus)==null?void 0:F.state]);const D=()=>{f(null);const l=document.getElementById("backup-file");l&&(l.value="")},P=async l=>{try{const{data:{validateBackup:y}}=await Ve.validateBackupFile(l,{fetchPolicy:"network-only"}).response;return y.missingSources.length||y.missingTrackers.length?(h(y),v(!0),!1):!0}catch(y){Te(e("settings.backup.action.validate.error.label.failure"),"error",Ae(y)),D()}return!1},V=async l=>{var y;try{Te(e("settings.backup.action.restore.label.in_progress"),"info"),ve=(y=(await Ve.restoreBackupFile(l).response).data)==null?void 0:y.restoreBackup.id,b(Date.now())}catch($){Te(e("settings.backup.action.restore.error.label.failure"),"error",Ae($))}finally{D()}},N=async l=>{if(l.name.toLowerCase().endsWith("json")){Te(e("settings.backup.action.restore.error.label.legacy_backup_unsupported"),"error");return}if(!l.name.toLowerCase().match(/proto\.gz$|tachibk$/g)){Te(e("global.error.label.invalid_file_type"),"error");return}f(l),await P(l)&&await V(l)},I=()=>{v(!1),D()};ds("drop",async l=>{l.preventDefault();const y=await cs(l);N(y[0])}),ds("dragover",l=>{l.preventDefault()});const _=St("change",async l=>{const y=await cs(l);N(y[0])}),j=Tt(k,_);if(n)return u.jsx(Gs,{});if(t)return u.jsx(kt,{message:e("global.error.label.failed_to_load_data"),messageExtra:Ae(t),retry:()=>a().catch(Ys())});const R=Yo(s.settings);return u.jsxs(u.Fragment,{children:[u.jsxs(Ee,{sx:{padding:0},children:[u.jsx(Ye,{component:"a",href:Ve.getExportBackupUrl(),download:!0,children:u.jsx(Qe,{primary:e("settings.backup.action.create.label.title"),secondary:e("settings.backup.action.create.label.description")})}),u.jsxs(Ye,{onClick:()=>{var l;return(l=k.current)==null?void 0:l.click()},disabled:!!ve,children:[u.jsx(Qe,{primary:e("settings.backup.action.restore.label.title"),secondary:e("settings.backup.action.restore.label.description")}),ve?u.jsx(Qs,{children:u.jsx(Xs,{progress:x})}):null]}),u.jsxs(Ee,{subheader:u.jsx(vt,{component:"div",id:"backup-settings",children:"Automated backup"}),children:[u.jsx(Zs,{settingName:e("settings.backup.automated.location.label.title"),dialogDescription:e("settings.backup.automated.location.label.description"),value:R.backupPath,settingDescription:R.backupPath.length?R.backupPath:e("global.label.default"),handleChange:l=>M("backupPath",l)}),u.jsx(Go,{settingName:e("settings.backup.automated.label.time"),value:R.backupTime,defaultValue:"00:00",handleChange:l=>M("backupTime",l)}),u.jsx(us,{settingTitle:e("settings.backup.automated.label.interval"),settingValue:e("global.date.value.label.day",{days:R.backupInterval,count:R.backupInterval}),value:R.backupInterval,defaultValue:1,minValue:1,maxValue:31,stepSize:1,valueUnit:e("global.date.label.day_one"),showSlider:!0,handleUpdate:l=>M("backupInterval",l)}),u.jsx(us,{settingTitle:e("settings.backup.automated.cleanup.label.title"),settingValue:Qo(R.backupTTL),value:R.backupTTL,defaultValue:14,minValue:0,maxValue:1e3,stepSize:1,valueUnit:e("global.date.label.day_one"),showSlider:!0,handleUpdate:l=>M("backupTTL",l)})]})]}),u.jsx("input",{ref:j,type:"file",style:{display:"none"}}),u.jsxs(ws,{open:m,children:[u.jsx(Ss,{children:e("settings.backup.action.validate.dialog.title")}),u.jsxs(ys,{dividers:!0,children:[!!(r!=null&&r.missingSources.length)&&u.jsx(Ee,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:e("settings.backup.action.validate.dialog.content.label.missing_sources"),children:r==null?void 0:r.missingSources.map(({id:l,name:y})=>u.jsx(ns,{sx:{display:"list-item"},children:"".concat(y," (").concat(l,")")},l))}),!!(r!=null&&r.missingTrackers.length)&&u.jsx(Ee,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:e("settings.backup.action.validate.dialog.content.label.missing_trackers"),children:r==null?void 0:r.missingTrackers.map(({name:l})=>u.jsx(ns,{sx:{display:"list-item"},children:"".concat(l)},l))})]}),u.jsx(Ms,{children:u.jsxs(as,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[!!(r!=null&&r.missingSources.length)&&u.jsx(xe,{onClick:I,component:is,to:rs.browse.path,autoFocus:!!(r!=null&&r.missingSources.length),variant:r!=null&&r.missingSources.length?"contained":"text",children:e("extension.action.label.install")}),!!(r!=null&&r.missingTrackers.length)&&u.jsx(xe,{onClick:I,component:is,to:rs.tracker.path,autoFocus:!!(r!=null&&r.missingTrackers.length),variant:r!=null&&r.missingTrackers.length?"contained":"text",children:e("global.button.log_in")}),u.jsxs(as,{direction:"row",children:[u.jsx(xe,{onClick:I,children:e("global.button.cancel")}),u.jsx(xe,{onClick:()=>{I(),V(d)},autoFocus:!(r!=null&&r.missingSources.length)&&!(r!=null&&r.missingTrackers.length),variant:!(r!=null&&r.missingSources.length)&&!(r!=null&&r.missingTrackers.length)?"contained":"text",children:e("global.button.restore")})]})]})})]})]})}export{hn as Backup};
