import{bV as Z,es as q,et as z,eu as G,b as A,ev as w,ew as F,ex as V,ey as Q}from"./index-Cnc2AimA.js";var B,M;function K(){return M||(M=1,B={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),B}var ee=K();const te=Z(ee);var ne=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function R(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(te[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var a=new RegExp(ne),o=null;(o=a.exec(e))!==null;)if(o[0].trim())if(o[1]){var p=o[1].trim(),v=[p,""];p.indexOf("=")>-1&&(v=p.split("=")),t.attrs[v[0]]=v[1],a.lastIndex--}else o[2]&&(t.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return t}var re=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,se=/^\s*$/,ae=Object.create(null);function J(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var a in n)r.push(a+'="'+n[a]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(J,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var oe={parse:function(e,t){t||(t={}),t.components||(t.components=ae);var n,r=[],a=[],o=-1,p=!1;if(e.indexOf("<")!==0){var v=e.indexOf("<");r.push({type:"text",content:v===-1?e:e.substring(0,v)})}return e.replace(re,function(u,$){if(p){if(u!=="</"+n.name+">")return;p=!1}var y,d=u.charAt(1)!=="/",x=u.startsWith("<!--"),h=$+u.length,i=e.charAt(h);if(x){var C=R(u);return o<0?(r.push(C),r):((y=a[o]).children.push(C),r)}if(d&&(o++,(n=R(u)).type==="tag"&&t.components[n.name]&&(n.type="component",p=!0),n.voidElement||p||!i||i==="<"||n.children.push({type:"text",content:e.slice(h,e.indexOf("<",h))}),o===0&&r.push(n),(y=a[o-1])&&y.children.push(n),a[o]=n),(!d||n.voidElement)&&(o>-1&&(n.voidElement||n.name===u.slice(2,-1))&&(o--,n=o===-1?r:a[o]),!p&&i!=="<"&&i)){y=o===-1?r:a[o].children;var l=e.indexOf("<",h),f=e.slice(h,l===-1?void 0:l);se.test(f)&&(f=" "),(l>-1&&o+y.length>=0||f!==" ")&&y.push({type:"text",content:f})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+J("",n)},"")}};const H=(e,t)=>{var r,a;if(!e)return!1;const n=(a=(r=e.props)==null?void 0:r.children)!=null?a:e.children;return t?n.length>0:!!n},W=e=>{var n,r,a;if(!e)return[];const t=(r=(n=e.props)==null?void 0:n.children)!=null?r:e.children;return(a=e.props)!=null&&a.i18nIsDynamicList?I(t):t},ie=e=>Array.isArray(e)&&e.every(A.isValidElement),I=e=>Array.isArray(e)?e:[e],le=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},X=(e,t,n,r)=>{var v;if(!e)return"";let a="";const o=I(e),p=t!=null&&t.transSupportBasicHtmlNodes?(v=t.transKeepBasicHtmlNodesFor)!=null?v:[]:[];return o.forEach((u,$)=>{if(w(u)){a+="".concat(u);return}if(A.isValidElement(u)){const{props:y,type:d}=u,x=Object.keys(y).length,h=p.indexOf(d)>-1,i=y.children;if(!i&&h&&!x){a+="<".concat(d,"/>");return}if(!i&&(!h||x)||y.i18nIsDynamicList){a+="<".concat($,"></").concat($,">");return}if(h&&x===1&&w(i)){a+="<".concat(d,">").concat(i,"</").concat(d,">");return}const C=X(i,t,n,r);a+="<".concat($,">").concat(C,"</").concat($,">");return}if(u===null){F(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(V(u)){const{format:y,...d}=u,x=Object.keys(d);if(x.length===1){const h=y?"".concat(x[0],", ").concat(y):x[0];a+="{{".concat(h,"}}");return}F(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:u});return}F(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:u})}),a},ce=(e,t,n,r,a,o)=>{if(t==="")return[];const p=r.transKeepBasicHtmlNodesFor||[],v=t&&new RegExp(p.map(l=>"<".concat(l)).join("|")).test(t);if(!e&&!v&&!o)return[t];const u={},$=l=>{I(l).forEach(c=>{w(c)||(H(c)?$(W(c)):V(c)&&!A.isValidElement(c)&&Object.assign(u,c))})};$(e);const y=oe.parse("<0>".concat(t,"</0>")),d={...u,...a},x=(l,f,c)=>{var m;const b=W(l),k=i(b,f.children,c);return ie(b)&&k.length===0||(m=l.props)!=null&&m.i18nIsDynamicList?b:k},h=(l,f,c,b,k)=>{l.dummy?(l.children=f,c.push(A.cloneElement(l,{key:b},k?void 0:f))):c.push(...A.Children.map([l],m=>{const s={...m.props};return delete s.i18nIsDynamicList,A.createElement(m.type,{...s,key:b,ref:m.ref},k?null:f)}))},i=(l,f,c)=>{const b=I(l);return I(f).reduce((m,s,T)=>{var L,S;const O=((S=(L=s.children)==null?void 0:L[0])==null?void 0:S.content)&&n.services.interpolator.interpolate(s.children[0].content,d,n.language);if(s.type==="tag"){let N=b[parseInt(s.name,10)];c.length===1&&!N&&(N=c[0][s.name]),N||(N={});const g=Object.keys(s.attrs).length!==0?le({props:s.attrs},N):N,j=A.isValidElement(g),D=j&&H(s,!0)&&!s.voidElement,_=v&&V(g)&&g.dummy&&!j,P=V(e)&&Object.hasOwnProperty.call(e,s.name);if(w(g)){const E=n.services.interpolator.interpolate(g,d,n.language);m.push(E)}else if(H(g)||D){const E=x(g,s,c);h(g,E,m,T)}else if(_){const E=i(b,s.children,c);h(g,E,m,T)}else if(Number.isNaN(parseFloat(s.name)))if(P){const E=x(g,s,c);h(g,E,m,T,s.voidElement)}else if(r.transSupportBasicHtmlNodes&&p.indexOf(s.name)>-1)if(s.voidElement)m.push(A.createElement(s.name,{key:"".concat(s.name,"-").concat(T)}));else{const E=i(b,s.children,c);m.push(A.createElement(s.name,{key:"".concat(s.name,"-").concat(T)},E))}else if(s.voidElement)m.push("<".concat(s.name," />"));else{const E=i(b,s.children,c);m.push("<".concat(s.name,">").concat(E,"</").concat(s.name,">"))}else if(V(g)&&!j){const E=s.children[0]?O:null;E&&m.push(E)}else h(g,O,m,T,s.children.length!==1||!O)}else if(s.type==="text"){const N=r.transWrapTextNodes,g=o?r.unescape(n.services.interpolator.interpolate(s.content,d,n.language)):n.services.interpolator.interpolate(s.content,d,n.language);N?m.push(A.createElement(N,{key:"".concat(s.name,"-").concat(T)},g)):m.push(g)}return m},[])},C=i([{dummy:!0,children:e||[]}],y,I(e||[]));return W(C[0])},U=(e,t,n)=>{const r=e.key||t,a=A.cloneElement(e,{key:r});if(!a.props||!a.props.children||n.indexOf("".concat(t,"/>"))<0&&n.indexOf("".concat(t," />"))<0)return a;function o(){return A.createElement(A.Fragment,null,a)}return A.createElement(o,{key:r})},ue=(e,t)=>e.map((n,r)=>U(n,r,t)),pe=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:U(e[r],r,t)})}),n},fe=(e,t,n,r)=>e?Array.isArray(e)?ue(e,t):V(e)?pe(e,t):(q(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null;function me({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:o={},values:p,defaults:v,components:u,ns:$,i18n:y,t:d,shouldUnescape:x,...h}){var g,j,D,_,P,E;const i=y||z();if(!i)return q(i,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const C=d||i.t.bind(i)||(Y=>Y),l={...G(),...(g=i.options)==null?void 0:g.react};let f=$||C.ns||((j=i.options)==null?void 0:j.defaultNS);f=w(f)?[f]:f||["translation"];const c=X(e,l,i,r),b=v||c||l.transEmptyNodeValue||r,{hashTransKey:k}=l,m=r||(k?k(c||b):c||b);(_=(D=i.options)==null?void 0:D.interpolation)!=null&&_.defaultVariables&&(p=p&&Object.keys(p).length>0?{...p,...i.options.interpolation.defaultVariables}:{...i.options.interpolation.defaultVariables});const s=p||t!==void 0&&!((E=(P=i.options)==null?void 0:P.interpolation)!=null&&E.alwaysFormat)||!e?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},T={...o,context:a||o.context,count:t,...p,...s,defaultValue:b,ns:f},O=m?C(m,T):b,L=fe(u,O,i,r),S=ce(L||e,O,i,l,T,x),N=n!=null?n:l.defaultTransParent;return N?A.createElement(N,h,S):S}function ye({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:o={},values:p,defaults:v,components:u,ns:$,i18n:y,t:d,shouldUnescape:x,...h}){var c;const{i18n:i,defaultNS:C}=A.useContext(Q)||{},l=y||i||z(),f=d||(l==null?void 0:l.t.bind(l));return me({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:o,values:p,defaults:v,components:u,ns:$||(f==null?void 0:f.ns)||C||((c=l==null?void 0:l.options)==null?void 0:c.defaultNS),i18n:l,t:d,shouldUnescape:x,...h})}export{ye as T};
