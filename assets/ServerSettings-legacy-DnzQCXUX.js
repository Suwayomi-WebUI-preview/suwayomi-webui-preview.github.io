!function(){function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(r)}function r(r,t,n){return(t=function(r){var t=function(r,t){if("object"!=e(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var s=n.call(r,t||"default");if("object"!=e(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==e(t)?t:t+""}(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function t(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,s,a,o,i=[],l=!0,c=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=a.call(t)).done)&&(i.push(n.value),i.length!==r);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw s}}return i}}(e,r)||function(e,r){if(e){if("string"==typeof e)return n(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,n,s,o){var i=n&&n.prototype instanceof c?n:c,u=Object.create(i.prototype);return a(u,"_invoke",function(t,n,s){var a,o,i,c=0,u=s||[],d=!1,g={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(r,t){return a=r,o=0,i=e,g.n=t,l}};function v(t,n){for(o=t,i=n,r=0;!d&&c&&!s&&r<u.length;r++){var s,a=u[r],v=g.p,h=a[2];t>3?(s=h===n)&&(i=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=v&&((s=t<2&&v<a[1])?(o=0,g.v=n,g.n=a[1]):v<h&&(s=t<3||a[0]>n||n>h)&&(a[4]=t,a[5]=n,g.n=h,o=0))}if(s||t>1)return l;throw d=!0,n}return function(s,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&v(u,h),o=u,i=h;(r=o<2?e:i)||!d;){a||(o?o<3?(o>1&&(g.n=-1),v(o,i)):g.n=i:g.v=i);try{if(c=2,a){if(o||(s="next"),r=a[s]){if(!(r=r.call(a,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,o<2&&(o=0)}else 1===o&&(r=a.return)&&r.call(a),o<2&&(i=TypeError("The iterator does not provide a '"+s+"' method"),o=1);a=e}else if((r=(d=g.n<0)?i:t.call(n,g))!==l)break}catch(r){a=e,o=1,i=r}finally{c=1}}return{value:r,done:d}}}(t,s,o),!0),u}var l={};function c(){}function u(){}function d(){}r=Object.getPrototypeOf;var g=[][n]?r(r([][n]())):(a(r={},n,function(){return this}),r),v=d.prototype=c.prototype=Object.create(g);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e}return u.prototype=d,a(v,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,o,"GeneratorFunction"),a(v),a(v,o,"Generator"),a(v,n,function(){return this}),a(v,"toString",function(){return"[object Generator]"}),(s=function(){return{w:i,m:h}})()}function a(e,r,t,n){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}a=function(e,r,t,n){function o(r,t){a(e,r,function(e){return this._invoke(r,t,e)})}r?s?s(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(o("next",0),o("throw",1),o("return",2))},a(e,r,t,n)}function o(e,r,t,n,s,a,o){try{var i=e[a](o),l=i.value}catch(e){return void t(e)}i.done?r(l):Promise.resolve(l).then(n,s)}function i(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function i(e){o(a,n,s,i,l,"next",e)}function l(e){o(a,n,s,i,l,"throw",e)}i(void 0)})}}System.register(["./index-legacy-CIUp9n76.js","./NumberSetting-legacy-BcpbZkFE.js","./SelectSetting-legacy-C2HEE1oE.js","./EmptyViewAbsoluteCentered-legacy-BhJlm-Nq.js","./useAppTitle-legacy-CTweLXIy.js","./LoginDialog-legacy-B5OHmD_K.js","./Asserts-legacy-BpDhjgzN.js","./ListSubheader-legacy-tugwd4lA.js","./Switch-legacy-iYgafEtY.js","./Trans-legacy-DQlqwj8G.js","./Link-legacy-lNevmZ8p.js","./Slider-legacy-B6-NH1u1.js","./Select-legacy-BNgqguwO.js","./SwitchBase-legacy-BhUJmzZv.js"],function(e,n){"use strict";var a,o,l,c,u,d,g,v,h,f,p,m,b,y,x,j,k,_,S,w,C,P,U,T,N,V,L,A,E,z,O,F,M,D,I,B,G,R,K,H;return{setters:[function(e){a=e.u,o=e.j,l=e.M,c=e.b5,u=e.v,d=e.bS,g=e.bT,v=e.bU,h=e.bb,f=e.m,p=e.g,m=e.r,b=e.e,y=e.f,x=e.bV,j=e.s,k=e.F,_=e.i,S=e.k,w=e.bW,C=e.b8,P=e.bX,U=e.bY,T=e.bZ,N=e.aN,V=e.b_,L=e.b$,A=e.c0,E=e.av,z=e.c1},function(e){O=e.N},function(e){F=e.S},function(e){M=e.E},function(e){D=e.u},function(e){I=e.C},function(e){B=e.a},function(e){G=e.L},function(e){R=e.S},function(e){K=e.T},function(e){H=e.L},null,null,null],execute:function(){var n=function(e){var r=e.settings,t=r.koreaderSyncPercentageTolerance,n=r.koreaderSyncStrategyBackward,b=r.koreaderSyncStrategyForward,y=r.koreaderSyncChecksumMethod,x=e.serverAddress,j=e.username,k=e.isLoggedIn,_=e.updateSetting,S=a().t,w=function(){var e=i(s().m(function e(){var r,t;return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,m.koSyncLogout().response;case 1:if(r=e.v,null==(t=r.data)||!t.logoutKoSyncAccount.status.isLoggedIn){e.n=2;break}throw new Error(S("tracking.action.logout.label.failure",{name:S("settings.server.koreader.sync.title")}));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=i(s().m(function e(r,t,n){var a,o,i;return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,m.koSyncLogin(r,t,n).response;case 1:if(a=e.v,null!=(o=a.data)&&o.connectKoSyncAccount.status.isLoggedIn){e.n=2;break}throw new Error(null!==(i=null==o?void 0:o.connectKoSyncAccount.message)&&void 0!==i?i:S("global.label.unknown"));case 2:return e.a(2)}},e)}));return function(r,t,n){return e.apply(this,arguments)}}(),P=function(){var e=i(s().m(function e(){var r,t,n,a,o=arguments;return s().w(function(e){for(;;)switch(e.n){case 0:r=o.length>0&&void 0!==o[0]?o[0]:"https://sync.koreader.rocks/",t=o.length>1?o[1]:void 0,n=o.length>2?o[2]:void 0,a=I.showControlled({title:S(k?"settings.server.koreader.sync.connection.disconnect":"settings.server.koreader.sync.connection.connect",{name:S("settings.server.koreader.sync.title")}),description:k?S("settings.server.koreader.sync.connection.connected",{username:t,serverAddress:r}):void 0,isLoading:!1,isLoggedIn:k,withServerAddress:!0,username:t,password:n,serverAddress:r,loginLogout:function(){var e=i(s().m(function e(r,t,n){var o,i,l;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.update({isLoading:!0,loginLogout:h}),!k){e.n=5;break}return e.p=1,e.n=2,w();case 2:a.submit(),e.n=4;break;case 3:e.p=3,i=e.v,f(S("settings.server.koreader.sync.connection.message.disconnect_error"),"error",p(i));case 4:return e.a(2);case 5:return e.p=5,B(n),e.n=6,C(n,r,t);case 6:a.submit(),e.n=9;break;case 7:return e.p=7,l=e.v,f(S("settings.server.koreader.sync.connection.message.connect_error"),"error",p(l)),o="__retry__",e.n=8,Promise.race([a.promise,Promise.resolve(o)]);case 8:e.v===o&&P(n,r,t);case 9:return e.a(2)}},e,null,[[5,7],[1,3]])}));return function(r,t,n){return e.apply(this,arguments)}}()},{id:"koreader-sync-login-logout"});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return o.jsxs(l,{subheader:o.jsx(G,{component:"div",id:"koreader-sync-settings",children:S("settings.server.koreader.sync.title")}),children:[o.jsx(c,{onClick:function(){return P(null!=x?x:void 0,null!=j?j:void 0)},children:o.jsx(u,{primary:S("settings.server.koreader.sync.connection.status"),secondary:k?S("settings.server.koreader.sync.connection.connected",{username:j,serverAddress:x}):S("settings.server.koreader.sync.connection.disconnected")})}),o.jsx(F,{settingName:S("settings.server.koreader.sync.strategy.forward_title"),value:b,values:d,handleChange:function(e){return _("koreaderSyncStrategyForward",e)}}),o.jsx(F,{settingName:S("settings.server.koreader.sync.strategy.backward_title"),value:n,values:d,handleChange:function(e){return _("koreaderSyncStrategyBackward",e)}}),o.jsx(F,{settingName:S("settings.server.koreader.sync.check_sum_method.title"),value:y,values:g,handleChange:function(e){return _("koreaderSyncChecksumMethod",e)}}),o.jsx(O,{settingTitle:S("settings.server.koreader.sync.tolerance.title"),dialogDescription:S("settings.server.koreader.sync.tolerance.description"),settingValue:t.toString(),value:t,defaultValue:v.default,minValue:v.min,maxValue:v.max,stepSize:v.step,valueUnit:"",handleUpdate:function(e){return _("koreaderSyncPercentageTolerance",e)}})]})},q=function(e){return 0===e?E("global.label.never"):E("settings.server.misc.log_files.file_cleanup.value",{days:e,count:e})};e("ServerSettings",function(){var e,c,d,g=a().t;D(g("settings.server.title.server"));var v=b(),h=v.settings.serverInformAvailableUpdate,E=v.loading,I=v.request,B=I.error,$=I.refetch,W=k(function(e){return f(g("global.error.label.failed_to_save_changes"),"error",p(e))}),J=m.useGetServerSettings({notifyOnNetworkStatusChange:!0}),X=J.data,Y=J.loading,Z=J.error,Q=J.refetch,ee=t(m.useUpdateServerSettings(),1)[0],re=m.useKoSyncStatus(),te=function(){var e=i(s().m(function e(t,n,a){var o;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ee({variables:{input:{settings:r({},t,n)}}});case 1:null==a||a(!0),e.n=3;break;case 2:e.p=2,o=e.v,f(g("global.error.label.failed_to_save_changes"),"error",p(o)),null==a||a(!1);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(r,t,n){return e.apply(this,arguments)}}(),ne=y.useMemo(function(){return o.jsxs(l,{subheader:o.jsx(G,{component:"div",id:"server-settings-client",children:g("global.label.client")}),children:[o.jsx(x,{}),o.jsxs(j,{children:[o.jsx(u,{primary:g("global.update.settings.inform.label.title"),secondary:g("global.update.settings.inform.label.description")}),o.jsx(R,{edge:"end",checked:h,onChange:function(e){return W("serverInformAvailableUpdate",e.target.checked)}})]})]})},[h]);if(E||Y||re.loading)return o.jsxs(o.Fragment,{children:[ne,o.jsx(_,{})]});var se=null!==(e=null!=B?B:Z)&&void 0!==e?e:re.error;if(se)return o.jsxs(o.Fragment,{children:[ne,o.jsx(M,{message:g("global.error.label.failed_to_load_data"),messageExtra:p(se),retry:function(){B&&$().catch(S()),Z&&Q().catch(S()),re.error&&re.refetch().catch(S())}})]});var ae=X.settings,oe=re.data.koSyncStatus,ie=!(null!==(c=ae.authUsername)&&void 0!==c&&c.trim()&&null!==(d=ae.authPassword)&&void 0!==d&&d.trim()),le=ae.databaseType===w.H2;return o.jsxs(l,{sx:{pt:0},children:[ne,o.jsxs(l,{subheader:o.jsx(G,{component:"div",id:"server-settings-server-address",children:g("settings.server.address.server.title")}),children:[o.jsx(C,{settingName:g("settings.server.address.server.label.ip"),handleChange:function(e){return te("ip",e)},value:ae.ip,placeholder:"0.0.0.0"}),o.jsx(O,{settingTitle:g("settings.server.address.server.label.port"),settingValue:ae.port.toString(),handleUpdate:function(e){return te("port",e)},value:ae.port,defaultValue:4567,valueUnit:g("settings.server.address.server.label.port")})]}),o.jsxs(l,{subheader:o.jsx(G,{component:"div",id:"server-settings-socks-proxy",children:g("settings.server.socks_proxy.title")}),children:[o.jsxs(j,{children:[o.jsx(u,{primary:g("settings.server.socks_proxy.label.enable")}),o.jsx(R,{edge:"end",checked:ae.socksProxyEnabled,onChange:function(e){return te("socksProxyEnabled",e.target.checked)}})]}),o.jsx(F,{settingName:g("settings.server.socks_proxy.label.version"),value:ae.socksProxyVersion,values:[[4,{text:"4"}],[5,{text:"5"}]],handleChange:function(e){return te("socksProxyVersion",e)}}),o.jsx(C,{settingName:g("settings.server.socks_proxy.label.host"),value:ae.socksProxyHost,handleChange:function(e){return te("socksProxyHost",e)}}),o.jsx(C,{settingName:g("settings.server.socks_proxy.label.port"),value:ae.socksProxyPort,handleChange:function(e){return te("socksProxyPort",e)}}),o.jsx(C,{settingName:g("settings.server.socks_proxy.label.username"),value:ae.socksProxyUsername,handleChange:function(e){return te("socksProxyUsername",e)}}),o.jsx(C,{settingName:g("settings.server.socks_proxy.label.password"),value:ae.socksProxyPassword,handleChange:function(e){return te("socksProxyPassword",e)},isPassword:!0})]}),o.jsxs(l,{subheader:o.jsx(G,{component:"div",id:"server-settings-auth",children:g("settings.server.auth.title")}),children:[o.jsx(F,{settingName:g("settings.server.auth.label.title"),value:ae.authMode,values:P,handleChange:function(e){te("authMode",e,function(r){r&&(e!==U.UiLogin&&z.removeTokens(),z.setAuthRequired(e===U.UiLogin))})},disabled:ie}),o.jsx(C,{settingName:g("settings.server.auth.label.username"),value:ae.authUsername,validate:function(e){return ae.authMode===U.None||!!e.trim()},handleChange:function(e){return te("authUsername",e)}}),o.jsx(C,{settingName:g("settings.server.auth.label.password"),value:ae.authPassword,isPassword:!0,validate:function(e){return ae.authMode===U.None||!!e.trim()},handleChange:function(e){return te("authPassword",e)}}),ae.authMode===U.UiLogin&&o.jsxs(o.Fragment,{children:[o.jsx(C,{settingName:g("settings.server.auth.jwt.audience"),value:ae.jwtAudience,handleChange:function(e){return te("jwtAudience",e)}}),o.jsx(O,{settingTitle:g("settings.server.auth.jwt.access_token_expiry"),settingValue:N(ae.jwtTokenExpiry).minutes.humanize(),value:N(ae.jwtTokenExpiry).minutes.inWholeMinutes,valueUnit:g("global.time.minutes.minute_other"),defaultValue:T.default,minValue:T.min,maxValue:T.max,handleUpdate:function(e){return te("jwtTokenExpiry",N(e).minutes.toISOString())},showSlider:!0}),o.jsx(O,{settingTitle:g("settings.server.auth.jwt.refresh_token_expiry"),settingValue:N(ae.jwtRefreshExpiry).days.humanize(),value:N(ae.jwtRefreshExpiry).days.inWholeDays,valueUnit:g("global.time.days.day_other"),defaultValue:V.default,minValue:V.min,maxValue:V.max,handleUpdate:function(e){return te("jwtRefreshExpiry",N(e).days.toISOString())},showSlider:!0})]})]}),o.jsxs(l,{subheader:o.jsx(G,{component:"div",id:"server-settings-clouadflare-bypass",children:g("settings.server.cloudflare.title")}),children:[o.jsxs(j,{children:[o.jsx(u,{primary:g("settings.server.cloudflare.flaresolverr.enabled.label.title"),secondary:o.jsxs(K,{i18nKey:"settings.server.cloudflare.flaresolverr.enabled.label.description",children:["See"," ",o.jsx(H,{href:"https://github.com/FlareSolverr/FlareSolverr?tab=readme-ov-file#installation",target:"_blank",rel:"noreferrer",children:"FlareSolverr"})," ","for information on how to set it up"]})}),o.jsx(R,{edge:"end",checked:ae.flareSolverrEnabled,onChange:function(e){return te("flareSolverrEnabled",e.target.checked)}})]}),o.jsx(C,{settingName:g("settings.server.cloudflare.flaresolverr.url.label.title"),dialogDescription:g("settings.server.cloudflare.flaresolverr.url.label.description"),value:ae.flareSolverrUrl,handleChange:function(e){return te("flareSolverrUrl",e)}}),o.jsx(O,{settingTitle:g("settings.server.cloudflare.flaresolverr.timeout.label.title"),settingValue:g("global.time.seconds.value",{count:ae.flareSolverrTimeout}),dialogDescription:g("settings.server.cloudflare.flaresolverr.timeout.label.description"),value:ae.flareSolverrTimeout,defaultValue:60,minValue:20,maxValue:300,stepSize:1,showSlider:!0,valueUnit:g("global.time.seconds.second_other"),handleUpdate:function(e){return te("flareSolverrTimeout",e)}}),o.jsx(C,{settingName:g("settings.server.cloudflare.flaresolverr.session.name.label.title"),value:ae.flareSolverrSessionName,handleChange:function(e){return te("flareSolverrSessionName",e)}}),o.jsx(O,{settingTitle:g("settings.server.cloudflare.flaresolverr.session.ttl.label.title"),settingValue:g("global.time.minutes.value",{count:ae.flareSolverrSessionTtl}),dialogDescription:g("settings.server.cloudflare.flaresolverr.session.ttl.label.description"),value:ae.flareSolverrSessionTtl,defaultValue:15,minValue:1,maxValue:60,stepSize:1,showSlider:!0,valueUnit:g("global.time.minutes.minute_other"),handleUpdate:function(e){return te("flareSolverrSessionTtl",e)}}),o.jsxs(j,{children:[o.jsx(u,{primary:g("settings.server.cloudflare.flaresolverr.response_fallback.label.title"),secondary:g("settings.server.cloudflare.flaresolverr.response_fallback.label.description")}),o.jsx(R,{edge:"end",checked:ae.flareSolverrAsResponseFallback,onChange:function(e){return te("flareSolverrAsResponseFallback",e.target.checked)}})]})]}),o.jsxs(l,{subheader:o.jsx(G,{component:"div",id:"server-settings-opds",children:g("settings.server.opds.title")}),children:[o.jsxs(j,{children:[o.jsx(u,{primary:g("settings.server.opds.binary_file_sizes.label.title"),secondary:g("settings.server.opds.binary_file_sizes.label.description")}),o.jsx(R,{edge:"end",checked:ae.opdsUseBinaryFileSizes,onChange:function(e){return te("opdsUseBinaryFileSizes",e.target.checked)}})]}),o.jsx(O,{settingTitle:g("settings.server.opds.items_per_page.label.title"),settingValue:ae.opdsItemsPerPage.toString(),dialogDescription:g("settings.server.opds.items_per_page.label.description"),value:ae.opdsItemsPerPage,defaultValue:50,minValue:10,maxValue:5e3,stepSize:10,showSlider:!0,valueUnit:g("settings.server.opds.items_per_page.label.unit_other"),handleUpdate:function(e){return te("opdsItemsPerPage",e)}}),o.jsxs(j,{children:[o.jsx(u,{primary:g("settings.server.opds.enable_page_read_progress.label.title"),secondary:g("settings.server.opds.enable_page_read_progress.label.description")}),o.jsx(R,{edge:"end",checked:ae.opdsEnablePageReadProgress,onChange:function(e){return te("opdsEnablePageReadProgress",e.target.checked)}})]}),o.jsxs(j,{children:[o.jsx(u,{primary:g("settings.server.opds.mark_as_read_on_download.label.title"),secondary:g("settings.server.opds.mark_as_read_on_download.label.description")}),o.jsx(R,{edge:"end",checked:ae.opdsMarkAsReadOnDownload,onChange:function(e){return te("opdsMarkAsReadOnDownload",e.target.checked)}})]}),o.jsxs(j,{children:[o.jsx(u,{primary:g("settings.server.opds.show_only_unread_chapters.label.title"),secondary:g("settings.server.opds.show_only_unread_chapters.label.description")}),o.jsx(R,{edge:"end",checked:ae.opdsShowOnlyUnreadChapters,onChange:function(e){return te("opdsShowOnlyUnreadChapters",e.target.checked)}})]}),o.jsxs(j,{children:[o.jsx(u,{primary:g("settings.server.opds.show_only_downloaded_chapters.label.title"),secondary:g("settings.server.opds.show_only_downloaded_chapters.label.description")}),o.jsx(R,{edge:"end",checked:ae.opdsShowOnlyDownloadedChapters,onChange:function(e){return te("opdsShowOnlyDownloadedChapters",e.target.checked)}})]}),o.jsx(F,{settingName:g("settings.server.opds.chapter_sort_order.label.title"),dialogDescription:g("settings.server.opds.chapter_sort_order.label.description"),value:ae.opdsChapterSortOrder,values:[[L.Asc,{text:g("global.sort.label.asc")}],[L.Desc,{text:g("global.sort.label.desc")}]],handleChange:function(e){return te("opdsChapterSortOrder",e)}}),o.jsx(F,{settingName:g("settings.server.opds.cbz_mime_type.title"),dialogDescription:g("settings.server.opds.cbz_mime_type.description"),value:ae.opdsCbzMimetype,values:[[A.Legacy,{text:g("settings.server.opds.cbz_mime_type.legacy")}],[A.Modern,{text:g("settings.server.opds.cbz_mime_type.modern")}],[A.Compatible,{text:g("settings.server.opds.cbz_mime_type.compatible")}]],handleChange:function(e){return te("opdsCbzMimetype",e)}})]}),o.jsx(n,{settings:ae,serverAddress:oe.serverAddress,username:oe.username,isLoggedIn:oe.isLoggedIn,updateSetting:te}),o.jsxs(l,{subheader:o.jsx(G,{component:"div",id:"server-settings-database",children:g("settings.server.database.title")}),children:[o.jsx(F,{settingName:g("settings.server.database.type.title"),value:ae.databaseType,values:[[w.H2,{text:g("settings.server.database.type.h2")}],[w.Postgresql,{text:g("settings.server.database.type.postgresql")}]],handleChange:function(e){return te("databaseType",e)}}),o.jsx(C,{settingName:g("settings.server.database.address"),handleChange:function(e){return te("databaseUrl",e)},value:ae.databaseUrl,placeholder:"postgresql://localhost:5432/suwayomi",disabled:le}),o.jsx(C,{settingName:g("settings.server.database.username"),value:ae.databaseUsername,handleChange:function(e){return te("databaseUsername",e)},disabled:le}),o.jsx(C,{settingName:g("settings.server.database.password"),value:ae.databasePassword,handleChange:function(e){return te("databasePassword",e)},disabled:le,isPassword:!0}),o.jsxs(j,{children:[o.jsx(u,{primary:g("settings.server.database.hikari_connection_pool.title"),secondary:g("settings.server.database.hikari_connection_pool.description")}),o.jsx(R,{edge:"end",checked:ae.useHikariConnectionPool,onChange:function(e){return te("useHikariConnectionPool",e.target.checked)}})]})]}),o.jsxs(l,{subheader:o.jsx(G,{component:"div",id:"server-settings-misc",children:g("settings.server.misc.title")}),children:[o.jsxs(j,{children:[o.jsx(u,{primary:g("settings.server.misc.log_level.label.server")}),o.jsx(R,{edge:"end",checked:ae.debugLogsEnabled,onChange:function(e){return te("debugLogsEnabled",e.target.checked)}})]}),o.jsxs(j,{children:[o.jsx(u,{primary:g("settings.server.misc.tray_icon.label.title"),secondary:g("settings.server.misc.tray_icon.label.description")}),o.jsx(R,{edge:"end",checked:ae.systemTrayEnabled,onChange:function(e){return te("systemTrayEnabled",e.target.checked)}})]}),o.jsx(O,{settingTitle:g("settings.server.misc.log_files.file_cleanup.title"),settingValue:q(ae.maxLogFiles),value:ae.maxLogFiles,valueUnit:g("global.date.label.day_one"),handleUpdate:function(e){return te("maxLogFiles",e)}}),o.jsx(C,{settingName:g("settings.server.misc.log_files.file_size.title"),value:ae.maxLogFileSize,dialogDescription:g("settings.server.misc.log_files.file_size.description"),validate:function(e){return!!e.match(/^[0-9]+(|kb|KB|mb|MB|gb|GB)$/g)},handleChange:function(e){return te("maxLogFileSize",e)}}),o.jsx(C,{settingName:g("settings.server.misc.log_files.total_size.title"),value:ae.maxLogFolderSize,dialogDescription:g("settings.server.misc.log_files.total_size.description"),validate:function(e){return!!e.match(/^[0-9]+(|kb|KB|mb|MB|gb|GB)$/g)},handleChange:function(e){return te("maxLogFolderSize",e)}})]})]})})}}})}();
