var St=Object.freeze,Sa=Object.defineProperty;var jt=(e,t)=>St(Sa(e,"raw",{value:St(t||e.slice())}));import{bZ as ja,b_ as Aa,b$ as Oa,av as At,c0 as Ea,c1 as Fa,c as ft,j as n,aV as Na,b3 as Ut,I as Ye,u as re,S as oe,r as ue,B as Ce,ac as Ia,ab as Ra,b as h,ad as _a,a1 as Y,ae as ce,ai as Va,O as La,z as mt,C as tt,bn as Wt,ar as $a,T as Ee,c2 as Ba,k as gt,c3 as Ya,aE as Ha,a5 as bt,a4 as yt,bK as Ua,c4 as Wa,ap as za,n as at,at as Ga,e as zt,g as ke,f as He,H as Ka,c5 as Gt,m as Pe,am as Kt,c6 as qt,c7 as Qt,c8 as qa,aO as Re,aQ as Ct,c9 as Xt,aR as l,au as Qa,aJ as Zt,p as Xa,aS as ht,i as Jt,q as ea,aN as qe,ca as Za,a7 as Ja,ax as st,al as es,d as ts,cb as as,cc as ss,A as ns,aF as os,a as rs,cd as is,ce as ls,a8 as cs,bw as ds,cf as us}from"./index-BM9esY9I.js";import{C as ta,P as hs,T as ye,a as ps,D as Ze,b as fs,U as Ot}from"./Trackers-Bgo8y--2.js";import{A as aa}from"./AvatarSpinner-BDPOluqK.js";import{C as Je}from"./Card-BA79zEjm.js";import{C as et}from"./ListCardContent-B5BD3GUA.js";import{E as Et}from"./EmptyViewAbsoluteCentered-BNfC6OIC.js";import{C as ms}from"./CheckCircle-pJYESwep.js";import{S as gs}from"./SpinnerImage-Cy3MFRxz.js";import{M as Le}from"./Metadata-CFH8zlba.js";import{b as bs,a as Ft}from"./Mangas-BlQupe2G.js";import{M as sa}from"./MUI.util-CEodEA2f.js";import{C as ys}from"./CardActionArea-Ig0FT2mI.js";import{L as na}from"./Link-BNLbYWZC.js";import{C as Cs,l as xs,M as Ds,m as ws,n as Ms}from"./useManageMangaLibraryState-plItQj1x.js";import{L as vs}from"./ListPreference-CuzJO9ha.js";import{N as ks}from"./NumberSetting-n-Qls01U.js";import{h as xe,i as De,e as de,f as ae,u as ee,m as Ps,b as nt,l as Ts,Y as xt,_ as x,j as he,q as Ss,s as me,Z as js,$ as Nt,a as As,r as Os,d as Es,g as Fs,P as Ns,a0 as Is,S as Dt,H as Q,a1 as Ue,t as Te,F as oa,v as wt,a2 as ot,a3 as We,y as rt,a4 as Rs,G as _e,x as Mt,a5 as ra,a6 as _s,a7 as ia,a8 as Vs,a9 as Ls,aa as $s,E as Bs,ab as Ys,z as Hs,A as Us,ac as Ws,ad as zs,D as Gs,ae as Ks,af as It,O as la,Q as ca,R as qs,T as da,U as Qs,V as Xs,W as Zs,X as Js}from"./useMobilePicker-AIu3N-1N.js";import{S as en}from"./SelectSetting-dJqPDjkI.js";import{C as tn}from"./CheckboxInput-BVTYkJ1k.js";import{F as an}from"./FormGroup-CROok6tp.js";import{b as sn,C as Ae}from"./Chapters-DOZapF8G.js";function nn(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function on(e,t){e.classList?e.classList.add(t):nn(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Rt(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function rn(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Rt(e.className,t):e.setAttribute("class",Rt(e.className&&e.className.baseVal||"",t))}var ln=function(t,a){return t&&a&&a.split(" ").forEach(function(s){return on(t,s)})},pt=function(t,a){return t&&a&&a.split(" ").forEach(function(s){return rn(t,s)})},vt=function(e){ja(t,e);function t(){for(var s,o=arguments.length,i=new Array(o),d=0;d<o;d++)i[d]=arguments[d];return s=e.call.apply(e,[this].concat(i))||this,s.appliedClasses={appear:{},enter:{},exit:{}},s.onEnter=function(c,r){var u=s.resolveArguments(c,r),p=u[0],g=u[1];s.removeClasses(p,"exit"),s.addClass(p,g?"appear":"enter","base"),s.props.onEnter&&s.props.onEnter(c,r)},s.onEntering=function(c,r){var u=s.resolveArguments(c,r),p=u[0],g=u[1],b=g?"appear":"enter";s.addClass(p,b,"active"),s.props.onEntering&&s.props.onEntering(c,r)},s.onEntered=function(c,r){var u=s.resolveArguments(c,r),p=u[0],g=u[1],b=g?"appear":"enter";s.removeClasses(p,b),s.addClass(p,b,"done"),s.props.onEntered&&s.props.onEntered(c,r)},s.onExit=function(c){var r=s.resolveArguments(c),u=r[0];s.removeClasses(u,"appear"),s.removeClasses(u,"enter"),s.addClass(u,"exit","base"),s.props.onExit&&s.props.onExit(c)},s.onExiting=function(c){var r=s.resolveArguments(c),u=r[0];s.addClass(u,"exit","active"),s.props.onExiting&&s.props.onExiting(c)},s.onExited=function(c){var r=s.resolveArguments(c),u=r[0];s.removeClasses(u,"exit"),s.addClass(u,"exit","done"),s.props.onExited&&s.props.onExited(c)},s.resolveArguments=function(c,r){return s.props.nodeRef?[s.props.nodeRef.current,c]:[c,r]},s.getClassNames=function(c){var r=s.props.classNames,u=typeof r=="string",p=u&&r?r+"-":"",g=u?""+p+c:r[c],b=u?g+"-active":r[c+"Active"],f=u?g+"-done":r[c+"Done"];return{baseClassName:g,activeClassName:b,doneClassName:f}},s}var a=t.prototype;return a.addClass=function(o,i,d){var c=this.getClassNames(i)[d+"ClassName"],r=this.getClassNames("enter"),u=r.doneClassName;i==="appear"&&d==="done"&&u&&(c+=" "+u),d==="active"&&o&&Aa(o),c&&(this.appliedClasses[i][d]=c,ln(o,c))},a.removeClasses=function(o,i){var d=this.appliedClasses[i],c=d.base,r=d.active,u=d.done;this.appliedClasses[i]={},c&&pt(o,c),r&&pt(o,r),u&&pt(o,u)},a.render=function(){var o=this.props;o.classNames;var i=Oa(o,["classNames"]);return At.createElement(Ea,Fa({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(At.Component);vt.defaultProps={classNames:""};vt.propTypes={};const cn=ft(n.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),dn=({onCancel:e,cancelButtonProps:t,...a})=>{var s,o;return n.jsx(Na,{...a,slotProps:{input:{...a.InputProps,sx:{color:"inherit"},endAdornment:(o=(s=a.InputProps)==null?void 0:s.endAdornment)!=null?o:n.jsx(Ut,{position:"end",children:n.jsx(Ye,{...t,onClick:()=>e(),children:n.jsx(cn,{})})})}}})},jr=ft(n.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"})),Ar=ft(n.jsx("path",{d:"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z"})),un=({tracker:e,onClick:t})=>{const{t:a}=re();return n.jsx(Je,{sx:ta,children:n.jsx(et,{sx:{padding:"0"},children:n.jsxs(oe,{direction:"row",sx:{gap:3},children:[n.jsx(aa,{alt:"".concat(e.name),iconUrl:ue.getValidImgUrlFor(e.icon),slots:{avatarProps:{variant:"rounded",sx:{width:64,height:64}}}}),n.jsx(Ce,{sx:{flexGrow:"1"},onClick:t,children:a("tracking.action.button.add_tracking")})]})})})};function hn(e){return Ia("MuiCardMedia",e)}Ra("MuiCardMedia",["root","media","img"]);const pn=e=>{const{classes:t,isMediaComponent:a,isImageComponent:s}=e;return Va({root:["root",a&&"media",s&&"img"]},hn,t)},fn=Y("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e,{isMediaComponent:s,isImageComponent:o}=a;return[t.root,s&&t.media,o&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),mn=["video","audio","picture","iframe","img"],gn=["picture","img"],bn=h.forwardRef(function(t,a){const s=_a({props:t,name:"MuiCardMedia"}),{children:o,className:i,component:d="div",image:c,src:r,style:u,...p}=s,g=mn.includes(d),b=!g&&c?{backgroundImage:'url("'.concat(c,'")'),...u}:u,f={...s,component:d,isMediaComponent:g,isImageComponent:gn.includes(d)},w=pn(f);return n.jsx(fn,{className:ce(w.root,i),as:d,role:!g&&c?"img":void 0,ref:a,style:b,ownerState:f,src:g?c||r:void 0,...p,children:o})}),yn=({title:e,selected:t})=>n.jsxs(oe,{direction:"row",sx:{gap:"5px",justifyContent:"space-between"},children:[n.jsx(tt,{title:e,children:n.jsx(Wt,{variant:"h5",component:"h1",children:e})}),n.jsx(ms,{sx:{visibility:t?"visible":"hidden"},color:"primary"})]}),_t=50,Cn=({summary:e})=>{const{t}=re(),a=h.useRef(null),[s,o]=h.useState(!1),[i,d]=h.useState(!1),c=i?_t:0;return h.useLayoutEffect(()=>{var u,p;const r=((p=(u=a.current)==null?void 0:u.clientHeight)!=null?p:0)>_t;d(r),o(!r)},[]),n.jsxs(n.Fragment,{children:[e.length&&n.jsx($a,{collapsedSize:c,in:s,children:n.jsx(Ee,{ref:a,variant:"body1",component:"p",sx:{whiteSpace:"pre-line"},children:e})}),e.length&&i&&n.jsx(Ce,{component:"div",...sa.preventRippleProp(),onClick:r=>{r.stopPropagation(),o(!s)},children:t(s?"global.button.show_less":"global.button.show_more")})]})},Vt=({children:e,url:t})=>n.jsx(na,{...sa.preventRippleProp(),href:t,rel:"noreferrer",target:"_blank",underline:"none",color:"inherit",onClick:a=>a.stopPropagation(),children:e}),xn=({manga:e,selected:t,onSelect:a})=>{const{t:s}=re(),o=La.useIsMobileWidth();return n.jsx(Je,{sx:{backgroundColor:"background.default",marginBottom:2,"&:last-child":{marginBottom:8}},children:n.jsx(ys,{onClick:a,children:n.jsx(et,{sx:{padding:"0",borderRadius:"inherit"},children:n.jsxs(mt,{sx:{padding:1,border:"3px solid",borderRadius:"inherit",borderColor:t?"primary.main":"transparent"},children:[n.jsxs(oe,{direction:"row",sx:{gap:2,marginBottom:2},children:[n.jsx(bn,{sx:{aspectRatio:bs,minWidth:"100px",width:"150px",borderRadius:1,overflow:"hidden"},children:n.jsx(Vt,{url:e.trackingUrl,children:n.jsx(gs,{useFetchApi:!1,disableCors:!0,alt:e.title,src:e.coverUrl,spinnerStyle:{width:"100%",height:"100%"},imgStyle:{width:"100%",height:o?void 0:"100%",maxHeight:"100%",objectFit:"cover"}})})}),n.jsxs(oe,{direction:"column",sx:{width:"100%"},children:[n.jsx(Vt,{url:e.trackingUrl,children:n.jsx(yn,{title:e.title,selected:t})}),e.publishingType&&n.jsx(Le,{title:s("global.label.type"),value:s(hs[ye.getPublishingType(e)])}),e.startDate&&n.jsx(Le,{title:s("global.label.started"),value:e.startDate}),e.publishingStatus&&n.jsx(Le,{title:s("manga.label.status"),value:s(ps[ye.getPublishingStatus(e)])}),e.score>0&&n.jsx(Le,{title:s("tracking.track_record.label.score"),value:e.score}),e.totalChapters>0&&n.jsx(Le,{title:s("chapter.title_other"),value:e.totalChapters})]})]}),n.jsx(Cn,{summary:e.summary})]})})})})},Dn=({mangaId:e,selectedTrackerRemoteId:t,trackerId:a,closeSearchMode:s,supportsPrivateTracking:o})=>{const{t:i}=re(),[d,c]=ue.useBindTracker(),r=u=>{t!==void 0&&d({variables:{input:{mangaId:e,remoteId:t,trackerId:a,private:u}}}).then(()=>{Pe(i("manga.action.track.add.label.success"),"success"),s()}).catch(p=>Pe(i("manga.action.track.add.label.error"),"error",ke(p)))};return n.jsxs(oe,{direction:"row",sx:{justifyContent:"center",position:"absolute",left:0,right:0,bottom:0,paddingBottom:Ze,gap:2,px:Ze},children:[n.jsx(Ce,{disabled:c.loading,size:"large",variant:"contained",onClick:()=>r(!1),sx:{flexBasis:"65%"},children:i("manga.action.track.add.label.action")}),o&&n.jsx(tt,{title:i("tracking.action.button.track_privately"),disabled:c.loading,children:n.jsx(Cs,{disabled:c.loading,sx:{flexBasis:"10%",maxWidth:"100px"},variant:"contained",onClick:()=>r(!0),children:n.jsx(Gt,{})})})]})},wn=({manga:e,tracker:t,closeSearchMode:a,trackedId:s})=>{var M,L;const{t:o}=re(),i=Ba(),[d,c]=h.useState(e.title),[r,u]=h.useState(d),[p,g]=h.useState(s),b=ue.useTrackerSearch(t.id,d,{notifyOnNetworkStatusChange:!0}),f=(L=(M=b.data)==null?void 0:M.searchTracker.trackSearches)!=null?L:[],w=!!f.length,k=!b.loading&&!b.error&&!w,m=!!b.error&&!b.loading;h.useEffect(()=>(g(s),()=>b.abortRequest(new Error("MangaTrackerSearchCard(".concat(t.id,", ").concat(e.id,"): search changed")))),[d]);const A=h.useMemo(()=>!!p&&!!f.find(D=>D.remoteId===p),[p,f])&&!m;return n.jsxs(n.Fragment,{children:[n.jsx(gt,{sx:{padding:Ze},children:n.jsxs(oe,{direction:"row",sx:{gap:"10px",alignItems:"center"},children:[n.jsx(Ye,{onClick:a,children:i(n.jsx(Ya,{}),n.jsx(Ha,{}))}),n.jsx(dn,{sx:{width:"100%"},variant:"standard",value:r,onChange:D=>u(D.target.value),onKeyDown:D=>{D.key==="Enter"&&c(r)},onCancel:()=>u(""),InputProps:{startAdornment:t.id===fs.MYANIMELIST&&n.jsx(Ut,{position:"start",children:n.jsx(bt,{variant:"popover",popupId:"tracker-search-info",children:D=>n.jsxs(n.Fragment,{children:[n.jsx(Ye,{...yt(D),color:"inherit",children:n.jsx(Ua,{})}),n.jsx(Wa,{...za(D),anchorOrigin:{vertical:"bottom",horizontal:"left"},children:n.jsx(Ee,{sx:{padding:1,whiteSpace:"pre-line"},children:o("tracking.my_anime_list.search.label.hint")})})]})})})}})]})}),n.jsxs(at,{dividers:!0,sx:{padding:Ze,height:"100vh",...Ga(k||m,{position:"relative"})},children:[k&&n.jsx(Et,{message:o("manga.error.label.no_mangas_found")}),b.loading&&n.jsx(zt,{}),m&&n.jsx(Et,{message:o("global.error.label.failed_to_load_data"),messageExtra:ke(b.error),retry:()=>b.refetch().catch(He())}),n.jsx(Ka,{sx:{padding:0},children:w&&f.map(D=>n.jsx(xn,{manga:D,selected:D.remoteId===p,onSelect:()=>g(D.remoteId)},D.id))}),A&&n.jsx(Dn,{mangaId:e.id,trackerId:t.id,closeSearchMode:a,selectedTrackerRemoteId:p,supportsPrivateTracking:t.supportsPrivateTracking})]})]})};function Mn(e){return xe("MuiDatePickerToolbar",e)}De("MuiDatePickerToolbar",["root","title"]);const vn=["toolbarFormat","toolbarPlaceholder","className","classes"],kn=e=>he({root:["root"],title:["title"]},Mn,e),Pn=Y(Ss,{name:"MuiDatePickerToolbar",slot:"Root"})({}),Tn=Y(Ee,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),Sn=h.forwardRef(function(t,a){const s=de({props:t,name:"MuiDatePickerToolbar"}),{toolbarFormat:o,toolbarPlaceholder:i="––",className:d,classes:c}=s,r=ae(s,vn),u=ee(),{value:p,views:g,orientation:b}=Ps(),f=nt(),w=Ts(),k=kn(c),m=h.useMemo(()=>{if(!u.isValid(p))return i;const A=xt(u,{format:o,views:g},!0);return u.formatByString(p,A)},[p,o,i,u,g]);return n.jsx(Pn,x({ref:a,toolbarTitle:f.datePickerToolbarTitle,className:ce(k.root,d)},r,{children:n.jsx(Tn,{variant:"h4",align:b==="landscape"?"left":"center",ownerState:w,className:k.title,children:m})}))}),ze=({props:e,value:t,timezone:a,adapter:s})=>{if(t===null)return null;const{shouldDisableDate:o,shouldDisableMonth:i,shouldDisableYear:d,disablePast:c,disableFuture:r,minDate:u,maxDate:p}=e,g=s.date(void 0,a);switch(!0){case!s.isValid(t):return"invalidDate";case!!(o&&o(t)):return"shouldDisableDate";case!!(i&&i(t)):return"shouldDisableMonth";case!!(d&&d(t)):return"shouldDisableYear";case!!(r&&s.isAfterDay(t,g)):return"disableFuture";case!!(c&&s.isBeforeDay(t,g)):return"disablePast";case!!(u&&s.isBeforeDay(t,u)):return"minDate";case!!(p&&s.isAfterDay(t,p)):return"maxDate";default:return null}};ze.valueManager=me;function jn(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return h.useMemo(()=>({valueType:"date",validator:ze,internal_valueManager:me,internal_fieldValueManager:As,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:On,internal_useOpenPickerButtonAriaLabel:An}),[t])}function An(e){const t=ee(),a=nt();return h.useMemo(()=>{const s=t.isValid(e)?t.format(e,"fullDate"):null;return a.openDatePickerDialogue(s)},[e,a,t])}function On(e){const t=ee(),a=Ge(e);return h.useMemo(()=>{var s;return x({},e,a,{format:(s=e.format)!=null?s:t.formats.keyboardDate})},[e,a,t])}function Ge(e){const t=ee(),a=js();return h.useMemo(()=>{var s,o;return{disablePast:(s=e.disablePast)!=null?s:!1,disableFuture:(o=e.disableFuture)!=null?o:!1,minDate:Nt(t,e.minDate,a.minDate),maxDate:Nt(t,e.maxDate,a.maxDate)}},[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,a])}function ua(e,t){const a=de({props:e,name:t}),s=Ge(a),o=h.useMemo(()=>{var i;return((i=a.localeText)==null?void 0:i.toolbarTitle)==null?a.localeText:x({},a.localeText,{datePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return x({},a,s,{localeText:o},Os({views:a.views,openTo:a.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:x({toolbar:Sn},a.slots)})}const En=e=>{const t=jn(e);return Es({manager:t,props:e})},Fn=["slots","slotProps"],ha=h.forwardRef(function(t,a){const s=de({props:t,name:"MuiDateField"}),{slots:o,slotProps:i}=s,d=ae(s,Fn),c=Fs({slotProps:i,ref:a,externalForwardedProps:d}),r=En(c);return n.jsx(Ns,{slots:o,slotProps:i,fieldResponse:r,defaultOpenPickerIcon:Is})}),pa=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:a,minDate:s,maxDate:o,disableFuture:i,disablePast:d,timezone:c})=>{const r=ee();return h.useCallback(u=>ze({adapter:r,value:u,timezone:c,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:a,minDate:s,maxDate:o,disableFuture:i,disablePast:d}})!==null,[r,e,t,a,s,o,i,d,c])},Nn=(e,t)=>(a,s)=>{switch(s.type){case"setVisibleDate":return x({},a,{slideDirection:s.direction,currentMonth:s.month,isMonthSwitchingAnimating:!t.isSameMonth(s.month,a.currentMonth)&&!e&&!s.skipAnimation,focusedDay:s.focusedDay});case"changeMonthTimezone":{const o=s.newTimezone;if(t.getTimezone(a.currentMonth)===o)return a;let i=t.setTimezone(a.currentMonth,o);return t.getMonth(i)!==t.getMonth(a.currentMonth)&&(i=t.setMonth(i,t.getMonth(a.currentMonth))),x({},a,{currentMonth:i})}case"finishMonthSwitchingAnimation":return x({},a,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},In=e=>{const{value:t,referenceDate:a,disableFuture:s,disablePast:o,maxDate:i,minDate:d,onMonthChange:c,onYearChange:r,reduceAnimations:u,shouldDisableDate:p,timezone:g,getCurrentMonthFromVisibleDate:b}=e,f=ee(),w=h.useRef(Nn(!!u,f)).current,k=h.useMemo(()=>me.getInitialReferenceValue({value:t,adapter:f,timezone:g,props:e,referenceDate:a,granularity:Dt.day}),[a,g]),[m,A]=h.useReducer(w,{isMonthSwitchingAnimating:!1,focusedDay:k,currentMonth:f.startOfMonth(k),slideDirection:"left"}),M=pa({shouldDisableDate:p,minDate:d,maxDate:i,disableFuture:s,disablePast:o,timezone:g});h.useEffect(()=>{A({type:"changeMonthTimezone",newTimezone:f.getTimezone(k)})},[k,f]);const L=Q(({target:y,reason:R})=>{if(R==="cell-interaction"&&m.focusedDay!=null&&f.isSameDay(y,m.focusedDay))return;const I=R==="cell-interaction";let $,O;if(R==="cell-interaction")$=b(y,m.currentMonth),O=y;else if($=f.isSameMonth(y,m.currentMonth)?m.currentMonth:f.startOfMonth(y),O=y,M(O)){const E=f.startOfMonth(y),G=f.endOfMonth(y);O=Ue({adapter:f,date:O,minDate:f.isBefore(d,E)?E:d,maxDate:f.isAfter(i,G)?G:i,disablePast:o,disableFuture:s,isDateDisabled:M,timezone:g})}const _=!f.isSameMonth(m.currentMonth,$),j=!f.isSameYear(m.currentMonth,$);_&&(c==null||c($)),j&&(r==null||r(f.startOfYear($))),A({type:"setVisibleDate",month:$,direction:f.isAfterDay($,m.currentMonth)?"left":"right",focusedDay:m.focusedDay!=null&&O!=null&&f.isSameDay(O,m.focusedDay)?m.focusedDay:O,skipAnimation:I})}),D=h.useCallback(()=>{A({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:k,calendarState:m,setVisibleDate:L,isDateDisabled:M,onMonthSwitchingAnimationEnd:D}},Rn=e=>xe("MuiPickersFadeTransitionGroup",e);De("MuiPickersFadeTransitionGroup",["root"]);const _n=["children"],Vn=e=>he({root:["root"]},Rn,e),Ln=Y(Qt,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function fa(e){const t=de({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:a,reduceAnimations:s,transKey:o,classes:i}=t,{children:d}=t,c=ae(t,_n),r=Vn(i),u=Kt();return s?d:n.jsx(Ln,{className:ce(r.root,a),ownerState:c,children:n.jsx(qt,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:u.transitions.duration.enteringScreen,enter:u.transitions.duration.enteringScreen,exit:0},children:d},o)})}function $n(e){return xe("MuiPickersDay",e)}const Oe=De("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function ma(e){const{disabled:t,selected:a,today:s,outsideCurrentMonth:o,day:i,disableMargin:d,disableHighlightToday:c,showDaysOutsideCurrentMonth:r}=e,u=ee(),{ownerState:p}=Te();return h.useMemo(()=>x({},p,{day:i,isDaySelected:a!=null?a:!1,isDayDisabled:t!=null?t:!1,isDayCurrent:s!=null?s:!1,isDayOutsideMonth:o!=null?o:!1,isDayStartOfWeek:u.isSameDay(i,u.startOfWeek(i)),isDayEndOfWeek:u.isSameDay(i,u.endOfWeek(i)),disableMargin:d!=null?d:!1,disableHighlightToday:c!=null?c:!1,showDaysOutsideCurrentMonth:r!=null?r:!1}),[u,p,i,a,t,s,o,d,c,r])}const Bn=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],Yn=(e,t)=>{const{isDaySelected:a,isDayDisabled:s,isDayCurrent:o,isDayOutsideMonth:i,disableMargin:d,disableHighlightToday:c,showDaysOutsideCurrentMonth:r}=t,u=i&&!r;return he({root:["root",a&&!u&&"selected",s&&"disabled",!d&&"dayWithMargin",!c&&o&&"today",i&&r&&"dayOutsideMonth",u&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},$n,e)},ga=({theme:e})=>x({},e.typography.caption,{width:We,height:We,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Re(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Re(e.palette.primary.main,e.palette.action.focusOpacity),["&.".concat(Oe.selected)]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},["&.".concat(Oe.selected)]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},["&.".concat(Oe.disabled,":not(.").concat(Oe.selected,")")]:{color:(e.vars||e).palette.text.disabled},["&.".concat(Oe.disabled,"&.").concat(Oe.selected)]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:"0 ".concat(ot,"px")}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{["&:not(.".concat(Oe.selected,")")]:{border:"1px solid ".concat((e.vars||e).palette.text.secondary)}}}]}),ba=(e,t)=>{const{ownerState:a}=e;return[t.root,!a.disableMargin&&t.dayWithMargin,!a.disableHighlightToday&&a.isDayCurrent&&t.today,!a.isDayOutsideMonth&&a.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,a.isDayOutsideMonth&&!a.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Hn=Y(qa,{name:"MuiPickersDay",slot:"Root",overridesResolver:ba})(ga),Un=Y("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:ba})(({theme:e})=>x({},ga({theme:e}),{opacity:0,pointerEvents:"none"})),$e=()=>{},Wn=h.forwardRef(function(t,a){const s=de({props:t,name:"MuiPickersDay"}),{autoFocus:o=!1,className:i,classes:d,isAnimating:c,onClick:r,onDaySelect:u,onFocus:p=$e,onBlur:g=$e,onKeyDown:b=$e,onMouseDown:f=$e,onMouseEnter:w=$e,children:k,day:m,selected:A,disabled:M,today:L,outsideCurrentMonth:D,disableMargin:y,disableHighlightToday:R,showDaysOutsideCurrentMonth:I}=s,$=ae(s,Bn),O=ma({day:m,selected:A,disabled:M,today:L,outsideCurrentMonth:D,disableMargin:y,disableHighlightToday:R,showDaysOutsideCurrentMonth:I}),_=Yn(d,O),j=ee(),E=h.useRef(null),G=oa(E,a);wt(()=>{o&&!M&&!c&&!D&&E.current.focus()},[o,M,c,D]);const H=C=>{f(C),D&&C.preventDefault()},U=C=>{C.defaultMuiPrevented=!0,M||u(m),D&&C.currentTarget.focus(),r&&r(C)};return D&&!I?n.jsx(Un,{className:ce(_.root,_.hiddenDaySpacingFiller,i),ownerState:O,role:$.role}):n.jsx(Hn,x({className:ce(_.root,i),ref:G,centerRipple:!0,disabled:M,tabIndex:A?0:-1,onKeyDown:C=>b(C,m),onFocus:C=>p(C,m),onBlur:C=>g(C,m),onMouseEnter:C=>w(C,m),onClick:U,onMouseDown:H},$,{ownerState:O,children:k!=null?k:j.format(m,"dayOfMonth")}))}),zn=h.memo(Wn),Gn=e=>xe("MuiPickersSlideTransition",e),le=De("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Kn=["children","className","reduceAnimations","slideDirection","transKey","classes"],qn=(e,t)=>{const{slideDirection:a}=t,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:["slideEnter-".concat(a)],exitActive:["slideExitActiveLeft-".concat(a)]};return he(s,Gn,e)},Qn=Y(Qt,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[".".concat(le["slideEnter-left"])]:t["slideEnter-left"]},{[".".concat(le["slideEnter-right"])]:t["slideEnter-right"]},{[".".concat(le.slideEnterActive)]:t.slideEnterActive},{[".".concat(le.slideExit)]:t.slideExit},{[".".concat(le["slideExitActiveLeft-left"])]:t["slideExitActiveLeft-left"]},{[".".concat(le["slideExitActiveLeft-right"])]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},["& .".concat(le["slideEnter-left"])]:{willChange:"transform",transform:"translate(100%)",zIndex:1},["& .".concat(le["slideEnter-right"])]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},["& .".concat(le.slideEnterActive)]:{transform:"translate(0%)",transition:t},["& .".concat(le.slideExit)]:{transform:"translate(0%)"},["& .".concat(le["slideExitActiveLeft-left"])]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},["& .".concat(le["slideExitActiveLeft-right"])]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function Xn(e){const t=de({props:e,name:"MuiPickersSlideTransition"}),{children:a,className:s,reduceAnimations:o,slideDirection:i,transKey:d,classes:c}=t,r=ae(t,Kn),{ownerState:u}=Te(),p=x({},u,{slideDirection:i}),g=qn(c,p),b=Kt();if(o)return n.jsx("div",{className:ce(g.root,s),children:a});const f={exit:g.exit,enterActive:g.enterActive,enter:g.enter,exitActive:g.exitActive};return n.jsx(Qn,{className:ce(g.root,s),childFactory:w=>h.cloneElement(w,{classNames:f}),role:"presentation",ownerState:p,children:n.jsx(vt,x({mountOnEnter:!0,unmountOnExit:!0,timeout:b.transitions.duration.complex,classNames:f},r,{children:a}),d)})}const Zn=e=>xe("MuiDayCalendar",e);De("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Jn=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],eo=["ownerState"],to=e=>he({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Zn,e),ya=(We+ot*2)*6,ao=Y("div",{name:"MuiDayCalendar",slot:"Root"})({}),so=Y("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),no=Y(Ee,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),oo=Y(Ee,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),ro=Y(Ee,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>x({},e.typography.caption,{width:We,height:We,padding:0,margin:"0 ".concat(ot,"px"),color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),io=Y("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:ya}),lo=Y(Xn,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:ya}),co=Y("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),uo=Y("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:"".concat(ot,"px 0"),display:"flex",justifyContent:"center"});function ho(e){var H;let{parentProps:t,day:a,focusedDay:s,selectedDays:o,isDateDisabled:i,currentMonthNumber:d,isViewFocused:c}=e,r=ae(e,Jn);const{disabled:u,disableHighlightToday:p,isMonthSwitchingAnimating:g,showDaysOutsideCurrentMonth:b,slots:f,slotProps:w,timezone:k}=t,m=ee(),A=rt(k),M=s!=null&&m.isSameDay(a,s),L=c&&M,D=o.some(U=>m.isSameDay(U,a)),y=m.isSameDay(a,A),R=h.useMemo(()=>u||i(a),[u,i,a]),I=h.useMemo(()=>m.getMonth(a)!==d,[m,a,d]),$=ma({day:a,selected:D,disabled:R,today:y,outsideCurrentMonth:I,disableMargin:void 0,disableHighlightToday:p,showDaysOutsideCurrentMonth:b}),O=(H=f==null?void 0:f.day)!=null?H:zn,_=_e({elementType:O,externalSlotProps:w==null?void 0:w.day,additionalProps:x({disableHighlightToday:p,showDaysOutsideCurrentMonth:b,role:"gridcell",isAnimating:g,"data-timestamp":m.toJsDate(a).valueOf()},r),ownerState:x({},$,{day:a,isDayDisabled:R,isDaySelected:D})}),j=ae(_,eo),E=h.useMemo(()=>{const U=m.startOfMonth(m.setMonth(a,d));return b?m.isSameDay(a,m.startOfWeek(U)):m.isSameDay(a,U)},[d,a,b,m]),G=h.useMemo(()=>{const U=m.endOfMonth(m.setMonth(a,d));return b?m.isSameDay(a,m.endOfWeek(U)):m.isSameDay(a,U)},[d,a,b,m]);return n.jsx(O,x({},j,{day:a,disabled:R,autoFocus:!I&&L,today:y,outsideCurrentMonth:I,isFirstVisibleCell:E,isLastVisibleCell:G,selected:D,tabIndex:M?0:-1,"aria-selected":D,"aria-current":y?"date":void 0}))}function po(e){const t=de({props:e,name:"MuiDayCalendar"}),a=ee(),{onFocusedDayChange:s,className:o,classes:i,currentMonth:d,selectedDays:c,focusedDay:r,loading:u,onSelectedDaysChange:p,onMonthSwitchingAnimationEnd:g,readOnly:b,reduceAnimations:f,renderLoading:w=()=>n.jsx("span",{children:"..."}),slideDirection:k,TransitionProps:m,disablePast:A,disableFuture:M,minDate:L,maxDate:D,shouldDisableDate:y,shouldDisableMonth:R,shouldDisableYear:I,dayOfWeekFormatter:$=v=>a.format(v,"weekdayShort").charAt(0).toUpperCase(),hasFocus:O,onFocusedViewChange:_,gridLabelId:j,displayWeekNumber:E,fixedWeekNumber:G,timezone:H}=t,U=rt(H),C=to(i),F=Ct(),X=pa({shouldDisableDate:y,shouldDisableMonth:R,shouldDisableYear:I,minDate:L,maxDate:D,disablePast:A,disableFuture:M,timezone:H}),q=nt(),te=Q(v=>{b||p(v)}),W=v=>{X(v)||(s(v),_==null||_(!0))},Z=Q((v,S)=>{switch(v.key){case"ArrowUp":W(a.addDays(S,-7)),v.preventDefault();break;case"ArrowDown":W(a.addDays(S,7)),v.preventDefault();break;case"ArrowLeft":{const P=a.addDays(S,F?1:-1),N=a.addMonths(S,F?1:-1),K=Ue({adapter:a,date:P,minDate:F?P:a.startOfMonth(N),maxDate:F?a.endOfMonth(N):P,isDateDisabled:X,timezone:H});W(K||P),v.preventDefault();break}case"ArrowRight":{const P=a.addDays(S,F?-1:1),N=a.addMonths(S,F?-1:1),K=Ue({adapter:a,date:P,minDate:F?a.startOfMonth(N):P,maxDate:F?P:a.endOfMonth(N),isDateDisabled:X,timezone:H});W(K||P),v.preventDefault();break}case"Home":W(a.startOfWeek(S)),v.preventDefault();break;case"End":W(a.endOfWeek(S)),v.preventDefault();break;case"PageUp":W(a.addMonths(S,1)),v.preventDefault();break;case"PageDown":W(a.addMonths(S,-1)),v.preventDefault();break}}),se=Q((v,S)=>W(S)),ie=Q((v,S)=>{r!=null&&a.isSameDay(r,S)&&(_==null||_(!1))}),we=a.getMonth(d),Me=a.getYear(d),ge=h.useMemo(()=>c.filter(v=>!!v).map(v=>a.startOfDay(v)),[a,c]),be="".concat(Me,"-").concat(we),z=h.useMemo(()=>h.createRef(),[be]),ne=h.useMemo(()=>{const v=a.getWeekArray(d);let S=a.addMonths(d,1);for(;G&&v.length<G;){const P=a.getWeekArray(S),N=a.isSameDay(v[v.length-1][0],P[0][0]);P.slice(N?1:0).forEach(K=>{v.length<G&&v.push(K)}),S=a.addMonths(S,1)}return v},[d,G,a]);return n.jsxs(ao,{role:"grid","aria-labelledby":j,className:C.root,children:[n.jsxs(so,{role:"row",className:C.header,children:[E&&n.jsx(oo,{variant:"caption",role:"columnheader","aria-label":q.calendarWeekNumberHeaderLabel,className:C.weekNumberLabel,children:q.calendarWeekNumberHeaderText}),Rs(a,U).map((v,S)=>n.jsx(no,{variant:"caption",role:"columnheader","aria-label":a.format(v,"weekday"),className:C.weekDayLabel,children:$(v)},S.toString()))]}),u?n.jsx(io,{className:C.loadingContainer,children:w()}):n.jsx(lo,x({transKey:be,onExited:g,reduceAnimations:f,slideDirection:k,className:ce(o,C.slideTransition)},m,{nodeRef:z,children:n.jsx(co,{ref:z,role:"rowgroup",className:C.monthContainer,children:ne.map((v,S)=>n.jsxs(uo,{role:"row",className:C.weekContainer,"aria-rowindex":S+1,children:[E&&n.jsx(ro,{className:C.weekNumber,role:"rowheader","aria-label":q.calendarWeekNumberAriaLabelText(a.getWeekNumber(v[0])),children:q.calendarWeekNumberText(a.getWeekNumber(v[0]))}),v.map((P,N)=>n.jsx(ho,{parentProps:t,day:P,selectedDays:ge,isViewFocused:O,focusedDay:r,onKeyDown:Z,onFocus:se,onBlur:ie,onDaySelect:te,isDateDisabled:X,currentMonthNumber:we,"aria-colindex":N+1},P.toString()))]},"week-".concat(v[0])))})}))]})}function Ca(e){return xe("MuiMonthCalendar",e)}const Qe=De("MuiMonthCalendar",["root","button","disabled","selected"]),fo=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],mo=(e,t)=>{const a={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return he(a,Ca,e)},go=Y("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{["&.".concat(Qe.disabled)]:t.disabled},{["&.".concat(Qe.selected)]:t.selected}]})(({theme:e})=>x({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Re(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Re(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},["&.".concat(Qe.disabled)]:{color:(e.vars||e).palette.text.secondary},["&.".concat(Qe.selected)]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),bo=h.memo(function(t){var D;const{autoFocus:a,classes:s,disabled:o,selected:i,value:d,onClick:c,onKeyDown:r,onFocus:u,onBlur:p,slots:g,slotProps:b}=t,f=ae(t,fo),w=h.useRef(null),{ownerState:k}=Te(),m=x({},k,{isMonthDisabled:o,isMonthSelected:i}),A=mo(s,m);wt(()=>{var y;a&&((y=w.current)==null||y.focus())},[a]);const M=(D=g==null?void 0:g.monthButton)!=null?D:go,L=_e({elementType:M,externalSlotProps:b==null?void 0:b.monthButton,externalForwardedProps:f,additionalProps:{disabled:o,ref:w,type:"button",role:"radio","aria-checked":i,onClick:y=>c(y,d),onKeyDown:y=>r(y,d),onFocus:y=>u(y,d),onBlur:y=>p(y,d)},ownerState:m,className:A.button});return n.jsx(M,x({},L))}),yo=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Co=e=>he({root:["root"]},Ca,e);function xo(e,t){var o;const a=de({props:e,name:t}),s=Ge(a);return x({},a,s,{monthsPerRow:(o=a.monthsPerRow)!=null?o:3})}const Do=Y("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>Xt(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:ia,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),wo=h.forwardRef(function(t,a){const s=xo(t,"MuiMonthCalendar"),{autoFocus:o,className:i,classes:d,value:c,defaultValue:r,referenceDate:u,disabled:p,disableFuture:g,disablePast:b,maxDate:f,minDate:w,onChange:k,shouldDisableMonth:m,readOnly:A,onMonthFocus:M,hasFocus:L,onFocusedViewChange:D,monthsPerRow:y,timezone:R,gridLabelId:I,slots:$,slotProps:O}=s,_=ae(s,yo),{value:j,handleValueChange:E,timezone:G}=Mt({name:"MonthCalendar",timezone:R,value:c,defaultValue:r,referenceDate:u,onChange:k,valueManager:me}),H=rt(G),U=Ct(),C=ee(),{ownerState:F}=Te(),X=h.useMemo(()=>me.getInitialReferenceValue({value:j,adapter:C,props:s,timezone:G,referenceDate:u,granularity:Dt.month}),[]),q=Co(d),te=h.useMemo(()=>C.getMonth(H),[C,H]),W=h.useMemo(()=>j!=null?C.getMonth(j):null,[j,C]),[Z,se]=h.useState(()=>W||C.getMonth(X)),[ie,we]=ra({name:"MonthCalendar",state:"hasFocus",controlled:L,default:o!=null?o:!1}),Me=Q(P=>{we(P),D&&D(P)}),ge=h.useCallback(P=>{const N=C.startOfMonth(b&&C.isAfter(H,w)?H:w),K=C.startOfMonth(g&&C.isBefore(H,f)?H:f),J=C.startOfMonth(P);return C.isBefore(J,N)||C.isAfter(J,K)?!0:m?m(J):!1},[g,b,f,w,H,m,C]),be=Q((P,N)=>{if(A)return;const K=C.setMonth(j!=null?j:X,N);E(K)}),z=Q(P=>{ge(C.setMonth(j!=null?j:X,P))||(se(P),Me(!0),M&&M(P))});h.useEffect(()=>{se(P=>W!==null&&P!==W?W:P)},[W]);const ne=Q((P,N)=>{switch(P.key){case"ArrowUp":z((12+N-3)%12),P.preventDefault();break;case"ArrowDown":z((12+N+3)%12),P.preventDefault();break;case"ArrowLeft":z((12+N+(U?1:-1))%12),P.preventDefault();break;case"ArrowRight":z((12+N+(U?-1:1))%12),P.preventDefault();break}}),v=Q((P,N)=>{z(N)}),S=Q((P,N)=>{Z===N&&Me(!1)});return n.jsx(Do,x({ref:a,className:ce(q.root,i),ownerState:F,role:"radiogroup","aria-labelledby":I,monthsPerRow:y},_,{children:_s(C,j!=null?j:X).map(P=>{const N=C.getMonth(P),K=C.format(P,"monthShort"),J=C.format(P,"month"),Fe=N===W,pe=p||ge(P);return n.jsx(bo,{selected:Fe,value:N,onClick:be,onKeyDown:ne,autoFocus:ie&&N===Z,disabled:pe,tabIndex:N===Z&&!pe?0:-1,onFocus:v,onBlur:S,"aria-current":te===N?"date":void 0,"aria-label":J,slots:$,slotProps:O,classes:d,children:K},K)})}))});function xa(e){return xe("MuiYearCalendar",e)}const Xe=De("MuiYearCalendar",["root","button","disabled","selected"]),Mo=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],vo=(e,t)=>{const a={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return he(a,xa,e)},ko=Y("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{["&.".concat(Xe.disabled)]:t.disabled},{["&.".concat(Xe.selected)]:t.selected}]})(({theme:e})=>x({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Re(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Re(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},["&.".concat(Xe.disabled)]:{color:(e.vars||e).palette.text.secondary},["&.".concat(Xe.selected)]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Po=h.memo(function(t){var D;const{autoFocus:a,classes:s,disabled:o,selected:i,value:d,onClick:c,onKeyDown:r,onFocus:u,onBlur:p,slots:g,slotProps:b}=t,f=ae(t,Mo),w=h.useRef(null),{ownerState:k}=Te(),m=x({},k,{isYearDisabled:o,isYearSelected:i}),A=vo(s,m);wt(()=>{var y;a&&((y=w.current)==null||y.focus())},[a]);const M=(D=g==null?void 0:g.yearButton)!=null?D:ko,L=_e({elementType:M,externalSlotProps:b==null?void 0:b.yearButton,externalForwardedProps:f,additionalProps:{disabled:o,ref:w,type:"button",role:"radio","aria-checked":i,onClick:y=>c(y,d),onKeyDown:y=>r(y,d),onFocus:y=>u(y,d),onBlur:y=>p(y,d)},ownerState:m,className:A.button});return n.jsx(M,x({},L))}),To=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],So=e=>he({root:["root"]},xa,e);function jo(e,t){var o,i;const a=de({props:e,name:t}),s=Ge(a);return x({},a,s,{yearsPerRow:(o=a.yearsPerRow)!=null?o:3,yearsOrder:(i=a.yearsOrder)!=null?i:"asc"})}const Ao=Y("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>Xt(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:ia,maxHeight:Vs,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),Oo=Y("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),Eo=h.forwardRef(function(t,a){const s=jo(t,"MuiYearCalendar"),{autoFocus:o,className:i,classes:d,value:c,defaultValue:r,referenceDate:u,disabled:p,disableFuture:g,disablePast:b,maxDate:f,minDate:w,onChange:k,readOnly:m,shouldDisableYear:A,onYearFocus:M,hasFocus:L,onFocusedViewChange:D,yearsOrder:y,yearsPerRow:R,timezone:I,gridLabelId:$,slots:O,slotProps:_}=s,j=ae(s,To),{value:E,handleValueChange:G,timezone:H}=Mt({name:"YearCalendar",timezone:I,value:c,defaultValue:r,referenceDate:u,onChange:k,valueManager:me}),U=rt(H),C=Ct(),F=ee(),{ownerState:X}=Te(),q=h.useMemo(()=>me.getInitialReferenceValue({value:E,adapter:F,props:s,timezone:H,referenceDate:u,granularity:Dt.year}),[]),te=So(d),W=h.useMemo(()=>F.getYear(U),[F,U]),Z=h.useMemo(()=>E!=null?F.getYear(E):null,[E,F]),[se,ie]=h.useState(()=>Z||F.getYear(q)),[we,Me]=ra({name:"YearCalendar",state:"hasFocus",controlled:L,default:o!=null?o:!1}),ge=Q(T=>{Me(T),D&&D(T)}),be=h.useCallback(T=>{if(b&&F.isBeforeYear(T,U)||g&&F.isAfterYear(T,U)||w&&F.isBeforeYear(T,w)||f&&F.isAfterYear(T,f))return!0;if(!A)return!1;const V=F.startOfYear(T);return A(V)},[g,b,f,w,U,A,F]),z=Q((T,V)=>{if(m)return;const ve=F.setYear(E!=null?E:q,V);G(ve)}),ne=Q(T=>{be(F.setYear(E!=null?E:q,T))||(ie(T),ge(!0),M==null||M(T))});h.useEffect(()=>{ie(T=>Z!==null&&T!==Z?Z:T)},[Z]);const v=y!=="desc"?R*1:R*-1,S=C&&y==="asc"||!C&&y==="desc"?-1:1,P=Q((T,V)=>{switch(T.key){case"ArrowUp":ne(V-v),T.preventDefault();break;case"ArrowDown":ne(V+v),T.preventDefault();break;case"ArrowLeft":ne(V-S),T.preventDefault();break;case"ArrowRight":ne(V+S),T.preventDefault();break}}),N=Q((T,V)=>{ne(V)}),K=Q((T,V)=>{se===V&&ge(!1)}),J=h.useRef(null),Fe=oa(a,J);h.useEffect(()=>{if(o||J.current===null)return;const T=J.current.querySelector('[tabindex="0"]');if(!T)return;const V=T.offsetHeight,ve=T.offsetTop,Se=J.current.clientHeight,it=J.current.scrollTop,Ke=ve+V;V>Se||ve<it||(J.current.scrollTop=Ke-Se/2-V/2)},[o]);const pe=F.getYearRange([w,f]);y==="desc"&&pe.reverse();let Ne=R-pe.length%R;return Ne===R&&(Ne=0),n.jsxs(Ao,x({ref:Fe,className:ce(te.root,i),ownerState:X,role:"radiogroup","aria-labelledby":$,yearsPerRow:R},j,{children:[pe.map(T=>{const V=F.getYear(T),ve=V===Z,Se=p||be(T);return n.jsx(Po,{selected:ve,value:V,onClick:z,onKeyDown:P,autoFocus:we&&V===se,disabled:Se,tabIndex:V===se&&!Se?0:-1,onFocus:N,onBlur:K,"aria-current":W===V?"date":void 0,slots:O,slotProps:_,classes:d,children:F.format(T,"year")},F.format(T,"year"))}),Array.from({length:Ne},(T,V)=>n.jsx(Oo,{},V))]}))}),Fo=e=>xe("MuiPickersCalendarHeader",e),No=De("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),Io=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],Ro=["ownerState"],_o=e=>he({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Fo,e),Vo=Y("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Lo=Y("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>x({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),$o=Y("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),Bo=Y(Ye,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[".".concat(No.switchViewIcon)]:{transform:"rotate(180deg)"}}}]}),Yo=Y(Ys,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),Ho=h.forwardRef(function(t,a){var Z,se;const s=nt(),o=ee(),i=de({props:t,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:c,currentMonth:r,disabled:u,disableFuture:p,disablePast:g,maxDate:b,minDate:f,onMonthChange:w,onViewChange:k,view:m,reduceAnimations:A,views:M,labelId:L,className:D,classes:y,timezone:R,format:I="".concat(o.formats.month," ").concat(o.formats.year)}=i,$=ae(i,Io),{ownerState:O}=Te(),_=_o(y),j=(Z=d==null?void 0:d.switchViewButton)!=null?Z:Bo,E=_e({elementType:j,externalSlotProps:c==null?void 0:c.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(m)},ownerState:x({},O,{view:m}),className:_.switchViewButton}),G=(se=d==null?void 0:d.switchViewIcon)!=null?se:Yo,H=_e({elementType:G,externalSlotProps:c==null?void 0:c.switchViewIcon,ownerState:O,className:_.switchViewIcon}),U=ae(H,Ro),C=()=>w(o.addMonths(r,1)),F=()=>w(o.addMonths(r,-1)),X=Ls(r,{disableFuture:p,maxDate:b,timezone:R}),q=$s(r,{disablePast:g,minDate:f,timezone:R}),te=()=>{if(!(M.length===1||!k||u))if(M.length===2)k(M.find(ie=>ie!==m)||M[0]);else{const ie=M.indexOf(m)!==0?0:1;k(M[ie])}};if(M.length===1&&M[0]==="year")return null;const W=o.formatByString(r,I);return n.jsxs(Vo,x({},$,{ownerState:O,className:ce(_.root,D),ref:a,children:[n.jsxs(Lo,{role:"presentation",onClick:te,ownerState:O,"aria-live":"polite",className:_.labelContainer,children:[n.jsx(fa,{reduceAnimations:A,transKey:W,children:n.jsx($o,{id:L,ownerState:O,className:_.label,children:W})}),M.length>1&&!u&&n.jsx(j,x({},E,{children:n.jsx(G,x({},U))}))]}),n.jsx(qt,{in:m==="day",appear:!A,enter:!A,children:n.jsx(Bs,{slots:d,slotProps:c,onGoToPrevious:F,isPreviousDisabled:q,previousLabel:s.previousMonth,onGoToNext:C,isNextDisabled:X,nextLabel:s.nextMonth})})]}))}),Uo=e=>xe("MuiDateCalendar",e);De("MuiDateCalendar",["root","viewTransitionContainer"]);const Wo=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],zo=e=>he({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Uo,e);function Go(e,t){var i,d,c,r;const a=de({props:e,name:t}),s=zs(a.reduceAnimations),o=Ge(a);return x({},a,o,{loading:(i=a.loading)!=null?i:!1,openTo:(d=a.openTo)!=null?d:"day",views:(c=a.views)!=null?c:["year","day"],reduceAnimations:s,renderLoading:(r=a.renderLoading)!=null?r:()=>n.jsx("span",{children:"..."})})}const Ko=Y(Gs,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Ks}),qo=Y(fa,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),Qo=h.forwardRef(function(t,a){var Tt;const s=ee(),{ownerState:o}=Te(),i=Hs(),d=Go(t,"MuiDateCalendar"),{autoFocus:c,onViewChange:r,value:u,defaultValue:p,referenceDate:g,disableFuture:b,disablePast:f,onChange:w,onMonthChange:k,reduceAnimations:m,shouldDisableDate:A,shouldDisableMonth:M,shouldDisableYear:L,view:D,views:y,openTo:R,className:I,classes:$,disabled:O,readOnly:_,minDate:j,maxDate:E,disableHighlightToday:G,focusedView:H,onFocusedViewChange:U,showDaysOutsideCurrentMonth:C,fixedWeekNumber:F,dayOfWeekFormatter:X,slots:q,slotProps:te,loading:W,renderLoading:Z,displayWeekNumber:se,yearsOrder:ie,yearsPerRow:we,monthsPerRow:Me,timezone:ge}=d,be=ae(d,Wo),{value:z,handleValueChange:ne,timezone:v}=Mt({name:"DateCalendar",timezone:ge,value:u,defaultValue:p,referenceDate:g,onChange:w,valueManager:me}),{view:S,setView:P,focusedView:N,setFocusedView:K,goToNextView:J,setValueAndGoToNextView:Fe}=Us({view:D,views:y,openTo:R,onChange:ne,onViewChange:r,autoFocus:c,focusedView:H,onFocusedViewChange:U}),{referenceDate:pe,calendarState:Ne,setVisibleDate:T,isDateDisabled:V,onMonthSwitchingAnimationEnd:ve}=In({value:z,referenceDate:g,reduceAnimations:m,onMonthChange:k,minDate:j,maxDate:E,shouldDisableDate:A,disablePast:f,disableFuture:b,timezone:v,getCurrentMonthFromVisibleDate:(B,fe)=>s.isSameMonth(B,fe)?fe:s.startOfMonth(B)}),Se=O&&z||j,it=O&&z||E,Ke="".concat(i,"-grid-label"),lt=N!==null,kt=(Tt=q==null?void 0:q.calendarHeader)!=null?Tt:Ho,Ma=_e({elementType:kt,externalSlotProps:te==null?void 0:te.calendarHeader,additionalProps:{views:y,view:S,currentMonth:Ne.currentMonth,onViewChange:P,onMonthChange:B=>T({target:B,reason:"header-navigation"}),minDate:Se,maxDate:it,disabled:O,disablePast:f,disableFuture:b,reduceAnimations:m,timezone:v,labelId:Ke},ownerState:o}),va=Q(B=>{const fe=s.startOfMonth(B),Ve=s.endOfMonth(B),je=V(B)?Ue({adapter:s,date:B,minDate:s.isBefore(j,fe)?fe:j,maxDate:s.isAfter(E,Ve)?Ve:E,disablePast:f,disableFuture:b,isDateDisabled:V,timezone:v}):B;je?(Fe(je,"finish"),T({target:je,reason:"cell-interaction"})):(J(),T({target:fe,reason:"cell-interaction"}))}),ka=Q(B=>{const fe=s.startOfYear(B),Ve=s.endOfYear(B),je=V(B)?Ue({adapter:s,date:B,minDate:s.isBefore(j,fe)?fe:j,maxDate:s.isAfter(E,Ve)?Ve:E,disablePast:f,disableFuture:b,isDateDisabled:V,timezone:v}):B;je?(Fe(je,"finish"),T({target:je,reason:"cell-interaction"})):(J(),T({target:fe,reason:"cell-interaction"}))}),Pa=Q(B=>ne(B&&Ws(s,B,z!=null?z:pe),"finish",S));h.useEffect(()=>{s.isValid(z)&&T({target:z,reason:"controlled-value-change"})},[z]);const Pt=zo($),ct={disablePast:f,disableFuture:b,maxDate:E,minDate:j},dt={disableHighlightToday:G,readOnly:_,disabled:O,timezone:v,gridLabelId:Ke,slots:q,slotProps:te},ut=h.useRef(S);h.useEffect(()=>{ut.current!==S&&(N===ut.current&&K(S,!0),ut.current=S)},[N,K,S]);const Ta=h.useMemo(()=>[z],[z]);return n.jsxs(Ko,x({ref:a,className:ce(Pt.root,I),ownerState:o},be,{children:[n.jsx(kt,x({},Ma,{slots:q,slotProps:te})),n.jsx(qo,{reduceAnimations:m,className:Pt.viewTransitionContainer,transKey:S,ownerState:o,children:n.jsxs("div",{children:[S==="year"&&n.jsx(Eo,x({},ct,dt,{value:z,onChange:ka,shouldDisableYear:L,hasFocus:lt,onFocusedViewChange:B=>K("year",B),yearsOrder:ie,yearsPerRow:we,referenceDate:pe})),S==="month"&&n.jsx(wo,x({},ct,dt,{hasFocus:lt,className:I,value:z,onChange:va,shouldDisableMonth:M,onFocusedViewChange:B=>K("month",B),monthsPerRow:Me,referenceDate:pe})),S==="day"&&n.jsx(po,x({},Ne,ct,dt,{onMonthSwitchingAnimationEnd:ve,hasFocus:lt,onFocusedDayChange:B=>T({target:B,reason:"cell-interaction"}),reduceAnimations:m,selectedDays:Ta,onSelectedDaysChange:Pa,shouldDisableDate:A,shouldDisableMonth:M,shouldDisableYear:L,onFocusedViewChange:B=>K("day",B),showDaysOutsideCurrentMonth:C,fixedWeekNumber:F,dayOfWeekFormatter:X,displayWeekNumber:se,loading:W,renderLoading:Z}))]})})]}))}),Ie=({view:e,onViewChange:t,views:a,focusedView:s,onFocusedViewChange:o,value:i,defaultValue:d,referenceDate:c,onChange:r,className:u,classes:p,disableFuture:g,disablePast:b,minDate:f,maxDate:w,shouldDisableDate:k,shouldDisableMonth:m,shouldDisableYear:A,reduceAnimations:M,onMonthChange:L,monthsPerRow:D,onYearChange:y,yearsOrder:R,yearsPerRow:I,slots:$,slotProps:O,loading:_,renderLoading:j,disableHighlightToday:E,readOnly:G,disabled:H,showDaysOutsideCurrentMonth:U,dayOfWeekFormatter:C,sx:F,autoFocus:X,fixedWeekNumber:q,displayWeekNumber:te,timezone:W})=>n.jsx(Qo,{view:e,onViewChange:t,views:a.filter(It),focusedView:s&&It(s)?s:null,onFocusedViewChange:o,value:i,defaultValue:d,referenceDate:c,onChange:r,className:u,classes:p,disableFuture:g,disablePast:b,minDate:f,maxDate:w,shouldDisableDate:k,shouldDisableMonth:m,shouldDisableYear:A,reduceAnimations:M,onMonthChange:L,monthsPerRow:D,onYearChange:y,yearsOrder:R,yearsPerRow:I,slots:$,slotProps:O,loading:_,renderLoading:j,disableHighlightToday:E,readOnly:G,disabled:H,showDaysOutsideCurrentMonth:U,dayOfWeekFormatter:C,sx:F,autoFocus:X,fixedWeekNumber:q,displayWeekNumber:te,timezone:W}),Da=h.forwardRef(function(t,a){var r,u,p;const s=ee(),o=ua(t,"MuiDesktopDatePicker"),i=x({day:Ie,month:Ie,year:Ie},o.viewRenderers),d=x({},o,{closeOnSelect:(r=o.closeOnSelect)!=null?r:!0,viewRenderers:i,format:xt(s,o,!1),yearsPerRow:(u=o.yearsPerRow)!=null?u:4,slots:x({field:ha},o.slots),slotProps:x({},o.slotProps,{field:g=>{var b;return x({},la((b=o.slotProps)==null?void 0:b.field,g),ca(o))},toolbar:x({hidden:!0},(p=o.slotProps)==null?void 0:p.toolbar)})}),{renderPicker:c}=qs({ref:a,props:d,valueManager:me,valueType:"date",validator:ze,steps:null});return c()});Da.propTypes={autoFocus:l.bool,className:l.string,closeOnSelect:l.bool,dayOfWeekFormatter:l.func,defaultValue:l.object,disabled:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,enableAccessibleFieldDOMStructure:l.any,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:da,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.object,minDate:l.object,monthsPerRow:l.oneOf([3,4]),name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onSelectedSectionsChange:l.func,onViewChange:l.func,onYearChange:l.func,open:l.bool,openTo:l.oneOf(["day","month","year"]),orientation:l.oneOf(["landscape","portrait"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.object,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number]),shouldDisableDate:l.func,shouldDisableMonth:l.func,shouldDisableYear:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.object,view:l.oneOf(["day","month","year"]),viewRenderers:l.shape({day:l.func,month:l.func,year:l.func}),views:l.arrayOf(l.oneOf(["day","month","year"]).isRequired),yearsOrder:l.oneOf(["asc","desc"]),yearsPerRow:l.oneOf([3,4])};const wa=h.forwardRef(function(t,a){var r;const s=ee(),o=ua(t,"MuiMobileDatePicker"),i=x({day:Ie,month:Ie,year:Ie},o.viewRenderers),d=x({},o,{viewRenderers:i,format:xt(s,o,!1),slots:x({field:ha},o.slots),slotProps:x({},o.slotProps,{field:u=>{var p;return x({},la((p=o.slotProps)==null?void 0:p.field,u),ca(o))},toolbar:x({hidden:!1},(r=o.slotProps)==null?void 0:r.toolbar)})}),{renderPicker:c}=Qs({ref:a,props:d,valueManager:me,valueType:"date",validator:ze,steps:null});return c()});wa.propTypes={autoFocus:l.bool,className:l.string,closeOnSelect:l.bool,dayOfWeekFormatter:l.func,defaultValue:l.object,disabled:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,enableAccessibleFieldDOMStructure:l.any,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:da,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.object,minDate:l.object,monthsPerRow:l.oneOf([3,4]),name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onSelectedSectionsChange:l.func,onViewChange:l.func,onYearChange:l.func,open:l.bool,openTo:l.oneOf(["day","month","year"]),orientation:l.oneOf(["landscape","portrait"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.object,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number]),shouldDisableDate:l.func,shouldDisableMonth:l.func,shouldDisableYear:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.object,view:l.oneOf(["day","month","year"]),viewRenderers:l.shape({day:l.func,month:l.func,year:l.func}),views:l.arrayOf(l.oneOf(["day","month","year"]).isRequired),yearsOrder:l.oneOf(["asc","desc"]),yearsPerRow:l.oneOf([3,4])};const Xo=["desktopModeMediaQuery"],Zo=h.forwardRef(function(t,a){const s=de({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:o=Xs}=s,i=ae(s,Xo);return Qa(o,{defaultMatches:!0})?n.jsx(Da,x({ref:a},i)):n.jsx(wa,x({ref:a},i))}),Lt=({settingName:e,value:t,defaultValue:a,handleChange:s,remove:o})=>{const{t:i}=re(),[d,c]=h.useState(!1),[r,u]=h.useState(t!=null?t:a);h.useEffect(()=>{t&&u(t)},[t]);const p=h.useCallback(f=>{c(!1),f&&u(t!=null?t:a)},[t]),g=h.useCallback(()=>p(!0),[p]),b=h.useCallback((f,w=!0)=>{w&&p(!1),t!==f&&s(f)},[t,s,p]);return n.jsxs(n.Fragment,{children:[n.jsx(Zt,{onClick:()=>c(!0),children:n.jsx(Xa,{primary:e,secondary:t?ht(Number(t)).format("L"):"-",secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),n.jsxs(Jt,{open:d,onClose:p,children:[n.jsx(gt,{children:e}),n.jsx(at,{children:n.jsx(Zs,{dateAdapter:Js,adapterLocale:ht.locale(),children:n.jsx(Zo,{value:r?ht(Number(r)):null,onChange:f=>{f&&u(f.valueOf().toString())}})})}),n.jsx(ea,{children:n.jsxs(oe,{direction:"row",sx:{justifyContent:"space-between",alignItems:"end",width:"100%"},children:[n.jsxs(oe,{children:[a!==void 0&&n.jsx(Ce,{onClick:()=>{u(a),b(a,!1)},color:"primary",children:i("global.button.reset_to_default")}),o&&n.jsx(Ce,{onClick:()=>{u(void 0),b(void 0,!1)},color:"primary",children:i("global.button.remove")})]}),n.jsxs(oe,{direction:"row",children:[n.jsx(Ce,{onClick:g,color:"primary",children:i("global.button.cancel")}),n.jsx(Ce,{onClick:()=>{b(r)},color:"primary",children:i("global.button.ok")})]})]})})]})]})},$t=({children:e,url:t})=>n.jsx(na,{href:t,rel:"noreferrer",target:"_blank",underline:"none",color:"inherit",children:e}),Jo=({trackerRecordId:e,tracker:t,onClick:a,onClose:s})=>{const{t:o}=re(),[i,d]=h.useState(!1),c=()=>{s(),ue.unbindTracker(e,i).response.then(()=>Pe(o("manga.action.track.remove.label.success"),"success")).catch(r=>Pe(o("manga.action.track.remove.label.error"),"error",ke(r)))};return n.jsx(bt,{variant:"dialog",popupId:"tracker-active-menu-remove-button-".concat(t.id),children:r=>n.jsxs(n.Fragment,{children:[n.jsx(st,{...yt(r),onClick:()=>{a(),r.open()},children:o("global.button.remove")}),n.jsxs(Jt,{...es(r),onClose:()=>{s(),r.close()},children:[n.jsx(gt,{children:o("manga.action.track.remove.dialog.label.title",{tracker:t.name})}),n.jsxs(at,{dividers:!0,children:[n.jsx(Ee,{children:o("manga.action.track.remove.dialog.label.description")}),t.supportsTrackDeletion&&n.jsx(an,{children:n.jsx(tn,{disabled:!1,label:o("manga.action.track.remove.dialog.label.delete_remote_track",{tracker:t.name}),checked:i,onChange:(u,p)=>d(p)})})]}),n.jsxs(ea,{children:[n.jsx(Ce,{autoFocus:!0,onClick:()=>{r.close(),s()},children:o("global.button.cancel")}),n.jsx(Ce,{onClick:()=>{r.close(),s(),c()},children:o("global.button.ok")})]})]})]})})},er=({trackRecordId:e,isPrivate:t,closeMenu:a,supportsPrivateTracking:s})=>{const{t:o}=re();return s?n.jsx(st,{onClick:()=>{ue.updateTrackerBind(e,{private:!t}).response.catch(i=>Pe(o("global.error.label.failed_to_save_changes"),"error",ke(i))),a()},children:o(t?"tracking.action.button.track_publicly":"tracking.action.button.track_privately")}):null},tr=({trackRecord:e,tracker:t,openSearch:a})=>{const{t:s}=re();return n.jsxs(oe,{direction:"row",sx:{alignItems:"stretch",paddingBottom:2},children:[n.jsx(Za,{badgeContent:e.private?n.jsx(oe,{sx:{p:"2px 6px",backgroundColor:"primary.main",borderRadius:100},children:n.jsx(Gt,{fontSize:"small",sx:{color:"primary.contrastText"}})}):null,children:n.jsx($t,{url:e.remoteUrl,children:n.jsx(aa,{alt:"".concat(t.name),iconUrl:ue.getValidImgUrlFor(t.icon),slots:{avatarProps:{variant:"rounded",sx:{width:64,height:64}}}})})}),n.jsx(Zt,{sx:{flexGrow:1},onClick:a,children:n.jsx(tt,{title:e.title,children:n.jsx(Wt,{flexGrow:1,lines:1,children:e.title})})}),n.jsx(oe,{sx:{justifyContent:"center"},children:n.jsx(bt,{variant:"popover",popupId:"tracker-active-menu-popup-".concat(t.id),children:o=>n.jsxs(n.Fragment,{children:[n.jsx(Ye,{...yt(o),children:n.jsx(xs,{})}),n.jsx(Ds,{...Ja(o),id:"tracker-active-menu-".concat(t.id),children:(i,d)=>[n.jsx($t,{url:e.remoteUrl,children:n.jsx(st,{onClick:()=>i(),children:s("global.label.open_in_browser")})},"tracker-active-menu-item-browser-".concat(t.id)),n.jsx(Jo,{trackerRecordId:e.id,tracker:t,onClick:()=>d(!0),onClose:i},"tracker-active-menu-item-remove-".concat(t.id)),n.jsx(er,{trackRecordId:e.id,isPrivate:e.private,closeMenu:i,supportsPrivateTracking:t.supportsPrivateTracking})]})]})})})]})},Bt=({children:e})=>n.jsx(oe,{direction:"row",sx:{textAlignLast:"center"},children:e}),Yt=e=>!Math.trunc(Number(e)),ar=({trackRecord:e,tracker:t,onClick:a})=>{const{t:s}=re(),i=Yt(e.displayScore)?t.scores[0]:e.displayScore,d=h.useMemo(()=>t.scores.map(r=>[r,{text:Yt(r)?"-":r}]),[t.scores]),c=r=>{ue.updateTrackerBind(e.id,r).response.catch(u=>Pe(s("global.error.label.failed_to_save_changes"),"error",ke(u)))};return n.jsx(Je,{sx:ta,children:n.jsxs(et,{sx:{padding:0},children:[n.jsx(tr,{trackRecord:e,tracker:t,openSearch:a}),n.jsx(Je,{sx:{backgroundColor:"background.default"},children:n.jsx(et,{sx:{padding:"0"},children:n.jsxs(mt,{sx:{padding:1},children:[n.jsxs(Bt,{children:[n.jsx(vs,{ListPreferenceTitle:s("manga.label.status"),entries:t.statuses.map(r=>r.name),type:"ListPreference",entryValues:t.statuses.map(r=>"".concat(r.value)),ListPreferenceCurrentValue:"".concat(e.status),updateValue:(r,u)=>c({status:Number(u)}),summary:"%s"},"status"),n.jsx(qe,{orientation:"vertical",flexItem:!0}),n.jsx(ks,{settingTitle:s("chapter.title_other"),dialogTitle:s("chapter.title_other"),settingValue:"".concat(e.lastChapterRead,"/").concat(e.totalChapters),value:e.lastChapterRead,minValue:0,maxValue:Number.MAX_SAFE_INTEGER,valueUnit:"",handleUpdate:r=>c({lastChapterRead:r})}),n.jsx(qe,{orientation:"vertical",flexItem:!0}),n.jsx(en,{settingName:s("tracking.track_record.label.score"),value:i,values:d,handleChange:r=>c({scoreString:r})})]}),n.jsx(qe,{}),n.jsxs(Bt,{children:[n.jsx(Lt,{settingName:s("tracking.track_record.label.start_date"),value:ye.getDateString(e.startDate),remove:!0,handleChange:r=>c({startDate:r!=null?r:Ot})}),n.jsx(qe,{orientation:"vertical",flexItem:!0}),n.jsx(Lt,{settingName:s("tracking.track_record.label.finish_date"),value:ye.getDateString(e.finishDate),remove:!0,handleChange:r=>c({finishDate:r!=null?r:Ot})})]})]})})})]})})};var Be=(e=>(e[e.UNTRACKED=0]="UNTRACKED",e[e.SEARCH=1]="SEARCH",e[e.INFO=2]="INFO",e))(Be||{});const sr=({tracker:e,manga:t,trackRecord:a,mode:s,setSearchMode:o})=>{if(s===0)return n.jsx(un,{tracker:e,onClick:()=>o(e.id)});if(s===1)return n.jsx(wn,{manga:t,tracker:e,trackedId:a==null?void 0:a.remoteId,closeSearchMode:()=>o(void 0)});if(s===2&&!a)throw new Error('TrackerCard: unable to find track record for tracker "'.concat(e.id,'" of manga "').concat(t.id,'"}'));return n.jsx(ar,{tracker:e,trackRecord:a,onClick:()=>{o(e.id)}})},nr=(e,t,a)=>e===a?Be.SEARCH:t.includes(e)?Be.INFO:Be.UNTRACKED,Or=({manga:e})=>{var M,L,D,y,R;const{t}=re(),a=ts(),[s,o]=h.useState(),i=ue.useGetTrackerList(as,{notifyOnNetworkStatusChange:!0}),d=(L=(M=i.data)==null?void 0:M.trackers.nodes)!=null?L:[],c=ue.useGetManga(ss,e.id),r=(y=(D=c.data)==null?void 0:D.manga.trackRecords.nodes)!=null?y:[],u=ye.getLoggedIn(d),p=ye.getLoggedIn(ye.getTrackers(r,d)),g=ye.getIds(p),b=s!==void 0,f=h.useMemo(()=>b?mt:at,[b]),w=i.loading||c.loading,k=(R=i.error)!=null?R:c.error;h.useEffect(()=>{!w&&!k&&!p.length&&!u.length&&a(ns.settings.childRoutes.tracking.path)},[w]);const m=h.useRef(!1);h.useEffect(()=>{!r.length||m.current||(m.current=!0,Promise.all(r.filter(I=>g.includes(I.trackerId)).map(I=>ue.fetchTrackBind(I.id).response)).catch(I=>Pe(t("tracking.error.label.could_not_fetch_track_info"),"error",ke(I))))},[r]);const A=h.useMemo(()=>u.map(I=>{const $=nr(I.id,g,s),O=ye.getTrackRecordFor(I,r),_=$===Be.SEARCH;return b&&!_?null:n.jsx(sr,{tracker:I,manga:e,trackRecord:O,mode:$,setSearchMode:j=>o(j)},I.id)}),[g,s,r]);return k?n.jsx(os,{message:t("global.error.label.failed_to_load_data"),messageExtra:ke(k),retry:()=>{i.error&&i.refetch().catch(He()),c.error&&c.refetch().catch(He())}}):w?n.jsx(zt,{}):b?A:n.jsx(f,{sx:{padding:0,".MuiPaper-root .MuiCardContent-root":{paddingBottom:"0"}},children:A})},or=[{title:"chapter.action.download.add.label.next",getCount:()=>1},{title:"chapter.action.download.add.label.next",getCount:()=>5},{title:"chapter.action.download.add.label.next",getCount:()=>10},{title:"chapter.action.download.add.label.next",getCount:()=>25},{title:"chapter.action.download.add.label.ahead",getCount:e=>e,onlyUnread:!0,isDownloadAhead:!0},{title:"chapter.action.download.add.label.unread",getCount:()=>{},onlyUnread:!0},{title:"chapter.action.download.add.label.all",getCount:()=>{},onlyUnread:!1}];var Ht;const rr=async(e,t,a,s)=>{if(e.length>1){Ft.performAction("download",e,{downloadAhead:s,onlyUnread:t,size:a}).catch(He());return}const i=e[0],d=Ft.getFromCache(i,ls(Ht||(Ht=jt(["\n            ","\n            fragment MangaInLibraryState on MangaType {\n                id\n                meta {\n                    ...MANGA_META_FIELDS\n                }\n            }\n        "])),is),"MangaInLibraryState"),c=ws(d),r=await ue.getChapters(cs,{condition:{mangaId:Number(i)},order:[{by:us.SourceOrder,byType:ds.Desc}]}).response,u=Ms(r.data.chapters.nodes,c);if(s&&Ae.removeDuplicates(u.slice(-1)[0],u).slice(-(a!=null?a:0)).every(k=>!Ae.isRead(k)&&Ae.isDownloaded(k)))return;const g=u.filter(k=>t&&k.isRead?!1:!k.isDownloaded),f=Ae.removeDuplicates(g.slice(-1)[0],g).slice(-(a!=null?a:0)),w=Ae.addDuplicates(f,g);w.length&&Ae.performAction("download",Ae.getIds(w),{}).catch(He())},Er=({mangaIds:e,closeMenu:t})=>{const{t:a}=re(),{settings:{downloadAheadLimit:s}}=rs(),o=(i,d=!0,c=!1)=>{rr(e,d,i,c).catch(r=>Pe(a(sn.download.error,{count:i}),"error",ke(r))),t==null||t()};return n.jsx(n.Fragment,{children:or.map(({title:i,getCount:d,onlyUnread:c,isDownloadAhead:r})=>n.jsx(st,{onClick:()=>o(d(s),c,r),children:a(i,{count:d(s)})},a(i,{count:d(s)})))})},Fr=({children:e,chapterNumber:t,name:a,sourceOrder:s,scanlator:o})=>{const{t:i}=re(),d=s===1;return n.jsx(tt,{slotProps:{tooltip:{sx:{whiteSpace:"pre-line"}}},title:i(d?"chapter.action.read.start":"chapter.action.read.resume",{chapterNumber:t,title:a,scanlator:o}),children:e})};export{Fr as C,jr as L,Ar as S,Or as T,Er as a,dn as b};
