import{U as f,u as x,c as d,j as t,f as P,I as m,Y as b,aG as C,aH as G,o as j,az as B,a5 as R,aI as k,b as g}from"./index-C4qwXpmq.js";import{d as H}from"./FilterList-DrGSWTGP.js";import{c as D}from"./cloneObject-DrOPTG0J.js";import{D as l,b as v,l as w}from"./Languages-CInaH_Eq.js";import{S as M}from"./Switch-D4ja6VhN.js";var L=(a=>(a.UPDATE="UPDATE",a.UNINSTALL="UNINSTALL",a.INSTALL="INSTALL",a))(L||{}),r=(a=>(a.OBSOLETE="OBSOLETE",a.UPDATING="UPDATING",a.UNINSTALLING="UNINSTALLING",a.INSTALLING="INSTALLING",a))(r||{});const T={...L,...r};var n=(a=>(a.INSTALLED="INSTALLED",a.UPDATE_PENDING="UPDATE_PENDING",a.OBSOLETE="OBSOLETE",a))(n||{});const Q={[L.UPDATE]:r.UPDATING,[L.UNINSTALL]:r.UNINSTALLING,[L.INSTALL]:r.INSTALLING},V={[L.UPDATE]:L.UNINSTALL,[L.UNINSTALL]:L.INSTALL,[L.INSTALL]:L.UNINSTALL},Z={[T.UNINSTALL]:"extension.action.label.uninstall",[T.INSTALL]:"extension.action.label.install",[T.UPDATE]:"extension.action.label.update",[T.OBSOLETE]:"extension.state.label.obsolete",[T.UPDATING]:"extension.state.label.updating",[T.UNINSTALLING]:"extension.state.label.uninstalling",[T.INSTALLING]:"extension.state.label.installing"},$={[L.UPDATE]:"extension.label.update_failed",[L.INSTALL]:"extension.label.installation_failed",[L.UNINSTALL]:"extension.label.uninstallation_failed"},y={[n.INSTALLED]:"extension.state.label.installed",[n.UPDATE_PENDING]:"extension.state.label.update_pending",[n.OBSOLETE]:"extension.state.label.obsolete",[l.ALL]:"extension.language.all",[l.OTHER]:"extension.language.other",[l.LOCAL_SOURCE]:"extension.language.other"},aa=(a,o,s)=>o?T.OBSOLETE:s?T.UPDATE:a?T.UNINSTALL:T.INSTALL,X=a=>[n.INSTALLED,n.UPDATE_PENDING,n.OBSOLETE,l.ALL,l.OTHER,l.LOCAL_SOURCE].includes(a),F=a=>X(a)?f(y[a]):v(a);function ea(a){const o=[],s={[n.OBSOLETE]:[],[n.INSTALLED]:[],[n.UPDATE_PENDING]:[],[l.ALL]:[],[l.OTHER]:[],[l.LOCAL_SOURCE]:[]};a.forEach(e=>{if(s[e.lang]===void 0&&(s[e.lang]=[],e.lang!=="all"&&o.push(e.lang)),e.isInstalled){if(e.hasUpdate){s[n.UPDATE_PENDING].push(e);return}if(e.isObsolete){s[n.OBSOLETE].push(e);return}s[n.INSTALLED].push(e)}else s[e.lang].push(e)}),o.sort(w);const i=[[n.OBSOLETE,s[n.OBSOLETE]],[n.UPDATE_PENDING,s[n.UPDATE_PENDING]],[n.INSTALLED,s[n.INSTALLED]],[l.ALL,s[l.ALL]],[l.OTHER,s[l.OTHER]],[l.LOCAL_SOURCE,s[l.LOCAL_SOURCE]]],I=o.map(e=>[e,s[e]]),E=i.concat(I);return E.forEach(([,e])=>e.sort((A,S)=>A.name.localeCompare(S.name))),{allLangs:o,groupedExtensions:E}}function K(a,o){return o.forEach(s=>{const i=a.indexOf(s);i!==-1&&a.splice(i,1)}),a}function sa(a){const{t:o}=x(),{shownLangs:s,setShownLangs:i,allLangs:I,forcedLangs:E=[]}=a,[e,A]=d.useState(K(D(s),E)),[S,O]=d.useState(!1),U=()=>{O(!1)},h=()=>{O(!1),i(e)},_=(N,c)=>{const{checked:p}=N.target;if(p)A([...e,c]);else{const u=D(e);u.splice(u.indexOf(c),1),A(u)}};return t.jsxs(t.Fragment,{children:[t.jsx(P,{title:o("settings.title"),children:t.jsx(m,{onClick:()=>O(!0),"aria-label":"display more actions",edge:"end",color:"inherit",size:"large",children:t.jsx(H,{})})}),t.jsxs(b,{sx:{".MuiDialog-paper":{maxHeight:435,width:"80%"}},maxWidth:"xs",open:S,children:[t.jsx(C,{children:o("global.language.title.enabled_languages")}),t.jsx(G,{dividers:!0,sx:{padding:0},children:t.jsx(j,{children:I.map(N=>t.jsxs(B,{children:[t.jsx(R,{primary:F(N)}),t.jsx(M,{checked:e.indexOf(N)!==-1,onChange:c=>_(c,N)})]},N))})}),t.jsxs(k,{children:[t.jsx(g,{autoFocus:!0,onClick:U,color:"primary",children:o("global.button.cancel")}),t.jsx(g,{onClick:h,color:"primary",children:o("global.button.ok")})]})]})]})}export{r as E,T as I,sa as L,Z as a,L as b,$ as c,V as d,Q as e,ea as f,aa as g,n as h,X as i,F as t};
