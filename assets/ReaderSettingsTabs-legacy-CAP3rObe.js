!function(){var e=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],t=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],n=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],r=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],a=["enabled","anonymousActionType","store"],o=["connection"],i=["pageIndex","pagesIndex","isPrimaryPage","display","doublePage","position","marginTop","shouldLoad","readingMode","customFilter","pageScaleMode","shouldStretchPage","readerWidth","onLoad","onError","setRef","readerNavBarWidth","isLoaded"],u=["label","description"],l=["readingMode","setReadingMode"],s=["readingDirection","setReadingDirection"],c=["tapZoneLayout","setTapZoneLayout"],d=["tapZoneInvertMode","setTapZoneInvertMode"],f=["pageScaleMode","setPageScaleMode"],g=["asIconButton"],p=["profile","title","updateSetting","isSeriesMode"],v=["profiles","readingMode"],h=["ref"];function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function m(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function j(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof u?r:u,s=Object.create(l.prototype);return w(s,"_invoke",function(n,r,a){var o,u,l,s=0,c=a||[],d=!1,f={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(t,n){return o=t,u=0,l=e,f.n=n,i}};function g(n,r){for(u=n,l=r,t=0;!d&&s&&!a&&t<c.length;t++){var a,o=c[t],g=f.p,p=o[2];n>3?(a=p===r)&&(l=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=g&&((a=n<2&&g<o[1])?(u=0,f.v=r,f.n=o[1]):g<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,u=0))}if(a||n>1)return i;throw d=!0,r}return function(a,c,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===c&&g(c,p),u=c,l=p;(t=u<2?e:l)||!d;){o||(u?u<3?(u>1&&(f.n=-1),g(u,l)):f.n=l:f.v=l);try{if(s=2,o){if(u||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==i)break}catch(t){o=e,u=1,l=t}finally{s=1}}return{value:t,done:d}}}(n,a,o),!0),s}var i={};function u(){}function l(){}function s(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(w(t={},r,function(){return this}),t),d=s.prototype=u.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,w(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=s,w(d,"constructor",s),w(s,"constructor",l),l.displayName="GeneratorFunction",w(s,a,"GeneratorFunction"),w(d),w(d,a,"Generator"),w(d,r,function(){return this}),w(d,"toString",function(){return"[object Generator]"}),(_=function(){return{w:o,m:f}})()}function w(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}w=function(e,t,n,r){function o(t,n){w(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},w(e,t,n,r)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)})}}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,u=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return u}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./index-legacy-BfJ4d7Pw.js","./TabsMenu-legacy-jKMLUMaD.js","./Chapters-legacy-CMiYdyJL.js","./Mangas-legacy-CJhT9HPf.js","./SpinnerImage-legacy-Ce0XMqwS.js","./Strings-legacy-CzJ32ydF.js","./Tabs-legacy-BjzVAKK6.js","./Trans-legacy-BqV9g2Q4.js","./Slider-legacy-Ciatx64B.js","./CheckboxInput-legacy-DJHZaPUx.js","./ListSubheader-legacy-CWQ82XM5.js","./Add-legacy-Cxy-F8eO.js"],function(b,w){"use strict";var P,C,D,A,k,L,R,N,F,V,B,z,U,W,H,G,K,Z,X,J,Y,Q,q,$,ee,te,ne,re,ae,oe,ie,ue,le,se,ce,de,fe,ge,pe,ve,he,ye,be,me,xe,Se,je,_e,we,Pe,Oe,Ce,Me,Te,De,Ee,Ie,Ae,ke,Le,Re,Ne,Fe,Ve,Be,ze,Ue,We,He,Ge,Ke,Ze,Xe,Je,Ye,Qe,qe,$e,et,tt,nt,rt,at,ot,it,ut,lt,st,ct,dt,ft,gt,pt,vt,ht,yt,bt,mt,xt,St,jt,_t,wt;return{setters:[function(e){P=e.r,C=e.f,D=e.W,A=e.e1,k=e.V,L=e.e2,R=e.e3,N=e.dV,F=e.e4,V=e.e5,B=e.e6,z=e.ca,U=e.j,W=e.G,H=e.aw,G=e.ds,K=e.dP,Z=e.dJ,X=e.dL,J=e.ap,Y=e.dg,Q=e.e7,q=e.du,$=e.ay,ee=e.dv,te=e.bb,ne=e.R,re=e.dQ,ae=e.cn,oe=e.dr,ie=e.dt,ue=e.e8,le=e.e9,se=e.ea,ce=e.e,de=e.eb,fe=e.ec,ge=e.ed,pe=e.cH,ve=e.m,he=e.g,ye=e.av,be=e.ee,me=e.bt,xe=e.h,Se=e.A,je=e.ef,_e=e.k,we=e.u,Pe=e.b,Oe=e.T,Ce=e.B,Me=e.C,Te=e.dD,De=e.dE,Ee=e.eg,Ie=e.eh,Ae=e.dl,ke=e.dB,Le=e.dC,Re=e.dA,Ne=e.c,Fe=e.I,Ve=e.ei,Be=e.aV,ze=e.dF,Ue=e.dh,We=e.ej,He=e.ek,Ge=e.el,Ke=e.em,Ze=e.en,Xe=e.eo,Je=e.dI,Ye=e.ep,Qe=e.dn,qe=e.eq,$e=e.a4,et=e.er,tt=e.o,nt=e.p,rt=e.q,at=e.w,ot=e.a6,it=e.a7,ut=e.dR,lt=e.es,st=e.et,ct=e.df},function(e){dt=e.T},function(e){ft=e.C},function(e){gt=e.a,pt=e.G,vt=e.F},function(e){ht=e.S},function(e){yt=e.r},function(e){bt=e.T,mt=e.a},function(e){xt=e.T},function(e){St=e.S},function(e){jt=e.C},function(e){_t=e.L},function(e){wt=e.A}],execute:function(){var w,Pt=function(e,t,n){var r,a=B(),o=a===z,i=Object.keys(null!==(r=n.meta)&&void 0!==r?r:{}).filter(function(e){var t;return o?1===(null===(t=e.match(/_/g))||void 0===t?void 0:t.length):e.startsWith("".concat(V,"_").concat(a,"_"))}).map(function(e){return F(e)});return Object.fromEntries(Object.entries(t).map(function(t){var n=E(t,2),r=n[0],a=n[1];return L.includes(r)?[r,a]:[r,{value:a,isDefault:"manga"===e&&!i.includes(r)}]}))},Ot=function(e){return M(M({},e),{},{tapZoneInvertMode:JSON.stringify(e.tapZoneInvertMode),customFilter:JSON.stringify(e.customFilter),readerWidth:JSON.stringify(e.readerWidth),hotkeys:JSON.stringify(e.hotkeys),autoScroll:JSON.stringify(e.autoScroll)})},Ct=Pt("global",A,{meta:Ot(A)}),Mt=b("a5",function(e,t){var n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return k(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:A,void 0!==r?[r.toString()]:void 0,n)});function Tt(e,t){var n=Mt(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:A,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0);return Pt(e,n,t)}b("a3",function(e,t){return function(e,t,n,r){return Tt("manga",M(M({},e),{},{meta:D(e.meta,function(e){return!L.includes(F(e))})}),t,n,r)}(e,t)}),b("a7",function(e){var t=P.useGetGlobalMeta({notifyOnNetworkStatusChange:!0}),n=t.data,r=t.loading,a=C.useMemo(function(){return D(null==n?void 0:n.metas.nodes)},[null==n?void 0:n.metas.nodes]),o=C.useMemo(function(){return{meta:a}},[a]),i=Mt("global",o,void 0,C.useEffect,e),u=C.useMemo(function(){return i},[o,e]);return C.useMemo(function(){return{metadata:a,settings:u,loading:r,request:t}},[a,u,r,t])});var Dt=b("u",function(e){var t=P.useGetGlobalMeta({notifyOnNetworkStatusChange:!0}),n=t.data,r=t.loading,a=C.useMemo(function(){return D(null==n?void 0:n.metas.nodes)},[null==n?void 0:n.metas.nodes]),o=C.useMemo(function(){return{meta:a}},[a]),i=Tt("global",o,void 0,C.useEffect,e),u=C.useMemo(function(){return i},[o,e]);return C.useMemo(function(){return{metadata:a,settings:u,loading:r,request:t}},[a,u,r,t])}),Et=function(){var e=O(_().m(function e(t,n,r){var a,o=arguments;return _().w(function(e){for(;;)switch(e.n){case 0:if(a=o.length>4?o[4]:void 0,!(o.length>3&&void 0!==o[3]&&o[3]||L.includes(n))){e.n=1;break}return e.a(2,R([[n,Ot(T({},n,r))[n]]],void 0!==a?[null==a?void 0:a.toString()]:void 0));case 1:return e.a(2,N(t,[[n,Ot(T({},n,r))[n]]],void 0!==a?[null==a?void 0:a.toString()]:void 0))}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),It=function(e){return e===K.END?Number.MAX_SAFE_INTEGER:-1},At=C.memo(function(e){var t,n,r,a,o=e.currentPageIndex,i=e.pages,u=e.transitionPageMode,l=e.imageRefs,s=e.createPage,c=e.slots,d=e.readingMode,f=e.imagePreLoadAmount,g=e.isCurrentChapter,p=e.isPreviousChapter,v=e.isNextChapter,h=e.customFilter,y=e.pageScaleMode,b=e.shouldStretchPage,m=e.readerWidth,x=e.readerNavBarWidth,S=e.resumeMode,_=e.handleAsInitialRender,w=e.ref,P=C.useRef(It(S));_&&(P.current=It(S));var O=C.useMemo(function(){return Pr(o,i,P.current,f,d,g,p,v)},[o,i,f,d,g,p,v]);C.useEffect(function(){g&&(P.current=o)},[O,g]);var T=C.useCallback(function(e,t){l.current[e]=t},[l]);return U.jsx(W,M(M({ref:w},null==c?void 0:c.boxProps),{},{sx:[{width:"fit-content",height:"fit-content"}].concat(j(Array.isArray(null==c||null===(t=c.boxProps)||void 0===t?void 0:t.sx)?null!==(n=null==c||null===(r=c.boxProps)||void 0===r?void 0:r.sx)&&void 0!==n?n:[]:[null==c||null===(a=c.boxProps)||void 0===a?void 0:a.sx]),[H(!Ht(d)&&Or(u,d),{visibility:"hidden",width:0,height:0,m:0,p:0})]),children:i.map(function(e,t){return s(e,t,O.includes(t),[G.NONE,G.BOTH].includes(u),T,d,h,y,b,m,x)})}))}),kt=C.memo(function(t){var n=t.onLoad,r=t.onError,a=t.pageLoadStates,o=t.retryFailedPagesKeyPrefix,i=t.isPreloadMode,u=S(t,e),l=u.currentPageIndex,s=u.totalPages;return U.jsx(At,M(M({},u),{},{createPage:function(e,t,u,c,d){for(var f=arguments.length,g=new Array(f>5?f-5:0),p=5;p<f;p++)g[p-5]=arguments[p];return _r.apply(void 0,[e,t,!0,a[e.primary.index].loaded,i,n,r,u,c&&u&&l===e.primary.index,l,s].concat(g,[a[e.primary.index].error?o:void 0]))},slots:{boxProps:{sx:{margin:"auto"}}}}))}),Lt=b("g",function(e,t){var n=t.findIndex(function(t){var n=t.primary,r=t.secondary;return[n.index,null==r?void 0:r.index].includes(e)});return M(M({},t[Z(n,0,t.length-1)]),{},{pagesIndex:n})}),Rt=b("n",function(e){var t,n;return null!==(t=null===(n=e.secondary)||void 0===n?void 0:n.index)&&void 0!==t?t:e.primary.index}),Nt=(b("m",function(e,t,n){switch(e){case"previous":return Rt(n[Math.max(0,t-1)]);case"next":return Rt(n[Math.min(n.length-1,t+1)]);default:throw new Error('Unexpected offset "'.concat(e,'"'))}}),b("y",function(e,t,n,r,a,o){var i=r?e.clientX:e.clientY,u=getComputedStyle(t),l=u.paddingTop,s=u.paddingBottom,c=u.paddingLeft,d=u.paddingRight,f=t.getBoundingClientRect(),g=r?parseFloat(c)+parseFloat(d):parseFloat(l)+parseFloat(s),p=i-(r?f.left:f.top)-g/2,v=((r?f.width:f.height)-g)/(n.length-Number(!a)),h=Math.floor(p/v),y=p<=(h+(a?1:.5))*v?h:h+1,b=Math.max(0,y),m=Math.min(b,n.length-1);return n[o(m,n.length-1-m)]}),b("f",function(e){var t=e===X.BOTTOM,n=e===X.LEFT,r=e===X.RIGHT;return{isBottom:t,isLeft:n,isRight:r,isHorizontal:t,isVertical:n||r}}),function(e,t,n){var r=n===Y.LTR;return"first"===e?"ltr"===t?r?"right":"left":r?"left":"right":"ltr"===t?r?"left":"right":r?"right":"left"}),Ft=C.memo(function(e){var n=e.onLoad,r=e.onError,a=e.pageLoadStates,o=e.retryFailedPagesKeyPrefix,i=e.isPreloadMode,u=S(e,t),l=u.currentPageIndex,s=u.pages,c=u.totalPages,d=u.readingDirection,f=u.pageScaleMode,g=J().direction,p=C.useMemo(function(){return Lt(l,s)},[l,s]),v=d===Y.LTR;return U.jsx(At,M(M({},u),{},{createPage:function(e,t,u,l,s){for(var f=e.primary,v=e.secondary,h=Rt(p),y=!!v,b=p.primary.index===f.index,m=!!v&&h===v.index,x=arguments.length,S=new Array(x>5?x-5:0),j=5;j<x;j++)S[j-5]=arguments[j];return U.jsxs(C.Fragment,{children:[_r.apply(void 0,[e,t,!0,a[f.index].loaded,i,n,r,u,l&&b&&u,p.primary.index,c].concat(S,[a[f.index].error?o:void 0,y?Nt("first",g,d):void 0,y])),y&&_r.apply(void 0,[M(M({},e),{},{primary:M({},e.secondary)}),t,!1,a[v.index].loaded,i,n,r,u,l&&m&&u,h,c].concat(S,[a[v.index].error?o:void 0,Nt("second",g,d),!0]))]},"".concat(f.url,"_").concat(null==v?void 0:v.url))},slots:{boxProps:{sx:M(M(M({},H(f===Q.ORIGINAL,{margin:"auto"})),{},{width:"100%",minWidth:"fit-content",height:"100%",minHeight:"fit-content",display:"flex",flexDirection:"row",flexWrap:"nowrap"},H("ltr"===g,{flexDirection:v?"row":"row-reverse"})),H("rtl"===g,{flexDirection:v?"row-reverse":"row"}))}}}))}),Vt=C.memo(function(e){var t=e.onLoad,r=e.onError,a=e.pageLoadStates,o=e.retryFailedPagesKeyPrefix,i=e.isPreloadMode,u=S(e,n),l=u.currentPageIndex,s=u.totalPages,c=u.readingMode,d=u.pageGap,f=c===q.WEBTOON?0:d;return U.jsx(At,M(M({},u),{},{createPage:function(e,n,u,c,d){for(var g=arguments.length,p=new Array(g>5?g-5:0),v=5;v<g;v++)p[v-5]=arguments[v];return _r.apply(void 0,[e,n,!0,a[e.primary.index].loaded,i,t,r,u||a[e.primary.index].loaded,!i,l,s].concat(p,[a[e.primary.index].error?o:void 0,void 0,void 0,0!==e.primary.index?f:0,d]))},slots:{boxProps:{sx:{margin:"auto"}}}}))}),Bt=C.memo(function(e){var t=e.onLoad,n=e.onError,a=e.pageLoadStates,o=e.retryFailedPagesKeyPrefix,i=e.isPreloadMode,u=S(e,r),l=u.currentPageIndex,s=u.totalPages,c=u.pageGap,d=u.readingDirection,f=J().direction,g=d===Y.LTR;return U.jsx(At,M(M({},u),{},{createPage:function(e,r,u,c,d){for(var f=arguments.length,g=new Array(f>5?f-5:0),p=5;p<f;p++)g[p-5]=arguments[p];return _r.apply(void 0,[e,r,!0,a[e.primary.index].loaded,i,t,n,u||a[e.primary.index].loaded,!i,l,s].concat(g,[a[e.primary.index].error?o:void 0,void 0,void 0,void 0,d]))},slots:{boxProps:{sx:M(M({my:"auto",display:"flex",flexWrap:"nowrap",alignItems:"center",gap:"".concat(c,"px")},H("ltr"===f,{flexDirection:g?"row":"row-reverse",justifyContent:g?"flex-start":"flex-end"})),H("rtl"===f,{flexDirection:g?"row-reverse":"row",justifyContent:g?"flex-end":"flex-start"}))}}}))}),zt=b("A",function(e){return e===q.DOUBLE_PAGE}),Ut=function(e){return[Q.WIDTH,Q.SCREEN].includes(e)},Wt=(b("_",function(e){return Ut(e)}),b("$",function(e){return[Q.HEIGHT,Q.SCREEN].includes(e)}),b("Y",function(e,t){return!(null==e||!e.enabled)&&Ut(t)})),Ht=b("i",function(e){return[q.CONTINUOUS_VERTICAL,q.CONTINUOUS_HORIZONTAL,q.WEBTOON].includes(e)}),Gt=b("O",function(e){return[q.CONTINUOUS_VERTICAL,q.WEBTOON].includes(e)}),Kt=(b("a4",function(e,t,n){return t&&n.isDefault&&gt.isLongStripType(e)}),b("V",function(e){switch(e){case q.SINGLE_PAGE:return kt;case q.DOUBLE_PAGE:return Ft;case q.CONTINUOUS_VERTICAL:case q.WEBTOON:return Vt;case q.CONTINUOUS_HORIZONTAL:return Bt;default:throw new Error('Unexpected "ReadingMode" ('.concat(e,")"))}}),b("z",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e!==X.AUTO?e:window.innerHeight-n>window.innerWidth-r?t:X.BOTTOM}),function(e){var t,n=new Set,r=function(e,r){var a="function"==typeof e?e(t):e;if(!Object.is(a,t)){var o=t;t=(null!=r?r:"object"!==x(a)||null===a)?a:Object.assign({},t,a),n.forEach(function(e){return e(t,o)})}},a=function(){return t},o={setState:r,getState:a,getInitialState:function(){return i},subscribe:function(e){return n.add(e),function(){return n.delete(e)}}},i=t=e(r,a,o);return o}),Zt=function(e){return e};var Xt=function(e){var t=function(e){return e?Kt(e):Kt}(e),n=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt,n=$.useSyncExternalStore(e.subscribe,$.useCallback(function(){return t(e.getState())},[e,t]),$.useCallback(function(){return t(e.getInitialState())},[e,t]));return $.useDebugValue(n),n}(t,e)};return Object.assign(n,t),n},Jt={BASE_URL:"./",DEV:!1,LEGACY:!0,MODE:"production",PROD:!0,SSR:!1,VITE_SERVER_URL_DEFAULT:"http://localhost:4567"},Yt=new Map,Qt=function(e){var t=Yt.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(function(e){var t=E(e,2);return[t[0],t[1].getState()]})):{}},qt=function(e){var t,n;if(e){var r=e.split("\n"),a=r.findIndex(function(e){return e.includes("api.setState")});if(!(a<0)){var o=(null==(t=r[a+1])?void 0:t.trim())||"";return null==(n=/.+ (.+) .+/.exec(o))?void 0:n[1]}}},$t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,i){var u,l=t.enabled,s=t.anonymousActionType,c=t.store,d=S(t,a);try{u=(null!=l?l:"production"!==(Jt?"production":void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(x){}if(!u)return e(n,r,i);var f=function(e,t,n){if(void 0===e)return{type:"untracked",connection:t.connect(n)};var r=Yt.get(n.name);if(r)return M({type:"tracked",store:e},r);var a={connection:t.connect(n),stores:{}};return Yt.set(n.name,a),M({type:"tracked",store:e},a)}(c,u,d),g=f.connection,p=S(f,o),v=!0;i.setState=function(e,t,a){var o=n(e,t);if(!v)return o;var u=void 0===a?{type:s||qt((new Error).stack)||"anonymous"}:"string"==typeof a?{type:a}:a;return void 0===c?(null==g||g.send(u,r()),o):(null==g||g.send(M(M({},u),{},{type:"".concat(c,"/").concat(u.type)}),M(M({},Qt(d.name)),{},T({},c,i.getState()))),o)},i.devtools={cleanup:function(){g&&"function"==typeof g.unsubscribe&&g.unsubscribe(),function(e,t){if(void 0!==t){var n=Yt.get(e);n&&(delete n.stores[t],0===Object.keys(n.stores).length&&Yt.delete(e))}}(d.name,c)}};var h=function(){var e=v;v=!1,n.apply(void 0,arguments),v=e},y=e(i.setState,r,i);if("untracked"===p.type?null==g||g.init(y):(p.stores[p.store]=i,null==g||g.init(Object.fromEntries(Object.entries(p.stores).map(function(e){var t=E(e,2),n=t[0],r=t[1];return[n,n===p.store?y:r.getState()]})))),i.dispatchFromDevtools&&"function"==typeof i.dispatch){var b=!1,m=i.dispatch;i.dispatch=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"production"===(Jt?"production":void 0)||"__setState"!==t[0].type||b||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),b=!0),m.apply(void 0,t)}}return g.subscribe(function(e){var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):en(e.payload,function(e){if("__setState"!==e.type)i.dispatchFromDevtools&&"function"==typeof i.dispatch&&i.dispatch(e);else{if(void 0===c)return void h(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');var t=e.state[c];if(null==t)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&h(t)}});case"DISPATCH":switch(e.payload.type){case"RESET":return h(y),void 0===c?null==g?void 0:g.init(i.getState()):null==g?void 0:g.init(Qt(d.name));case"COMMIT":return void 0===c?void(null==g||g.init(i.getState())):null==g?void 0:g.init(Qt(d.name));case"ROLLBACK":return en(e.state,function(e){if(void 0===c)return h(e),void(null==g||g.init(i.getState()));h(e[c]),null==g||g.init(Qt(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return en(e.state,function(e){void 0!==c?JSON.stringify(i.getState())!==JSON.stringify(e[c])&&h(e[c]):h(e)});case"IMPORT_STATE":var n=e.payload.nextLiftedState,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return h(void 0===c?r:r[c]),void(null==g||g.send(null,n));case"PAUSE_RECORDING":return v=!v}return}}),y}},en=function(e,t){var n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}void 0!==n&&t(n)},tn=Symbol.for("immer-nothing"),nn=Symbol.for("immer-draftable"),rn=Symbol.for("immer-state");function an(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var on=Object.getPrototypeOf;function un(e){return!!e&&!!e[rn]}function ln(e){var t;return!!e&&(dn(e)||Array.isArray(e)||!!e[nn]||!(null===(t=e.constructor)||void 0===t||!t[nn])||hn(e)||yn(e))}var sn=Object.prototype.constructor.toString(),cn=new WeakMap;function dn(e){if(!e||"object"!==x(e))return!1;var t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!=typeof n)return!1;var r=cn.get(n);return void 0===r&&(r=Function.toString.call(n),cn.set(n,r)),r===sn}function fn(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];0===gn(e)?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(function(n){t(n,e[n],e)}):e.forEach(function(n,r){return t(r,n,e)})}function gn(e){var t=e[rn];return t?t.type_:Array.isArray(e)?1:hn(e)?2:yn(e)?3:0}function pn(e,t){return 2===gn(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function vn(e,t,n){var r=gn(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function hn(e){return e instanceof Map}function yn(e){return e instanceof Set}function bn(e){return e.copy_||e.base_}function mn(e,t){if(hn(e))return new Map(e);if(yn(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);var n=dn(e);if(!0===t||"class_only"===t&&!n){var r=Object.getOwnPropertyDescriptors(e);delete r[rn];for(var a=Reflect.ownKeys(r),o=0;o<a.length;o++){var i=a[o],u=r[i];!1===u.writable&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[i]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[i]})}return Object.create(on(e),r)}var l=on(e);if(null!==l&&n)return M({},e);var s=Object.create(l);return Object.assign(s,e)}function xn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return jn(e)||un(e)||!ln(e)||(gn(e)>1&&Object.defineProperties(e,{set:Sn,add:Sn,clear:Sn,delete:Sn}),Object.freeze(e),t&&Object.values(e).forEach(function(e){return xn(e,!0)})),e}var Sn={value:function(){an(2)}};function jn(e){return null===e||"object"!==x(e)||Object.isFrozen(e)}var _n,wn={};function Pn(e){var t=wn[e];return t||an(0),t}function On(){return _n}function Cn(e,t){t&&(Pn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Mn(e){Tn(e),e.drafts_.forEach(En),e.drafts_=null}function Tn(e){e===_n&&(_n=e.parent_)}function Dn(e){return _n={drafts_:[],parent_:_n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function En(e){var t=e[rn];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function In(e,t){t.unfinalizedDrafts_=t.drafts_.length;var n=t.drafts_[0];return void 0!==e&&e!==n?(n[rn].modified_&&(Mn(t),an(4)),ln(e)&&(e=An(t,e),t.parent_||Ln(t,e)),t.patches_&&Pn("Patches").generateReplacementPatches_(n[rn].base_,e,t.patches_,t.inversePatches_)):e=An(t,n,[]),Mn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tn?e:void 0}function An(e,t,n){if(jn(t))return t;var r=e.immer_.shouldUseStrictIteration(),a=t[rn];if(!a)return fn(t,function(r,o){return kn(e,a,t,r,o,n)},r),t;if(a.scope_!==e)return t;if(!a.modified_)return Ln(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;var o=a.copy_,i=o,u=!1;3===a.type_&&(i=new Set(o),o.clear(),u=!0),fn(i,function(t,r){return kn(e,a,o,t,r,n,u)},r),Ln(e,o,!1),n&&e.patches_&&Pn("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function kn(e,t,n,r,a,o,i){if(null!=a&&("object"===x(a)||i)){var u=jn(a);if(!u||i){if(un(a)){var l=An(e,a,o&&t&&3!==t.type_&&!pn(t.assigned_,r)?o.concat(r):void 0);if(vn(n,r,l),!un(l))return;e.canAutoFreeze_=!1}else i&&n.add(a);if(ln(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===a&&u)return;An(e,a),t&&t.scope_.parent_||"symbol"===x(r)||!(hn(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||Ln(e,a)}}}}function Ln(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xn(t,n)}var Rn={get:function(e,t){if(t===rn)return e;var n=bn(e);if(!pn(n,t))return function(e,t,n){var r,a=Vn(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);var r=n[t];return e.finalized_||!ln(r)?r:r===Fn(e.base_,t)?(zn(e),e.copy_[t]=Wn(r,e)):r},has:function(e,t){return t in bn(e)},ownKeys:function(e){return Reflect.ownKeys(bn(e))},set:function(e,t,n){var r,a,o=Vn(bn(e),t);if(null!=o&&o.set)return o.set.call(e.draft_,n),!0;if(!e.modified_){var i=Fn(bn(e),t),u=null==i?void 0:i[rn];if(u&&u.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((r=n)===(a=i)?0!==r||1/r==1/a:r!=r&&a!=a)&&(void 0!==n||pn(e.base_,t)))return!0;zn(e),Bn(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Fn(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,zn(e),Bn(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor:function(e,t){var n=bn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){an(11)},getPrototypeOf:function(e){return on(e.base_)},setPrototypeOf:function(){an(12)}},Nn={};function Fn(e,t){var n=e[rn];return(n?bn(n):e)[t]}function Vn(e,t){if(t in e)for(var n=on(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=on(n)}}function Bn(e){e.modified_||(e.modified_=!0,e.parent_&&Bn(e.parent_))}function zn(e){e.copy_||(e.copy_=mn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}fn(Rn,function(e,t){Nn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Nn.deleteProperty=function(e,t){return Nn.set.call(this,e,t,void 0)},Nn.set=function(e,t,n){return Rn.set.call(this,e[0],t,n,e[0])};var Un=function(){return m(function e(t){var n=this;y(this,e),this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var o=n;return function(){for(var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return o.produce(n,function(n){var r;return(r=t).call.apply(r,[e,n].concat(i))})}}var i;if("function"!=typeof t&&an(6),void 0!==r&&"function"!=typeof r&&an(7),ln(e)){var u=Dn(n),l=Wn(e,void 0),s=!0;try{i=t(l),s=!1}finally{s?Mn(u):Tn(u)}return Cn(u,r),In(i,u)}if(!e||"object"!==x(e)){if(void 0===(i=t(e))&&(i=e),i===tn&&(i=void 0),n.autoFreeze_&&xn(i,!0),r){var c=[],d=[];Pn("Patches").generateReplacementPatches_(e,i,c,d),r(c,d)}return i}an(1)},this.produceWithPatches=function(e,t){return"function"==typeof e?function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return n.produceWithPatches(t,function(t){return e.apply(void 0,[t].concat(a))})}:[n.produce(e,t,function(e,t){r=e,a=t}),r,a];var r,a},"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof(null==t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),"boolean"==typeof(null==t?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)},[{key:"createDraft",value:function(e){ln(e)||an(8),un(e)&&(e=function(e){un(e)||an(10);return Hn(e)}(e));var t=Dn(this),n=Wn(e,void 0);return n[rn].isManual_=!0,Tn(t),n}},{key:"finishDraft",value:function(e,t){var n=e&&e[rn];n&&n.isManual_||an(9);var r=n.scope_;return Cn(r,t),In(void 0,r)}},{key:"setAutoFreeze",value:function(e){this.autoFreeze_=e}},{key:"setUseStrictShallowCopy",value:function(e){this.useStrictShallowCopy_=e}},{key:"setUseStrictIteration",value:function(e){this.useStrictIteration_=e}},{key:"shouldUseStrictIteration",value:function(){return this.useStrictIteration_}},{key:"applyPatches",value:function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=Pn("Patches").applyPatches_;return un(e)?a(e,t):this.produce(e,function(e){return a(e,t)})}}])}();function Wn(e,t){var n=hn(e)?Pn("MapSet").proxyMap_(e,t):yn(e)?Pn("MapSet").proxySet_(e,t):function(e,t){var n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:On(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},a=r,o=Rn;n&&(a=[r],o=Nn);var i=Proxy.revocable(a,o),u=i.revoke,l=i.proxy;return r.draft_=l,r.revoke_=u,l}(e,t);return(t?t.scope_:On()).drafts_.push(n),n}function Hn(e){if(!ln(e)||jn(e))return e;var t,n=e[rn],r=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,t=mn(e,n.scope_.immer_.useStrictShallowCopy_),r=n.scope_.immer_.shouldUseStrictIteration()}else t=mn(e,!0);return fn(t,function(e,n){vn(t,e,Hn(n))},r),n&&(n.finalized_=!1),t}var Gn=(new Un).produce,Kn=function(e){return function(t,n,r){return r.setState=function(e,n){for(var r="function"==typeof e?Gn(e):e,a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];return t.apply(void 0,[r,n].concat(o))},e(r.setState,n,r)}},Zn=function(e){return Symbol.iterator in e},Xn=function(e){return"entries"in e},Jn=function(e,t){var n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;var a,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=I(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}(n);try{for(o.s();!(a=o.n()).done;){var i=E(a.value,2),u=i[0],l=i[1];if(!r.has(u)||!Object.is(l,r.get(u)))return!1}}catch(s){o.e(s)}finally{o.f()}return!0};function Yn(e,t){return!!Object.is(e,t)||"object"===x(e)&&null!==e&&"object"===x(t)&&null!==t&&(Object.getPrototypeOf(e)===Object.getPrototypeOf(t)&&(Zn(e)&&Zn(t)?Xn(e)&&Xn(t)?Jn(e,t):function(e,t){for(var n=e[Symbol.iterator](),r=t[Symbol.iterator](),a=n.next(),o=r.next();!a.done&&!o.done;){if(!Object.is(a.value,o.value))return!1;a=n.next(),o=r.next()}return!!a.done&&!!o.done}(e,t):Jn({entries:function(){return Object.entries(e)}},{entries:function(){return Object.entries(t)}})))}var Qn,qn={isVisible:!1},$n={isActive:!1,isPaused:!1,start:te,cancel:te,toggleActive:te,pause:te,resume:te,invert:!1,direction:ee.FORWARD,scrollRef:void 0},er={isMaximized:!1,isDragging:!1},tr={showPreview:!1},nr=b("T",{totalPages:0,currentPageIndex:0,pageToScrollToIndex:null,pageUrls:[],pageLoadStates:[{url:"",loaded:!1}],pages:[{name:"1",primary:{index:0,alt:"Page #1",url:"".concat(P.getBaseUrl())}}],transitionPageMode:G.NONE,retryFailedPagesKeyPrefix:""}),rr=b("a6",{chapters:{mangaChapters:void 0,chapters:[],chapterForDuplicatesHandling:void 0,initialChapter:void 0,currentChapter:void 0,nextChapter:void 0,previousChapter:void 0,isCurrentChapterReady:!1,visibleChapters:{leading:0,trailing:0,lastLeadingChapterSourceOrder:99999,lastTrailingChapterSourceOrder:-1,isLeadingChapterPreloadMode:!0,isTrailingChapterPreloadMode:!0,scrollIntoView:!1,resumeMode:void 0}}}),ar=function(){function e(){y(this,e)}return m(e,null,[{key:"createActionName",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.slice(0,-1),a=t.slice(-1)[0];return"".concat(r.join(":"),"/").concat(a)}},{key:"createActionNameCreator",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.createActionName;return function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n.apply(void 0,[t].concat(r))}}}])}(),or=["scrollRef"],ir={manga:void 0,scrollbar:{xSize:0,ySize:0}},ur=(Qn?Xt(Qn):Xt)($t(Kn(function(e,t,n){var r=ar.createActionNameCreator("reader"),a=function(e){return ar.createActionNameCreator(e,r)};return M(M(M(M(M(M(M({},ir),{},{reset:function(){return e(function(){return M(M(M(M(M(M(M(M({},t()),ir),{},{scrollbar:M(M({},t().scrollbar),ir.scrollbar),settings:M(M({},t().settings),Ct)},t().overlay.reset()),t().autoScroll.reset()),t().pages.reset()),t().chapters.reset()),t().progressBar.reset()),t().tapZone.reset())},void 0,r("reset"))},setManga:function(t){return e(function(e){e.manga=t},void 0,r("setManga"))},scrollbar:M(M({},ir.scrollbar),{},{setXSize:function(t){return e(function(e){e.scrollbar.xSize=t},void 0,r("scrollbar","setXSize"))},setYSize:function(t){return e(function(e){e.scrollbar.ySize=t},void 0,r("scrollbar","setYSize"))}}),settings:M(M({},Ct),{},{setSettings:function(n){return e(function(e){e.settings=M(M({},t().settings),n)},void 0,r("settings","setSettings"))}})},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{overlay:{isVisible:qn.isVisible,setIsVisible:function(e){return a(function(t){t.overlay.isVisible=e},void 0,r("setIsVisible"))},reset:function(){return{overlay:M(M({},o().overlay),qn)}}}}}(a("overlay"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{autoScroll:M(M({},$n),{},{reset:function(){return{autoScroll:M(M({},o().autoScroll),$n)}},setIsActive:function(e){return a(function(t){t.autoScroll.isActive=e},void 0,r("setIsActive"))},setIsPaused:function(e){return a(function(t){t.autoScroll.isPaused=e},void 0,r("setIsPaused"))},setStart:function(e){return a(function(t){t.autoScroll.start=e},void 0,r("setStart"))},setCancel:function(e){return a(function(t){t.autoScroll.cancel=e},void 0,r("setCancel"))},setToggleActive:function(e){return a(function(t){t.autoScroll.toggleActive=e},void 0,r("setToggleActive"))},setPause:function(e){return a(function(t){t.autoScroll.pause=e},void 0,r("setPause"))},setResume:function(e){return a(function(t){t.autoScroll.resume=e},void 0,r("setResume"))},setInvert:function(e){return a(function(t){t.autoScroll.invert=e},void 0,r("setInvert"))},setDirection:function(e){return a(function(t){t.autoScroll.direction=e},void 0,r("setDirection"))},setScrollRef:function(e){return a(function(t){if(e){var n=C.createRef();n.current=e,t.autoScroll.scrollRef=n}else t.autoScroll.scrollRef=void 0},void 0,r("setScrollRef"))}})}}(a("autoScroll"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{pages:M(M({},nr),{},{reset:function(){return{pages:M(M({},o().pages),nr)}},setCurrentPageIndex:function(e){return a(function(t){t.pages.currentPageIndex=e},void 0,r("setCurrentPageIndex"))},setPageToScrollToIndex:function(e){return a(function(t){t.pages.pageToScrollToIndex=e},void 0,r("setPageToScrollToIndex"))},setTotalPages:function(e){return a(function(t){t.pages.totalPages=e},void 0,r("setTotalPages"))},setPageUrls:function(e){return a(function(t){t.pages.pageUrls=e},void 0,r("setPageUrls"))},setPageLoadStates:function(e){return a(function(t){t.pages.pageLoadStates="function"!=typeof e?e:e(o().pages.pageLoadStates)},void 0,r("setPageLoadStates"))},setPages:function(e){return a(function(t){t.pages.pages=e},void 0,r("setPages"))},setTransitionPageMode:function(e){return a(function(t){t.pages.transitionPageMode=e},void 0,r("setTransitionPageMode"))},setRetryFailedPagesKeyPrefix:function(e){return a(function(t){t.pages.retryFailedPagesKeyPrefix=e},void 0,r("setRetryFailedPagesKeyPrefix"))}})}}(a("pages"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{chapters:M(M({},rr.chapters),{},{reset:function(){return{chapters:M(M({},o().chapters),rr.chapters)}},setReaderStateChapters:function(e){return a(function(t){t.chapters=M(M({},o().chapters),"function"!=typeof e?e:e(o().chapters))},void 0,r("setReaderStateChapters"))}})}}(a("chapters"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{progressBar:M(M({},er),{},{setIsMaximized:function(e){return a(function(t){t.progressBar.isMaximized=e},void 0,r("setIsMaximized"))},setIsDragging:function(e){return a(function(t){t.progressBar.isDragging=e},void 0,r("setIsDragging"))},reset:function(){return{progressBar:M(M({},o().progressBar),er)}}})}}(a("progressBar"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{tapZone:M(M({},tr),{},{setShowPreview:function(e){return a(function(t){t.tapZone.showPreview=e},void 0,r("setShowPreview"))},reset:function(){return{tapZone:M(M({},o().tapZone),tr)}}})}}(a("tapZone"),e,t,n))}),{name:"ReaderStore",anonymousActionType:"reader/action",serialize:{replacer:function(e,t){return or.includes(e)?null:t}}})),lr=b("C",function(e){return ur(function(e){var t=$.useRef(void 0);return function(n){var r=e(n);return Yn(t.current,r)?t.current:t.current=r}}(e))}),sr=b("q",function(){return ur.getState()}),cr=b("c",lr),dr=(b("Q",function(){return ur.getState().scrollbar}),b("b",lr)),fr=b("k",function(){return ur.getState().settings}),gr=(b("E",lr),b("h",function(){return ur.getState().overlay}),b("B",lr),b("a2",function(){return ur.getState().autoScroll}),b("d",lr),b("l",function(){return ur.getState().pages}),b("D",lr),b("j",function(){return ur.getState().chapters})),pr=(b("e",lr),b("J",lr)),vr=(b("p",function(){return ur.getState().tapZone}),function(e){return Object.keys(e).map(function(t){var n=t,r=e[n];switch(n){case"brightness":case"contrast":case"saturate":return r.enabled?"".concat(n,"(").concat(r.value/100,")"):"";case"hue":return r.enabled?"hue-rotate(".concat(r.value,"deg)"):"";case"rgba":return"";case"sepia":case"grayscale":case"invert":return r?"".concat(n,"(").concat(Number(r),")"):"";default:throw new Error('Unexpected "CustomFilter" ('.concat(n,")"))}}).join(" ")}),hr=C.memo(function(e){var t=e.pageIndex,n=e.pagesIndex,r=e.isPrimaryPage,a=e.display,o=e.doublePage,u=void 0!==o&&o,l=e.position,s=e.marginTop,c=e.shouldLoad,d=e.readingMode,f=e.customFilter,g=e.pageScaleMode,p=e.shouldStretchPage,v=e.readerWidth,h=e.onLoad,y=e.onError,b=e.setRef,m=e.readerNavBarWidth,x=e.isLoaded,j=S(e,i),_=j.src,w=ne.useIsTabletWidth(),P=cr(function(e){return e.scrollbar}),O=C.useCallback(function(){return null==h?void 0:h(n,_,r)},[h,n,_,r]),T=C.useCallback(function(){return null==y?void 0:y(t,_)},[y,t,_]),D=C.useCallback(function(e){return null==b?void 0:b(n,e)},[n,b]);return a||c?U.jsx(ht,M(M({},j),{},{onLoad:O,onError:T,shouldLoad:c,shouldDecode:!0,ref:D,spinnerStyle:M(M(M({backgroundColor:"background.paper"},yr(d,p,g,v,m+P.ySize,P.xSize,u,w)),H(!a,{display:"none"})),mr(u,l)),imgStyle:M(M(M(M(M({},br(d,p,g,u,v,m+P.ySize,P.xSize)),{},{filter:vr(f),objectFit:"contain",objectPosition:l,userSelect:"none"},mr(u,l)),H(void 0!==s,{mt:"".concat(s,"px")})),{},{display:"block"},H(!a,{display:"none"})),H(!x,{margin:"unset"})),hideImgStyle:{visibility:"hidden",minWidth:0,minHeight:0,width:0,height:0}})):null}),yr=function(e,t,n,r,a,o,i,u){var l=function(e){return"calc(".concat(e," - ").concat(a,"px)")},s=function(e,t){return l("".concat(Z(null!=t?t:e,Math.min(e,null!=t?t:9e3),e),"vw"))},c=function(e,t){if(Wt(e,t))return null==e?void 0:e.value}(r,n),d=l("".concat(Math.min(100,null!=c?c:9e3),"vw")),f="calc(100vh - ".concat(o,"px)"),g=u?d:s(40,c),p=u?f:"85vh",v=M(M({},T(T(T(T(T({},q.SINGLE_PAGE,{minWidth:g,minHeight:p}),q.DOUBLE_PAGE,{minWidth:u?"50vw":s(35,c?c/2:void 0),minHeight:p}),q.CONTINUOUS_VERTICAL,{minWidth:g,minHeight:"100vh"}),q.CONTINUOUS_HORIZONTAL,{minWidth:g,minHeight:p}),q.WEBTOON,{minWidth:g,minHeight:"100vh"})[e]),{},{height:"unset"}),h=i?"calc(".concat(l("".concat(null!=c?c:100,"vw"))," / 2)"):d;switch(n){case Q.WIDTH:return M(M({},v),H(t,{minWidth:h}));case Q.HEIGHT:return M(M({},v),H(t,M({minHeight:f},H(Gt(e),{minHeight:"100vh"}))));case Q.SCREEN:return M(M({},v),H(t,M({minWidth:h,minHeight:f},H(Gt(e),{minHeight:"100vh"}))));case Q.ORIGINAL:return M(M({},v),H(Gt(e),{height:void 0}));default:throw new Error('Unexpected "PageScaleMode" ('.concat(n,")"))}},br=function(e,t,n,r,a,o,i){var u=function(e,t,n){if(Wt(n,e)){var r=n.value;return t?r/100/2:r/100}return t?.5:1}(n,r,a);return function(e,t,n,r,a,o){var i="calc((100vw - ".concat(a,"px) * ").concat(e,")"),u="calc(100vh - ".concat(o,"px)");switch(r){case Q.WIDTH:return M(M(M({minWidth:0},H(Ht(t),{minWidth:"unset"})),H(n,{minWidth:i})),{},{maxWidth:i});case Q.HEIGHT:return M(M(M({minHeight:0},H(Ht(t),{minHeight:"unset"})),H(n,{minHeight:u})),{},{maxHeight:u});case Q.SCREEN:return M(M(M({minWidth:0,minHeight:0},H(Ht(t),{minWidth:"unset",minHeight:"unset"})),H(n,M(M({minWidth:i,minHeight:u},H(t===q.CONTINUOUS_HORIZONTAL,{minWidth:"unset",minHeight:u})),H(Gt(t),{minWidth:i,minHeight:"unset"})))),{},{maxWidth:i,maxHeight:u});case Q.ORIGINAL:return{};default:throw new Error('Unexpected "PageScaleMode" ('.concat(r,")"))}}(u,e,t,n,o,i)},mr=function(e,t){return M({m:"auto"},H(e,M(M({},H("right"===t,{mr:"unset "})),H("left"===t,{ml:"unset "}))))},xr=function(e,t){return{index:t,alt:"Page #".concat(t+1),url:"".concat(P.getBaseUrl()).concat(e)}},Sr=function(e,t){return{name:"".concat(t+1),primary:xr(e,t)}},jr=(b("M",function(e){return e.map(Sr)}),function(e,t,n,r,a,o){if(r||!a||o)return Number.MAX_SAFE_INTEGER;var i=n-Math.abs(t-e);return t<e?i-1:i}),_r=function(e,t,n,r,a,o,i,u,l,s,c,d,f,g,p,v,h,y,b,m,x,S){var j=e.primary,_=j.index,w=j.alt,P=j.url;return U.jsx(hr,{setRef:S,pageIndex:_,pagesIndex:t,isPrimaryPage:n,src:P,alt:w,display:l,priority:jr(s,_,c,r,u,a),position:b,onLoad:o,onError:i,doublePage:m,shouldLoad:u,retryKeyPrefix:y,marginTop:x,isLoaded:r,readingMode:d,customFilter:f,pageScaleMode:g,shouldStretchPage:p,readerWidth:v,readerNavBarWidth:h},P)},wr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{truncateValues:!1,thresholds:{}},n=t.truncateValues,r=t.thresholds,a=e.getBoundingClientRect(),o=a.top,i=a.bottom,u=a.left,l=a.right,s=function(e){return n?Math.trunc(e):e},c=s(o),d=s(i),f=s(u),g=s(l),p=M({top:0,bottom:0,left:0,right:0},r);return{isLeftInViewport:f>=p.left&&f<=window.innerWidth,isRightInViewport:g>=p.right&&g<=window.innerWidth,isFillingWidthViewportCompletely:f<=0&&g>=window.innerWidth,isTopInViewport:c>=p.top&&c<=window.innerHeight,isBottomInViewport:d>=p.bottom&&d<=window.innerHeight,isFillingHeightViewportCompletely:c<=0&&d>=window.innerHeight}},Pr=(b("r",function(e,t,n){var r=wr(e,n),a=r.isLeftInViewport,o=r.isRightInViewport,i=r.isFillingWidthViewportCompletely,u=r.isTopInViewport,l=r.isBottomInViewport,s=r.isFillingHeightViewportCompletely,c=a||o||i,d=u||l||s;switch(t){case re.X:return c;case re.Y:return d;default:throw new Error('unexpected "type" ('.concat(t,")"))}}),b("s",function(e,t,n){var r=wr(e),a=r.isLeftInViewport,o=r.isRightInViewport,i=r.isBottomInViewport;switch(t){case re.X:return n===Y.LTR?o:a;case re.Y:return i;default:throw new Error('unexpected "type" ('.concat(t,")"))}}),b("U",function(e,t,n,r){var a=[],o=t.map(function(e,n){return n+t.slice(0,n).filter(function(e){return e.isSpread}).length});return e.forEach(function(i,u){var l,s=u+(!(o[u]%2)?1:-1)*(n?-1:1),c=u<s,d=0===u,f=u===e.length-1,g=c&&!f,p=t[u].isSpread,v=!(null===(l=t[s])||void 0===l||!l.isSpread),h=!(p||v)&&!(d&&n);if(c||!h){var y="".concat(u+1).concat(g&&h?"".concat("-").concat(s+1):"");a.push({name:r===Y.LTR?y:yt(y,"-"),primary:xr(i,u)})}else{var b=a[a.length-1];a[a.length-1]=M(M({},b),{},{secondary:xr(i,u)})}}),a}),function(e,t,n,r,a,o,i,u){if(!o&&!i&&!u)return[];var l=Lt(e,t).pagesIndex,s=function(e,t,n,r){return e?r:t||n?Z(1,0,r):0}(o,i,u,r),c=n<=e&&!i?1:-1,d=Math.max(0,l-Math.min(2,s)*c),f=Ht(a)?e:d,g=l+s*c,p=Math.max(1,Math.abs(g-f)+Number(o));return Array(p).fill(1).map(function(e,t){return f+t*c})}),Or=(b("N",function(e,t,n){return[G.BOTH,e].includes(t)||Ht(n)}),b("o",function(e,t){return e!==G.NONE||Ht(t)})),Cr=(b("L",function(e,t){var n=oe[t];return"ltr"===e?ae("start","end",n):ae("end","start",n)}),b("K",function(e,t,n){var r=oe[n];return"ltr"===t?ae(0,e.scrollWidth,r):ae(-e.scrollWidth,0,r)}),function(e,t){return void 0===t||t.url!==e}),Mr=b("P",function(e,t,n){return e===K.START?0:e===K.END?n:Z(t,0,n)}),Tr=b("x",function(e){return ft.getFromCache(e,ue,"CHAPTER_READER_FIELDS")}),Dr=function(e,t,n,r,a,o,i){if(!(!!r.isRead&&!!a))return[];var u=[e].concat(j(n))[a-1];if(!u)return[];var l=(i?ft.addDuplicates([u],t):[u]).map(function(e){var t=e.id;return Tr(t)}).filter(function(e){return null!==e}).filter(function(e){return ft.isDeletable(e,o)});return l.length?ft.getIds(l):[]},Er=function(e,t){var n=(e+1)/t;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ie.NEXT)===ie.PREVIOUS?n<.75:n>.25},Ir=function(e,t,n,r,a){var o=Tr(e.id);if(!o||!t)return[];if(!(!!a&&o.isDownloaded&&Er(r,o.pageCount)))return[];var i=Tr(t.id);return null!=i&&i.isDownloaded?ft.getNonRead(n).map(function(e){return Tr(e.id)}).filter(function(e){return!!e}).slice(-a).filter(function(e){return!e.isDownloaded}).map(function(e){return e.id}).filter(function(e){return!ft.isDownloading(e)}):[]},Ar=(b("W",function(e,t,n,r){return function(a,o){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(a>e.length-1)){var u=e[a],l=(i?u.primary:u.secondary).index;if(r===q.DOUBLE_PAGE){var s=new Image;s.onload=function(){var e,n=(e=s).height/e.width<1;n&&t(function(e){var t=e[l];return void 0===t||t.url!==o||t.isSpread===n?e:e.toSpliced(l,1,{url:o,isSpread:n})})},s.crossOrigin="anonymous",s.src=o}n(function(e){var t=e[l];return Cr(o,t)||t.loaded?e:e.toSpliced(l,1,{url:t.url,loaded:!0})})}}}),b("v",function(e,t){if(e)return t?K.END:K.START}),b("X",function(e){return function(t,n){e(function(e){var r=e[t];return Cr(n,r)?e:e.toSpliced(t,1,M(M({},r),{},{loaded:!1,error:!0}))})}}),b("t",function(e,t,n,r,a,o){var i=t.visibleChapters,u=i.leading,l=i.trailing,s=i.lastLeadingChapterSourceOrder,c=i.lastTrailingChapterSourceOrder,d=e&&n<s,f=!e&&n>c;return M(M({},t),{},{visibleChapters:M(M({},t.visibleChapters),{},{leading:u+Number(d),trailing:l+Number(f),lastLeadingChapterSourceOrder:d?n:s,lastTrailingChapterSourceOrder:f?n:c,isLeadingChapterPreloadMode:void 0!==a?a:t.visibleChapters.isLeadingChapterPreloadMode,isTrailingChapterPreloadMode:void 0!==o?o:t.visibleChapters.isTrailingChapterPreloadMode,scrollIntoView:r,resumeMode:e?K.END:K.START})})})),kr=(b("a1",function(e,t,n,r,a,o,i,u){if(r){if(a)return Z(e,0,t.pageCount-1);if(u.scrollIntoView&&void 0!==u.resumeMode)return Mr(u.resumeMode,0,t.pageCount-1);if(o)return Math.max(0,t.pageCount-1);if(i)return 0}return t.sourceOrder<n.sourceOrder?Math.max(t.pageCount-1,0):0}),b("a0",function(e,t,n,r,a,o){return e&&void 0!==a?a:t?o:n?K.END:K.START}),b("Z",function(e,t,n){var r=!!t[e+1],a=e+1>=t.length-1&&n.isLeadingChapterPreloadMode,o=r&&!a,i=!!t[e-1],u=e-1<=0&&n.isTrailingChapterPreloadMode;return{previous:o,next:i&&!u}}),{ltr:"rtl",rtl:"ltr"}),Lr={ltr:Y.LTR,rtl:Y.RTL},Rr=function(){function e(){y(this,e)}return m(e,null,[{key:"getOrCreateChapterUpdateQueue",value:function(t){return e.chapterUpdateQueues.has(t)||e.chapterUpdateQueues.set(t,new le(1)),e.chapterUpdateQueues.get(t)}},{key:"navigateToChapter",value:function(e,t){se.navigate(ft.getReaderUrl(e),{replace:!0,state:t})}},{key:"downloadAhead",value:function(t,n,r,a,o){var i="".concat(t.id,"_").concat(null==n?void 0:n.id,"_").concat(a,"_").concat(o);e.downloadAheadQueue.enqueue(i,O(_().m(function e(){var i;return _().w(function(e){for(;;)switch(e.p=e.n){case 0:if((i=Ir(t,n,r,a,o)).length){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,ft.download(i);case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])})))}},{key:"preloadChapter",value:function(e,t,n,r,a,o,i){if(n){var u=i===ie.PREVIOUS,l=i===ie.NEXT;!(u&&r<=n.sourceOrder||l&&a>=n.sourceOrder)&&Er(e,t,i)&&o(function(e){return Ar(u,e,n.sourceOrder,!1,!!u||void 0,!!l||void 0)})}}},{key:"useUpdateChapter",value:function(){var t=ce().settings,n=t.deleteChaptersWhileReading,r=t.deleteChaptersWithBookmark,a=t.updateProgressAfterReading;return C.useCallback(function(t){var o=sr().manga,i=gr(),u=i.currentChapter,l=i.mangaChapters,s=i.chapters,c=fr().shouldSkipDupChapters;if(o&&u&&l){var d=ft.getNextChapters(u,s,{offset:ie.PREVIOUS}),f=function(){var e=O(_().m(function e(){var i,s;return _().w(function(e){for(;;)switch(e.n){case 0:if(i=ft.getIds(c?ft.addDuplicates([u],l):[u]),s=Dr(u,l,d,t,n,r,c),!!s.length||i.some(function(e){var n=Tr(e);return!!n&&(void 0!==t.isRead&&t.isRead!==n.isRead||void 0!==t.lastPageRead&&t.lastPageRead!==n.lastPageRead||void 0!==t.isBookmarked&&t.isBookmarked!==n.isBookmarked)})){e.n=1;break}return e.a(2);case 1:return e.n=2,P.updateChapters(i,M(M({},t),{},{chapterIdsToDelete:s,trackProgressMangaId:a&&t.isRead&&o.trackRecords.totalCount?o.id:void 0}),{errorPolicy:"all"}).response.catch(_e());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();e.getOrCreateChapterUpdateQueue(u.id).enqueue("".concat(u.id),f)}},[n,r,a])}},{key:"useGetThemeDirection",value:function(){var e=J().direction,t=dr(function(e){return e.settings.readingDirection.value});return Lr[e]===t?e:kr[e]}},{key:"updateSetting",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,o=sr().manga,i=null!=o?o:r?pt:o;if(i&&i.id!==vt.id){var u=de(e,void 0!==a?[null==a?void 0:a.toString()]:void 0),l=P.graphQLClient.client.cache;if(r||L.includes(e)){var s=l.writeFragment({fragment:fe,data:{__typename:"GlobalMetaType",key:u,value:JSON.stringify(t)}});l.modify({fields:{metas:function(e,t){var n=t.readField;return M(M({},e),{},{nodes:ge(u,null==e?void 0:e.nodes,n,function(){return s})})}}})}else{var c=l.writeFragment({fragment:pe,data:{__typename:"MangaMetaType",mangaId:i.id,key:u,value:JSON.stringify(t)}});l.modify({id:l.identify({__typename:"MangaType",id:i.id}),fields:{meta:function(e,t){var n=t.readField;return ge(u,e,n,function(){return c})}}})}n&&Et(i,e,t,r,a).catch(function(e){return ve(ye("reader.settings.error.label.failed_to_save_settings"),"error",he(e))})}}},{key:"deleteSetting",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=sr().manga,a=null!=r?r:t?pt:r;if(a&&a.id!==vt.id){var o=de(e,void 0!==n?[n]:void 0),i=P.graphQLClient.client.cache,u=t||L.includes(e);u?i.evict({id:i.identify({__typename:"GlobalMetaType",key:o})}):i.evict({id:i.identify({__typename:"MangaMetaType",mangaId:a.id,key:o})});var l=u?function(){return P.deleteGlobalMeta(o).response}:function(){return P.deleteMangaMeta(a.id,o).response};l().catch(function(e){return ve(ye("reader.settings.error.label.failed_to_save_settings"),"error",he(e))})}}},{key:"useOverlayMode",value:function(){var e=ne.useIsTouchDevice(),t=dr(function(e){return e.settings.overlayMode}),n=t===be.AUTO,r=t===be.DESKTOP||n&&!e,a=t===be.MOBILE||n&&e;return{mode:r?be.DESKTOP:be.MOBILE,isDesktop:r,isMobile:a}}},{key:"useExit",value:function(){var e=dr(function(e){return e.settings.exitMode}),t=me(),n=xe(),r=C.useCallback(function(){var e=sr().manga;return e?n(Se.manga.path(e.id)):function(){}},[]);switch(e){case je.PREVIOUS:return t;case je.MANGA:return r;default:throw new Error('Unexpected "exitMode" ('.concat(e,")"))}}}])}();T(Rr,"downloadAheadQueue",new le(1)),T(Rr,"chapterUpdateQueues",new Map),b("a",Rr);var Nr=b("S",function(e){var t=e.i18nKey,n=e.value,r=we().t;return U.jsx(Pe,{sx:{flexDirection:"row",gap:.25},children:U.jsx(xt,{t:r,i18nKey:t,values:{value:n},components:[U.jsx(Oe,{variant:"caption",sx:{fontSize:"x-small",opacity:.75}})]})})}),Fr=function(e){var t=e.value,n=e.values,r=e.defaultValue,a=e.setValue,o=e.valueToDisplayData,i=e.isDefaultable,u=e.onDefault,l=we().t;return U.jsxs(Pe,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:[i&&U.jsx(Ce,{onClick:u,variant:void 0===t?"contained":"outlined",children:l("global.label.default")},"default"),n.map(function(e){var n=void 0===t&&e===r,i=o[e].isTitleString?o[e].title:l(o[e].title);return U.jsx(Me,{title:n?l("reader.settings.active_setting"):"",children:U.jsx(Ce,{onClick:function(){return a(e)},variant:e===t?"contained":"outlined",startIcon:o[e].icon,children:n?U.jsx(Nr,{i18nKey:"global.label.footnote",value:i}):i})},e)})]})},Vr=function(e){var t=e.label,n=e.description,r=S(e,u);return U.jsxs(Pe,{children:[U.jsx(Oe,{children:t}),n&&U.jsx(Oe,{variant:"body2",color:"textDisabled",children:n}),U.jsx(Fr,M({},r))]})},Br=b("G",function(e){var t=e.readingMode,n=e.setReadingMode,r=S(e,l),a=we().t;return U.jsx(Vr,M(M({},r),{},{label:a("reader.settings.label.reading_mode"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:De,setValue:n,valueToDisplayData:Te}))}),zr=T(T({},Y.LTR,{title:"reader.settings.reading_direction.ltr",icon:U.jsx(Ie,{})}),Y.RTL,{title:"reader.settings.reading_direction.rtl",icon:U.jsx(Ee,{})}),Ur=Object.values(Y).filter(function(e){return"number"==typeof e}),Wr=b("H",function(e){var t=e.readingDirection,n=e.setReadingDirection,r=S(e,s),a=we().t;return U.jsx(Vr,M(M({},r),{},{label:a("reader.settings.label.reading_direction"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Ur,setValue:n,valueToDisplayData:zr}))}),Hr=T(T(T(T(T({},Ae.EDGE,{title:"reader.settings.tap_zones.edge",icon:null}),Ae.KINDLE,{title:"reader.settings.tap_zones.kindle",icon:null}),Ae.L_SHAPE,{title:"reader.settings.tap_zones.l_shape",icon:null}),Ae.RIGHT_LEFT,{title:"reader.settings.tap_zones.right_left",icon:null}),Ae.DISABLED,{title:"global.label.disabled",icon:null}),Gr=Object.values(Ae).filter(function(e){return"number"==typeof e}),Kr=function(e){var t=e.tapZoneLayout,n=e.setTapZoneLayout,r=S(e,c),a=we().t;return U.jsx(Vr,M(M({},r),{},{label:a("reader.settings.tap_zones.title"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Gr,setValue:n,valueToDisplayData:Hr}))},Zr=function(e){return e[e.NONE=0]="NONE",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.BOTH=3]="BOTH",e}(Zr||{}),Xr=T(T(T(T({},0,{title:"global.label.none",icon:null}),1,{title:"global.label.horizontal",icon:null}),2,{title:"global.label.vertical",icon:null}),3,{title:"global.label.both",icon:null}),Jr=Object.values(Zr).filter(function(e){return"number"==typeof e}),Yr=T(T(T(T({},0,{vertical:!1,horizontal:!1}),1,{vertical:!1,horizontal:!0}),2,{vertical:!0,horizontal:!1}),3,{vertical:!0,horizontal:!0}),Qr=function(e){var t,n,r,a=e.tapZoneInvertMode,o=e.setTapZoneInvertMode,i=S(e,d),u=we().t,l=(t=a.value,n=t.vertical,r=t.horizontal,n&&r?3:n?2:r?1:0);return U.jsx(Vr,M(M({},i),{},{label:u("reader.settings.tap_zones.invert"),value:a.isDefault?void 0:l,defaultValue:a.isDefault?l:void 0,values:Jr,setValue:function(e){return o(Yr[e])},valueToDisplayData:Xr}))},qr=function(e){var t=e.pageScaleMode,n=e.setPageScaleMode,r=S(e,f),a=we().t;return U.jsx(Vr,M(M({},r),{},{label:a("reader.settings.page_scale.title"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Le,setValue:n,valueToDisplayData:ke}))},$r=function(e){var t=e.pageScaleMode,n=e.shouldStretchPage,r=e.setShouldStretchPage,a=we().t;return Re[t]?U.jsx(W,{children:U.jsx(Ce,{onClick:function(){return r(!n)},variant:n?"contained":"outlined",children:a("reader.settings.page_scale.stretch")})}):null},ea=Ne(U.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"})),ta=function(e){var t=e.asIconButton,n=S(e,g),r=we().t;return t?U.jsx(Me,{title:r("global.button.reset"),children:U.jsx(Fe,M(M({color:"inherit"},n),{},{children:U.jsx(ea,{})}))}):U.jsx(Ce,M(M({startIcon:U.jsx(ea,{})},n),{},{children:r("global.button.reset")}))},na=function(e){var t,n,r,a=e.label,o=e.value,i=e.onDefault,u=e.slotProps;return U.jsxs(Pe,{sx:{flexDirection:"row",gap:2,alignItems:"center"},children:[U.jsxs(Pe,{sx:{flexBasis:"25%"},children:[U.jsx(Oe,M(M({},null==u?void 0:u.label),{},{sx:M({},null==u||null===(t=u.label)||void 0===t?void 0:t.sx),children:a})),U.jsx(Oe,M(M({},null==u?void 0:u.value),{},{sx:M({},null==u||null===(n=u.value)||void 0===n?void 0:n.sx),children:o}))]}),U.jsx(St,M(M({},null==u?void 0:u.slider),{},{sx:M({flexBasis:"75%"},null==u||null===(r=u.slider)||void 0===r?void 0:r.sx)})),i&&U.jsx(ta,{asIconButton:!0,onClick:i})]})},ra=function(e){var t=e.pageGap,n=e.readingMode,r=e.isDefaultable,a=e.onDefault,o=e.updateSetting,i=we().t;return n.value!==q.WEBTOON&&Ht(n.value)?U.jsx(na,{label:i("reader.settings.label.page_gap"),value:i("global.value",{value:t.value,unit:i("global.unit.px")}),onDefault:r?a:void 0,slotProps:{slider:{defaultValue:A.pageGap,value:t.value,step:Ve.step,min:Ve.min,max:Ve.max,onChange:function(e,t){o(t,!1)},onChangeCommitted:function(e,t){o(t,!0)}}}}):null},aa=function(e){var t=e.readerWidth,n=e.pageScaleMode,r=e.isDefaultable,a=e.onDefault,o=e.updateSetting,i=e.setTransparent,u=we().t;return Ut(n)?U.jsxs(Pe,{children:[U.jsxs(Pe,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[U.jsx(jt,{label:u("reader.settings.label.limit_reader_width"),checked:t.enabled,onChange:function(e,n){return o("readerWidth",M(M({},t),{},{enabled:n}),!0)}}),r&&U.jsx(ta,{onClick:a,variant:"outlined"})]}),t.enabled&&U.jsx(na,{label:u("reader.settings.label.reader_width"),value:u("global.value",{value:t.value,unit:"%"}),slotProps:{slider:{defaultValue:A.readerWidth.value,value:t.value,step:1,min:10,max:100,onChange:function(e,n){null==i||i(!0),o("readerWidth",M(M({},t),{},{value:n}),!1)},onChangeCommitted:function(e,n){null==i||i(!1),o("readerWidth",M(M({},t),{},{value:n}),!0)}}}})]}):null},oa=b("F",function(e){var t=e.areDefaultSettings,n=we().t;return!ne.useIsTouchDevice()||t?null:U.jsx(Pe,{sx:{alignItems:"end"},children:U.jsx(Oe,{variant:"caption",children:n("reader.settings.default_setting_footnote")})})}),ia=function(e){var t=e.profile,n=e.title,r=e.updateSetting,a=e.isSeriesMode,o=S(e,p),i=Dt(t).settings,u=C.useMemo(function(){return M(M({},i),{},{readingMode:{value:t,isDefault:!0}})},[i,t]);return U.jsxs(Pe,{sx:{gap:2},children:[a?U.jsx(Oe,{children:n}):U.jsx(_t,{component:"div",id:"".concat(t,"-settings"),children:n}),U.jsx(Pe,{sx:{px:2*Number(!a)},children:U.jsx(la,M(M({},o),{},{setShowPreview:function(){},settings:u,updateSetting:function(e,n,a){return r(e,n,a,!0,t)}}))})]})},ua=function(e){var t=e.profiles,n=void 0===t?De:t,r=e.readingMode,a=S(e,v),o=a.updateSetting,i=a.isSeriesMode,u=we().t;return U.jsxs(Pe,{sx:{gap:2,pb:2*Number(!i)},children:[void 0!==r&&U.jsx(Pe,{sx:{pt:2,px:2},children:U.jsx(Br,{readingMode:r,setReadingMode:function(e){return o("readingMode",e)}})}),n.map(function(e){return U.jsx(ia,M({profile:e,title:u(Te[e].title)},a),e)})]})},la=function(e){var t=e.setShowPreview,n=e.settings,r=e.updateSetting,a=e.isDefaultable,o=e.onDefault,i=e.isSeriesMode,u=e.setTransparent,l=we().t;return U.jsxs(Pe,{sx:{gap:2},children:[U.jsx(oa,{areDefaultSettings:!a}),i&&U.jsxs(U.Fragment,{children:[U.jsx(Oe,{children:l("reader.settings.source_series")}),U.jsx(Br,{readingMode:n.readingMode,setReadingMode:function(e){return r("readingMode",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("readingMode")}})]}),U.jsx(ra,{pageGap:n.pageGap,readingMode:n.readingMode,isDefaultable:a,onDefault:function(){return null==o?void 0:o("pageGap")},updateSetting:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,["pageGap"].concat(t))}}),U.jsx(Wr,{readingDirection:n.readingDirection,setReadingDirection:function(e){return r("readingDirection",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("readingDirection")}}),U.jsx(Kr,{tapZoneLayout:n.tapZoneLayout,setTapZoneLayout:function(e){t(!0),r("tapZoneLayout",e)},isDefaultable:a,onDefault:function(){t(!0),null==o||o("tapZoneLayout")}}),U.jsx(Qr,{tapZoneInvertMode:n.tapZoneInvertMode,setTapZoneInvertMode:function(e){t(!0),r("tapZoneInvertMode",e)},isDefaultable:a,onDefault:function(){t(!0),null==o||o("tapZoneInvertMode")}}),U.jsx(qr,{pageScaleMode:n.pageScaleMode,setPageScaleMode:function(e){return r("pageScaleMode",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("pageScaleMode")}}),U.jsx($r,{pageScaleMode:n.pageScaleMode.value,shouldStretchPage:n.shouldStretchPage.value,setShouldStretchPage:function(e){return r("shouldStretchPage",e)}}),U.jsx(aa,{readerWidth:n.readerWidth.value,pageScaleMode:n.pageScaleMode.value,isDefaultable:a,onDefault:function(){return null==o?void 0:o("readerWidth")},updateSetting:function(){return r.apply(void 0,arguments)},setTransparent:u}),i&&U.jsxs(U.Fragment,{children:[U.jsx(Be,{}),U.jsx(ua,{profiles:[n.readingMode.value],updateSetting:r,isSeriesMode:i,setTransparent:u})]})]})},sa=function(){return U.jsx(ze,{children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:U.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16"})})})},ca=function(){return U.jsx(ze,{children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:U.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16M7 15v-5m10 5v-5M4 9h16"})})})},da=T(T({},Ue.HIDDEN,{title:"global.label.hidden",icon:U.jsx(sa,{})}),Ue.STANDARD,{title:"global.label.standard",icon:U.jsx(ca,{})}),fa=Object.values(Ue).filter(function(e){return"number"==typeof e}),ga=function(e){var t=e.overlayMode,n=e.progressBarType,r=e.setProgressBarType,a=we().t;return t!==be.DESKTOP?null:U.jsx(Vr,{label:a("reader.settings.progress_bar.style"),value:n,values:fa,setValue:r,valueToDisplayData:da})},pa=function(e){var t=e.overlayMode,n=e.progressBarType,r=e.progressBarSize,a=e.setProgressBarSize,o=e.onDefault,i=we().t;return t===be.DESKTOP&&n===Ue.STANDARD?U.jsx(na,{label:i("reader.settings.progress_bar.size"),value:i("global.value",{value:r,unit:i("global.unit.px")}),onDefault:o,slotProps:{slider:{defaultValue:A.progressBarSize,value:r,step:We.step,min:We.min,max:We.max,onChange:function(e,t){a(t,!1)},onChangeCommitted:function(e,t){a(t,!0)}}}}):null},va=Ne(U.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),ha=Ne(U.jsx("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"})),ya=Ne([U.jsx("path",{d:"M19.03 3.56c-1.67-1.39-3.74-2.3-6.03-2.51v2.01c1.73.19 3.31.88 4.61 1.92zM11 3.06V1.05c-2.29.2-4.36 1.12-6.03 2.51l1.42 1.42C7.69 3.94 9.27 3.25 11 3.06M4.98 6.39 3.56 4.97C2.17 6.64 1.26 8.71 1.05 11h2.01c.19-1.73.88-3.31 1.92-4.61M20.94 11h2.01c-.21-2.29-1.12-4.36-2.51-6.03l-1.42 1.42c1.04 1.3 1.73 2.88 1.92 4.61M7 12l3.44 1.56L12 17l1.56-3.44L17 12l-3.44-1.56L12 7l-1.56 3.44z"},"0"),U.jsx("path",{d:"M12 21c-3.11 0-5.85-1.59-7.46-4H7v-2H1v6h2v-2.7c1.99 2.84 5.27 4.7 9 4.7 4.87 0 9-3.17 10.44-7.56l-1.96-.45C19.25 18.48 15.92 21 12 21"},"1")]),ba=T(T(T(T({},X.AUTO,{title:"global.label.auto",icon:U.jsx(ya,{})}),X.BOTTOM,{title:"global.label.bottom",icon:U.jsx(ha,{sx:{transform:"rotate(90deg)"}})}),X.LEFT,{title:"global.label.left",icon:U.jsx(va,{})}),X.RIGHT,{title:"global.label.right",icon:U.jsx(ha,{})}),ma=Object.values(X).filter(function(e){return"number"==typeof e}),xa=Object.values(He),Sa=function(e){var t=e.progressBarPosition,n=e.progressBarPositionAutoVertical,r=e.updateSetting,a=we().t,o=t===X.AUTO;return U.jsxs(U.Fragment,{children:[U.jsx(Vr,{label:a("reader.settings.progress_bar.position"),value:t,values:ma,setValue:function(e){return r("progressBarPosition",e)},valueToDisplayData:ba}),o&&U.jsx(Vr,{label:a("reader.settings.progress_bar.auto_vertical_position.title"),value:n,values:xa,setValue:function(e){return r("progressBarPositionAutoVertical",e)},valueToDisplayData:ba})]})},ja=Ne(U.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"})),_a=Ne(U.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"})),wa=T(T(T({},be.AUTO,{title:"global.label.auto",icon:U.jsx(ya,{})}),be.DESKTOP,{title:"global.label.desktop",icon:U.jsx(_a,{})}),be.MOBILE,{title:"global.label.mobile",icon:U.jsx(ja,{})}),Pa=Object.values(be).filter(function(e){return"number"==typeof e}),Oa=function(e){var t=e.overlayMode,n=e.setOverlayMode,r=we().t;return U.jsx(Vr,{label:r("reader.settings.overlay_mode"),value:t,values:Pa,setValue:n,valueToDisplayData:wa})},Ca=T(T(T(T({},Ge.THEME,{title:"settings.appearance.theme.title",icon:null}),Ge.BLACK,{title:"global.colors.black",icon:null}),Ge.GRAY,{title:"global.colors.gray",icon:null}),Ge.WHITE,{title:"global.colors.white",icon:null}),Ma=Object.values(Ge).filter(function(e){return"number"==typeof e}),Ta=function(e){var t=e.backgroundColor,n=e.updateSetting,r=we().t;return U.jsx(Vr,{label:r("reader.settings.background_color"),value:t,values:Ma,setValue:n,valueToDisplayData:Ca})},Da=function(e){var t=e.overlayMode,n=e.settings,r=e.updateSetting,a=e.onDefault,o=we().t;return U.jsxs(Pe,{sx:{gap:2},children:[U.jsx(Oa,{overlayMode:n.overlayMode,setOverlayMode:function(e){return r("overlayMode",e)}}),U.jsx(Ta,{backgroundColor:n.backgroundColor,updateSetting:function(e){return r("backgroundColor",e)}}),U.jsx(ga,{overlayMode:t,progressBarType:n.progressBarType,setProgressBarType:function(e){return r("progressBarType",e)}}),U.jsx(pa,{overlayMode:t,progressBarType:n.progressBarType,progressBarSize:n.progressBarSize,setProgressBarSize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,["progressBarSize"].concat(t))},onDefault:function(){return null==a?void 0:a("progressBarSize")}}),U.jsx(Sa,{progressBarPosition:n.progressBarPosition,progressBarPositionAutoVertical:n.progressBarPositionAutoVertical,updateSetting:r}),(n.progressBarType===Ue.HIDDEN||t===be.MOBILE)&&U.jsx(jt,{label:o("reader.settings.label.show_page_number"),checked:n.shouldShowPageNumber,onChange:function(e,t){return r("shouldShowPageNumber",t)}})]})},Ea=function(e){var t=e.brightness,n=e.updateSetting,r=we().t;return U.jsxs(Pe,{children:[U.jsx(jt,{label:r("reader.settings.custom_filter.brightness"),checked:t.enabled,onChange:function(e,r){return n("brightness",M(M({},t),{},{enabled:r}),!0)}}),t.enabled&&U.jsx(na,{label:r("reader.settings.custom_filter.brightness"),value:t.value,onDefault:function(){return n("brightness",M(M({},t),{},{value:A.customFilter.brightness.value}),!0)},slotProps:{slider:{defaultValue:A.customFilter.brightness.value,value:t.value,step:Ke.brightness.step,min:Ke.brightness.min,max:Ke.brightness.max,onChange:function(e,r){n("brightness",M(M({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("brightness",M(M({},t),{},{value:r}),!0)}}}})]})},Ia=function(e){var t=e.contrast,n=e.updateSetting,r=we().t;return U.jsxs(Pe,{children:[U.jsx(jt,{label:r("reader.settings.custom_filter.contrast"),checked:t.enabled,onChange:function(e,r){return n("contrast",M(M({},t),{},{enabled:r}),!0)}}),t.enabled&&U.jsx(na,{label:r("reader.settings.custom_filter.contrast"),value:t.value,onDefault:function(){return n("contrast",M(M({},t),{},{value:A.customFilter.contrast.value}),!0)},slotProps:{slider:{defaultValue:A.customFilter.contrast.value,value:t.value,step:Ke.contrast.step,min:Ke.contrast.min,max:Ke.contrast.max,onChange:function(e,r){n("contrast",M(M({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("contrast",M(M({},t),{},{value:r}),!0)}}}})]})},Aa=function(e){var t=e.saturate,n=e.updateSetting,r=we().t;return U.jsxs(Pe,{children:[U.jsx(jt,{label:r("reader.settings.custom_filter.saturate"),checked:t.enabled,onChange:function(e,r){return n("saturate",M(M({},t),{},{enabled:r}),!0)}}),t.enabled&&U.jsx(na,{label:r("reader.settings.custom_filter.saturate"),value:t.value,onDefault:function(){return n("saturate",M(M({},t),{},{value:A.customFilter.saturate.value}),!0)},slotProps:{slider:{defaultValue:A.customFilter.saturate.value,value:t.value,step:Ke.saturate.step,min:Ke.saturate.min,max:Ke.saturate.max,onChange:function(e,r){n("saturate",M(M({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("saturate",M(M({},t),{},{value:r}),!0)}}}})]})},ka=function(e){var t=e.hue,n=e.updateSetting,r=we().t;return U.jsxs(Pe,{children:[U.jsx(jt,{label:r("reader.settings.custom_filter.hue"),checked:t.enabled,onChange:function(e,r){return n("hue",M(M({},t),{},{enabled:r}),!0)}}),t.enabled&&U.jsx(na,{label:r("reader.settings.custom_filter.hue"),value:t.value,onDefault:function(){return n("hue",M(M({},t),{},{value:A.customFilter.hue.value}),!0)},slotProps:{slider:{defaultValue:A.customFilter.hue.value,value:t.value,step:Ke.hue.step,min:Ke.hue.min,max:Ke.hue.max,onChange:function(e,r){n("hue",M(M({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("hue",M(M({},t),{},{value:r}),!0)}}}})]})},La={red:"reader.settings.custom_filter.rgba.red",green:"reader.settings.custom_filter.rgba.green",blue:"reader.settings.custom_filter.rgba.blue",alpha:"reader.settings.custom_filter.rgba.alpha"},Ra=function(e){var t=e.rgba,n=e.updateSetting,r=we().t;return U.jsxs(Pe,{children:[U.jsx(jt,{label:r("reader.settings.custom_filter.rgba.title"),checked:t.enabled,onChange:function(e,r){return n("rgba",M(M({},t),{},{enabled:r}),!0)}}),t.enabled&&U.jsxs(Pe,{sx:{gap:1},children:[Object.entries(t.value).map(function(e){var a=E(e,2),o=a[0],i=a[1];return"blendMode"===o?null:U.jsx(na,{label:r(La[o]),value:i,onDefault:function(){return n("rgba",M(M({},t),{},{value:M(M({},t.value),{},T({},o,A.customFilter.rgba.value[o]))}),!0)},slotProps:{slider:{value:i,defaultValue:A.customFilter.rgba.value[o],step:Ke.rgba[o].step,min:Ke.rgba[o].min,max:Ke.rgba[o].max,onChange:function(e,r){n("rgba",M(M({},t),{},{value:M(M({},t.value),{},T({},o,r))}),!1)},onChangeCommitted:function(e,r){n("rgba",M(M({},t),{},{value:M(M({},t.value),{},T({},o,r))}),!0)}}}},o)}),U.jsx(Vr,{label:r("reader.settings.custom_filter.rgba.blend_mode.title"),value:t.value.blendMode,values:Xe,setValue:function(e){return n("rgba",M(M({},t),{},{value:M(M({},t.value),{},{blendMode:e})}),!0)},valueToDisplayData:Ze})]})]})},Na=function(e){var t=e.sepia,n=e.updateSetting,r=we().t;return U.jsx(Pe,{children:U.jsx(jt,{label:r("reader.settings.custom_filter.sepia"),checked:t,onChange:function(e,t){return n(t)}})})},Fa=function(e){var t=e.grayscale,n=e.updateSetting,r=we().t;return U.jsx(Pe,{children:U.jsx(jt,{label:r("reader.settings.custom_filter.grayscale"),checked:t,onChange:function(e,t){return n(t)}})})},Va=function(e){var t=e.invert,n=e.updateSetting,r=we().t;return U.jsx(Pe,{children:U.jsx(jt,{label:r("reader.settings.custom_filter.invert"),checked:t,onChange:function(e,t){return n(t)}})})},Ba=function(e){var t=e.settings.customFilter,n=e.updateSetting,r=e.onDefault,a=e.setTransparent,o=function(e,t){n("customFilter",e,t),null==a||a(void 0!==t&&!t)};return U.jsxs(Pe,{sx:{gap:2},children:[U.jsx(Ea,{brightness:t.brightness,updateSetting:function(e,n,r){return o(M(M({},t),{},T({},e,n)),r)}}),U.jsx(Ia,{contrast:t.contrast,updateSetting:function(e,n,r){return o(M(M({},t),{},T({},e,n)),r)}}),U.jsx(Aa,{saturate:t.saturate,updateSetting:function(e,n,r){return o(M(M({},t),{},T({},e,n)),r)}}),U.jsx(ka,{hue:t.hue,updateSetting:function(e,n,r){return o(M(M({},t),{},T({},e,n)),r)}}),U.jsx(Ra,{rgba:t.rgba,updateSetting:function(e,n,r){return o(M(M({},t),{},T({},e,n)),r)}}),U.jsx(Na,{sepia:t.sepia,updateSetting:function(e){return o(M(M({},t),{},{sepia:e}))}}),U.jsx(Fa,{grayscale:t.grayscale,updateSetting:function(e){return o(M(M({},t),{},{grayscale:e}))}}),U.jsx(Va,{invert:t.invert,updateSetting:function(e){return o(M(M({},t),{},{invert:e}))}}),U.jsx(Pe,{sx:{alignItems:"end"},children:U.jsx(ta,{onClick:function(){return null==r?void 0:r("customFilter")},variant:"outlined"})})]})},za=T(T({},je.PREVIOUS,{title:"global.label.previous",icon:null}),je.MANGA,{title:"manga.title_one",icon:null}),Ua=Object.values(je).filter(function(e){return"number"==typeof e}),Wa=function(e){var t=e.exitMode,n=e.setExitMode,r=we().t;return U.jsx(Vr,{label:r("reader.settings.exit_mode"),value:t,values:Ua,setValue:n,valueToDisplayData:za})},Ha=b("I",function(e){var t=e.autoScroll,n=e.setAutoScroll,r=we().t;return U.jsxs(U.Fragment,{children:[U.jsx(jt,{label:r("reader.settings.auto_scroll.smooth"),checked:t.smooth,onChange:function(e,r){return n(M(M({},t),{},{smooth:r}),!0)}}),U.jsx(na,{label:r("reader.settings.auto_scroll.speed"),value:r("global.time.seconds.value",{count:t.value}),onDefault:function(){return n(M(M({},t),{},{value:A.autoScroll.value}),!0)},slotProps:{slider:M(M({defaultValue:A.customFilter.saturate.value,value:t.value},Je),{},{onChange:function(e,r){n(M(M({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n(M(M({},t),{},{value:r}),!0)}})}})]})}),Ga=T(T(T(T({},Qe.TINY,{title:"global.label.tiny",icon:null}),Qe.SMALL,{title:"global.label.small",icon:null}),Qe.MEDIUM,{title:"global.label.medium",icon:null}),Qe.LARGE,{title:"global.label.large",icon:null}),Ka=Object.values(Qe).filter(function(e){return"number"==typeof e}),Za=function(e){var t=e.scrollAmount,n=e.setScrollAmount,r=we().t;return U.jsxs(U.Fragment,{children:[U.jsx(Vr,{label:r("reader.settings.scroll_amount"),value:t,values:Ka,setValue:function(e){return n(e,!0)},valueToDisplayData:Ga}),U.jsx(na,{label:r("reader.settings.label.custom_scroll_amount"),value:r("global.value",{value:t,unit:"%"}),onDefault:function(){return n(A.scrollAmount,!0)},slotProps:{slider:M(M({defaultValue:A.scrollAmount,value:t},Ye),{},{onChange:function(e,t){n(t,!1)},onChangeCommitted:function(e,t){n(t,!0)}})}})]})},Xa=function(e){var t=e.settings,n=e.updateSetting,r=e.onDefault,a=e.isDefaultable,o=we().t;return U.jsxs(Pe,{sx:{gap:2},children:[U.jsx(Wa,{exitMode:t.exitMode,setExitMode:function(e){return n("exitMode",e)}}),U.jsx(Za,{scrollAmount:t.scrollAmount,setScrollAmount:function(e,t){return n("scrollAmount",e,t)}}),U.jsx(jt,{label:o("reader.settings.label.skip_dup_chapters"),checked:t.shouldSkipDupChapters,onChange:function(e,t){return n("shouldSkipDupChapters",t)}}),U.jsx(jt,{label:U.jsxs(W,{children:[U.jsx(Oe,{children:o("reader.settings.label.skip_filtered_chapters")}),a&&U.jsx(Oe,{variant:"body2",color:"textDisabled",children:o("reader.settings.label.unchangeable_in_reader")})]}),checked:t.shouldSkipFilteredChapters,onChange:function(e,t){return n("shouldSkipFilteredChapters",t)},disabled:a}),zt(t.readingMode.value)&&U.jsx(jt,{label:o("reader.settings.label.offset_double_spread"),checked:t.shouldOffsetDoubleSpreads.value,onChange:function(e,t){return n("shouldOffsetDoubleSpreads",t)}}),U.jsx(jt,{label:U.jsxs(W,{children:[U.jsx(Oe,{children:o("reader.settings.infinite_scroll.title")}),U.jsx(Oe,{variant:"body2",color:"textDisabled",children:o("reader.settings.infinite_scroll.description")})]}),checked:t.shouldUseInfiniteScroll,onChange:function(e,t){return n("shouldUseInfiniteScroll",t)}}),U.jsx(jt,{label:U.jsxs(W,{children:[U.jsx(Oe,{children:o("reader.settings.preview.reading_mode.title")}),U.jsx(Oe,{variant:"body2",color:"textDisabled",children:o("reader.settings.preview.reading_mode.description")})]}),checked:t.shouldShowReadingModePreview,onChange:function(e,t){return n("shouldShowReadingModePreview",t)}}),U.jsx(jt,{label:U.jsxs(W,{children:[U.jsx(Oe,{children:o("reader.settings.preview.tap_zones.title")}),U.jsx(Oe,{variant:"body2",color:"textDisabled",children:o("reader.settings.preview.tap_zones.description")})]}),checked:t.shouldShowTapZoneLayoutPreview,onChange:function(e,t){return n("shouldShowTapZoneLayoutPreview",t)}}),U.jsx(jt,{label:U.jsxs(W,{children:[U.jsx(Oe,{children:o("reader.settings.auto_webtoon_mode.title")}),U.jsx(Oe,{variant:"body2",color:"textDisabled",children:o("reader.settings.auto_webtoon_mode.description")})]}),checked:t.shouldUseAutoWebtoonMode,onChange:function(e,t){return n("shouldUseAutoWebtoonMode",t)}}),U.jsx(jt,{label:o("reader.settings.show_transition_page"),checked:t.shouldShowTransitionPage,onChange:function(e,t){return n("shouldShowTransitionPage",t)}}),U.jsx(jt,{label:o("reader.settings.chapter_transition.warning.missing_chapter"),checked:t.shouldInformAboutMissingChapter,onChange:function(e,t){return n("shouldInformAboutMissingChapter",t)}}),U.jsx(jt,{label:o("reader.settings.chapter_transition.warning.scanlator_change"),checked:t.shouldInformAboutScanlatorChange,onChange:function(e,t){return n("shouldInformAboutScanlatorChange",t)}}),U.jsx(Ha,{autoScroll:t.autoScroll,setAutoScroll:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,["autoScroll"].concat(t))}}),U.jsx(na,{label:o("reader.settings.image_preload_amount"),value:t.imagePreLoadAmount,onDefault:function(){return null==r?void 0:r("imagePreLoadAmount")},slotProps:{slider:{defaultValue:A.imagePreLoadAmount,value:t.imagePreLoadAmount,step:qe.step,min:qe.min,max:qe.max,onChange:function(e,t){n("imagePreLoadAmount",t,!1)},onChangeCommitted:function(e,t){n("imagePreLoadAmount",t,!0)}}}})]})},Ja=$e(Oe)(function(e){var t=e.theme;return{display:"inline-block",padding:"0.2em 0.4em",fontSize:"0.85em",lineHeight:"1.4",color:t.palette.text.primary,backgroundColor:t.palette.background.paper,border:"1px solid ".concat(t.palette.divider),borderRadius:"3px",boxShadow:"inset 0 -1px 0 ".concat(t.palette.divider),fontFamily:"monospace, monospace"}}),Ya=function(e){var t=e.keys,n=e.removeKey,r=we().t;return U.jsx(Pe,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:t.map(function(e,a){return U.jsxs(C.Fragment,{children:[U.jsx(Me,{title:r("global.button.delete"),hidden:!n,children:U.jsx(Pe,{sx:{flexDirection:"row",flexWrap:"wrap",gap:.5,cursor:n?"pointer":void 0},onClick:function(){return null==n?void 0:n(e)},children:e.split("+").map(function(e,t,n){return U.jsxs(C.Fragment,{children:[U.jsx(Ja,{children:e}),t===n.length-1?"":"+"]},e)})})}),a===t.length-1?"":","]},e)})})},Qa=function(e){var t=e.onClose,n=e.onCreate,r=e.existingKeys,a=we().t,o=E(et(),2),i=o[0],u=o[1],l=u.start,s=u.stop,c=u.resetKeys,d=[j(i).join("+")],f=d.some(function(e){return r.map(function(e){return e.toLowerCase()}).includes(e.toLowerCase())});return C.useEffect(function(){return l(),function(){s()}},[]),U.jsxs(tt,{open:!0,onClose:t,fullWidth:!0,children:[U.jsx(nt,{children:a("hotkeys.create.dialog.title")}),U.jsxs(rt,{children:[U.jsx(Pe,{sx:{flexDirection:"row",gap:1},children:U.jsx(xt,{i18nKey:"hotkeys.create.dialog.label",components:{Keys:i.size?U.jsx(Ya,{keys:d}):U.jsx(Oe,{children:a("hotkeys.create.dialog.placeholder")})},children:"Recorded keys:"})}),f&&U.jsx(Oe,{color:"error",children:a("hotkeys.create.error.exists")})]}),U.jsx(at,{children:U.jsxs(Pe,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[U.jsx(Ce,{onClick:c,children:a("global.button.reset")}),U.jsxs(Pe,{direction:"row",children:[U.jsx(Ce,{onClick:t,children:a("global.button.cancel")}),U.jsx(Ce,{disabled:f,onClick:function(){t(),n(d)},children:a("global.button.create")})]})]})})]})},qa=(T(T(T(T(T(T(T(T(T(T(w={},ut.PREVIOUS_PAGE,"reader.settings.hotkey.previous_page"),ut.NEXT_PAGE,"reader.settings.hotkey.next_page"),ut.SCROLL_BACKWARD,"reader.settings.hotkey.scroll_backward"),ut.SCROLL_FORWARD,"reader.settings.hotkey.scroll_forward"),ut.PREVIOUS_CHAPTER,"reader.settings.hotkey.previous_chapter"),ut.NEXT_CHAPTER,"reader.settings.hotkey.next_chapter"),ut.TOGGLE_MENU,"reader.settings.hotkey.menu"),ut.CYCLE_SCALE_TYPE,"reader.settings.hotkey.scale_type"),ut.STRETCH_IMAGE,"reader.settings.hotkey.stretch_image"),ut.OFFSET_SPREAD_PAGES,"reader.settings.hotkey.offset_spread_pages"),T(T(T(T(T(T(w,ut.CYCLE_READING_MODE,"reader.settings.hotkey.reading_mode"),ut.CYCLE_READING_DIRECTION,"reader.settings.hotkey.reading_direction"),ut.TOGGLE_AUTO_SCROLL,"reader.settings.hotkey.auto_scroll"),ut.AUTO_SCROLL_SPEED_INCREASE,"reader.settings.hotkey.auto_scroll_speed_increase"),ut.AUTO_SCROLL_SPEED_DECREASE,"reader.settings.hotkey.auto_scroll_speed_decrease"),ut.EXIT_READER,"reader.button.exit")),$a=function(e){var t=e.hotkey,n=e.keys,r=e.existingKeys,a=e.updateSetting,o=we().t,i=ot({popupId:"reader-setting-record-hotkey",variant:"dialog"});return U.jsxs(U.Fragment,{children:[U.jsxs(Pe,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[U.jsx(Oe,{sx:{flexGrow:1},children:o(qa[t])}),U.jsx(Ya,{keys:n,removeKey:function(e){return a(n.filter(function(t){return t!==e}))}}),U.jsx(Me,{title:o("global.button.add"),children:U.jsx(Fe,M(M({},it(i)),{},{color:"inherit",children:U.jsx(wt,{})}))}),U.jsx(ta,{asIconButton:!0,onClick:function(){return a(A.hotkeys[t])}})]}),i.isOpen&&U.jsx(Qa,{onClose:i.close,onCreate:function(e){return a([].concat(j(n),j(e)))},existingKeys:r})]})},eo=function(e){var t=e.settings,n=e.updateSetting,r=e.onDefault,a=we().t;return U.jsxs(Pe,{sx:{gap:2},children:[U.jsx(Pe,{sx:{alignItems:"end"},children:U.jsx(Oe,{variant:"caption",children:a("hotkeys.info.delete")})}),lt.map(function(e){return U.jsx($a,{hotkey:e,keys:t.hotkeys[e],existingKeys:Object.values(t.hotkeys).flat(),updateSetting:function(r){return n("hotkeys",M(M({},t.hotkeys),{},T({},e,r)))}},e)}),U.jsx(Pe,{sx:{alignItems:"end"},children:U.jsx(ta,{onClick:function(){return null==r?void 0:r("hotkeys")},variant:"outlined"})})]})},to=b("w",function(e,t,n){return C.memo(function(r){var a=r.ref,o=S(r,h),i=t.reduce(function(e,t){return M(M({},e),t(o))},{}),u=Object.fromEntries(Object.entries(i).filter(function(e){var t=E(e,1)[0];return n.includes(t)})),l=M(M({},o),u);return U.jsx(e,M(M({},l),{},{ref:a}))})});b("R",to(function(e){var t=e.activeTab,n=e.setActiveTab,r=e.areDefaultSettings,a=e.settings,o=e.updateSetting,i=e.deleteSetting,u=e.mode,l=e.setTransparent,s=we().t,c=ne.useIsTouchDevice(),d=pr(function(e){return e.tapZone.setShowPreview});return U.jsxs(U.Fragment,{children:[U.jsx(dt,{value:t,onChange:function(e,t){return n(t)},sx:M(M({},H(!!r,{zIndex:2})),H(!r,{backgroundColor:"background.paper",backgroundImage:"var(--Paper-overlay)"})),children:Object.values(st).map(function(e){var t=e.id,n=e.label;return!e.supportsTouchDevices&&c?null:U.jsx(bt,{value:t,label:s(n),sx:{flexGrow:1,maxWidth:"unset",textTransform:"none"}},t)})}),U.jsx(W,{sx:{p:r?void 0:2,overflowX:"hidden"},children:Object.values(st).map(function(e){var n=e.id;if(!e.supportsTouchDevices&&c)return null;switch(n){case ct.LAYOUT:return r?U.jsx(mt,{index:n,currentIndex:t,children:U.jsx(ua,{readingMode:a.readingMode,updateSetting:function(){return o.apply(void 0,arguments)}})},n):U.jsx(mt,{index:n,currentIndex:t,children:U.jsx(la,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},setShowPreview:d,isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)},isSeriesMode:!0,setTransparent:l})},n);case ct.GENERAL:return U.jsx(mt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:U.jsx(Da,{overlayMode:u,settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);case ct.FILTER:return U.jsx(mt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:U.jsx(Ba,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!0,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)},setTransparent:l})},n);case ct.BEHAVIOUR:return U.jsx(mt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:U.jsx(Xa,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);case ct.HOTKEYS:return U.jsx(mt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:U.jsx(eo,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!0,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);default:throw new Error('Unexpected "ReaderSettingTab" ('.concat(n,")"))}})})]})},[Rr.useOverlayMode],["mode"]))}}})}();
