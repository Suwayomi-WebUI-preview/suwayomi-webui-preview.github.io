import{aa as x,u as P,h as d,j as n,k as f,I as m,ao as b,aM as C,aN as G,v as j,aO as B,aD as R,aP as k,e as D}from"./index-CqhVtos5.js";import{F as v}from"./FilterList-COmUV3r3.js";import{c as h}from"./cloneObject-DrOPTG0J.js";import{D as l,b as M,l as w}from"./Languages-D4COx7Gn.js";import{S as H}from"./Switch-Cxc4fpo2.js";var L=(a=>(a.UPDATE="UPDATE",a.UNINSTALL="UNINSTALL",a.INSTALL="INSTALL",a))(L||{}),r=(a=>(a.OBSOLETE="OBSOLETE",a.UPDATING="UPDATING",a.UNINSTALLING="UNINSTALLING",a.INSTALLING="INSTALLING",a))(r||{});const i={...L,...r};var t=(a=>(a.INSTALLED="INSTALLED",a.UPDATE_PENDING="UPDATE_PENDING",a.OBSOLETE="OBSOLETE",a))(t||{});const Q={[L.UPDATE]:r.UPDATING,[L.UNINSTALL]:r.UNINSTALLING,[L.INSTALL]:r.INSTALLING},V={[L.UPDATE]:L.UNINSTALL,[L.UNINSTALL]:L.INSTALL,[L.INSTALL]:L.UNINSTALL},Z={[i.UNINSTALL]:"extension.action.label.uninstall",[i.INSTALL]:"extension.action.label.install",[i.UPDATE]:"extension.action.label.update",[i.OBSOLETE]:"extension.state.label.obsolete",[i.UPDATING]:"extension.state.label.updating",[i.UNINSTALLING]:"extension.state.label.uninstalling",[i.INSTALLING]:"extension.state.label.installing"},$={[L.UPDATE]:"extension.label.update_failed",[L.INSTALL]:"extension.label.installation_failed",[L.UNINSTALL]:"extension.label.uninstallation_failed"},y={[t.INSTALLED]:"extension.state.label.installed",[t.UPDATE_PENDING]:"extension.state.label.update_pending",[t.OBSOLETE]:"extension.state.label.obsolete",[l.ALL]:"extension.language.all",[l.OTHER]:"extension.language.other",[l.LOCAL_SOURCE]:"extension.language.other"},aa=(a,o,s)=>o?i.OBSOLETE:s?i.UPDATE:a?i.UNINSTALL:i.INSTALL,F=a=>[t.INSTALLED,t.UPDATE_PENDING,t.OBSOLETE,l.ALL,l.OTHER,l.LOCAL_SOURCE].includes(a),X=a=>F(a)?x(y[a]):M(a);function ea(a){const o=[],s={[t.OBSOLETE]:[],[t.INSTALLED]:[],[t.UPDATE_PENDING]:[],[l.ALL]:[],[l.OTHER]:[],[l.LOCAL_SOURCE]:[]};a.forEach(e=>{if(s[e.lang]===void 0&&(s[e.lang]=[],e.lang!=="all"&&o.push(e.lang)),e.isInstalled){if(e.hasUpdate){s[t.UPDATE_PENDING].push(e);return}if(e.isObsolete){s[t.OBSOLETE].push(e);return}s[t.INSTALLED].push(e)}else s[e.lang].push(e)}),o.sort(w);const T=[[t.OBSOLETE,s[t.OBSOLETE]],[t.UPDATE_PENDING,s[t.UPDATE_PENDING]],[t.INSTALLED,s[t.INSTALLED]],[l.ALL,s[l.ALL]],[l.OTHER,s[l.OTHER]],[l.LOCAL_SOURCE,s[l.LOCAL_SOURCE]]],I=o.map(e=>[e,s[e]]),E=T.concat(I);return E.forEach(([,e])=>e.sort((A,S)=>A.name.localeCompare(S.name))),{allLangs:o,groupedExtensions:E}}function K(a,o){return o.forEach(s=>{const T=a.indexOf(s);T!==-1&&a.splice(T,1)}),a}function sa(a){const{t:o}=P(),{shownLangs:s,setShownLangs:T,allLangs:I,forcedLangs:E=[]}=a,[e,A]=d.useState(K(h(s),E)),[S,O]=d.useState(!1),g=()=>{O(!1)},U=()=>{O(!1),T(e)},_=(N,c)=>{const{checked:p}=N.target;if(p)A([...e,c]);else{const u=h(e);u.splice(u.indexOf(c),1),A(u)}};return n.jsxs(n.Fragment,{children:[n.jsx(f,{title:o("settings.title"),children:n.jsx(m,{onClick:()=>O(!0),"aria-label":"display more actions",edge:"end",color:"inherit",size:"large",children:n.jsx(v,{})})}),n.jsxs(b,{sx:{".MuiDialog-paper":{maxHeight:435,width:"80%"}},maxWidth:"xs",open:S,onClose:g,children:[n.jsx(C,{children:o("global.language.title.enabled_languages")}),n.jsx(G,{dividers:!0,sx:{padding:0},children:n.jsx(j,{children:I.map(N=>n.jsxs(B,{children:[n.jsx(R,{primary:X(N)}),n.jsx(H,{checked:e.indexOf(N)!==-1,onChange:c=>_(c,N)})]},N))})}),n.jsxs(k,{children:[n.jsx(D,{autoFocus:!0,onClick:g,color:"primary",children:o("global.button.cancel")}),n.jsx(D,{onClick:U,color:"primary",children:o("global.button.ok")})]})]})]})}export{r as E,i as I,sa as L,Z as a,L as b,$ as c,V as d,Q as e,ea as f,aa as g,t as h,F as i,X as t};
