import{i as C,j as l,bd as ge,be as ke,ag as B,bf as me,bg as pe,T as fs,e as xe,bh as Hs,I as hs,bi as Us,bj as gs,bk as zs,bl as He,aR as ks,bm as Ue,bn as Cs,bo as Ws,bp as Ts,bq as o,aN as qs,u as vs,b5 as Ye,aT as Qe,br as _e,D as xs,t as ws,s as ys,b1 as Ss,g as Ks,r as Ve,bs as os,q as Te,m as Gs,E as Ys,n as Ae,o as Qs,G as Ee,aS as Xs,bb as Js,a$ as ns,d as as,A as rs,L as is,al as ls}from"./index-BgT5c6fp.js";import{f as cs}from"./file-selector-DlHkLoY8.js";import{P as Zs}from"./Progress-CDvD-rRL.js";import{T as et}from"./TextSetting-B5L_fnQN.js";import{N as us}from"./NumberSetting-fmLnA9A6.js";import{c as qe,s as ye,a as st,u as be,b as je,_ as S,d as tt,e as ee,f as le,g as ot,P as nt,C as at,h as rt,i as it,j as lt,k as Xe,l as Ne,m as we,n as ct,o as ut,p as De,q as dt,S as mt,r as Je,t as Ze,v as es,w as ze,x as ss,y as pt,D as Ms,z as We,M as bt,A as Le,B as Ds,E as Ps,F as Vs,G as ft,H as Is,I as ht,J as gt,L as kt,K as Ct}from"./useMobilePicker-DUBn37KM.js";import"./PasswordTextField-D6riaqmF.js";import"./Chip-BONGXZ4-.js";const Ke=({adapter:e,value:s,timezone:n,props:t})=>{if(s===null)return null;const{minTime:a,maxTime:i,minutesStep:c,shouldDisableTime:d,disableIgnoringDatePartForTimeValidation:u=!1,disablePast:p,disableFuture:x}=t,b=e.utils.date(void 0,n),h=qe(u,e.utils);switch(!0){case!e.utils.isValid(s):return"invalidDate";case!!(a&&h(a,s)):return"minTime";case!!(i&&h(s,i)):return"maxTime";case!!(x&&e.utils.isAfter(s,b)):return"disableFuture";case!!(p&&e.utils.isBefore(s,b)):return"disablePast";case!!(d&&d(s,"hours")):return"shouldDisableTime-hours";case!!(d&&d(s,"minutes")):return"shouldDisableTime-minutes";case!!(d&&d(s,"seconds")):return"shouldDisableTime-seconds";case!!(c&&e.utils.getMinutes(s)%c!==0):return"minutesStep";default:return null}};Ke.valueManager=ye;function Tt(e={}){const{enableAccessibleFieldDOMStructure:s=!0,ampm:n}=e;return C.useMemo(()=>({valueType:"time",validator:Ke,internal_valueManager:ye,internal_fieldValueManager:st,internal_enableAccessibleFieldDOMStructure:s,internal_useApplyDefaultValuesToFieldInternalProps:xt,internal_useOpenPickerButtonAriaLabel:vt(n)}),[n,s])}function vt(e){return function(n){const t=be(),a=je();return C.useMemo(()=>{const i=(e!=null?e:t.is12HourCycleInCurrentLocale())?"fullTime12h":"fullTime24h",c=t.isValid(n)?t.format(n,i):null;return a.openTimePickerDialogue(c)},[n,a,t])}}function xt(e){const s=be(),n=js(e),t=C.useMemo(()=>{var a;return(a=e.ampm)!=null?a:s.is12HourCycleInCurrentLocale()},[e.ampm,s]);return C.useMemo(()=>{var a;return S({},e,n,{format:(a=e.format)!=null?a:t?s.formats.fullTime12h:s.formats.fullTime24h})},[e,n,t,s])}function js(e){return C.useMemo(()=>{var s,n;return{disablePast:(s=e.disablePast)!=null?s:!1,disableFuture:(n=e.disableFuture)!=null?n:!1}},[e.disablePast,e.disableFuture])}const wt=e=>{const s=Tt(e);return tt({manager:s,props:e})},yt=["slots","slotProps","InputProps","inputProps"],Ns=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiTimeField"}),{slots:a,slotProps:i}=t,c=le(t,yt),d=ot({slotProps:i,ref:n,externalForwardedProps:c}),u=wt(d);return l.jsx(nt,{slots:a,slotProps:i,fieldResponse:u,defaultOpenPickerIcon:at})});function St(e){return ge("MuiPickersToolbarText",e)}ke("MuiPickersToolbarText",["root"]);const Mt=["className","classes","selected","value"],Dt=e=>pe({root:["root"]},St,e),Pt=B(fs,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,s)=>[s.root]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),Rs=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiPickersToolbarText"}),{className:a,classes:i,selected:c,value:d}=t,u=le(t,Mt),p=Dt(i);return l.jsx(Pt,S({ref:n,className:me(p.root,a),component:"span"},c&&{"data-selected":!0},u,{children:d}))}),Vt=["align","className","classes","selected","typographyClassName","value","variant","width"],It=e=>pe({root:["root"]},rt,e),jt=B(xe,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,s)=>s.root})({padding:0,minWidth:16,textTransform:"none"}),Re=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiPickersToolbarButton"}),{align:a,className:i,classes:c,selected:d,typographyClassName:u,value:p,variant:x,width:b}=t,h=le(t,Vt),r=It(c);return l.jsx(jt,S({variant:"text",ref:n,className:me(r.root,i)},b?{sx:{width:b}}:{},h,{children:l.jsx(Rs,{align:a,className:u,variant:x,value:p,selected:d})}))});function Nt(e){return ge("MuiTimePickerToolbar",e)}const Fe=ke("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Rt=["ampm","ampmInClock","className","classes"],Ft=(e,s)=>{const{pickerOrientation:n,toolbarDirection:t}=s;return pe({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",n==="landscape"&&"hourMinuteLabelLandscape",t==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",n==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},Nt,e)},Lt=B(ct,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(e,s)=>s.root})({}),Ot=B(Rs,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(e,s)=>s.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Bt=B("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(e,s)=>[{["&.".concat(Fe.hourMinuteLabelLandscape)]:s.hourMinuteLabelLandscape,["&.".concat(Fe.hourMinuteLabelReverse)]:s.hourMinuteLabelReverse},s.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{pickerOrientation:"landscape"},style:{marginTop:"auto"}}]}),_t=B("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,s)=>[{[".".concat(Fe.ampmLabel)]:s.ampmLabel},{["&.".concat(Fe.ampmLandscape)]:s.ampmLandscape},s.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,["& .".concat(Fe.ampmLabel)]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function At(e){const s=ee({props:e,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:t,className:a,classes:i}=s,c=le(s,Rt),d=be(),u=je(),p=it(),x=Ft(i,p),{value:b,setValue:h,disabled:r,readOnly:k,view:w,setView:P,views:D}=lt(),I=!!(n&&!t&&D.includes("hours")),{meridiemMode:R,handleMeridiemChange:L}=Xe(b,n,j=>h(j,{changeImportance:"set"})),F=j=>d.isValid(b)?d.format(b,j):"--",A=l.jsx(Ot,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:x.separator});return l.jsxs(Lt,S({landscapeDirection:"row",toolbarTitle:u.timePickerToolbarTitle,ownerState:p,className:me(x.root,a)},c,{children:[l.jsxs(Bt,{className:x.hourMinuteLabel,ownerState:p,children:[Ne(D,"hours")&&l.jsx(Re,{tabIndex:-1,variant:"h3",onClick:()=>P("hours"),selected:w==="hours",value:F(n?"hours12h":"hours24h")}),Ne(D,["hours","minutes"])&&A,Ne(D,"minutes")&&l.jsx(Re,{tabIndex:-1,variant:"h3",onClick:()=>P("minutes"),selected:w==="minutes",value:F("minutes")}),Ne(D,["minutes","seconds"])&&A,Ne(D,"seconds")&&l.jsx(Re,{variant:"h3",onClick:()=>P("seconds"),selected:w==="seconds",value:F("seconds")})]}),I&&l.jsxs(_t,{className:x.ampmSelection,ownerState:p,children:[l.jsx(Re,{disableRipple:!0,variant:"subtitle2",selected:R==="am",typographyClassName:x.ampmLabel,value:we(d,"am"),onClick:k?void 0:()=>L("am"),disabled:r}),l.jsx(Re,{disableRipple:!0,variant:"subtitle2",selected:R==="pm",typographyClassName:x.ampmLabel,value:we(d,"pm"),onClick:k?void 0:()=>L("pm"),disabled:r})]})]}))}function Fs(e,s){var d,u;const n=be(),t=ee({props:e,name:s}),a=js(t),i=(d=t.ampm)!=null?d:n.is12HourCycleInCurrentLocale(),c=C.useMemo(()=>{var p;return((p=t.localeText)==null?void 0:p.toolbarTitle)==null?t.localeText:S({},t.localeText,{timePickerToolbarTitle:t.localeText.toolbarTitle})},[t.localeText]);return S({},t,a,{ampm:i,localeText:c},ut({views:t.views,openTo:t.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{slots:S({toolbar:At},t.slots),slotProps:S({},t.slotProps,{toolbar:S({ampm:i,ampmInClock:t.ampmInClock},(u=t.slotProps)==null?void 0:u.toolbar)})})}function Et(e){return ge("MuiTimeClock",e)}ke("MuiTimeClock",["root","arrowSwitcher"]);const Ie=220,he=36,Oe={x:Ie/2,y:Ie/2},Ls={x:Oe.x,y:0},$t=Ls.x-Oe.x,Ht=Ls.y-Oe.y,Ut=e=>e*(180/Math.PI),Os=(e,s,n)=>{const t=s-Oe.x,a=n-Oe.y,i=Math.atan2($t,Ht)-Math.atan2(t,a);let c=Ut(i);c=Math.round(c/e)*e,c%=360;const d=Math.floor(c/e)||0,u=t**2+a**2,p=Math.sqrt(u);return{value:d,distance:p}},zt=(e,s,n=1)=>{const t=n*6;let{value:a}=Os(t,e,s);return a=a*n%60,a},Wt=(e,s,n)=>{const{value:t,distance:a}=Os(30,e,s);let i=t||12;return n?i%=12:a<Ie/2-he&&(i+=12,i%=24),i};function qt(e){return ge("MuiClockPointer",e)}ke("MuiClockPointer",["root","thumb"]);const Kt=["className","classes","isBetweenTwoClockValues","isInner","type","viewValue"],Gt=e=>pe({root:["root"],thumb:["thumb"]},qt,e),Yt=B("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(e,s)=>s.root})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{isClockPointerAnimated:!0},style:{transition:e.transitions.create(["transform","height"])}}]})),Qt=B("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(e,s)=>s.thumb})(({theme:e})=>({width:4,height:4,backgroundColor:(e.vars||e).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:"calc(50% - ".concat(he/2,"px)"),border:"".concat((he-4)/2,"px solid ").concat((e.vars||e).palette.primary.main),boxSizing:"content-box",variants:[{props:{isClockPointerBetweenTwoValues:!1},style:{backgroundColor:(e.vars||e).palette.primary.main}}]}));function Xt(e){const s=ee({props:e,name:"MuiClockPointer"}),{className:n,classes:t,isBetweenTwoClockValues:a,isInner:i,type:c,viewValue:d}=s,u=le(s,Kt),p=C.useRef(c);C.useEffect(()=>{p.current=c},[c]);const{ownerState:x}=De(),b=S({},x,{isClockPointerAnimated:p.current!==c,isClockPointerBetweenTwoValues:a}),h=Gt(t),r=()=>{let w=360/(c==="hours"?12:60)*d;return c==="hours"&&d>12&&(w-=360),{height:Math.round((i?.26:.4)*Ie),transform:"rotateZ(".concat(w,"deg)")}};return l.jsx(Yt,S({style:r(),className:me(h.root,n),ownerState:b},u,{children:l.jsx(Qt,{ownerState:b,className:h.thumb})}))}function Jt(e){return ge("MuiClock",e)}ke("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const Zt=(e,s)=>{const n={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",s.clockMeridiemMode==="am"&&"selected"],pmButton:["pmButton",s.clockMeridiemMode==="pm"&&"selected"],meridiemText:["meridiemText"]};return pe(n,Jt,e)},eo=B("div",{name:"MuiClock",slot:"Root",overridesResolver:(e,s)=>s.root})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2)})),so=B("div",{name:"MuiClock",slot:"Clock",overridesResolver:(e,s)=>s.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),to=B("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(e,s)=>s.wrapper})({"&:focus":{outline:"none"}}),oo=B("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(e,s)=>s.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{isClockDisabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),no=B("div",{name:"MuiClock",slot:"Pin",overridesResolver:(e,s)=>s.pin})(({theme:e})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Bs=(e,s)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:he,variants:[{props:{clockMeridiemMode:s},style:{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}}}]}),ao=B(hs,{name:"MuiClock",slot:"AmButton",overridesResolver:(e,s)=>s.amButton})(({theme:e})=>S({},Bs(e,"am"),{position:"absolute",left:8})),ro=B(hs,{name:"MuiClock",slot:"PmButton",overridesResolver:(e,s)=>s.pmButton})(({theme:e})=>S({},Bs(e,"pm"),{position:"absolute",right:8})),ds=B(fs,{name:"MuiClock",slot:"meridiemText",overridesResolver:(e,s)=>s.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function io(e){const s=ee({props:e,name:"MuiClock"}),{ampm:n,ampmInClock:t,autoFocus:a,children:i,value:c,handleMeridiemChange:d,isTimeDisabled:u,meridiemMode:p,minutesStep:x=1,onChange:b,selectedId:h,type:r,viewValue:k,viewRange:[w,P],disabled:D=!1,readOnly:I,className:R,classes:L}=s,F=be(),A=je(),{ownerState:j}=De(),E=S({},j,{isClockDisabled:D,clockMeridiemMode:p}),V=C.useRef(!1),v=Zt(L,E),m=u(k,r),M=!n&&r==="hours"&&(k<1||k>12),N=(g,re)=>{D||I||u(g,r)||b(g,re)},O=(g,re)=>{let{offsetX:z,offsetY:te}=g;if(z===void 0){const oe=g.target.getBoundingClientRect();z=g.changedTouches[0].clientX-oe.left,te=g.changedTouches[0].clientY-oe.top}const Z=r==="seconds"||r==="minutes"?zt(z,te,x):Wt(z,te,!!n);N(Z,re)},ce=g=>{V.current=!0,O(g,"shallow")},se=g=>{V.current&&(O(g,"finish"),V.current=!1),g.preventDefault()},Se=g=>{g.buttons>0&&O(g.nativeEvent,"shallow")},ue=g=>{V.current&&(V.current=!1),O(g.nativeEvent,"finish")},J=r==="hours"?!1:k%5!==0,fe=r==="minutes"?x:1,_=C.useRef(null);Hs(()=>{a&&_.current.focus()},[a]);const H=g=>Math.max(w,Math.min(P,g)),G=g=>(g+(P+1))%(P+1),Y=g=>{if(!V.current)switch(g.key){case"Home":N(w,"partial"),g.preventDefault();break;case"End":N(P,"partial"),g.preventDefault();break;case"ArrowUp":N(G(k+fe),"partial"),g.preventDefault();break;case"ArrowDown":N(G(k-fe),"partial"),g.preventDefault();break;case"PageUp":N(H(k+5),"partial"),g.preventDefault();break;case"PageDown":N(H(k-5),"partial"),g.preventDefault();break;case"Enter":case" ":N(k,"finish"),g.preventDefault();break}};return l.jsxs(eo,{className:me(v.root,R),children:[l.jsxs(so,{className:v.clock,children:[l.jsx(oo,{onTouchMove:ce,onTouchStart:ce,onTouchEnd:se,onMouseUp:ue,onMouseMove:Se,ownerState:E,className:v.squareMask}),!m&&l.jsxs(C.Fragment,{children:[l.jsx(no,{className:v.pin}),c!=null&&l.jsx(Xt,{type:r,viewValue:k,isInner:M,isBetweenTwoClockValues:J})]}),l.jsx(to,{"aria-activedescendant":h,"aria-label":A.clockLabelText(r,c==null?null:F.format(c,n?"fullTime12h":"fullTime24h")),ref:_,role:"listbox",onKeyDown:Y,tabIndex:0,className:v.wrapper,children:i})]}),n&&t&&l.jsxs(C.Fragment,{children:[l.jsx(ao,{onClick:I?void 0:()=>d("am"),disabled:D||p===null,ownerState:E,className:v.amButton,title:we(F,"am"),children:l.jsx(ds,{variant:"caption",className:v.meridiemText,children:we(F,"am")})}),l.jsx(ro,{disabled:D||p===null,onClick:I?void 0:()=>d("pm"),ownerState:E,className:v.pmButton,title:we(F,"pm"),children:l.jsx(ds,{variant:"caption",className:v.meridiemText,children:we(F,"pm")})})]})]})}function lo(e){return ge("MuiClockNumber",e)}const $e=ke("MuiClockNumber",["root","selected","disabled"]),co=["className","classes","disabled","index","inner","label","selected"],uo=(e,s)=>{const n={root:["root",s.isClockNumberSelected&&"selected",s.isClockNumberDisabled&&"disabled"]};return pe(n,lo,e)},mo=B("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,s)=>[s.root,{["&.".concat($e.disabled)]:s.disabled},{["&.".concat($e.selected)]:s.selected}]})(({theme:e})=>({height:he,width:he,position:"absolute",left:"calc((100% - ".concat(he,"px) / 2)"),display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(e.vars||e).palette.text.primary,fontFamily:e.typography.fontFamily,"&:focused":{backgroundColor:(e.vars||e).palette.background.paper},["&.".concat($e.selected)]:{color:(e.vars||e).palette.primary.contrastText},["&.".concat($e.disabled)]:{pointerEvents:"none",color:(e.vars||e).palette.text.disabled},variants:[{props:{isClockNumberInInnerRing:!0},style:S({},e.typography.body2,{color:(e.vars||e).palette.text.secondary})}]}));function _s(e){const s=ee({props:e,name:"MuiClockNumber"}),{className:n,classes:t,disabled:a,index:i,inner:c,label:d,selected:u}=s,p=le(s,co),{ownerState:x}=De(),b=S({},x,{isClockNumberInInnerRing:c,isClockNumberSelected:u,isClockNumberDisabled:a}),h=uo(t,b),r=i%12/12*Math.PI*2-Math.PI/2,k=(Ie-he-2)/2*(c?.65:1),w=Math.round(Math.cos(r)*k),P=Math.round(Math.sin(r)*k);return l.jsx(mo,S({className:me(h.root,n),"aria-disabled":a?!0:void 0,"aria-selected":u?!0:void 0,role:"option",style:{transform:"translate(".concat(w,"px, ").concat(P+(Ie-he)/2,"px")},ownerState:b},p,{children:d}))}const po=({ampm:e,value:s,getClockNumberText:n,isDisabled:t,selectedId:a,utils:i})=>{const c=s?i.getHours(s):null,d=[],u=e?1:0,p=e?12:23,x=b=>c===null?!1:e?b===12?c===12||c===0:c===b||c-12===b:c===b;for(let b=u;b<=p;b+=1){let h=b.toString();b===0&&(h="00");const r=!e&&(b===0||b>12);h=i.formatNumber(h);const k=x(b);d.push(l.jsx(_s,{id:k?a:void 0,index:b,inner:r,selected:k,disabled:t(b),label:h,"aria-label":n(h)},b))}return d},ms=({utils:e,value:s,isDisabled:n,getClockNumberText:t,selectedId:a})=>{const i=e.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(([c,d],u)=>{const p=c===s;return l.jsx(_s,{label:d,id:p?a:void 0,index:u+1,inner:!1,disabled:n(c),selected:p,"aria-label":t(d)},c)})},ts=({value:e,referenceDate:s,utils:n,props:t,timezone:a})=>{const i=C.useMemo(()=>ye.getInitialReferenceValue({value:e,utils:n,props:t,referenceDate:s,granularity:mt.day,timezone:a,getTodayDate:()=>dt(n,a,"date")}),[]);return e!=null?e:i},bo=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","timezone"],fo=e=>pe({root:["root"],arrowSwitcher:["arrowSwitcher"]},Et,e),ho=B(ss,{name:"MuiTimeClock",slot:"Root",overridesResolver:(e,s)=>s.root})({display:"flex",flexDirection:"column",position:"relative"}),go=B(pt,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(e,s)=>s.arrowSwitcher})({position:"absolute",right:12,top:15}),ko=["hours","minutes"],Co=C.forwardRef(function(s,n){const t=be(),a=ee({props:s,name:"MuiTimeClock"}),{ampm:i=t.is12HourCycleInCurrentLocale(),ampmInClock:c=!1,autoFocus:d,slots:u,slotProps:p,value:x,defaultValue:b,referenceDate:h,disableIgnoringDatePartForTimeValidation:r=!1,maxTime:k,minTime:w,disableFuture:P,disablePast:D,minutesStep:I=1,shouldDisableTime:R,showViewSwitcher:L,onChange:F,view:A,views:j=ko,openTo:E,onViewChange:V,focusedView:v,onFocusedViewChange:m,className:M,classes:N,disabled:O,readOnly:ce,timezone:se}=a,Se=le(a,bo),{value:ue,handleValueChange:J,timezone:fe}=Je({name:"TimeClock",timezone:se,value:x,defaultValue:b,referenceDate:h,onChange:F,valueManager:ye}),_=ts({value:ue,referenceDate:h,utils:t,props:a,timezone:fe}),H=je(),G=Ze(fe),Y=Us(),{ownerState:g}=De(),{view:re,setView:z,previousView:te,nextView:Z,setValueAndGoToNextView:oe}=es({view:A,views:j,openTo:E,onViewChange:V,onChange:J,focusedView:v,onFocusedViewChange:m}),{meridiemMode:ne,handleMeridiemChange:ae}=Xe(_,i,oe),de=C.useCallback((q,Q)=>{const U=qe(r,t),X=Q==="hours"||Q==="minutes"&&j.includes("seconds"),f=({start:y,end:$})=>!(w&&U(w,$)||k&&U(y,k)||P&&U(y,G)||D&&U(G,X?$:y)),T=(y,$=1)=>{if(y%$!==0)return!1;if(R)switch(Q){case"hours":return!R(t.setHours(_,y),"hours");case"minutes":return!R(t.setMinutes(_,y),"minutes");case"seconds":return!R(t.setSeconds(_,y),"seconds");default:return!1}return!0};switch(Q){case"hours":{const y=ze(q,ne,i),$=t.setHours(_,y);if(t.getHours($)!==y)return!0;const K=t.setSeconds(t.setMinutes($,0),0),Pe=t.setSeconds(t.setMinutes($,59),59);return!f({start:K,end:Pe})||!T(y)}case"minutes":{const y=t.setMinutes(_,q),$=t.setSeconds(y,0),K=t.setSeconds(y,59);return!f({start:$,end:K})||!T(q,I)}case"seconds":{const y=t.setSeconds(_,q);return!f({start:y,end:y})||!T(q)}default:throw new Error("not supported")}},[i,_,r,k,ne,w,I,R,t,P,D,G,j]),Ce=C.useMemo(()=>{switch(re){case"hours":{const q=(X,f)=>{const T=ze(X,ne,i);oe(t.setHours(_,T),f,"hours")},Q=t.getHours(_);let U;return i?Q>12?U=[12,23]:U=[0,11]:U=[0,23],{onChange:q,viewValue:Q,children:po({value:ue,utils:t,ampm:i,getClockNumberText:H.hoursClockNumberText,isDisabled:X=>O||de(X,"hours"),selectedId:Y}),viewRange:U}}case"minutes":{const q=t.getMinutes(_);return{viewValue:q,onChange:(U,X)=>{oe(t.setMinutes(_,U),X,"minutes")},children:ms({utils:t,value:q,getClockNumberText:H.minutesClockNumberText,isDisabled:U=>O||de(U,"minutes"),selectedId:Y}),viewRange:[0,59]}}case"seconds":{const q=t.getSeconds(_);return{viewValue:q,onChange:(U,X)=>{oe(t.setSeconds(_,U),X,"seconds")},children:ms({utils:t,value:q,getClockNumberText:H.secondsClockNumberText,isDisabled:U=>O||de(U,"seconds"),selectedId:Y}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[re,t,ue,i,H.hoursClockNumberText,H.minutesClockNumberText,H.secondsClockNumberText,ne,oe,_,de,Y,O]),Me=fo(N);return l.jsxs(ho,S({ref:n,className:me(Me.root,M),ownerState:g},Se,{children:[l.jsx(io,S({autoFocus:d!=null?d:!!v,ampmInClock:c&&j.includes("hours"),value:ue,type:re,ampm:i,minutesStep:I,isTimeDisabled:de,meridiemMode:ne,handleMeridiemChange:ae,selectedId:Y,disabled:O,readOnly:ce},Ce)),L&&l.jsx(go,{className:Me.arrowSwitcher,slots:u,slotProps:p,onGoToPrevious:()=>z(te),isPreviousDisabled:!te,previousLabel:H.openPreviousView,onGoToNext:()=>z(Z),isNextDisabled:!Z,nextLabel:H.openNextView,ownerState:g})]}))});function To(e){return ge("MuiDigitalClock",e)}ke("MuiDigitalClock",["root","list","item"]);const vo=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],xo=e=>pe({root:["root"],list:["list"],item:["item"]},To,e),wo=B(ss,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(e,s)=>s.root})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:Ms,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),yo=B(Cs,{name:"MuiDigitalClock",slot:"List",overridesResolver:(e,s)=>s.list})({padding:0}),So=B(ks,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue",overridesResolver:(e,s)=>s.item})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ue(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ue(e.palette.primary.main,e.palette.action.focusOpacity)}})),Mo=C.forwardRef(function(s,n){var X;const t=be(),a=C.useRef(null),i=gs(n,a),c=C.useRef(null),d=ee({props:s,name:"MuiDigitalClock"}),{ampm:u=t.is12HourCycleInCurrentLocale(),timeStep:p=30,autoFocus:x,slots:b,slotProps:h,value:r,defaultValue:k,referenceDate:w,disableIgnoringDatePartForTimeValidation:P=!1,maxTime:D,minTime:I,disableFuture:R,disablePast:L,minutesStep:F=1,shouldDisableTime:A,onChange:j,view:E,openTo:V,onViewChange:v,focusedView:m,onFocusedViewChange:M,className:N,classes:O,disabled:ce,readOnly:se,views:Se=["hours"],skipDisabled:ue=!1,timezone:J}=d,fe=le(d,vo),{value:_,handleValueChange:H,timezone:G}=Je({name:"DigitalClock",timezone:J,value:r,defaultValue:k,referenceDate:w,onChange:j,valueManager:ye}),Y=je(),g=Ze(G),{ownerState:re}=De(),z=S({},re,{hasDigitalClockAlreadyBeenRendered:!!a.current}),te=xo(O),Z=(X=b==null?void 0:b.digitalClockItem)!=null?X:So,oe=zs({elementType:Z,externalSlotProps:h==null?void 0:h.digitalClockItem,ownerState:z,className:te.item}),ne=ts({value:_,referenceDate:w,utils:t,props:d,timezone:G}),ae=He(f=>H(f,"finish","hours")),{setValueAndGoToNextView:de}=es({view:E,views:Se,openTo:V,onViewChange:v,onChange:ae,focusedView:m,onFocusedViewChange:M}),Ce=He(f=>{de(f,"finish")});C.useEffect(()=>{if(a.current===null)return;const f=a.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!f)return;const T=f.offsetTop;(x||m)&&f.focus(),a.current.scrollTop=T-4});const Me=C.useCallback(f=>{const T=qe(P,t),y=()=>!(I&&T(I,f)||D&&T(f,D)||R&&T(f,g)||L&&T(g,f)),$=()=>t.getMinutes(f)%F!==0?!1:A?!A(f,"hours"):!0;return!y()||!$()},[P,t,I,D,R,g,L,F,A]),q=C.useMemo(()=>{const f=[];let y=t.startOfDay(ne);for(;t.isSameDay(ne,y);)f.push(y),y=t.addMinutes(y,p);return f},[ne,p,t]),Q=q.findIndex(f=>t.isEqual(f,ne)),U=f=>{switch(f.key){case"PageUp":{const T=We(c.current)-5,y=c.current.children,$=Math.max(0,T),K=y[$];K&&K.focus(),f.preventDefault();break}case"PageDown":{const T=We(c.current)+5,y=c.current.children,$=Math.min(y.length-1,T),K=y[$];K&&K.focus(),f.preventDefault();break}}};return l.jsx(wo,S({ref:i,className:me(te.root,N),ownerState:z},fe,{children:l.jsx(yo,{ref:c,role:"listbox","aria-label":Y.timePickerToolbarTitle,className:te.list,onKeyDown:U,children:q.map((f,T)=>{const y=Me(f);if(ue&&y)return null;const $=t.isEqual(f,_),K=t.format(f,u?"fullTime12h":"fullTime24h"),W=Q===T||Q===-1&&T===0?0:-1;return l.jsx(Z,S({onClick:()=>!se&&Ce(f),selected:$,disabled:ce||y,disableRipple:se,role:"option","aria-disabled":se,"aria-selected":$,tabIndex:W,itemValue:f,formattedValue:K},oe,{children:K}),"".concat(f.valueOf(),"-").concat(K))})})}))});function Do(e){return ge("MuiMultiSectionDigitalClock",e)}ke("MuiMultiSectionDigitalClock",["root"]);function Po(e){return ge("MuiMultiSectionDigitalClockSection",e)}ke("MuiMultiSectionDigitalClockSection",["root","item"]);const Vo=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Io=e=>pe({root:["root"],item:["item"]},Po,e),jo=B(Cs,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(e,s)=>s.root})(({theme:e})=>({maxHeight:Ms,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),No=B(ks,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(e,s)=>s.item})(({theme:e})=>({padding:8,margin:"2px 4px",width:bt,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ue(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ue(e.palette.primary.main,e.palette.action.focusOpacity)}})),Ro=C.forwardRef(function(s,n){var V;const t=C.useRef(null),a=gs(n,t),i=C.useRef(null),c=ee({props:s,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:u,className:p,classes:x,disabled:b,readOnly:h,items:r,active:k,slots:w,slotProps:P,skipDisabled:D}=c,I=le(c,Vo),{ownerState:R}=De(),L=S({},R,{hasDigitalClockAlreadyBeenRendered:!!t.current}),F=Io(x),A=(V=w==null?void 0:w.digitalClockSectionItem)!=null?V:No;C.useEffect(()=>{if(t.current===null)return;const v=t.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(k&&d&&v&&v.focus(),!v||i.current===v)return;i.current=v;const m=v.offsetTop;t.current.scrollTop=m-4});const j=r.findIndex(v=>v.isFocused(v.value)),E=v=>{switch(v.key){case"PageUp":{const m=We(t.current)-5,M=t.current.children,N=Math.max(0,m),O=M[N];O&&O.focus(),v.preventDefault();break}case"PageDown":{const m=We(t.current)+5,M=t.current.children,N=Math.min(M.length-1,m),O=M[N];O&&O.focus(),v.preventDefault();break}}};return l.jsx(jo,S({ref:a,className:me(F.root,p),ownerState:L,autoFocusItem:d&&k,role:"listbox",onKeyDown:E},I,{children:r.map((v,m)=>{var se;const M=(se=v.isDisabled)==null?void 0:se.call(v,v.value),N=b||M;if(D&&N)return null;const O=v.isSelected(v.value),ce=j===m||j===-1&&m===0?0:-1;return l.jsx(A,S({onClick:()=>!h&&u(v.value),selected:O,disabled:N,disableRipple:h,role:"option","aria-disabled":h||N||void 0,"aria-label":v.ariaLabel,"aria-selected":O,tabIndex:ce,className:F.item},P==null?void 0:P.digitalClockSectionItem,{children:v.label}),v.label)})}))}),Fo=({now:e,value:s,utils:n,ampm:t,isDisabled:a,resolveAriaLabel:i,timeStep:c,valueOrReferenceDate:d})=>{const u=s?n.getHours(s):null,p=[],x=(r,k)=>{const w=k!=null?k:u;return w===null?!1:t?r===12?w===12||w===0:w===r||w-12===r:w===r},b=r=>x(r,n.getHours(d)),h=t?11:23;for(let r=0;r<=h;r+=c){let k=n.format(n.setHours(e,r),t?"hours12h":"hours24h");const w=i(parseInt(k,10).toString());k=n.formatNumber(k),p.push({value:r,label:k,isSelected:x,isDisabled:a,isFocused:b,ariaLabel:w})}return p},ps=({value:e,utils:s,isDisabled:n,timeStep:t,resolveLabel:a,resolveAriaLabel:i,hasValue:c=!0})=>{const d=p=>e===null?!1:c&&e===p,u=p=>e===p;return[...Array.from({length:Math.ceil(60/t)},(p,x)=>{const b=t*x;return{value:b,label:s.formatNumber(a(b)),isDisabled:n,isSelected:d,isFocused:u,ariaLabel:i(b.toString())}})]},Lo=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],Oo=e=>pe({root:["root"]},Do,e),Bo=B(ss,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(e,s)=>s.root})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:"1px solid ".concat((e.vars||e).palette.divider)})),_o=C.forwardRef(function(s,n){const t=be(),a=Ws(),i=ee({props:s,name:"MuiMultiSectionDigitalClock"}),{ampm:c=t.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:u,slots:p,slotProps:x,value:b,defaultValue:h,referenceDate:r,disableIgnoringDatePartForTimeValidation:k=!1,maxTime:w,minTime:P,disableFuture:D,disablePast:I,minutesStep:R=1,shouldDisableTime:L,onChange:F,view:A,views:j=["hours","minutes"],openTo:E,onViewChange:V,focusedView:v,onFocusedViewChange:m,className:M,classes:N,disabled:O,readOnly:ce,skipDisabled:se=!1,timezone:Se}=i,ue=le(i,Lo),{value:J,handleValueChange:fe,timezone:_}=Je({name:"MultiSectionDigitalClock",timezone:Se,value:b,defaultValue:h,referenceDate:r,onChange:F,valueManager:ye}),H=je(),G=Ze(_),Y=C.useMemo(()=>S({hours:1,minutes:5,seconds:5},d),[d]),g=ts({value:J,referenceDate:r,utils:t,props:i,timezone:_}),re=He((f,T,y)=>fe(f,T,y)),z=C.useMemo(()=>!c||!j.includes("hours")||j.includes("meridiem")?j:[...j,"meridiem"],[c,j]),{view:te,setValueAndGoToNextView:Z,focusedView:oe}=es({view:A,views:z,openTo:E,onViewChange:V,onChange:re,focusedView:v,onFocusedViewChange:m}),ne=He(f=>{Z(f,"finish","meridiem")}),{meridiemMode:ae,handleMeridiemChange:de}=Xe(g,c,ne,"finish"),Ce=C.useCallback((f,T)=>{const y=qe(k,t),$=T==="hours"||T==="minutes"&&z.includes("seconds"),K=({start:W,end:ie})=>!(P&&y(P,ie)||w&&y(W,w)||D&&y(W,G)||I&&y(G,$?ie:W)),Pe=(W,ie=1)=>{if(W%ie!==0)return!1;if(L)switch(T){case"hours":return!L(t.setHours(g,W),"hours");case"minutes":return!L(t.setMinutes(g,W),"minutes");case"seconds":return!L(t.setSeconds(g,W),"seconds");default:return!1}return!0};switch(T){case"hours":{const W=ze(f,ae,c),ie=t.setHours(g,W);if(t.getHours(ie)!==W)return!0;const Be=t.setSeconds(t.setMinutes(ie,0),0),$s=t.setSeconds(t.setMinutes(ie,59),59);return!K({start:Be,end:$s})||!Pe(W)}case"minutes":{const W=t.setMinutes(g,f),ie=t.setSeconds(W,0),Be=t.setSeconds(W,59);return!K({start:ie,end:Be})||!Pe(f,R)}case"seconds":{const W=t.setSeconds(g,f);return!K({start:W,end:W})||!Pe(f)}default:throw new Error("not supported")}},[c,g,k,w,ae,P,R,L,t,D,I,G,z]),Me=C.useCallback(f=>{switch(f){case"hours":return{onChange:T=>{const y=ze(T,ae,c);Z(t.setHours(g,y),"finish","hours")},items:Fo({now:G,value:J,ampm:c,utils:t,isDisabled:T=>Ce(T,"hours"),timeStep:Y.hours,resolveAriaLabel:H.hoursClockNumberText,valueOrReferenceDate:g})};case"minutes":return{onChange:T=>{Z(t.setMinutes(g,T),"finish","minutes")},items:ps({value:t.getMinutes(g),utils:t,isDisabled:T=>Ce(T,"minutes"),resolveLabel:T=>t.format(t.setMinutes(G,T),"minutes"),timeStep:Y.minutes,hasValue:!!J,resolveAriaLabel:H.minutesClockNumberText})};case"seconds":return{onChange:T=>{Z(t.setSeconds(g,T),"finish","seconds")},items:ps({value:t.getSeconds(g),utils:t,isDisabled:T=>Ce(T,"seconds"),resolveLabel:T=>t.format(t.setSeconds(G,T),"seconds"),timeStep:Y.seconds,hasValue:!!J,resolveAriaLabel:H.secondsClockNumberText})};case"meridiem":{const T=we(t,"am"),y=we(t,"pm");return{onChange:de,items:[{value:"am",label:T,isSelected:()=>!!J&&ae==="am",isFocused:()=>!!g&&ae==="am",ariaLabel:T},{value:"pm",label:y,isSelected:()=>!!J&&ae==="pm",isFocused:()=>!!g&&ae==="pm",ariaLabel:y}]}}default:throw new Error("Unknown view: ".concat(f," found."))}},[G,J,c,t,Y.hours,Y.minutes,Y.seconds,H.hoursClockNumberText,H.minutesClockNumberText,H.secondsClockNumberText,ae,Z,g,Ce,de]),q=C.useMemo(()=>{if(!a)return z;const f=z.filter(T=>T!=="meridiem");return f.reverse(),z.includes("meridiem")&&f.push("meridiem"),f},[a,z]),Q=C.useMemo(()=>z.reduce((f,T)=>S({},f,{[T]:Me(T)}),{}),[z,Me]),{ownerState:U}=De(),X=Oo(N);return l.jsx(Bo,S({ref:n,className:me(X.root,M),ownerState:U,role:"group"},ue,{children:q.map(f=>l.jsx(Ro,{items:Q[f].items,onChange:Q[f].onChange,active:te===f,autoFocus:u!=null?u:oe===f,disabled:O,readOnly:ce,slots:p,slotProps:x,skipDisabled:se,"aria-label":H.selectViewText(f)},f))}))}),Ge=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:b,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,ampmInClock:I,slots:R,slotProps:L,readOnly:F,disabled:A,sx:j,autoFocus:E,showViewSwitcher:V,disableIgnoringDatePartForTimeValidation:v,timezone:m})=>l.jsx(Co,{view:e,onViewChange:s,focusedView:n&&Le(n)?n:null,onFocusedViewChange:t,views:a.filter(Le),value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:b,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,ampmInClock:I,slots:R,slotProps:L,readOnly:F,disabled:A,sx:j,autoFocus:E,showViewSwitcher:V,disableIgnoringDatePartForTimeValidation:v,timezone:m}),Ao=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:b,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,slots:I,slotProps:R,readOnly:L,disabled:F,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:E,timeSteps:V,skipDisabled:v,timezone:m})=>l.jsx(Mo,{view:e,onViewChange:s,focusedView:n&&Le(n)?n:null,onFocusedViewChange:t,views:a.filter(Le),value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:b,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,slots:I,slotProps:R,readOnly:L,disabled:F,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:E,timeStep:V==null?void 0:V.minutes,skipDisabled:v,timezone:m}),bs=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:b,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,slots:I,slotProps:R,readOnly:L,disabled:F,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:E,timeSteps:V,skipDisabled:v,timezone:m})=>l.jsx(_o,{view:e,onViewChange:s,focusedView:n&&Ds(n)?n:null,onFocusedViewChange:t,views:a.filter(Le),value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:b,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,slots:I,slotProps:R,readOnly:L,disabled:F,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:E,timeSteps:V,skipDisabled:v,timezone:m}),Eo=(e,s,n)=>n?s.filter(t=>!Ds(t)||t==="hours"):e?[...s,"meridiem"]:s,$o=(e,s)=>{var n,t;return 24*60/(((n=e.hours)!=null?n:1)*((t=e.minutes)!=null?t:5))<=s};function Ho({thresholdToRenderTimeInASingleColumn:e,ampm:s,timeSteps:n,views:t}){const a=e!=null?e:24,i=S({hours:1,minutes:5,seconds:5},n),c=$o(i,a);return{thresholdToRenderTimeInASingleColumn:a,timeSteps:i,shouldRenderTimeInASingleColumn:c,views:Eo(s,t,c)}}const As=C.forwardRef(function(s,n){var w,P,D;const t=be(),a=Fs(s,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:i,views:c,timeSteps:d}=Ho(a),u=i?Ao:bs,p=S({hours:u,minutes:u,seconds:u,meridiem:u},a.viewRenderers),x=(w=a.ampmInClock)!=null?w:!0,h=((P=p.hours)==null?void 0:P.name)===bs.name?c:c.filter(I=>I!=="meridiem"),r=S({},a,{ampmInClock:x,timeSteps:d,viewRenderers:p,format:Ps(t,a),views:i?["hours"]:h,slots:S({field:Ns},a.slots),slotProps:S({},a.slotProps,{field:I=>{var R;return S({},Ts((R=a.slotProps)==null?void 0:R.field,I),Vs(a))},toolbar:S({hidden:!0,ampmInClock:x},(D=a.slotProps)==null?void 0:D.toolbar)})}),{renderPicker:k}=ft({ref:n,props:r,valueManager:ye,valueType:"time",validator:Ke,steps:null});return k()});As.propTypes={ampm:o.bool,ampmInClock:o.bool,autoFocus:o.bool,className:o.string,closeOnSelect:o.bool,defaultValue:o.object,disabled:o.bool,disableFuture:o.bool,disableIgnoringDatePartForTimeValidation:o.bool,disableOpenPicker:o.bool,disablePast:o.bool,enableAccessibleFieldDOMStructure:o.any,format:o.string,formatDensity:o.oneOf(["dense","spacious"]),inputRef:Is,label:o.node,localeText:o.object,maxTime:o.object,minTime:o.object,minutesStep:o.number,name:o.string,onAccept:o.func,onChange:o.func,onClose:o.func,onError:o.func,onOpen:o.func,onSelectedSectionsChange:o.func,onViewChange:o.func,open:o.bool,openTo:o.oneOf(["hours","meridiem","minutes","seconds"]),orientation:o.oneOf(["landscape","portrait"]),readOnly:o.bool,reduceAnimations:o.bool,referenceDate:o.object,selectedSections:o.oneOfType([o.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),o.number]),shouldDisableTime:o.func,skipDisabled:o.bool,slotProps:o.object,slots:o.object,sx:o.oneOfType([o.arrayOf(o.oneOfType([o.func,o.object,o.bool])),o.func,o.object]),thresholdToRenderTimeInASingleColumn:o.number,timeSteps:o.shape({hours:o.number,minutes:o.number,seconds:o.number}),timezone:o.string,value:o.object,view:o.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:o.shape({hours:o.func,meridiem:o.func,minutes:o.func,seconds:o.func}),views:o.arrayOf(o.oneOf(["hours","minutes","seconds"]).isRequired)};const Es=C.forwardRef(function(s,n){var p,x;const t=be(),a=Fs(s,"MuiMobileTimePicker"),i=S({hours:Ge,minutes:Ge,seconds:Ge},a.viewRenderers),c=(p=a.ampmInClock)!=null?p:!1,d=S({},a,{ampmInClock:c,viewRenderers:i,format:Ps(t,a),slots:S({field:Ns},a.slots),slotProps:S({},a.slotProps,{field:b=>{var h;return S({},Ts((h=a.slotProps)==null?void 0:h.field,b),Vs(a))},toolbar:S({hidden:!1,ampmInClock:c},(x=a.slotProps)==null?void 0:x.toolbar)})}),{renderPicker:u}=ht({ref:n,props:d,valueManager:ye,valueType:"time",validator:Ke,steps:null});return u()});Es.propTypes={ampm:o.bool,ampmInClock:o.bool,autoFocus:o.bool,className:o.string,closeOnSelect:o.bool,defaultValue:o.object,disabled:o.bool,disableFuture:o.bool,disableIgnoringDatePartForTimeValidation:o.bool,disableOpenPicker:o.bool,disablePast:o.bool,enableAccessibleFieldDOMStructure:o.any,format:o.string,formatDensity:o.oneOf(["dense","spacious"]),inputRef:Is,label:o.node,localeText:o.object,maxTime:o.object,minTime:o.object,minutesStep:o.number,name:o.string,onAccept:o.func,onChange:o.func,onClose:o.func,onError:o.func,onOpen:o.func,onSelectedSectionsChange:o.func,onViewChange:o.func,open:o.bool,openTo:o.oneOf(["hours","minutes","seconds"]),orientation:o.oneOf(["landscape","portrait"]),readOnly:o.bool,reduceAnimations:o.bool,referenceDate:o.object,selectedSections:o.oneOfType([o.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),o.number]),shouldDisableTime:o.func,slotProps:o.object,slots:o.object,sx:o.oneOfType([o.arrayOf(o.oneOfType([o.func,o.object,o.bool])),o.func,o.object]),timezone:o.string,value:o.object,view:o.oneOf(["hours","minutes","seconds"]),viewRenderers:o.shape({hours:o.func,minutes:o.func,seconds:o.func}),views:o.arrayOf(o.oneOf(["hours","minutes","seconds"]).isRequired)};const Uo=["desktopModeMediaQuery"],zo=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiTimePicker"}),{desktopModeMediaQuery:a=gt}=t,i=le(t,Uo);return qs(a,{defaultMatches:!0})?l.jsx(As,S({ref:n},i)):l.jsx(Es,S({ref:n},i))}),Wo=({settingName:e,value:s,defaultValue:n,handleChange:t})=>{const{t:a}=vs(),[i,c]=C.useState(!1),[d,u]=C.useState(s);C.useEffect(()=>{s&&u(s)},[s]);const p=C.useCallback(h=>{c(!1),h&&u(s)},[s]),x=C.useCallback(()=>p(!0),[p]),b=C.useCallback((h,r=!0)=>{r&&p(!1),s!==h&&t(h)},[s,t,p]);return l.jsxs(l.Fragment,{children:[l.jsx(Ye,{onClick:()=>c(!0),children:l.jsx(Qe,{primary:e,secondary:_e(s,"HH:mm").format("LT"),secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),l.jsxs(xs,{open:i,onClose:p,children:[l.jsxs(ws,{children:[l.jsx(ys,{sx:{paddingLeft:0},children:e}),l.jsx(kt,{dateAdapter:Ct,adapterLocale:_e.locale(),children:l.jsx(zo,{value:_e(d,"HH:mm"),defaultValue:_e(n,"HH:mm"),format:"LT",onChange:h=>{var r;return u((r=h==null?void 0:h.format("HH:mm"))!=null?r:"00:00")}})})]}),l.jsxs(Ss,{children:[n!==void 0?l.jsx(xe,{onClick:()=>{u(n),b(n,!1)},color:"primary",children:a("global.button.reset_to_default")}):null,l.jsx(xe,{onClick:x,color:"primary",children:a("global.button.cancel")}),l.jsx(xe,{onClick:()=>{b(d)},color:"primary",children:a("global.button.ok")})]})]})]})},qo=e=>({backupPath:e.backupPath,backupTime:e.backupTime,backupInterval:e.backupInterval,backupTTL:e.backupTTL}),Ko=e=>e===0?ls("global.label.never"):ls("settings.backup.automated.cleanup.label.value",{days:e,count:e});let ve;function tn(){var v;const{t:e}=vs(),{setTitle:s,setAction:n}=Ks();C.useLayoutEffect(()=>(s(e("settings.backup.title")),n(null),()=>{s(""),n(null)}),[e]);const{data:t,loading:a,error:i,refetch:c}=Ve.useGetServerSettings({notifyOnNetworkStatusChange:!0}),[d]=Ve.useUpdateServerSettings(),{data:u}=Ve.useGetBackupRestoreStatus(ve!=null?ve:"",{skip:!ve,pollInterval:1e3}),[p,x]=C.useState(null),[b,h]=C.useState(!1),[r,k]=C.useState(),[,w]=C.useState(0),P=(()=>{if(!(u!=null&&u.restoreStatus))return 0;const m=100*(u.restoreStatus.mangaProgress/u.restoreStatus.totalManga);return Number.isNaN(m)?0:m})(),D=(m,M)=>{d({variables:{input:{settings:{[m]:M}}}}).catch(N=>Te(e("global.error.label.failed_to_save_changes"),"error",Ae(N)))};C.useEffect(()=>{if(!(u!=null&&u.restoreStatus))return;const m=u.restoreStatus.state===os.Success,M=u.restoreStatus.state===os.Failure;(m||M)&&(m&&Te(e("settings.backup.action.restore.label.success"),"success"),M&&Te(e("settings.backup.action.restore.error.label.failure"),"error"),ve=void 0,w(Date.now()))},[(v=u==null?void 0:u.restoreStatus)==null?void 0:v.state]);const I=()=>{x(null);const m=document.getElementById("backup-file");m&&(m.value="")},R=async m=>{try{const{data:{validateBackup:M}}=await Ve.validateBackupFile(m,{fetchPolicy:"network-only"}).response;return M.missingSources.length||M.missingTrackers.length?(k(M),h(!0),!1):!0}catch(M){Te(e("settings.backup.action.validate.error.label.failure"),"error",Ae(M)),I()}return!1},L=async m=>{var M;try{Te(e("settings.backup.action.restore.label.in_progress"),"info"),ve=(M=(await Ve.restoreBackupFile(m).response).data)==null?void 0:M.restoreBackup.id,w(Date.now())}catch(N){Te(e("settings.backup.action.restore.error.label.failure"),"error",Ae(N))}finally{I()}},F=async m=>{if(m.name.toLowerCase().endsWith("json")){Te(e("settings.backup.action.restore.error.label.legacy_backup_unsupported"),"error");return}if(!m.name.toLowerCase().match(/proto\.gz$|tachibk$/g)){Te(e("global.error.label.invalid_file_type"),"error");return}x(m),await R(m)&&await L(m)},A=async m=>{m.preventDefault();const M=await cs(m);F(M[0])},j=m=>{m.preventDefault()},E=()=>{h(!1),I()};if(C.useEffect(()=>{document.addEventListener("drop",A),document.addEventListener("dragover",j);const m=async N=>{const O=await cs(N);F(O[0])},M=document.getElementById("backup-file");return M==null||M.addEventListener("change",m),()=>{document.removeEventListener("drop",A),document.removeEventListener("dragover",j),M==null||M.removeEventListener("change",m)}},[]),a)return l.jsx(Gs,{});if(i)return l.jsx(Ys,{message:e("global.error.label.failed_to_load_data"),messageExtra:Ae(i),retry:()=>c().catch(Qs())});const V=qo(t.settings);return l.jsxs(l.Fragment,{children:[l.jsxs(Ee,{sx:{padding:0},children:[l.jsx(Ye,{component:"a",href:Ve.getExportBackupUrl(),download:!0,children:l.jsx(Qe,{primary:e("settings.backup.action.create.label.title"),secondary:e("settings.backup.action.create.label.description")})}),l.jsxs(Ye,{onClick:()=>{var m;return(m=document.getElementById("backup-file"))==null?void 0:m.click()},disabled:!!ve,children:[l.jsx(Qe,{primary:e("settings.backup.action.restore.label.title"),secondary:e("settings.backup.action.restore.label.description")}),ve?l.jsx(Xs,{children:l.jsx(Zs,{progress:P})}):null]}),l.jsxs(Ee,{subheader:l.jsx(Js,{component:"div",id:"backup-settings",children:"Automated backup"}),children:[l.jsx(et,{settingName:e("settings.backup.automated.location.label.title"),dialogDescription:e("settings.backup.automated.location.label.description"),value:V.backupPath,settingDescription:V.backupPath.length?V.backupPath:e("global.label.default"),handleChange:m=>D("backupPath",m)}),l.jsx(Wo,{settingName:e("settings.backup.automated.label.time"),value:V.backupTime,defaultValue:"00:00",handleChange:m=>D("backupTime",m)}),l.jsx(us,{settingTitle:e("settings.backup.automated.label.interval"),settingValue:e("global.date.value.label.day",{days:V.backupInterval,count:V.backupInterval}),value:V.backupInterval,defaultValue:1,minValue:1,maxValue:31,stepSize:1,valueUnit:e("global.date.label.day_one"),showSlider:!0,handleUpdate:m=>D("backupInterval",m)}),l.jsx(us,{settingTitle:e("settings.backup.automated.cleanup.label.title"),settingValue:Ko(V.backupTTL),value:V.backupTTL,defaultValue:14,minValue:0,maxValue:1e3,stepSize:1,valueUnit:e("global.date.label.day_one"),showSlider:!0,handleUpdate:m=>D("backupTTL",m)})]})]}),l.jsx("input",{type:"file",id:"backup-file",style:{display:"none"}}),l.jsxs(xs,{open:b,children:[l.jsx(ys,{children:e("settings.backup.action.validate.dialog.title")}),l.jsxs(ws,{dividers:!0,children:[!!(r!=null&&r.missingSources.length)&&l.jsx(Ee,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:e("settings.backup.action.validate.dialog.content.label.missing_sources"),children:r==null?void 0:r.missingSources.map(({id:m,name:M})=>l.jsx(ns,{sx:{display:"list-item"},children:"".concat(M," (").concat(m,")")},m))}),!!(r!=null&&r.missingTrackers.length)&&l.jsx(Ee,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:e("settings.backup.action.validate.dialog.content.label.missing_trackers"),children:r==null?void 0:r.missingTrackers.map(({name:m})=>l.jsx(ns,{sx:{display:"list-item"},children:"".concat(m)},m))})]}),l.jsx(Ss,{children:l.jsxs(as,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[!!(r!=null&&r.missingSources.length)&&l.jsx(xe,{onClick:E,component:is,to:rs.browse.path,autoFocus:!!(r!=null&&r.missingSources.length),variant:r!=null&&r.missingSources.length?"contained":"text",children:e("extension.action.label.install")}),!!(r!=null&&r.missingTrackers.length)&&l.jsx(xe,{onClick:E,component:is,to:rs.tracker.path,autoFocus:!!(r!=null&&r.missingTrackers.length),variant:r!=null&&r.missingTrackers.length?"contained":"text",children:e("global.button.log_in")}),l.jsxs(as,{direction:"row",children:[l.jsx(xe,{onClick:E,children:e("global.button.cancel")}),l.jsx(xe,{onClick:()=>{E(),L(p)},autoFocus:!(r!=null&&r.missingSources.length)&&!(r!=null&&r.missingTrackers.length),variant:!(r!=null&&r.missingSources.length)&&!(r!=null&&r.missingTrackers.length)?"contained":"text",children:e("global.button.restore")})]})]})})]})]})}export{tn as Backup};
