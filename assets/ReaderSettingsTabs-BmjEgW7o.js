import{u as c,j as a,S as d,T as h,B as R,C as B,d5 as $,d6 as Z,cO as G,ed as ne,ee as oe,ef as L,d3 as ie,d4 as ce,d2 as de,w as f,c as D,I as X,cU as ue,dv as xe,eg as N,eh as b,dH as he,a9 as q,cy as ge,b as V,aK as _e,d7 as Q,ei as C,cP as y,dc as w,di as O,ej as be,ek as M,el as v,em as je,en as ve,eo as H,ep as me,eq as k,d8 as pe,er as U,$ as Ae,es as Ee,i as Re,k as Ce,n as Te,q as Le,a3 as fe,a4 as Oe,dN as j,et as De,cI as Ie,dk as Se,cz as Me,ao as z,eu as Y,cH as S}from"./index-B9UlrkJ4.js";import{T as ke}from"./TabsMenu-BwAiOn2i.js";import{T as ye,a as T}from"./Tabs-DU8FPTKp.js";import{T as J}from"./Trans-DlWDh_XG.js";import{S as Pe}from"./Slider-DCR6-2F4.js";import{C as _}from"./CheckboxInput-BjIxZMhh.js";import{L as we}from"./ListSubheader-Bx7Mgto8.js";import{A as Ve}from"./Add-CCpk73YY.js";const Be=({i18nKey:e,value:s})=>{const{t:l}=c();return a.jsx(d,{sx:{flexDirection:"row",gap:.25},children:a.jsx(J,{t:l,i18nKey:e,values:{value:s},components:[a.jsx(h,{variant:"caption",sx:{fontSize:"x-small",opacity:.75}})]})})},Ne=({value:e,values:s,defaultValue:l,setValue:r,valueToDisplayData:t,isDefaultable:n,onDefault:o})=>{const{t:u}=c();return a.jsxs(d,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:[n&&a.jsx(R,{onClick:o,variant:e===void 0?"contained":"outlined",children:u("global.label.default")},"default"),s.map(i=>{const A=e===void 0&&i===l,E=t[i].isTitleString?t[i].title:u(t[i].title);return a.jsx(B,{title:A?u("reader.settings.active_setting"):"",children:a.jsx(R,{onClick:()=>r(i),variant:i===e?"contained":"outlined",startIcon:t[i].icon,children:A?a.jsx(Be,{i18nKey:"global.label.footnote",value:E}):E})},i)})]})},m=({label:e,description:s,...l})=>a.jsxs(d,{children:[a.jsx(h,{children:e}),s&&a.jsx(h,{variant:"body2",color:"textDisabled",children:s}),a.jsx(Ne,{...l})]}),ee=({readingMode:e,setReadingMode:s,...l})=>{const{t:r}=c();return a.jsx(m,{...l,label:r("reader.settings.label.reading_mode"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:Z,setValue:s,valueToDisplayData:$})},Ue={[G.LTR]:{title:"reader.settings.reading_direction.ltr",icon:a.jsx(oe,{})},[G.RTL]:{title:"reader.settings.reading_direction.rtl",icon:a.jsx(ne,{})}},Ge=Object.values(G).filter(e=>typeof e=="number"),He=({readingDirection:e,setReadingDirection:s,...l})=>{const{t:r}=c();return a.jsx(m,{...l,label:r("reader.settings.label.reading_direction"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:Ge,setValue:s,valueToDisplayData:Ue})},ze={[L.EDGE]:{title:"reader.settings.tap_zones.edge",icon:null},[L.KINDLE]:{title:"reader.settings.tap_zones.kindle",icon:null},[L.L_SHAPE]:{title:"reader.settings.tap_zones.l_shape",icon:null},[L.RIGHT_LEFT]:{title:"reader.settings.tap_zones.right_left",icon:null},[L.DISABLED]:{title:"global.label.disabled",icon:null}},Ye=Object.values(L).filter(e=>typeof e=="number"),Fe=({tapZoneLayout:e,setTapZoneLayout:s,...l})=>{const{t:r}=c();return a.jsx(m,{...l,label:r("reader.settings.tap_zones.title"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:Ye,setValue:s,valueToDisplayData:ze})};var ae=(e=>(e[e.NONE=0]="NONE",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.BOTH=3]="BOTH",e))(ae||{});const We={0:{title:"global.label.none",icon:null},1:{title:"global.label.horizontal",icon:null},2:{title:"global.label.vertical",icon:null},3:{title:"global.label.both",icon:null}},Ke=Object.values(ae).filter(e=>typeof e=="number"),$e={0:{vertical:!1,horizontal:!1},1:{vertical:!1,horizontal:!0},2:{vertical:!0,horizontal:!1},3:{vertical:!0,horizontal:!0}},Ze=({vertical:e,horizontal:s})=>e&&s?3:e?2:s?1:0,Xe=({tapZoneInvertMode:e,setTapZoneInvertMode:s,...l})=>{const{t:r}=c(),t=Ze(e.value);return a.jsx(m,{...l,label:r("reader.settings.tap_zones.invert"),value:e.isDefault?void 0:t,defaultValue:e.isDefault?t:void 0,values:Ke,setValue:n=>s($e[n]),valueToDisplayData:We})},qe=({pageScaleMode:e,setPageScaleMode:s,...l})=>{const{t:r}=c();return a.jsx(m,{...l,label:r("reader.settings.page_scale.title"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:ce,setValue:s,valueToDisplayData:ie})},Qe=({pageScaleMode:e,shouldStretchPage:s,setShouldStretchPage:l})=>{const{t:r}=c();return de[e]?a.jsx(f,{children:a.jsx(R,{onClick:()=>l(!s),variant:s?"contained":"outlined",children:r("reader.settings.page_scale.stretch")})}):null},F=D(a.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"})),P=({asIconButton:e,...s})=>{const{t:l}=c();return e?a.jsx(B,{title:l("global.button.reset"),children:a.jsx(X,{color:"inherit",...s,children:a.jsx(F,{})})}):a.jsx(R,{startIcon:a.jsx(F,{}),...s,children:l("global.button.reset")})},p=({label:e,value:s,onDefault:l,slotProps:r})=>{var t,n,o;return a.jsxs(d,{sx:{flexDirection:"row",gap:2,alignItems:"center"},children:[a.jsxs(d,{sx:{flexBasis:"25%"},children:[a.jsx(h,{...r==null?void 0:r.label,sx:{...(t=r==null?void 0:r.label)==null?void 0:t.sx},children:e}),a.jsx(h,{...r==null?void 0:r.value,sx:{...(n=r==null?void 0:r.value)==null?void 0:n.sx},children:s})]}),a.jsx(Pe,{...r==null?void 0:r.slider,sx:{flexBasis:"75%",...(o=r==null?void 0:r.slider)==null?void 0:o.sx}}),l&&a.jsx(P,{asIconButton:!0,onClick:l})]})},Je=({pageGap:e,readingMode:s,isDefaultable:l,onDefault:r,updateSetting:t})=>{const{t:n}=c();return s.value!==ue.WEBTOON&&xe(s.value)?a.jsx(p,{label:n("reader.settings.label.page_gap"),value:n("global.value",{value:e.value,unit:n("global.unit.px")}),onDefault:l?r:void 0,slotProps:{slider:{defaultValue:b.pageGap,value:e.value,step:N.step,min:N.min,max:N.max,onChange:(u,i)=>{t(i,!1)},onChangeCommitted:(u,i)=>{t(i,!0)}}}}):null},ea=({readerWidth:e,pageScaleMode:s,isDefaultable:l,onDefault:r,updateSetting:t,setTransparent:n})=>{const{t:o}=c();return he(s)?a.jsxs(d,{children:[a.jsxs(d,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[a.jsx(_,{label:o("reader.settings.label.limit_reader_width"),checked:e.enabled,onChange:(u,i)=>t("readerWidth",{...e,enabled:i},!0)}),l&&a.jsx(P,{onClick:r,variant:"outlined"})]}),e.enabled&&a.jsx(p,{label:o("reader.settings.label.reader_width"),value:o("global.value",{value:e.value,unit:"%"}),slotProps:{slider:{defaultValue:b.readerWidth.value,value:e.value,step:1,min:10,max:100,onChange:(u,i)=>{n==null||n(!0),t("readerWidth",{...e,value:i},!1)},onChangeCommitted:(u,i)=>{n==null||n(!1),t("readerWidth",{...e,value:i},!0)}}}})]}):null},aa=({areDefaultSettings:e})=>{const{t:s}=c();return!q.useIsTouchDevice()||e?null:a.jsx(d,{sx:{alignItems:"end"},children:a.jsx(h,{variant:"caption",children:s("reader.settings.default_setting_footnote")})})},sa=({profile:e,title:s,updateSetting:l,isSeriesMode:r,...t})=>{const{settings:n}=ge(e),o=V.useMemo(()=>({...n,readingMode:{value:e,isDefault:!0}}),[n,e]);return a.jsxs(d,{sx:{gap:2},children:[r?a.jsx(h,{children:s}):a.jsx(we,{component:"div",id:"".concat(e,"-settings"),children:s}),a.jsx(d,{sx:{px:+!r*2},children:a.jsx(re,{...t,setShowPreview:()=>{},settings:o,updateSetting:(u,i,A)=>l(u,i,A,!0,e)})})]})},se=({profiles:e=Z,readingMode:s,...l})=>{const{updateSetting:r,isSeriesMode:t}=l,{t:n}=c();return a.jsxs(d,{sx:{gap:2,pb:+!t*2},children:[s!==void 0&&a.jsx(d,{sx:{pt:2,px:2},children:a.jsx(ee,{readingMode:s,setReadingMode:o=>r("readingMode",o)})}),e.map(o=>a.jsx(sa,{profile:o,title:n($[o].title),...l},o))]})},re=({setShowPreview:e,settings:s,updateSetting:l,isDefaultable:r,onDefault:t,isSeriesMode:n,setTransparent:o})=>{const{t:u}=c();return a.jsxs(d,{sx:{gap:2},children:[a.jsx(aa,{areDefaultSettings:!r}),n&&a.jsxs(a.Fragment,{children:[a.jsx(h,{children:u("reader.settings.source_series")}),a.jsx(ee,{readingMode:s.readingMode,setReadingMode:i=>l("readingMode",i),isDefaultable:r,onDefault:()=>t==null?void 0:t("readingMode")})]}),a.jsx(Je,{pageGap:s.pageGap,readingMode:s.readingMode,isDefaultable:r,onDefault:()=>t==null?void 0:t("pageGap"),updateSetting:(...i)=>l("pageGap",...i)}),a.jsx(He,{readingDirection:s.readingDirection,setReadingDirection:i=>l("readingDirection",i),isDefaultable:r,onDefault:()=>t==null?void 0:t("readingDirection")}),a.jsx(Fe,{tapZoneLayout:s.tapZoneLayout,setTapZoneLayout:i=>{e(!0),l("tapZoneLayout",i)},isDefaultable:r,onDefault:()=>{e(!0),t==null||t("tapZoneLayout")}}),a.jsx(Xe,{tapZoneInvertMode:s.tapZoneInvertMode,setTapZoneInvertMode:i=>{e(!0),l("tapZoneInvertMode",i)},isDefaultable:r,onDefault:()=>{e(!0),t==null||t("tapZoneInvertMode")}}),a.jsx(qe,{pageScaleMode:s.pageScaleMode,setPageScaleMode:i=>l("pageScaleMode",i),isDefaultable:r,onDefault:()=>t==null?void 0:t("pageScaleMode")}),a.jsx(Qe,{pageScaleMode:s.pageScaleMode.value,shouldStretchPage:s.shouldStretchPage.value,setShouldStretchPage:i=>l("shouldStretchPage",i)}),a.jsx(ea,{readerWidth:s.readerWidth.value,pageScaleMode:s.pageScaleMode.value,isDefaultable:r,onDefault:()=>t==null?void 0:t("readerWidth"),updateSetting:(...i)=>l(...i),setTransparent:o}),n&&a.jsxs(a.Fragment,{children:[a.jsx(_e,{}),a.jsx(se,{profiles:[s.readingMode.value],updateSetting:l,isSeriesMode:n,setTransparent:o})]})]})},ra=()=>a.jsx(Q,{children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16"})})}),ta=()=>a.jsx(Q,{children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16M7 15v-5m10 5v-5M4 9h16"})})}),la={[y.HIDDEN]:{title:"global.label.hidden",icon:a.jsx(ra,{})},[y.STANDARD]:{title:"global.label.standard",icon:a.jsx(ta,{})}},na=Object.values(y).filter(e=>typeof e=="number"),oa=({overlayMode:e,progressBarType:s,setProgressBarType:l})=>{const{t:r}=c();return e!==C.DESKTOP?null:a.jsx(m,{label:r("reader.settings.progress_bar.style"),value:s,values:na,setValue:l,valueToDisplayData:la})},ia=({overlayMode:e,progressBarType:s,progressBarSize:l,setProgressBarSize:r,onDefault:t})=>{const{t:n}=c();return e===C.DESKTOP&&s===y.STANDARD?a.jsx(p,{label:n("reader.settings.progress_bar.size"),value:n("global.value",{value:l,unit:n("global.unit.px")}),onDefault:t,slotProps:{slider:{defaultValue:b.progressBarSize,value:l,step:w.step,min:w.min,max:w.max,onChange:(u,i)=>{r(i,!1)},onChangeCommitted:(u,i)=>{r(i,!0)}}}}):null},ca=D(a.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),W=D(a.jsx("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"})),te=D([a.jsx("path",{d:"M19.03 3.56c-1.67-1.39-3.74-2.3-6.03-2.51v2.01c1.73.19 3.31.88 4.61 1.92zM11 3.06V1.05c-2.29.2-4.36 1.12-6.03 2.51l1.42 1.42C7.69 3.94 9.27 3.25 11 3.06M4.98 6.39 3.56 4.97C2.17 6.64 1.26 8.71 1.05 11h2.01c.19-1.73.88-3.31 1.92-4.61M20.94 11h2.01c-.21-2.29-1.12-4.36-2.51-6.03l-1.42 1.42c1.04 1.3 1.73 2.88 1.92 4.61M7 12l3.44 1.56L12 17l1.56-3.44L17 12l-3.44-1.56L12 7l-1.56 3.44z"},"0"),a.jsx("path",{d:"M12 21c-3.11 0-5.85-1.59-7.46-4H7v-2H1v6h2v-2.7c1.99 2.84 5.27 4.7 9 4.7 4.87 0 9-3.17 10.44-7.56l-1.96-.45C19.25 18.48 15.92 21 12 21"},"1")]),K={[O.AUTO]:{title:"global.label.auto",icon:a.jsx(te,{})},[O.BOTTOM]:{title:"global.label.bottom",icon:a.jsx(W,{sx:{transform:"rotate(90deg)"}})},[O.LEFT]:{title:"global.label.left",icon:a.jsx(ca,{})},[O.RIGHT]:{title:"global.label.right",icon:a.jsx(W,{})}},da=Object.values(O).filter(e=>typeof e=="number"),ua=Object.values(be),xa=({progressBarPosition:e,progressBarPositionAutoVertical:s,updateSetting:l})=>{const{t:r}=c(),t=e===O.AUTO;return a.jsxs(a.Fragment,{children:[a.jsx(m,{label:r("reader.settings.progress_bar.position"),value:e,values:da,setValue:n=>l("progressBarPosition",n),valueToDisplayData:K}),t&&a.jsx(m,{label:r("reader.settings.progress_bar.auto_vertical_position.title"),value:s,values:ua,setValue:n=>l("progressBarPositionAutoVertical",n),valueToDisplayData:K})]})},ha=D(a.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"})),ga=D(a.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"})),_a={[C.AUTO]:{title:"global.label.auto",icon:a.jsx(te,{})},[C.DESKTOP]:{title:"global.label.desktop",icon:a.jsx(ga,{})},[C.MOBILE]:{title:"global.label.mobile",icon:a.jsx(ha,{})}},ba=Object.values(C).filter(e=>typeof e=="number"),ja=({overlayMode:e,setOverlayMode:s})=>{const{t:l}=c();return a.jsx(m,{label:l("reader.settings.overlay_mode"),value:e,values:ba,setValue:s,valueToDisplayData:_a})},va={[M.THEME]:{title:"settings.appearance.theme.title",icon:null},[M.BLACK]:{title:"global.colors.black",icon:null},[M.GRAY]:{title:"global.colors.gray",icon:null},[M.WHITE]:{title:"global.colors.white",icon:null}},ma=Object.values(M).filter(e=>typeof e=="number"),pa=({backgroundColor:e,updateSetting:s})=>{const{t:l}=c();return a.jsx(m,{label:l("reader.settings.background_color"),value:e,values:ma,setValue:s,valueToDisplayData:va})},Aa=({overlayMode:e,settings:s,updateSetting:l,onDefault:r})=>{const{t}=c();return a.jsxs(d,{sx:{gap:2},children:[a.jsx(ja,{overlayMode:s.overlayMode,setOverlayMode:n=>l("overlayMode",n)}),a.jsx(pa,{backgroundColor:s.backgroundColor,updateSetting:n=>l("backgroundColor",n)}),a.jsx(oa,{overlayMode:e,progressBarType:s.progressBarType,setProgressBarType:n=>l("progressBarType",n)}),a.jsx(ia,{overlayMode:e,progressBarType:s.progressBarType,progressBarSize:s.progressBarSize,setProgressBarSize:(...n)=>l("progressBarSize",...n),onDefault:()=>r==null?void 0:r("progressBarSize")}),a.jsx(xa,{progressBarPosition:s.progressBarPosition,progressBarPositionAutoVertical:s.progressBarPositionAutoVertical,updateSetting:l}),(s.progressBarType===y.HIDDEN||e===C.MOBILE)&&a.jsx(_,{label:t("reader.settings.label.show_page_number"),checked:s.shouldShowPageNumber,onChange:(n,o)=>l("shouldShowPageNumber",o)})]})},Ea=({brightness:e,updateSetting:s})=>{const{t:l}=c();return a.jsxs(d,{children:[a.jsx(_,{label:l("reader.settings.custom_filter.brightness"),checked:e.enabled,onChange:(r,t)=>s("brightness",{...e,enabled:t},!0)}),e.enabled&&a.jsx(p,{label:l("reader.settings.custom_filter.brightness"),value:e.value,onDefault:()=>s("brightness",{...e,value:b.customFilter.brightness.value},!0),slotProps:{slider:{defaultValue:b.customFilter.brightness.value,value:e.value,step:v.brightness.step,min:v.brightness.min,max:v.brightness.max,onChange:(r,t)=>{s("brightness",{...e,value:t},!1)},onChangeCommitted:(r,t)=>{s("brightness",{...e,value:t},!0)}}}})]})},Ra=({contrast:e,updateSetting:s})=>{const{t:l}=c();return a.jsxs(d,{children:[a.jsx(_,{label:l("reader.settings.custom_filter.contrast"),checked:e.enabled,onChange:(r,t)=>s("contrast",{...e,enabled:t},!0)}),e.enabled&&a.jsx(p,{label:l("reader.settings.custom_filter.contrast"),value:e.value,onDefault:()=>s("contrast",{...e,value:b.customFilter.contrast.value},!0),slotProps:{slider:{defaultValue:b.customFilter.contrast.value,value:e.value,step:v.contrast.step,min:v.contrast.min,max:v.contrast.max,onChange:(r,t)=>{s("contrast",{...e,value:t},!1)},onChangeCommitted:(r,t)=>{s("contrast",{...e,value:t},!0)}}}})]})},Ca=({saturate:e,updateSetting:s})=>{const{t:l}=c();return a.jsxs(d,{children:[a.jsx(_,{label:l("reader.settings.custom_filter.saturate"),checked:e.enabled,onChange:(r,t)=>s("saturate",{...e,enabled:t},!0)}),e.enabled&&a.jsx(p,{label:l("reader.settings.custom_filter.saturate"),value:e.value,onDefault:()=>s("saturate",{...e,value:b.customFilter.saturate.value},!0),slotProps:{slider:{defaultValue:b.customFilter.saturate.value,value:e.value,step:v.saturate.step,min:v.saturate.min,max:v.saturate.max,onChange:(r,t)=>{s("saturate",{...e,value:t},!1)},onChangeCommitted:(r,t)=>{s("saturate",{...e,value:t},!0)}}}})]})},Ta=({hue:e,updateSetting:s})=>{const{t:l}=c();return a.jsxs(d,{children:[a.jsx(_,{label:l("reader.settings.custom_filter.hue"),checked:e.enabled,onChange:(r,t)=>s("hue",{...e,enabled:t},!0)}),e.enabled&&a.jsx(p,{label:l("reader.settings.custom_filter.hue"),value:e.value,onDefault:()=>s("hue",{...e,value:b.customFilter.hue.value},!0),slotProps:{slider:{defaultValue:b.customFilter.hue.value,value:e.value,step:v.hue.step,min:v.hue.min,max:v.hue.max,onChange:(r,t)=>{s("hue",{...e,value:t},!1)},onChangeCommitted:(r,t)=>{s("hue",{...e,value:t},!0)}}}})]})},La={red:"reader.settings.custom_filter.rgba.red",green:"reader.settings.custom_filter.rgba.green",blue:"reader.settings.custom_filter.rgba.blue",alpha:"reader.settings.custom_filter.rgba.alpha"},fa=({rgba:e,updateSetting:s})=>{const{t:l}=c();return a.jsxs(d,{children:[a.jsx(_,{label:l("reader.settings.custom_filter.rgba.title"),checked:e.enabled,onChange:(r,t)=>s("rgba",{...e,enabled:t},!0)}),e.enabled&&a.jsxs(d,{sx:{gap:1},children:[Object.entries(e.value).map(([r,t])=>r==="blendMode"?null:a.jsx(p,{label:l(La[r]),value:t,onDefault:()=>s("rgba",{...e,value:{...e.value,[r]:b.customFilter.rgba.value[r]}},!0),slotProps:{slider:{value:t,defaultValue:b.customFilter.rgba.value[r],step:v.rgba[r].step,min:v.rgba[r].min,max:v.rgba[r].max,onChange:(n,o)=>{s("rgba",{...e,value:{...e.value,[r]:o}},!1)},onChangeCommitted:(n,o)=>{s("rgba",{...e,value:{...e.value,[r]:o}},!0)}}}},r)),a.jsx(m,{label:l("reader.settings.custom_filter.rgba.blend_mode.title"),value:e.value.blendMode,values:ve,setValue:r=>s("rgba",{...e,value:{...e.value,blendMode:r}},!0),valueToDisplayData:je})]})]})},Oa=({sepia:e,updateSetting:s})=>{const{t:l}=c();return a.jsx(d,{children:a.jsx(_,{label:l("reader.settings.custom_filter.sepia"),checked:e,onChange:(r,t)=>s(t)})})},Da=({grayscale:e,updateSetting:s})=>{const{t:l}=c();return a.jsx(d,{children:a.jsx(_,{label:l("reader.settings.custom_filter.grayscale"),checked:e,onChange:(r,t)=>s(t)})})},Ia=({invert:e,updateSetting:s})=>{const{t:l}=c();return a.jsx(d,{children:a.jsx(_,{label:l("reader.settings.custom_filter.invert"),checked:e,onChange:(r,t)=>s(t)})})},Sa=({settings:{customFilter:e},updateSetting:s,onDefault:l,setTransparent:r})=>{const t=(n,o)=>{s("customFilter",n,o),r==null||r(o===void 0?!1:!o)};return a.jsxs(d,{sx:{gap:2},children:[a.jsx(Ea,{brightness:e.brightness,updateSetting:(n,o,u)=>t({...e,[n]:o},u)}),a.jsx(Ra,{contrast:e.contrast,updateSetting:(n,o,u)=>t({...e,[n]:o},u)}),a.jsx(Ca,{saturate:e.saturate,updateSetting:(n,o,u)=>t({...e,[n]:o},u)}),a.jsx(Ta,{hue:e.hue,updateSetting:(n,o,u)=>t({...e,[n]:o},u)}),a.jsx(fa,{rgba:e.rgba,updateSetting:(n,o,u)=>t({...e,[n]:o},u)}),a.jsx(Oa,{sepia:e.sepia,updateSetting:n=>t({...e,sepia:n})}),a.jsx(Da,{grayscale:e.grayscale,updateSetting:n=>t({...e,grayscale:n})}),a.jsx(Ia,{invert:e.invert,updateSetting:n=>t({...e,invert:n})}),a.jsx(d,{sx:{alignItems:"end"},children:a.jsx(P,{onClick:()=>l==null?void 0:l("customFilter"),variant:"outlined"})})]})},Ma={[H.PREVIOUS]:{title:"global.label.previous",icon:null},[H.MANGA]:{title:"manga.title_one",icon:null}},ka=Object.values(H).filter(e=>typeof e=="number"),ya=({exitMode:e,setExitMode:s})=>{const{t:l}=c();return a.jsx(m,{label:l("reader.settings.exit_mode"),value:e,values:ka,setValue:s,valueToDisplayData:Ma})},Pa=({autoScroll:e,setAutoScroll:s})=>{const{t:l}=c();return a.jsxs(a.Fragment,{children:[a.jsx(_,{label:l("reader.settings.auto_scroll.smooth"),checked:e.smooth,onChange:(r,t)=>s({...e,smooth:t},!0)}),a.jsx(p,{label:l("reader.settings.auto_scroll.speed"),value:l("global.time.seconds.value",{count:e.value}),onDefault:()=>s({...e,value:b.autoScroll.value},!0),slotProps:{slider:{defaultValue:b.customFilter.saturate.value,value:e.value,...w,onChange:(r,t)=>{s({...e,value:t},!1)},onChangeCommitted:(r,t)=>{s({...e,value:t},!0)}}}})]})},wa={[k.TINY]:{title:"global.label.tiny",icon:null},[k.SMALL]:{title:"global.label.small",icon:null},[k.MEDIUM]:{title:"global.label.medium",icon:null},[k.LARGE]:{title:"global.label.large",icon:null}},Va=Object.values(k).filter(e=>typeof e=="number"),Ba=({scrollAmount:e,setScrollAmount:s})=>{const{t:l}=c();return a.jsxs(a.Fragment,{children:[a.jsx(m,{label:l("reader.settings.scroll_amount"),value:e,values:Va,setValue:r=>s(r,!0),valueToDisplayData:wa}),a.jsx(p,{label:l("reader.settings.label.custom_scroll_amount"),value:l("global.value",{value:e,unit:"%"}),onDefault:()=>s(b.scrollAmount,!0),slotProps:{slider:{defaultValue:b.scrollAmount,value:e,...me,onChange:(r,t)=>{s(t,!1)},onChangeCommitted:(r,t)=>{s(t,!0)}}}})]})},Na=({settings:e,updateSetting:s,onDefault:l})=>{const{t:r}=c();return a.jsxs(d,{sx:{gap:2},children:[a.jsx(ya,{exitMode:e.exitMode,setExitMode:t=>s("exitMode",t)}),a.jsx(Ba,{scrollAmount:e.scrollAmount,setScrollAmount:(t,n)=>s("scrollAmount",t,n)}),a.jsx(_,{label:r("reader.settings.label.skip_dup_chapters"),checked:e.shouldSkipDupChapters,onChange:(t,n)=>s("shouldSkipDupChapters",n)}),pe(e.readingMode.value)&&a.jsx(_,{label:r("reader.settings.label.offset_double_spread"),checked:e.shouldOffsetDoubleSpreads.value,onChange:(t,n)=>s("shouldOffsetDoubleSpreads",n)}),a.jsx(_,{label:a.jsxs(f,{children:[a.jsx(h,{children:r("reader.settings.infinite_scroll.title")}),a.jsx(h,{variant:"body2",color:"textDisabled",children:r("reader.settings.infinite_scroll.description")})]}),checked:e.shouldUseInfiniteScroll,onChange:(t,n)=>s("shouldUseInfiniteScroll",n)}),a.jsx(_,{label:a.jsxs(f,{children:[a.jsx(h,{children:r("reader.settings.preview.reading_mode.title")}),a.jsx(h,{variant:"body2",color:"textDisabled",children:r("reader.settings.preview.reading_mode.description")})]}),checked:e.shouldShowReadingModePreview,onChange:(t,n)=>s("shouldShowReadingModePreview",n)}),a.jsx(_,{label:a.jsxs(f,{children:[a.jsx(h,{children:r("reader.settings.preview.tap_zones.title")}),a.jsx(h,{variant:"body2",color:"textDisabled",children:r("reader.settings.preview.tap_zones.description")})]}),checked:e.shouldShowTapZoneLayoutPreview,onChange:(t,n)=>s("shouldShowTapZoneLayoutPreview",n)}),a.jsx(_,{label:a.jsxs(f,{children:[a.jsx(h,{children:r("reader.settings.auto_webtoon_mode.title")}),a.jsx(h,{variant:"body2",color:"textDisabled",children:r("reader.settings.auto_webtoon_mode.description")})]}),checked:e.shouldUseAutoWebtoonMode,onChange:(t,n)=>s("shouldUseAutoWebtoonMode",n)}),a.jsx(_,{label:r("reader.settings.show_transition_page"),checked:e.shouldShowTransitionPage,onChange:(t,n)=>s("shouldShowTransitionPage",n)}),a.jsx(_,{label:r("reader.settings.chapter_transition.warning.missing_chapter"),checked:e.shouldInformAboutMissingChapter,onChange:(t,n)=>s("shouldInformAboutMissingChapter",n)}),a.jsx(_,{label:r("reader.settings.chapter_transition.warning.scanlator_change"),checked:e.shouldInformAboutScanlatorChange,onChange:(t,n)=>s("shouldInformAboutScanlatorChange",n)}),a.jsx(Pa,{autoScroll:e.autoScroll,setAutoScroll:(...t)=>s("autoScroll",...t)}),a.jsx(p,{label:r("reader.settings.image_preload_amount"),value:e.imagePreLoadAmount,onDefault:()=>l==null?void 0:l("imagePreLoadAmount"),slotProps:{slider:{defaultValue:b.imagePreLoadAmount,value:e.imagePreLoadAmount,step:U.step,min:U.min,max:U.max,onChange:(t,n)=>{s("imagePreLoadAmount",n,!1)},onChangeCommitted:(t,n)=>{s("imagePreLoadAmount",n,!0)}}}})]})},Ua=Ae(h)(({theme:e})=>({display:"inline-block",padding:"0.2em 0.4em",fontSize:"0.85em",lineHeight:"1.4",color:e.palette.text.primary,backgroundColor:e.palette.background.paper,border:"1px solid ".concat(e.palette.divider),borderRadius:"3px",boxShadow:"inset 0 -1px 0 ".concat(e.palette.divider),fontFamily:"monospace, monospace"})),le=({keys:e,removeKey:s})=>{const{t:l}=c();return a.jsx(d,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:e.map((r,t)=>a.jsxs(V.Fragment,{children:[a.jsx(B,{title:l("global.button.delete"),hidden:!s,children:a.jsx(d,{sx:{flexDirection:"row",flexWrap:"wrap",gap:.5,cursor:s?"pointer":void 0},onClick:()=>s==null?void 0:s(r),children:r.split("+").map((n,o,u)=>a.jsxs(V.Fragment,{children:[a.jsx(Ua,{children:n}),o===u.length-1?"":"+"]},n))})}),t===e.length-1?"":","]},r))})},Ga=({onClose:e,onCreate:s,existingKeys:l})=>{const{t:r}=c(),[t,{start:n,stop:o,resetKeys:u}]=Ee(),i=[[...t].join("+")],A=i.some(E=>l.map(g=>g.toLowerCase()).includes(E.toLowerCase()));return V.useEffect(()=>(n(),()=>{o()}),[]),a.jsxs(Re,{open:!0,onClose:e,fullWidth:!0,children:[a.jsx(Ce,{children:r("hotkeys.create.dialog.title")}),a.jsxs(Te,{children:[a.jsx(d,{sx:{flexDirection:"row",gap:1},children:a.jsx(J,{i18nKey:"hotkeys.create.dialog.label",components:{Keys:t.size?a.jsx(le,{keys:i}):a.jsx(h,{children:r("hotkeys.create.dialog.placeholder")})},children:"Recorded keys:"})}),A&&a.jsx(h,{color:"error",children:r("hotkeys.create.error.exists")})]}),a.jsx(Le,{children:a.jsxs(d,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[a.jsx(R,{onClick:u,children:r("global.button.reset")}),a.jsxs(d,{direction:"row",children:[a.jsx(R,{onClick:e,children:r("global.button.cancel")}),a.jsx(R,{disabled:A,onClick:()=>{e(),s(i)},children:r("global.button.create")})]})]})})]})},Ha={[j.PREVIOUS_PAGE]:"reader.settings.hotkey.previous_page",[j.NEXT_PAGE]:"reader.settings.hotkey.next_page",[j.SCROLL_BACKWARD]:"reader.settings.hotkey.scroll_backward",[j.SCROLL_FORWARD]:"reader.settings.hotkey.scroll_forward",[j.PREVIOUS_CHAPTER]:"reader.settings.hotkey.previous_chapter",[j.NEXT_CHAPTER]:"reader.settings.hotkey.next_chapter",[j.TOGGLE_MENU]:"reader.settings.hotkey.menu",[j.CYCLE_SCALE_TYPE]:"reader.settings.hotkey.scale_type",[j.STRETCH_IMAGE]:"reader.settings.hotkey.stretch_image",[j.OFFSET_SPREAD_PAGES]:"reader.settings.hotkey.offset_spread_pages",[j.CYCLE_READING_MODE]:"reader.settings.hotkey.reading_mode",[j.CYCLE_READING_DIRECTION]:"reader.settings.hotkey.reading_direction",[j.TOGGLE_AUTO_SCROLL]:"reader.settings.hotkey.auto_scroll",[j.AUTO_SCROLL_SPEED_INCREASE]:"reader.settings.hotkey.auto_scroll_speed_increase",[j.AUTO_SCROLL_SPEED_DECREASE]:"reader.settings.hotkey.auto_scroll_speed_decrease",[j.EXIT_READER]:"reader.button.exit"},za=({hotkey:e,keys:s,existingKeys:l,updateSetting:r})=>{const{t}=c(),n=fe({popupId:"reader-setting-record-hotkey",variant:"dialog"});return a.jsxs(a.Fragment,{children:[a.jsxs(d,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[a.jsx(h,{sx:{flexGrow:1},children:t(Ha[e])}),a.jsx(le,{keys:s,removeKey:o=>r(s.filter(u=>u!==o))}),a.jsx(B,{title:t("global.button.add"),children:a.jsx(X,{...Oe(n),color:"inherit",children:a.jsx(Ve,{})})}),a.jsx(P,{asIconButton:!0,onClick:()=>r(b.hotkeys[e])})]}),n.isOpen&&a.jsx(Ga,{onClose:n.close,onCreate:o=>r([...s,...o]),existingKeys:l})]})},Ya=({settings:e,updateSetting:s,onDefault:l})=>{const{t:r}=c();return a.jsxs(d,{sx:{gap:2},children:[a.jsx(d,{sx:{alignItems:"end"},children:a.jsx(h,{variant:"caption",children:r("hotkeys.info.delete")})}),De.map(t=>a.jsx(za,{hotkey:t,keys:e.hotkeys[t],existingKeys:Object.values(e.hotkeys).flat(),updateSetting:n=>s("hotkeys",{...e.hotkeys,[t]:n})},t)),a.jsx(d,{sx:{alignItems:"end"},children:a.jsx(P,{onClick:()=>l==null?void 0:l("hotkeys"),variant:"outlined"})})]})},Fa=({activeTab:e,setActiveTab:s,areDefaultSettings:l,settings:r,updateSetting:t,deleteSetting:n,setShowPreview:o,mode:u,setTransparent:i})=>{const{t:A}=c(),E=q.useIsTouchDevice();return a.jsxs(a.Fragment,{children:[a.jsx(ke,{value:e,onChange:(g,I)=>s(I),sx:{...z(!!l,{zIndex:2}),...z(!l,{backgroundColor:"background.paper",backgroundImage:"var(--Paper-overlay)"})},children:Object.values(Y).map(({id:g,label:I,supportsTouchDevices:x})=>!x&&E?null:a.jsx(ye,{value:g,label:A(I),sx:{flexGrow:1,maxWidth:"unset",textTransform:"none"}},g))}),a.jsx(f,{sx:{p:l?void 0:2,overflowX:"hidden"},children:Object.values(Y).map(({id:g,supportsTouchDevices:I})=>{if(!I&&E)return null;switch(g){case S.LAYOUT:return l?a.jsx(T,{index:g,currentIndex:e,children:a.jsx(se,{readingMode:r.readingMode,updateSetting:(...x)=>t(...x)})},g):a.jsx(T,{index:g,currentIndex:e,children:a.jsx(re,{settings:r,updateSetting:(...x)=>t(...x),setShowPreview:o,isDefaultable:!l,onDefault:(...x)=>n==null?void 0:n(...x),isSeriesMode:!0,setTransparent:i})},g);case S.GENERAL:return a.jsx(T,{index:g,currentIndex:e,sx:{p:l?2:void 0},children:a.jsx(Aa,{overlayMode:u,settings:r,updateSetting:(...x)=>t(...x),isDefaultable:!l,onDefault:(...x)=>n==null?void 0:n(...x)})},g);case S.FILTER:return a.jsx(T,{index:g,currentIndex:e,sx:{p:l?2:void 0},children:a.jsx(Sa,{settings:r,updateSetting:(...x)=>t(...x),isDefaultable:!0,onDefault:(...x)=>n==null?void 0:n(...x),setTransparent:i})},g);case S.BEHAVIOUR:return a.jsx(T,{index:g,currentIndex:e,sx:{p:l?2:void 0},children:a.jsx(Na,{settings:r,updateSetting:(...x)=>t(...x),isDefaultable:!0,onDefault:(...x)=>n==null?void 0:n(...x)})},g);case S.HOTKEYS:return a.jsx(T,{index:g,currentIndex:e,sx:{p:l?2:void 0},children:a.jsx(Ya,{settings:r,updateSetting:(...x)=>t(...x),isDefaultable:!0,onDefault:(...x)=>n==null?void 0:n(...x)})},g);default:throw new Error('Unexpected "ReaderSettingTab" ('.concat(g,")"))}})})]})},es=Ie(Fa,[Se,Me.useOverlayMode],["setShowPreview","mode"]);export{aa as D,es as R,Be as S,ee as a,He as b,Pa as c};
