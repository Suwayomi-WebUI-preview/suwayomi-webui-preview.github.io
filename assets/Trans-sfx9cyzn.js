import{cw as M,ey as J,ez as X,eA as K,eB as ee,f as N,eC as _,eD as w,eE as O,eF as te}from"./index-XiA-10qq.js";var H,R;function re(){return R||(R=1,H={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),H}var ne=re();const se=M(ne);var ae=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function q(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(se[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var a=new RegExp(ae),s=null;(s=a.exec(e))!==null;)if(s[0].trim())if(s[1]){var l=s[1].trim(),m=[l,""];l.indexOf("=")>-1&&(m=l.split("=")),t.attrs[m[0]]=m[1],a.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var ie=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,le=/^\s*$/,ce=Object.create(null);function U(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(r){var n=[];for(var a in r)n.push(a+'="'+r[a]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(U,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var oe={parse:function(e,t){t||(t={}),t.components||(t.components=ce);var r,n=[],a=[],s=-1,l=!1;if(e.indexOf("<")!==0){var m=e.indexOf("<");n.push({type:"text",content:m===-1?e:e.substring(0,m)})}return e.replace(ie,function(c,h){if(l){if(c!=="</"+r.name+">")return;l=!1}var p,A=c.charAt(1)!=="/",b=c.startsWith("<!--"),y=h+c.length,o=e.charAt(y);if(b){var V=q(c);return s<0?(n.push(V),n):((p=a[s]).children.push(V),n)}if(A&&(s++,(r=q(c)).type==="tag"&&t.components[r.name]&&(r.type="component",l=!0),r.voidElement||l||!o||o==="<"||r.children.push({type:"text",content:e.slice(y,e.indexOf("<",y))}),s===0&&n.push(r),(p=a[s-1])&&p.children.push(r),a[s]=r),(!A||r.voidElement)&&(s>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(s--,r=s===-1?n:a[s]),!l&&o!=="<"&&o)){p=s===-1?n:a[s].children;var u=e.indexOf("<",y),x=e.slice(y,u===-1?void 0:u);le.test(x)&&(x=" "),(u>-1&&s+p.length>=0||x!==" ")&&p.push({type:"text",content:x})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+U("",r)},"")}};const W=(e,t)=>{var n,a;if(!e)return!1;const r=(a=(n=e.props)==null?void 0:n.children)!=null?a:e.children;return t?r.length>0:!!r},Z=e=>{var r,n,a;if(!e)return[];const t=(n=(r=e.props)==null?void 0:r.children)!=null?n:e.children;return(a=e.props)!=null&&a.i18nIsDynamicList?L(t):t},ue=e=>Array.isArray(e)&&e.every(N.isValidElement),L=e=>Array.isArray(e)?e:[e],fe=(e,t)=>{const r={...t};return r.props=Object.assign(e.props,t.props),r},Y=(e,t,r,n)=>{var m;if(!e)return"";let a="";const s=L(e),l=t!=null&&t.transSupportBasicHtmlNodes?(m=t.transKeepBasicHtmlNodesFor)!=null?m:[]:[];return s.forEach((c,h)=>{if(_(c)){a+="".concat(c);return}if(N.isValidElement(c)){const{props:p,type:A}=c,b=Object.keys(p).length,y=l.indexOf(A)>-1,o=p.children;if(!o&&y&&!b){a+="<".concat(A,"/>");return}if(!o&&(!y||b)||p.i18nIsDynamicList){a+="<".concat(h,"></").concat(h,">");return}if(y&&b===1&&_(o)){a+="<".concat(A,">").concat(o,"</").concat(A,">");return}const V=Y(o,t,r,n);a+="<".concat(h,">").concat(V,"</").concat(h,">");return}if(c===null){w(r,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:n});return}if(O(c)){const{format:p,...A}=c,b=Object.keys(A);if(b.length===1){const y=p?"".concat(b[0],", ").concat(p):b[0];a+="{{".concat(y,"}}");return}w(r,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:n,child:c});return}w(r,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:n,child:c})}),a},pe=(e,t=[],r={})=>{if(!e)return e;const n=Object.keys(r),a=[...t,...n];let s="",l=0;for(;l<e.length;)if(e[l]==="<"){let m=!1;const c=e.slice(l).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9-]*)>/);if(c){const h=c[1];(/^\d+$/.test(h)||a.includes(h))&&(m=!0,s+=c[0],l+=c[0].length)}if(!m){const h=e.slice(l).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(h){const p=h[1];(/^\d+$/.test(p)||a.includes(p))&&(m=!0,s+=h[0],l+=h[0].length)}}m||(s+="&lt;",l+=1)}else s+=e[l],l+=1;return s},me=(e,t,r,n,a,s,l)=>{if(r==="")return[];const m=a.transKeepBasicHtmlNodesFor||[],c=r&&new RegExp(m.map(g=>"<".concat(g)).join("|")).test(r);if(!e&&!t&&!c&&!l)return[r];const h=t!=null?t:{},p=g=>{L(g).forEach(d=>{_(d)||(W(d)?p(Z(d)):O(d)&&!N.isValidElement(d)&&Object.assign(h,d))})};p(e);const A=pe(r,m,h),b=oe.parse("<0>".concat(A,"</0>")),y={...h,...s},o=(g,$,d)=>{var f;const T=Z(g),k=u(T,$.children,d);return ue(T)&&k.length===0||(f=g.props)!=null&&f.i18nIsDynamicList?T:k},V=(g,$,d,T,k)=>{g.dummy?(g.children=$,d.push(N.cloneElement(g,{key:T},k?void 0:$))):d.push(...N.Children.map([g],f=>{var C;const i={...f.props};return delete i.i18nIsDynamicList,N.createElement(f.type,{...i,key:T,ref:(C=f.props.ref)!=null?C:f.ref},k?null:$)}))},u=(g,$,d)=>{const T=L(g);return L($).reduce((f,i,C)=>{var D,F;const I=((F=(D=i.children)==null?void 0:D[0])==null?void 0:F.content)&&n.services.interpolator.interpolate(i.children[0].content,y,n.language);if(i.type==="tag"){let j=T[parseInt(i.name,10)];!j&&t&&(j=t[i.name]),d.length===1&&!j&&(j=d[0][i.name]),j||(j={});const E=Object.keys(i.attrs).length!==0?fe({props:i.attrs},j):j,S=N.isValidElement(E),P=S&&W(i,!0)&&!i.voidElement,z=c&&O(E)&&E.dummy&&!S,B=O(t)&&Object.hasOwnProperty.call(t,i.name);if(_(E)){const v=n.services.interpolator.interpolate(E,y,n.language);f.push(v)}else if(W(E)||P){const v=o(E,i,d);V(E,v,f,C)}else if(z){const v=u(T,i.children,d);V(E,v,f,C)}else if(Number.isNaN(parseFloat(i.name)))if(B){const v=o(E,i,d);V(E,v,f,C,i.voidElement)}else if(a.transSupportBasicHtmlNodes&&m.indexOf(i.name)>-1)if(i.voidElement)f.push(N.createElement(i.name,{key:"".concat(i.name,"-").concat(C)}));else{const v=u(T,i.children,d);f.push(N.createElement(i.name,{key:"".concat(i.name,"-").concat(C)},v))}else if(i.voidElement)f.push("<".concat(i.name," />"));else{const v=u(T,i.children,d);f.push("<".concat(i.name,">").concat(v,"</").concat(i.name,">"))}else if(O(E)&&!S){const v=i.children[0]?I:null;v&&f.push(v)}else V(E,I,f,C,i.children.length!==1||!I)}else if(i.type==="text"){const j=a.transWrapTextNodes,E=l?a.unescape(n.services.interpolator.interpolate(i.content,y,n.language)):n.services.interpolator.interpolate(i.content,y,n.language);j?f.push(N.createElement(j,{key:"".concat(i.name,"-").concat(C)},E)):f.push(E)}return f},[])},x=u([{dummy:!0,children:e||[]}],b,L(e||[]));return Z(x[0])},G=(e,t,r)=>{const n=e.key||t,a=N.cloneElement(e,{key:n});if(!a.props||!a.props.children||r.indexOf("".concat(t,"/>"))<0&&r.indexOf("".concat(t," />"))<0)return a;function s(){return N.createElement(N.Fragment,null,a)}return N.createElement(s,{key:n})},he=(e,t)=>e.map((r,n)=>G(r,n,t)),de=(e,t)=>{const r={};return Object.keys(e).forEach(n=>{Object.assign(r,{[n]:G(e[n],n,t)})}),r},ye=(e,t,r,n)=>e?Array.isArray(e)?he(e,t):O(e)?de(e,t):(J(r,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:n}),null):null,ge=e=>!O(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,r)=>t&&Number.isNaN(Number.parseFloat(r)),!0);function Ee({children:e,count:t,parent:r,i18nKey:n,context:a,tOptions:s={},values:l,defaults:m,components:c,ns:h,i18n:p,t:A,shouldUnescape:b,...y}){var E,S,P,z,B,v;const o=p||X();if(!o)return J(o,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:n}),e;const V=A||o.t.bind(o)||(Q=>Q),u={...K(),...(E=o.options)==null?void 0:E.react};let x=h||V.ns||((S=o.options)==null?void 0:S.defaultNS);x=_(x)?[x]:x||["translation"];const g=Y(e,u,o,n),$=m||(s==null?void 0:s.defaultValue)||g||u.transEmptyNodeValue||(typeof n=="function"?ee(n):n),{hashTransKey:d}=u,T=n||(d?d(g||$):g||$);(z=(P=o.options)==null?void 0:P.interpolation)!=null&&z.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...o.options.interpolation.defaultVariables}:{...o.options.interpolation.defaultVariables});const k=l||t!==void 0&&!((v=(B=o.options)==null?void 0:B.interpolation)!=null&&v.alwaysFormat)||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},f={...s,context:a||s.context,count:t,...l,...k,defaultValue:$,ns:x};let i=T?V(T,f):$;i===T&&$&&(i=$);const C=ye(c,i,o,n);let I=C||e,D=null;ge(C)&&(D=C,I=e);const F=me(I,D,i,o,u,f,b),j=r!=null?r:u.defaultTransParent;return j?N.createElement(j,y,F):F}function Ae({children:e,count:t,parent:r,i18nKey:n,context:a,tOptions:s={},values:l,defaults:m,components:c,ns:h,i18n:p,t:A,shouldUnescape:b,...y}){var g;const{i18n:o,defaultNS:V}=N.useContext(te)||{},u=p||o||X(),x=A||(u==null?void 0:u.t.bind(u));return Ee({children:e,count:t,parent:r,i18nKey:n,context:a,tOptions:s,values:l,defaults:m,components:c,ns:h||(x==null?void 0:x.ns)||V||((g=u==null?void 0:u.options)==null?void 0:g.defaultNS),i18n:u,t:A,shouldUnescape:b,...y})}export{Ae as T};
