import{e as C,j as l,aN as ge,aO as ke,Y as B,aP as me,aQ as pe,T as bt,B as xe,aR as Ht,I as ht,aS as Ut,aT as gt,aU as zt,aV as He,ao as kt,aW as Ue,aX as Ct,aY as Wt,aZ as Tt,a_ as o,ak as qt,u as vt,aH as Ye,aq as Qe,a$ as _e,D as xt,n as wt,l as yt,aD as St,a as Kt,r as Ve,b0 as ot,m as Te,g as Gt,h as Ae,i as Yt,w as Ee,ap as Qt,aC as nt,S as at,A as rt,L as it,aa as lt}from"./index-CYOaxZB1.js";import{f as ct}from"./file-selector-DlHkLoY8.js";import{P as Xt}from"./Progress-XVwByRJz.js";import{T as Zt}from"./TextSetting-CVpVfHl_.js";import{N as ut}from"./NumberSetting-BAoxAQH9.js";import{c as qe,s as ye,a as Jt,u as fe,b as je,_ as S,d as es,e as ee,f as le,g as ts,P as ss,C as os,h as ns,i as as,j as rs,k as Xe,l as Ne,m as we,n as is,o as ls,p as De,q as cs,S as us,r as Ze,t as Je,v as et,w as ze,x as tt,y as ds,D as Mt,z as We,M as ms,A as Le,B as Dt,E as Pt,F as Vt,G as ps,H as It,I as fs,J as bs,L as hs,K as gs}from"./useMobilePicker-Dji8ykQr.js";import{E as ks}from"./EmptyViewAbsoluteCentered-BmMNAYoe.js";import{L as Cs}from"./ListSubheader-DlGh4cQf.js";import"./PasswordTextField-Z_jA16JT.js";import"./TextField-CYDwjkWd.js";import"./useFormControl-5b4-eLM3.js";import"./formControlState-Dq1zat_P.js";import"./InputAdornment-Bi-fftNR.js";import"./Slider-sRD6VKTp.js";import"./Chip-DJmUFZRX.js";const Ke=({adapter:e,value:t,timezone:n,props:s})=>{if(t===null)return null;const{minTime:a,maxTime:i,minutesStep:c,shouldDisableTime:d,disableIgnoringDatePartForTimeValidation:u=!1,disablePast:p,disableFuture:x}=s,f=e.utils.date(void 0,n),h=qe(u,e.utils);switch(!0){case!e.utils.isValid(t):return"invalidDate";case!!(a&&h(a,t)):return"minTime";case!!(i&&h(t,i)):return"maxTime";case!!(x&&e.utils.isAfter(t,f)):return"disableFuture";case!!(p&&e.utils.isBefore(t,f)):return"disablePast";case!!(d&&d(t,"hours")):return"shouldDisableTime-hours";case!!(d&&d(t,"minutes")):return"shouldDisableTime-minutes";case!!(d&&d(t,"seconds")):return"shouldDisableTime-seconds";case!!(c&&e.utils.getMinutes(t)%c!==0):return"minutesStep";default:return null}};Ke.valueManager=ye;function Ts(e={}){const{enableAccessibleFieldDOMStructure:t=!0,ampm:n}=e;return C.useMemo(()=>({valueType:"time",validator:Ke,internal_valueManager:ye,internal_fieldValueManager:Jt,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:xs,internal_useOpenPickerButtonAriaLabel:vs(n)}),[n,t])}function vs(e){return function(n){const s=fe(),a=je();return C.useMemo(()=>{const i=(e!=null?e:s.is12HourCycleInCurrentLocale())?"fullTime12h":"fullTime24h",c=s.isValid(n)?s.format(n,i):null;return a.openTimePickerDialogue(c)},[n,a,s])}}function xs(e){const t=fe(),n=jt(e),s=C.useMemo(()=>{var a;return(a=e.ampm)!=null?a:t.is12HourCycleInCurrentLocale()},[e.ampm,t]);return C.useMemo(()=>{var a;return S({},e,n,{format:(a=e.format)!=null?a:s?t.formats.fullTime12h:t.formats.fullTime24h})},[e,n,s,t])}function jt(e){return C.useMemo(()=>{var t,n;return{disablePast:(t=e.disablePast)!=null?t:!1,disableFuture:(n=e.disableFuture)!=null?n:!1}},[e.disablePast,e.disableFuture])}const ws=e=>{const t=Ts(e);return es({manager:t,props:e})},ys=["slots","slotProps","InputProps","inputProps"],Nt=C.forwardRef(function(t,n){const s=ee({props:t,name:"MuiTimeField"}),{slots:a,slotProps:i}=s,c=le(s,ys),d=ts({slotProps:i,ref:n,externalForwardedProps:c}),u=ws(d);return l.jsx(ss,{slots:a,slotProps:i,fieldResponse:u,defaultOpenPickerIcon:os})});function Ss(e){return ge("MuiPickersToolbarText",e)}ke("MuiPickersToolbarText",["root"]);const Ms=["className","classes","selected","value"],Ds=e=>pe({root:["root"]},Ss,e),Ps=B(bt,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),Rt=C.forwardRef(function(t,n){const s=ee({props:t,name:"MuiPickersToolbarText"}),{className:a,classes:i,selected:c,value:d}=s,u=le(s,Ms),p=Ds(i);return l.jsx(Ps,S({ref:n,className:me(p.root,a),component:"span"},c&&{"data-selected":!0},u,{children:d}))}),Vs=["align","className","classes","selected","typographyClassName","value","variant","width"],Is=e=>pe({root:["root"]},ns,e),js=B(xe,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),Re=C.forwardRef(function(t,n){const s=ee({props:t,name:"MuiPickersToolbarButton"}),{align:a,className:i,classes:c,selected:d,typographyClassName:u,value:p,variant:x,width:f}=s,h=le(s,Vs),r=Is(c);return l.jsx(js,S({variant:"text",ref:n,className:me(r.root,i)},f?{sx:{width:f}}:{},h,{children:l.jsx(Rt,{align:a,className:u,variant:x,value:p,selected:d})}))});function Ns(e){return ge("MuiTimePickerToolbar",e)}const Fe=ke("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Rs=["ampm","ampmInClock","className","classes"],Fs=(e,t)=>{const{pickerOrientation:n,toolbarDirection:s}=t;return pe({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",n==="landscape"&&"hourMinuteLabelLandscape",s==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",n==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},Ns,e)},Ls=B(is,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Os=B(Rt,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(e,t)=>t.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Bs=B("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(e,t)=>[{["&.".concat(Fe.hourMinuteLabelLandscape)]:t.hourMinuteLabelLandscape,["&.".concat(Fe.hourMinuteLabelReverse)]:t.hourMinuteLabelReverse},t.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{pickerOrientation:"landscape"},style:{marginTop:"auto"}}]}),_s=B("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,t)=>[{[".".concat(Fe.ampmLabel)]:t.ampmLabel},{["&.".concat(Fe.ampmLandscape)]:t.ampmLandscape},t.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,["& .".concat(Fe.ampmLabel)]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function As(e){const t=ee({props:e,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:s,className:a,classes:i}=t,c=le(t,Rs),d=fe(),u=je(),p=as(),x=Fs(i,p),{value:f,setValue:h,disabled:r,readOnly:k,view:w,setView:P,views:D}=rs(),I=!!(n&&!s&&D.includes("hours")),{meridiemMode:R,handleMeridiemChange:L}=Xe(f,n,j=>h(j,{changeImportance:"set"})),F=j=>d.isValid(f)?d.format(f,j):"--",A=l.jsx(Os,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:x.separator});return l.jsxs(Ls,S({landscapeDirection:"row",toolbarTitle:u.timePickerToolbarTitle,ownerState:p,className:me(x.root,a)},c,{children:[l.jsxs(Bs,{className:x.hourMinuteLabel,ownerState:p,children:[Ne(D,"hours")&&l.jsx(Re,{tabIndex:-1,variant:"h3",onClick:()=>P("hours"),selected:w==="hours",value:F(n?"hours12h":"hours24h")}),Ne(D,["hours","minutes"])&&A,Ne(D,"minutes")&&l.jsx(Re,{tabIndex:-1,variant:"h3",onClick:()=>P("minutes"),selected:w==="minutes",value:F("minutes")}),Ne(D,["minutes","seconds"])&&A,Ne(D,"seconds")&&l.jsx(Re,{variant:"h3",onClick:()=>P("seconds"),selected:w==="seconds",value:F("seconds")})]}),I&&l.jsxs(_s,{className:x.ampmSelection,ownerState:p,children:[l.jsx(Re,{disableRipple:!0,variant:"subtitle2",selected:R==="am",typographyClassName:x.ampmLabel,value:we(d,"am"),onClick:k?void 0:()=>L("am"),disabled:r}),l.jsx(Re,{disableRipple:!0,variant:"subtitle2",selected:R==="pm",typographyClassName:x.ampmLabel,value:we(d,"pm"),onClick:k?void 0:()=>L("pm"),disabled:r})]})]}))}function Ft(e,t){var d,u;const n=fe(),s=ee({props:e,name:t}),a=jt(s),i=(d=s.ampm)!=null?d:n.is12HourCycleInCurrentLocale(),c=C.useMemo(()=>{var p;return((p=s.localeText)==null?void 0:p.toolbarTitle)==null?s.localeText:S({},s.localeText,{timePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]);return S({},s,a,{ampm:i,localeText:c},ls({views:s.views,openTo:s.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{slots:S({toolbar:As},s.slots),slotProps:S({},s.slotProps,{toolbar:S({ampm:i,ampmInClock:s.ampmInClock},(u=s.slotProps)==null?void 0:u.toolbar)})})}function Es(e){return ge("MuiTimeClock",e)}ke("MuiTimeClock",["root","arrowSwitcher"]);const Ie=220,he=36,Oe={x:Ie/2,y:Ie/2},Lt={x:Oe.x,y:0},$s=Lt.x-Oe.x,Hs=Lt.y-Oe.y,Us=e=>e*(180/Math.PI),Ot=(e,t,n)=>{const s=t-Oe.x,a=n-Oe.y,i=Math.atan2($s,Hs)-Math.atan2(s,a);let c=Us(i);c=Math.round(c/e)*e,c%=360;const d=Math.floor(c/e)||0,u=s**2+a**2,p=Math.sqrt(u);return{value:d,distance:p}},zs=(e,t,n=1)=>{const s=n*6;let{value:a}=Ot(s,e,t);return a=a*n%60,a},Ws=(e,t,n)=>{const{value:s,distance:a}=Ot(30,e,t);let i=s||12;return n?i%=12:a<Ie/2-he&&(i+=12,i%=24),i};function qs(e){return ge("MuiClockPointer",e)}ke("MuiClockPointer",["root","thumb"]);const Ks=["className","classes","isBetweenTwoClockValues","isInner","type","viewValue"],Gs=e=>pe({root:["root"],thumb:["thumb"]},qs,e),Ys=B("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{isClockPointerAnimated:!0},style:{transition:e.transitions.create(["transform","height"])}}]})),Qs=B("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({width:4,height:4,backgroundColor:(e.vars||e).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:"calc(50% - ".concat(he/2,"px)"),border:"".concat((he-4)/2,"px solid ").concat((e.vars||e).palette.primary.main),boxSizing:"content-box",variants:[{props:{isClockPointerBetweenTwoValues:!1},style:{backgroundColor:(e.vars||e).palette.primary.main}}]}));function Xs(e){const t=ee({props:e,name:"MuiClockPointer"}),{className:n,classes:s,isBetweenTwoClockValues:a,isInner:i,type:c,viewValue:d}=t,u=le(t,Ks),p=C.useRef(c);C.useEffect(()=>{p.current=c},[c]);const{ownerState:x}=De(),f=S({},x,{isClockPointerAnimated:p.current!==c,isClockPointerBetweenTwoValues:a}),h=Gs(s),r=()=>{let w=360/(c==="hours"?12:60)*d;return c==="hours"&&d>12&&(w-=360),{height:Math.round((i?.26:.4)*Ie),transform:"rotateZ(".concat(w,"deg)")}};return l.jsx(Ys,S({style:r(),className:me(h.root,n),ownerState:f},u,{children:l.jsx(Qs,{ownerState:f,className:h.thumb})}))}function Zs(e){return ge("MuiClock",e)}ke("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const Js=(e,t)=>{const n={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",t.clockMeridiemMode==="am"&&"selected"],pmButton:["pmButton",t.clockMeridiemMode==="pm"&&"selected"],meridiemText:["meridiemText"]};return pe(n,Zs,e)},eo=B("div",{name:"MuiClock",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2)})),to=B("div",{name:"MuiClock",slot:"Clock",overridesResolver:(e,t)=>t.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),so=B("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({"&:focus":{outline:"none"}}),oo=B("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(e,t)=>t.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{isClockDisabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),no=B("div",{name:"MuiClock",slot:"Pin",overridesResolver:(e,t)=>t.pin})(({theme:e})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Bt=(e,t)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:he,variants:[{props:{clockMeridiemMode:t},style:{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}}}]}),ao=B(ht,{name:"MuiClock",slot:"AmButton",overridesResolver:(e,t)=>t.amButton})(({theme:e})=>S({},Bt(e,"am"),{position:"absolute",left:8})),ro=B(ht,{name:"MuiClock",slot:"PmButton",overridesResolver:(e,t)=>t.pmButton})(({theme:e})=>S({},Bt(e,"pm"),{position:"absolute",right:8})),dt=B(bt,{name:"MuiClock",slot:"meridiemText",overridesResolver:(e,t)=>t.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function io(e){const t=ee({props:e,name:"MuiClock"}),{ampm:n,ampmInClock:s,autoFocus:a,children:i,value:c,handleMeridiemChange:d,isTimeDisabled:u,meridiemMode:p,minutesStep:x=1,onChange:f,selectedId:h,type:r,viewValue:k,viewRange:[w,P],disabled:D=!1,readOnly:I,className:R,classes:L}=t,F=fe(),A=je(),{ownerState:j}=De(),E=S({},j,{isClockDisabled:D,clockMeridiemMode:p}),V=C.useRef(!1),v=Js(L,E),m=u(k,r),M=!n&&r==="hours"&&(k<1||k>12),N=(g,re)=>{D||I||u(g,r)||f(g,re)},O=(g,re)=>{let{offsetX:z,offsetY:se}=g;if(z===void 0){const oe=g.target.getBoundingClientRect();z=g.changedTouches[0].clientX-oe.left,se=g.changedTouches[0].clientY-oe.top}const J=r==="seconds"||r==="minutes"?zs(z,se,x):Ws(z,se,!!n);N(J,re)},ce=g=>{V.current=!0,O(g,"shallow")},te=g=>{V.current&&(O(g,"finish"),V.current=!1),g.preventDefault()},Se=g=>{g.buttons>0&&O(g.nativeEvent,"shallow")},ue=g=>{V.current&&(V.current=!1),O(g.nativeEvent,"finish")},Z=r==="hours"?!1:k%5!==0,be=r==="minutes"?x:1,_=C.useRef(null);Ht(()=>{a&&_.current.focus()},[a]);const H=g=>Math.max(w,Math.min(P,g)),G=g=>(g+(P+1))%(P+1),Y=g=>{if(!V.current)switch(g.key){case"Home":N(w,"partial"),g.preventDefault();break;case"End":N(P,"partial"),g.preventDefault();break;case"ArrowUp":N(G(k+be),"partial"),g.preventDefault();break;case"ArrowDown":N(G(k-be),"partial"),g.preventDefault();break;case"PageUp":N(H(k+5),"partial"),g.preventDefault();break;case"PageDown":N(H(k-5),"partial"),g.preventDefault();break;case"Enter":case" ":N(k,"finish"),g.preventDefault();break}};return l.jsxs(eo,{className:me(v.root,R),children:[l.jsxs(to,{className:v.clock,children:[l.jsx(oo,{onTouchMove:ce,onTouchStart:ce,onTouchEnd:te,onMouseUp:ue,onMouseMove:Se,ownerState:E,className:v.squareMask}),!m&&l.jsxs(C.Fragment,{children:[l.jsx(no,{className:v.pin}),c!=null&&l.jsx(Xs,{type:r,viewValue:k,isInner:M,isBetweenTwoClockValues:Z})]}),l.jsx(so,{"aria-activedescendant":h,"aria-label":A.clockLabelText(r,c==null?null:F.format(c,n?"fullTime12h":"fullTime24h")),ref:_,role:"listbox",onKeyDown:Y,tabIndex:0,className:v.wrapper,children:i})]}),n&&s&&l.jsxs(C.Fragment,{children:[l.jsx(ao,{onClick:I?void 0:()=>d("am"),disabled:D||p===null,ownerState:E,className:v.amButton,title:we(F,"am"),children:l.jsx(dt,{variant:"caption",className:v.meridiemText,children:we(F,"am")})}),l.jsx(ro,{disabled:D||p===null,onClick:I?void 0:()=>d("pm"),ownerState:E,className:v.pmButton,title:we(F,"pm"),children:l.jsx(dt,{variant:"caption",className:v.meridiemText,children:we(F,"pm")})})]})]})}function lo(e){return ge("MuiClockNumber",e)}const $e=ke("MuiClockNumber",["root","selected","disabled"]),co=["className","classes","disabled","index","inner","label","selected"],uo=(e,t)=>{const n={root:["root",t.isClockNumberSelected&&"selected",t.isClockNumberDisabled&&"disabled"]};return pe(n,lo,e)},mo=B("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,t)=>[t.root,{["&.".concat($e.disabled)]:t.disabled},{["&.".concat($e.selected)]:t.selected}]})(({theme:e})=>({height:he,width:he,position:"absolute",left:"calc((100% - ".concat(he,"px) / 2)"),display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(e.vars||e).palette.text.primary,fontFamily:e.typography.fontFamily,"&:focused":{backgroundColor:(e.vars||e).palette.background.paper},["&.".concat($e.selected)]:{color:(e.vars||e).palette.primary.contrastText},["&.".concat($e.disabled)]:{pointerEvents:"none",color:(e.vars||e).palette.text.disabled},variants:[{props:{isClockNumberInInnerRing:!0},style:S({},e.typography.body2,{color:(e.vars||e).palette.text.secondary})}]}));function _t(e){const t=ee({props:e,name:"MuiClockNumber"}),{className:n,classes:s,disabled:a,index:i,inner:c,label:d,selected:u}=t,p=le(t,co),{ownerState:x}=De(),f=S({},x,{isClockNumberInInnerRing:c,isClockNumberSelected:u,isClockNumberDisabled:a}),h=uo(s,f),r=i%12/12*Math.PI*2-Math.PI/2,k=(Ie-he-2)/2*(c?.65:1),w=Math.round(Math.cos(r)*k),P=Math.round(Math.sin(r)*k);return l.jsx(mo,S({className:me(h.root,n),"aria-disabled":a?!0:void 0,"aria-selected":u?!0:void 0,role:"option",style:{transform:"translate(".concat(w,"px, ").concat(P+(Ie-he)/2,"px")},ownerState:f},p,{children:d}))}const po=({ampm:e,value:t,getClockNumberText:n,isDisabled:s,selectedId:a,utils:i})=>{const c=t?i.getHours(t):null,d=[],u=e?1:0,p=e?12:23,x=f=>c===null?!1:e?f===12?c===12||c===0:c===f||c-12===f:c===f;for(let f=u;f<=p;f+=1){let h=f.toString();f===0&&(h="00");const r=!e&&(f===0||f>12);h=i.formatNumber(h);const k=x(f);d.push(l.jsx(_t,{id:k?a:void 0,index:f,inner:r,selected:k,disabled:s(f),label:h,"aria-label":n(h)},f))}return d},mt=({utils:e,value:t,isDisabled:n,getClockNumberText:s,selectedId:a})=>{const i=e.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(([c,d],u)=>{const p=c===t;return l.jsx(_t,{label:d,id:p?a:void 0,index:u+1,inner:!1,disabled:n(c),selected:p,"aria-label":s(d)},c)})},st=({value:e,referenceDate:t,utils:n,props:s,timezone:a})=>{const i=C.useMemo(()=>ye.getInitialReferenceValue({value:e,utils:n,props:s,referenceDate:t,granularity:us.day,timezone:a,getTodayDate:()=>cs(n,a,"date")}),[]);return e!=null?e:i},fo=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","timezone"],bo=e=>pe({root:["root"],arrowSwitcher:["arrowSwitcher"]},Es,e),ho=B(tt,{name:"MuiTimeClock",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",position:"relative"}),go=B(ds,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(e,t)=>t.arrowSwitcher})({position:"absolute",right:12,top:15}),ko=["hours","minutes"],Co=C.forwardRef(function(t,n){const s=fe(),a=ee({props:t,name:"MuiTimeClock"}),{ampm:i=s.is12HourCycleInCurrentLocale(),ampmInClock:c=!1,autoFocus:d,slots:u,slotProps:p,value:x,defaultValue:f,referenceDate:h,disableIgnoringDatePartForTimeValidation:r=!1,maxTime:k,minTime:w,disableFuture:P,disablePast:D,minutesStep:I=1,shouldDisableTime:R,showViewSwitcher:L,onChange:F,view:A,views:j=ko,openTo:E,onViewChange:V,focusedView:v,onFocusedViewChange:m,className:M,classes:N,disabled:O,readOnly:ce,timezone:te}=a,Se=le(a,fo),{value:ue,handleValueChange:Z,timezone:be}=Ze({name:"TimeClock",timezone:te,value:x,defaultValue:f,referenceDate:h,onChange:F,valueManager:ye}),_=st({value:ue,referenceDate:h,utils:s,props:a,timezone:be}),H=je(),G=Je(be),Y=Ut(),{ownerState:g}=De(),{view:re,setView:z,previousView:se,nextView:J,setValueAndGoToNextView:oe}=et({view:A,views:j,openTo:E,onViewChange:V,onChange:Z,focusedView:v,onFocusedViewChange:m}),{meridiemMode:ne,handleMeridiemChange:ae}=Xe(_,i,oe),de=C.useCallback((q,Q)=>{const U=qe(r,s),X=Q==="hours"||Q==="minutes"&&j.includes("seconds"),b=({start:y,end:$})=>!(w&&U(w,$)||k&&U(y,k)||P&&U(y,G)||D&&U(G,X?$:y)),T=(y,$=1)=>{if(y%$!==0)return!1;if(R)switch(Q){case"hours":return!R(s.setHours(_,y),"hours");case"minutes":return!R(s.setMinutes(_,y),"minutes");case"seconds":return!R(s.setSeconds(_,y),"seconds");default:return!1}return!0};switch(Q){case"hours":{const y=ze(q,ne,i),$=s.setHours(_,y);if(s.getHours($)!==y)return!0;const K=s.setSeconds(s.setMinutes($,0),0),Pe=s.setSeconds(s.setMinutes($,59),59);return!b({start:K,end:Pe})||!T(y)}case"minutes":{const y=s.setMinutes(_,q),$=s.setSeconds(y,0),K=s.setSeconds(y,59);return!b({start:$,end:K})||!T(q,I)}case"seconds":{const y=s.setSeconds(_,q);return!b({start:y,end:y})||!T(q)}default:throw new Error("not supported")}},[i,_,r,k,ne,w,I,R,s,P,D,G,j]),Ce=C.useMemo(()=>{switch(re){case"hours":{const q=(X,b)=>{const T=ze(X,ne,i);oe(s.setHours(_,T),b,"hours")},Q=s.getHours(_);let U;return i?Q>12?U=[12,23]:U=[0,11]:U=[0,23],{onChange:q,viewValue:Q,children:po({value:ue,utils:s,ampm:i,getClockNumberText:H.hoursClockNumberText,isDisabled:X=>O||de(X,"hours"),selectedId:Y}),viewRange:U}}case"minutes":{const q=s.getMinutes(_);return{viewValue:q,onChange:(U,X)=>{oe(s.setMinutes(_,U),X,"minutes")},children:mt({utils:s,value:q,getClockNumberText:H.minutesClockNumberText,isDisabled:U=>O||de(U,"minutes"),selectedId:Y}),viewRange:[0,59]}}case"seconds":{const q=s.getSeconds(_);return{viewValue:q,onChange:(U,X)=>{oe(s.setSeconds(_,U),X,"seconds")},children:mt({utils:s,value:q,getClockNumberText:H.secondsClockNumberText,isDisabled:U=>O||de(U,"seconds"),selectedId:Y}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[re,s,ue,i,H.hoursClockNumberText,H.minutesClockNumberText,H.secondsClockNumberText,ne,oe,_,de,Y,O]),Me=bo(N);return l.jsxs(ho,S({ref:n,className:me(Me.root,M),ownerState:g},Se,{children:[l.jsx(io,S({autoFocus:d!=null?d:!!v,ampmInClock:c&&j.includes("hours"),value:ue,type:re,ampm:i,minutesStep:I,isTimeDisabled:de,meridiemMode:ne,handleMeridiemChange:ae,selectedId:Y,disabled:O,readOnly:ce},Ce)),L&&l.jsx(go,{className:Me.arrowSwitcher,slots:u,slotProps:p,onGoToPrevious:()=>z(se),isPreviousDisabled:!se,previousLabel:H.openPreviousView,onGoToNext:()=>z(J),isNextDisabled:!J,nextLabel:H.openNextView,ownerState:g})]}))});function To(e){return ge("MuiDigitalClock",e)}ke("MuiDigitalClock",["root","list","item"]);const vo=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],xo=e=>pe({root:["root"],list:["list"],item:["item"]},To,e),wo=B(tt,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:Mt,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),yo=B(Ct,{name:"MuiDigitalClock",slot:"List",overridesResolver:(e,t)=>t.list})({padding:0}),So=B(kt,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue",overridesResolver:(e,t)=>t.item})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ue(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ue(e.palette.primary.main,e.palette.action.focusOpacity)}})),Mo=C.forwardRef(function(t,n){var X;const s=fe(),a=C.useRef(null),i=gt(n,a),c=C.useRef(null),d=ee({props:t,name:"MuiDigitalClock"}),{ampm:u=s.is12HourCycleInCurrentLocale(),timeStep:p=30,autoFocus:x,slots:f,slotProps:h,value:r,defaultValue:k,referenceDate:w,disableIgnoringDatePartForTimeValidation:P=!1,maxTime:D,minTime:I,disableFuture:R,disablePast:L,minutesStep:F=1,shouldDisableTime:A,onChange:j,view:E,openTo:V,onViewChange:v,focusedView:m,onFocusedViewChange:M,className:N,classes:O,disabled:ce,readOnly:te,views:Se=["hours"],skipDisabled:ue=!1,timezone:Z}=d,be=le(d,vo),{value:_,handleValueChange:H,timezone:G}=Ze({name:"DigitalClock",timezone:Z,value:r,defaultValue:k,referenceDate:w,onChange:j,valueManager:ye}),Y=je(),g=Je(G),{ownerState:re}=De(),z=S({},re,{hasDigitalClockAlreadyBeenRendered:!!a.current}),se=xo(O),J=(X=f==null?void 0:f.digitalClockItem)!=null?X:So,oe=zt({elementType:J,externalSlotProps:h==null?void 0:h.digitalClockItem,ownerState:z,className:se.item}),ne=st({value:_,referenceDate:w,utils:s,props:d,timezone:G}),ae=He(b=>H(b,"finish","hours")),{setValueAndGoToNextView:de}=et({view:E,views:Se,openTo:V,onViewChange:v,onChange:ae,focusedView:m,onFocusedViewChange:M}),Ce=He(b=>{de(b,"finish")});C.useEffect(()=>{if(a.current===null)return;const b=a.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!b)return;const T=b.offsetTop;(x||m)&&b.focus(),a.current.scrollTop=T-4});const Me=C.useCallback(b=>{const T=qe(P,s),y=()=>!(I&&T(I,b)||D&&T(b,D)||R&&T(b,g)||L&&T(g,b)),$=()=>s.getMinutes(b)%F!==0?!1:A?!A(b,"hours"):!0;return!y()||!$()},[P,s,I,D,R,g,L,F,A]),q=C.useMemo(()=>{const b=[];let y=s.startOfDay(ne);for(;s.isSameDay(ne,y);)b.push(y),y=s.addMinutes(y,p);return b},[ne,p,s]),Q=q.findIndex(b=>s.isEqual(b,ne)),U=b=>{switch(b.key){case"PageUp":{const T=We(c.current)-5,y=c.current.children,$=Math.max(0,T),K=y[$];K&&K.focus(),b.preventDefault();break}case"PageDown":{const T=We(c.current)+5,y=c.current.children,$=Math.min(y.length-1,T),K=y[$];K&&K.focus(),b.preventDefault();break}}};return l.jsx(wo,S({ref:i,className:me(se.root,N),ownerState:z},be,{children:l.jsx(yo,{ref:c,role:"listbox","aria-label":Y.timePickerToolbarTitle,className:se.list,onKeyDown:U,children:q.map((b,T)=>{const y=Me(b);if(ue&&y)return null;const $=s.isEqual(b,_),K=s.format(b,u?"fullTime12h":"fullTime24h"),W=Q===T||Q===-1&&T===0?0:-1;return l.jsx(J,S({onClick:()=>!te&&Ce(b),selected:$,disabled:ce||y,disableRipple:te,role:"option","aria-disabled":te,"aria-selected":$,tabIndex:W,itemValue:b,formattedValue:K},oe,{children:K}),"".concat(b.valueOf(),"-").concat(K))})})}))});function Do(e){return ge("MuiMultiSectionDigitalClock",e)}ke("MuiMultiSectionDigitalClock",["root"]);function Po(e){return ge("MuiMultiSectionDigitalClockSection",e)}ke("MuiMultiSectionDigitalClockSection",["root","item"]);const Vo=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Io=e=>pe({root:["root"],item:["item"]},Po,e),jo=B(Ct,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({maxHeight:Mt,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),No=B(kt,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(e,t)=>t.item})(({theme:e})=>({padding:8,margin:"2px 4px",width:ms,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ue(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ue(e.palette.primary.main,e.palette.action.focusOpacity)}})),Ro=C.forwardRef(function(t,n){var V;const s=C.useRef(null),a=gt(n,s),i=C.useRef(null),c=ee({props:t,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:u,className:p,classes:x,disabled:f,readOnly:h,items:r,active:k,slots:w,slotProps:P,skipDisabled:D}=c,I=le(c,Vo),{ownerState:R}=De(),L=S({},R,{hasDigitalClockAlreadyBeenRendered:!!s.current}),F=Io(x),A=(V=w==null?void 0:w.digitalClockSectionItem)!=null?V:No;C.useEffect(()=>{if(s.current===null)return;const v=s.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(k&&d&&v&&v.focus(),!v||i.current===v)return;i.current=v;const m=v.offsetTop;s.current.scrollTop=m-4});const j=r.findIndex(v=>v.isFocused(v.value)),E=v=>{switch(v.key){case"PageUp":{const m=We(s.current)-5,M=s.current.children,N=Math.max(0,m),O=M[N];O&&O.focus(),v.preventDefault();break}case"PageDown":{const m=We(s.current)+5,M=s.current.children,N=Math.min(M.length-1,m),O=M[N];O&&O.focus(),v.preventDefault();break}}};return l.jsx(jo,S({ref:a,className:me(F.root,p),ownerState:L,autoFocusItem:d&&k,role:"listbox",onKeyDown:E},I,{children:r.map((v,m)=>{var te;const M=(te=v.isDisabled)==null?void 0:te.call(v,v.value),N=f||M;if(D&&N)return null;const O=v.isSelected(v.value),ce=j===m||j===-1&&m===0?0:-1;return l.jsx(A,S({onClick:()=>!h&&u(v.value),selected:O,disabled:N,disableRipple:h,role:"option","aria-disabled":h||N||void 0,"aria-label":v.ariaLabel,"aria-selected":O,tabIndex:ce,className:F.item},P==null?void 0:P.digitalClockSectionItem,{children:v.label}),v.label)})}))}),Fo=({now:e,value:t,utils:n,ampm:s,isDisabled:a,resolveAriaLabel:i,timeStep:c,valueOrReferenceDate:d})=>{const u=t?n.getHours(t):null,p=[],x=(r,k)=>{const w=k!=null?k:u;return w===null?!1:s?r===12?w===12||w===0:w===r||w-12===r:w===r},f=r=>x(r,n.getHours(d)),h=s?11:23;for(let r=0;r<=h;r+=c){let k=n.format(n.setHours(e,r),s?"hours12h":"hours24h");const w=i(parseInt(k,10).toString());k=n.formatNumber(k),p.push({value:r,label:k,isSelected:x,isDisabled:a,isFocused:f,ariaLabel:w})}return p},pt=({value:e,utils:t,isDisabled:n,timeStep:s,resolveLabel:a,resolveAriaLabel:i,hasValue:c=!0})=>{const d=p=>e===null?!1:c&&e===p,u=p=>e===p;return[...Array.from({length:Math.ceil(60/s)},(p,x)=>{const f=s*x;return{value:f,label:t.formatNumber(a(f)),isDisabled:n,isSelected:d,isFocused:u,ariaLabel:i(f.toString())}})]},Lo=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],Oo=e=>pe({root:["root"]},Do,e),Bo=B(tt,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:"1px solid ".concat((e.vars||e).palette.divider)})),_o=C.forwardRef(function(t,n){const s=fe(),a=Wt(),i=ee({props:t,name:"MuiMultiSectionDigitalClock"}),{ampm:c=s.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:u,slots:p,slotProps:x,value:f,defaultValue:h,referenceDate:r,disableIgnoringDatePartForTimeValidation:k=!1,maxTime:w,minTime:P,disableFuture:D,disablePast:I,minutesStep:R=1,shouldDisableTime:L,onChange:F,view:A,views:j=["hours","minutes"],openTo:E,onViewChange:V,focusedView:v,onFocusedViewChange:m,className:M,classes:N,disabled:O,readOnly:ce,skipDisabled:te=!1,timezone:Se}=i,ue=le(i,Lo),{value:Z,handleValueChange:be,timezone:_}=Ze({name:"MultiSectionDigitalClock",timezone:Se,value:f,defaultValue:h,referenceDate:r,onChange:F,valueManager:ye}),H=je(),G=Je(_),Y=C.useMemo(()=>S({hours:1,minutes:5,seconds:5},d),[d]),g=st({value:Z,referenceDate:r,utils:s,props:i,timezone:_}),re=He((b,T,y)=>be(b,T,y)),z=C.useMemo(()=>!c||!j.includes("hours")||j.includes("meridiem")?j:[...j,"meridiem"],[c,j]),{view:se,setValueAndGoToNextView:J,focusedView:oe}=et({view:A,views:z,openTo:E,onViewChange:V,onChange:re,focusedView:v,onFocusedViewChange:m}),ne=He(b=>{J(b,"finish","meridiem")}),{meridiemMode:ae,handleMeridiemChange:de}=Xe(g,c,ne,"finish"),Ce=C.useCallback((b,T)=>{const y=qe(k,s),$=T==="hours"||T==="minutes"&&z.includes("seconds"),K=({start:W,end:ie})=>!(P&&y(P,ie)||w&&y(W,w)||D&&y(W,G)||I&&y(G,$?ie:W)),Pe=(W,ie=1)=>{if(W%ie!==0)return!1;if(L)switch(T){case"hours":return!L(s.setHours(g,W),"hours");case"minutes":return!L(s.setMinutes(g,W),"minutes");case"seconds":return!L(s.setSeconds(g,W),"seconds");default:return!1}return!0};switch(T){case"hours":{const W=ze(b,ae,c),ie=s.setHours(g,W);if(s.getHours(ie)!==W)return!0;const Be=s.setSeconds(s.setMinutes(ie,0),0),$t=s.setSeconds(s.setMinutes(ie,59),59);return!K({start:Be,end:$t})||!Pe(W)}case"minutes":{const W=s.setMinutes(g,b),ie=s.setSeconds(W,0),Be=s.setSeconds(W,59);return!K({start:ie,end:Be})||!Pe(b,R)}case"seconds":{const W=s.setSeconds(g,b);return!K({start:W,end:W})||!Pe(b)}default:throw new Error("not supported")}},[c,g,k,w,ae,P,R,L,s,D,I,G,z]),Me=C.useCallback(b=>{switch(b){case"hours":return{onChange:T=>{const y=ze(T,ae,c);J(s.setHours(g,y),"finish","hours")},items:Fo({now:G,value:Z,ampm:c,utils:s,isDisabled:T=>Ce(T,"hours"),timeStep:Y.hours,resolveAriaLabel:H.hoursClockNumberText,valueOrReferenceDate:g})};case"minutes":return{onChange:T=>{J(s.setMinutes(g,T),"finish","minutes")},items:pt({value:s.getMinutes(g),utils:s,isDisabled:T=>Ce(T,"minutes"),resolveLabel:T=>s.format(s.setMinutes(G,T),"minutes"),timeStep:Y.minutes,hasValue:!!Z,resolveAriaLabel:H.minutesClockNumberText})};case"seconds":return{onChange:T=>{J(s.setSeconds(g,T),"finish","seconds")},items:pt({value:s.getSeconds(g),utils:s,isDisabled:T=>Ce(T,"seconds"),resolveLabel:T=>s.format(s.setSeconds(G,T),"seconds"),timeStep:Y.seconds,hasValue:!!Z,resolveAriaLabel:H.secondsClockNumberText})};case"meridiem":{const T=we(s,"am"),y=we(s,"pm");return{onChange:de,items:[{value:"am",label:T,isSelected:()=>!!Z&&ae==="am",isFocused:()=>!!g&&ae==="am",ariaLabel:T},{value:"pm",label:y,isSelected:()=>!!Z&&ae==="pm",isFocused:()=>!!g&&ae==="pm",ariaLabel:y}]}}default:throw new Error("Unknown view: ".concat(b," found."))}},[G,Z,c,s,Y.hours,Y.minutes,Y.seconds,H.hoursClockNumberText,H.minutesClockNumberText,H.secondsClockNumberText,ae,J,g,Ce,de]),q=C.useMemo(()=>{if(!a)return z;const b=z.filter(T=>T!=="meridiem");return b.reverse(),z.includes("meridiem")&&b.push("meridiem"),b},[a,z]),Q=C.useMemo(()=>z.reduce((b,T)=>S({},b,{[T]:Me(T)}),{}),[z,Me]),{ownerState:U}=De(),X=Oo(N);return l.jsx(Bo,S({ref:n,className:me(X.root,M),ownerState:U,role:"group"},ue,{children:q.map(b=>l.jsx(Ro,{items:Q[b].items,onChange:Q[b].onChange,active:se===b,autoFocus:u!=null?u:oe===b,disabled:O,readOnly:ce,slots:p,slotProps:x,skipDisabled:te,"aria-label":H.selectViewText(b)},b))}))}),Ge=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:s,views:a,value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:f,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,ampmInClock:I,slots:R,slotProps:L,readOnly:F,disabled:A,sx:j,autoFocus:E,showViewSwitcher:V,disableIgnoringDatePartForTimeValidation:v,timezone:m})=>l.jsx(Co,{view:e,onViewChange:t,focusedView:n&&Le(n)?n:null,onFocusedViewChange:s,views:a.filter(Le),value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:f,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,ampmInClock:I,slots:R,slotProps:L,readOnly:F,disabled:A,sx:j,autoFocus:E,showViewSwitcher:V,disableIgnoringDatePartForTimeValidation:v,timezone:m}),Ao=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:s,views:a,value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:f,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,slots:I,slotProps:R,readOnly:L,disabled:F,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:E,timeSteps:V,skipDisabled:v,timezone:m})=>l.jsx(Mo,{view:e,onViewChange:t,focusedView:n&&Le(n)?n:null,onFocusedViewChange:s,views:a.filter(Le),value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:f,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,slots:I,slotProps:R,readOnly:L,disabled:F,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:E,timeStep:V==null?void 0:V.minutes,skipDisabled:v,timezone:m}),ft=({view:e,onViewChange:t,focusedView:n,onFocusedViewChange:s,views:a,value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:f,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,slots:I,slotProps:R,readOnly:L,disabled:F,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:E,timeSteps:V,skipDisabled:v,timezone:m})=>l.jsx(_o,{view:e,onViewChange:t,focusedView:n&&Dt(n)?n:null,onFocusedViewChange:s,views:a.filter(Le),value:i,defaultValue:c,referenceDate:d,onChange:u,className:p,classes:x,disableFuture:f,disablePast:h,minTime:r,maxTime:k,shouldDisableTime:w,minutesStep:P,ampm:D,slots:I,slotProps:R,readOnly:L,disabled:F,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:E,timeSteps:V,skipDisabled:v,timezone:m}),Eo=(e,t,n)=>n?t.filter(s=>!Dt(s)||s==="hours"):e?[...t,"meridiem"]:t,$o=(e,t)=>{var n,s;return 24*60/(((n=e.hours)!=null?n:1)*((s=e.minutes)!=null?s:5))<=t};function Ho({thresholdToRenderTimeInASingleColumn:e,ampm:t,timeSteps:n,views:s}){const a=e!=null?e:24,i=S({hours:1,minutes:5,seconds:5},n),c=$o(i,a);return{thresholdToRenderTimeInASingleColumn:a,timeSteps:i,shouldRenderTimeInASingleColumn:c,views:Eo(t,s,c)}}const At=C.forwardRef(function(t,n){var w,P,D;const s=fe(),a=Ft(t,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:i,views:c,timeSteps:d}=Ho(a),u=i?Ao:ft,p=S({hours:u,minutes:u,seconds:u,meridiem:u},a.viewRenderers),x=(w=a.ampmInClock)!=null?w:!0,h=((P=p.hours)==null?void 0:P.name)===ft.name?c:c.filter(I=>I!=="meridiem"),r=S({},a,{ampmInClock:x,timeSteps:d,viewRenderers:p,format:Pt(s,a),views:i?["hours"]:h,slots:S({field:Nt},a.slots),slotProps:S({},a.slotProps,{field:I=>{var R;return S({},Tt((R=a.slotProps)==null?void 0:R.field,I),Vt(a))},toolbar:S({hidden:!0,ampmInClock:x},(D=a.slotProps)==null?void 0:D.toolbar)})}),{renderPicker:k}=ps({ref:n,props:r,valueManager:ye,valueType:"time",validator:Ke,steps:null});return k()});At.propTypes={ampm:o.bool,ampmInClock:o.bool,autoFocus:o.bool,className:o.string,closeOnSelect:o.bool,defaultValue:o.object,disabled:o.bool,disableFuture:o.bool,disableIgnoringDatePartForTimeValidation:o.bool,disableOpenPicker:o.bool,disablePast:o.bool,enableAccessibleFieldDOMStructure:o.any,format:o.string,formatDensity:o.oneOf(["dense","spacious"]),inputRef:It,label:o.node,localeText:o.object,maxTime:o.object,minTime:o.object,minutesStep:o.number,name:o.string,onAccept:o.func,onChange:o.func,onClose:o.func,onError:o.func,onOpen:o.func,onSelectedSectionsChange:o.func,onViewChange:o.func,open:o.bool,openTo:o.oneOf(["hours","meridiem","minutes","seconds"]),orientation:o.oneOf(["landscape","portrait"]),readOnly:o.bool,reduceAnimations:o.bool,referenceDate:o.object,selectedSections:o.oneOfType([o.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),o.number]),shouldDisableTime:o.func,skipDisabled:o.bool,slotProps:o.object,slots:o.object,sx:o.oneOfType([o.arrayOf(o.oneOfType([o.func,o.object,o.bool])),o.func,o.object]),thresholdToRenderTimeInASingleColumn:o.number,timeSteps:o.shape({hours:o.number,minutes:o.number,seconds:o.number}),timezone:o.string,value:o.object,view:o.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:o.shape({hours:o.func,meridiem:o.func,minutes:o.func,seconds:o.func}),views:o.arrayOf(o.oneOf(["hours","minutes","seconds"]).isRequired)};const Et=C.forwardRef(function(t,n){var p,x;const s=fe(),a=Ft(t,"MuiMobileTimePicker"),i=S({hours:Ge,minutes:Ge,seconds:Ge},a.viewRenderers),c=(p=a.ampmInClock)!=null?p:!1,d=S({},a,{ampmInClock:c,viewRenderers:i,format:Pt(s,a),slots:S({field:Nt},a.slots),slotProps:S({},a.slotProps,{field:f=>{var h;return S({},Tt((h=a.slotProps)==null?void 0:h.field,f),Vt(a))},toolbar:S({hidden:!1,ampmInClock:c},(x=a.slotProps)==null?void 0:x.toolbar)})}),{renderPicker:u}=fs({ref:n,props:d,valueManager:ye,valueType:"time",validator:Ke,steps:null});return u()});Et.propTypes={ampm:o.bool,ampmInClock:o.bool,autoFocus:o.bool,className:o.string,closeOnSelect:o.bool,defaultValue:o.object,disabled:o.bool,disableFuture:o.bool,disableIgnoringDatePartForTimeValidation:o.bool,disableOpenPicker:o.bool,disablePast:o.bool,enableAccessibleFieldDOMStructure:o.any,format:o.string,formatDensity:o.oneOf(["dense","spacious"]),inputRef:It,label:o.node,localeText:o.object,maxTime:o.object,minTime:o.object,minutesStep:o.number,name:o.string,onAccept:o.func,onChange:o.func,onClose:o.func,onError:o.func,onOpen:o.func,onSelectedSectionsChange:o.func,onViewChange:o.func,open:o.bool,openTo:o.oneOf(["hours","minutes","seconds"]),orientation:o.oneOf(["landscape","portrait"]),readOnly:o.bool,reduceAnimations:o.bool,referenceDate:o.object,selectedSections:o.oneOfType([o.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),o.number]),shouldDisableTime:o.func,slotProps:o.object,slots:o.object,sx:o.oneOfType([o.arrayOf(o.oneOfType([o.func,o.object,o.bool])),o.func,o.object]),timezone:o.string,value:o.object,view:o.oneOf(["hours","minutes","seconds"]),viewRenderers:o.shape({hours:o.func,minutes:o.func,seconds:o.func}),views:o.arrayOf(o.oneOf(["hours","minutes","seconds"]).isRequired)};const Uo=["desktopModeMediaQuery"],zo=C.forwardRef(function(t,n){const s=ee({props:t,name:"MuiTimePicker"}),{desktopModeMediaQuery:a=bs}=s,i=le(s,Uo);return qt(a,{defaultMatches:!0})?l.jsx(At,S({ref:n},i)):l.jsx(Et,S({ref:n},i))}),Wo=({settingName:e,value:t,defaultValue:n,handleChange:s})=>{const{t:a}=vt(),[i,c]=C.useState(!1),[d,u]=C.useState(t);C.useEffect(()=>{t&&u(t)},[t]);const p=C.useCallback(h=>{c(!1),h&&u(t)},[t]),x=C.useCallback(()=>p(!0),[p]),f=C.useCallback((h,r=!0)=>{r&&p(!1),t!==h&&s(h)},[t,s,p]);return l.jsxs(l.Fragment,{children:[l.jsx(Ye,{onClick:()=>c(!0),children:l.jsx(Qe,{primary:e,secondary:_e(t,"HH:mm").format("LT"),secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),l.jsxs(xt,{open:i,onClose:p,children:[l.jsxs(wt,{children:[l.jsx(yt,{sx:{paddingLeft:0},children:e}),l.jsx(hs,{dateAdapter:gs,adapterLocale:_e.locale(),children:l.jsx(zo,{value:_e(d,"HH:mm"),defaultValue:_e(n,"HH:mm"),format:"LT",onChange:h=>{var r;return u((r=h==null?void 0:h.format("HH:mm"))!=null?r:"00:00")}})})]}),l.jsxs(St,{children:[n!==void 0?l.jsx(xe,{onClick:()=>{u(n),f(n,!1)},color:"primary",children:a("global.button.reset_to_default")}):null,l.jsx(xe,{onClick:x,color:"primary",children:a("global.button.cancel")}),l.jsx(xe,{onClick:()=>{f(d)},color:"primary",children:a("global.button.ok")})]})]})]})},qo=e=>({backupPath:e.backupPath,backupTime:e.backupTime,backupInterval:e.backupInterval,backupTTL:e.backupTTL}),Ko=e=>e===0?lt("global.label.never"):lt("settings.backup.automated.cleanup.label.value",{days:e,count:e});let ve;function un(){var v;const{t:e}=vt(),{setTitle:t,setAction:n}=Kt();C.useLayoutEffect(()=>(t(e("settings.backup.title")),n(null),()=>{t(""),n(null)}),[e]);const{data:s,loading:a,error:i,refetch:c}=Ve.useGetServerSettings({notifyOnNetworkStatusChange:!0}),[d]=Ve.useUpdateServerSettings(),{data:u}=Ve.useGetBackupRestoreStatus(ve!=null?ve:"",{skip:!ve,pollInterval:1e3}),[p,x]=C.useState(null),[f,h]=C.useState(!1),[r,k]=C.useState(),[,w]=C.useState(0),P=(()=>{if(!(u!=null&&u.restoreStatus))return 0;const m=100*(u.restoreStatus.mangaProgress/u.restoreStatus.totalManga);return Number.isNaN(m)?0:m})(),D=(m,M)=>{d({variables:{input:{settings:{[m]:M}}}}).catch(N=>Te(e("global.error.label.failed_to_save_changes"),"error",Ae(N)))};C.useEffect(()=>{if(!(u!=null&&u.restoreStatus))return;const m=u.restoreStatus.state===ot.Success,M=u.restoreStatus.state===ot.Failure;(m||M)&&(m&&Te(e("settings.backup.action.restore.label.success"),"success"),M&&Te(e("settings.backup.action.restore.error.label.failure"),"error"),ve=void 0,w(Date.now()))},[(v=u==null?void 0:u.restoreStatus)==null?void 0:v.state]);const I=()=>{x(null);const m=document.getElementById("backup-file");m&&(m.value="")},R=async m=>{try{const{data:{validateBackup:M}}=await Ve.validateBackupFile(m,{fetchPolicy:"network-only"}).response;return M.missingSources.length||M.missingTrackers.length?(k(M),h(!0),!1):!0}catch(M){Te(e("settings.backup.action.validate.error.label.failure"),"error",Ae(M)),I()}return!1},L=async m=>{var M;try{Te(e("settings.backup.action.restore.label.in_progress"),"info"),ve=(M=(await Ve.restoreBackupFile(m).response).data)==null?void 0:M.restoreBackup.id,w(Date.now())}catch(N){Te(e("settings.backup.action.restore.error.label.failure"),"error",Ae(N))}finally{I()}},F=async m=>{if(m.name.toLowerCase().endsWith("json")){Te(e("settings.backup.action.restore.error.label.legacy_backup_unsupported"),"error");return}if(!m.name.toLowerCase().match(/proto\.gz$|tachibk$/g)){Te(e("global.error.label.invalid_file_type"),"error");return}x(m),await R(m)&&await L(m)},A=async m=>{m.preventDefault();const M=await ct(m);F(M[0])},j=m=>{m.preventDefault()},E=()=>{h(!1),I()};if(C.useEffect(()=>{document.addEventListener("drop",A),document.addEventListener("dragover",j);const m=async N=>{const O=await ct(N);F(O[0])},M=document.getElementById("backup-file");return M==null||M.addEventListener("change",m),()=>{document.removeEventListener("drop",A),document.removeEventListener("dragover",j),M==null||M.removeEventListener("change",m)}},[]),a)return l.jsx(Gt,{});if(i)return l.jsx(ks,{message:e("global.error.label.failed_to_load_data"),messageExtra:Ae(i),retry:()=>c().catch(Yt())});const V=qo(s.settings);return l.jsxs(l.Fragment,{children:[l.jsxs(Ee,{sx:{padding:0},children:[l.jsx(Ye,{component:"a",href:Ve.getExportBackupUrl(),download:!0,children:l.jsx(Qe,{primary:e("settings.backup.action.create.label.title"),secondary:e("settings.backup.action.create.label.description")})}),l.jsxs(Ye,{onClick:()=>{var m;return(m=document.getElementById("backup-file"))==null?void 0:m.click()},disabled:!!ve,children:[l.jsx(Qe,{primary:e("settings.backup.action.restore.label.title"),secondary:e("settings.backup.action.restore.label.description")}),ve?l.jsx(Qt,{children:l.jsx(Xt,{progress:P})}):null]}),l.jsxs(Ee,{subheader:l.jsx(Cs,{component:"div",id:"backup-settings",children:"Automated backup"}),children:[l.jsx(Zt,{settingName:e("settings.backup.automated.location.label.title"),dialogDescription:e("settings.backup.automated.location.label.description"),value:V.backupPath,settingDescription:V.backupPath.length?V.backupPath:e("global.label.default"),handleChange:m=>D("backupPath",m)}),l.jsx(Wo,{settingName:e("settings.backup.automated.label.time"),value:V.backupTime,defaultValue:"00:00",handleChange:m=>D("backupTime",m)}),l.jsx(ut,{settingTitle:e("settings.backup.automated.label.interval"),settingValue:e("global.date.value.label.day",{days:V.backupInterval,count:V.backupInterval}),value:V.backupInterval,defaultValue:1,minValue:1,maxValue:31,stepSize:1,valueUnit:e("global.date.label.day_one"),showSlider:!0,handleUpdate:m=>D("backupInterval",m)}),l.jsx(ut,{settingTitle:e("settings.backup.automated.cleanup.label.title"),settingValue:Ko(V.backupTTL),value:V.backupTTL,defaultValue:14,minValue:0,maxValue:1e3,stepSize:1,valueUnit:e("global.date.label.day_one"),showSlider:!0,handleUpdate:m=>D("backupTTL",m)})]})]}),l.jsx("input",{type:"file",id:"backup-file",style:{display:"none"}}),l.jsxs(xt,{open:f,children:[l.jsx(yt,{children:e("settings.backup.action.validate.dialog.title")}),l.jsxs(wt,{dividers:!0,children:[!!(r!=null&&r.missingSources.length)&&l.jsx(Ee,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:e("settings.backup.action.validate.dialog.content.label.missing_sources"),children:r==null?void 0:r.missingSources.map(({id:m,name:M})=>l.jsx(nt,{sx:{display:"list-item"},children:"".concat(M," (").concat(m,")")},m))}),!!(r!=null&&r.missingTrackers.length)&&l.jsx(Ee,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:e("settings.backup.action.validate.dialog.content.label.missing_trackers"),children:r==null?void 0:r.missingTrackers.map(({name:m})=>l.jsx(nt,{sx:{display:"list-item"},children:"".concat(m)},m))})]}),l.jsx(St,{children:l.jsxs(at,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[!!(r!=null&&r.missingSources.length)&&l.jsx(xe,{onClick:E,component:it,to:rt.browse.path,autoFocus:!!(r!=null&&r.missingSources.length),variant:r!=null&&r.missingSources.length?"contained":"text",children:e("extension.action.label.install")}),!!(r!=null&&r.missingTrackers.length)&&l.jsx(xe,{onClick:E,component:it,to:rt.tracker.path,autoFocus:!!(r!=null&&r.missingTrackers.length),variant:r!=null&&r.missingTrackers.length?"contained":"text",children:e("global.button.log_in")}),l.jsxs(at,{direction:"row",children:[l.jsx(xe,{onClick:E,children:e("global.button.cancel")}),l.jsx(xe,{onClick:()=>{E(),L(p)},autoFocus:!(r!=null&&r.missingSources.length)&&!(r!=null&&r.missingTrackers.length),variant:!(r!=null&&r.missingSources.length)&&!(r!=null&&r.missingTrackers.length)?"contained":"text",children:e("global.button.restore")})]})]})})]})]})}export{un as Backup};
