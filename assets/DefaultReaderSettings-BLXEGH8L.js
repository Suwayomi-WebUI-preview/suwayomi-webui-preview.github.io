import{u as m,c as o,N as h,X as x,j as a,h as P,E as T,k as n,aT as E,aU as S,n as N}from"./index-BUTliqEp.js";import{u as _,c as v,R as b,a as k}from"./ReaderSettingsOptions-9sFFtPaw.js";import"./NumberSetting-B8TM0m7L.js";import"./Info-BrtZR6Cd.js";import"./TextField-DbHHfP2S.js";import"./InputAdornment-bcAWJ8-X.js";import"./SpinnerImage-DQfmQFcX.js";import"./Select-C_w8L7KK.js";import"./Switch-D_IA1AXV.js";import"./SwitchBase-DE0T-I9x.js";function O(){const{t}=m(),{setTitle:s,setAction:r}=o.useContext(h);o.useEffect(()=>(s(t("reader.settings.title.default_reader_settings")),r(null),()=>{s(""),r(null)}),[t]);const{metadata:d,settings:e,loading:l,request:{error:i,refetch:g}}=_();x("settings");const u=(c,p,f=!0)=>{f&&S([[c,p]]).catch(()=>N(t("reader.settings.error.label.failed_to_save_settings"),"warning"))};return l?a.jsx(P,{}):i?a.jsx(T,{message:t("global.error.label.failed_to_load_data"),messageExtra:i.message,retry:()=>g().catch(n())}):(v({meta:E(d)},"server",k()).catch(n()),a.jsx(b,{setSettingValue:u,staticNav:e.staticNav,showPageNumber:e.showPageNumber,loadNextOnEnding:e.loadNextOnEnding,skipDupChapters:e.skipDupChapters,fitPageToWindow:e.fitPageToWindow,scalePage:e.scalePage,readerType:e.readerType,offsetFirstPage:e.offsetFirstPage,readerWidth:e.readerWidth}))}export{O as DefaultReaderSettings};
