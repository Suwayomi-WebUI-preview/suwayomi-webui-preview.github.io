!function(){var e=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],t=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],n=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],r=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],a=["pageIndex","pagesIndex","isPrimaryPage","display","doublePage","position","marginTop","shouldLoad","readingMode","customFilter","pageScaleMode","shouldStretchPage","readerWidth","onLoad","onError","setRef","readerNavBarWidth","isLoaded"],o=["label","description"],i=["readingMode","setReadingMode"],u=["readingDirection","setReadingDirection"],l=["tapZoneLayout","setTapZoneLayout"],s=["tapZoneInvertMode","setTapZoneInvertMode"],c=["pageScaleMode","setPageScaleMode"],d=["asIconButton"],f=["profile","title","updateSetting","isSeriesMode"],g=["profiles","readingMode"];function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function h(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof u?r:u,s=Object.create(l.prototype);return S(s,"_invoke",function(n,r,a){var o,u,l,s=0,c=a||[],d=!1,f={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(t,n){return o=t,u=0,l=e,f.n=n,i}};function g(n,r){for(u=n,l=r,t=0;!d&&s&&!a&&t<c.length;t++){var a,o=c[t],g=f.p,p=o[2];n>3?(a=p===r)&&(l=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=g&&((a=n<2&&g<o[1])?(u=0,f.v=r,f.n=o[1]):g<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,u=0))}if(a||n>1)return i;throw d=!0,r}return function(a,c,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===c&&g(c,p),u=c,l=p;(t=u<2?e:l)||!d;){o||(u?u<3?(u>1&&(f.n=-1),g(u,l)):f.n=l:f.v=l);try{if(s=2,o){if(u||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==i)break}catch(t){o=e,u=1,l=t}finally{s=1}}return{value:t,done:d}}}(n,a,o),!0),s}var i={};function u(){}function l(){}function s(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(S(t={},r,function(){return this}),t),d=s.prototype=u.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,S(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=s,S(d,"constructor",s),S(s,"constructor",l),l.displayName="GeneratorFunction",S(s,a,"GeneratorFunction"),S(d),S(d,a,"Generator"),S(d,r,function(){return this}),S(d,"toString",function(){return"[object Generator]"}),(x=function(){return{w:o,m:f}})()}function S(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}S=function(e,t,n,r){function o(t,n){S(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},S(e,t,n,r)}function j(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,u,"next",e)}function u(e){j(o,r,a,i,u,"throw",e)}i(void 0)})}}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,u=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return u}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./index-legacy-D8iN6Nax.js","./TabsMenu-legacy-CDnmggo8.js","./Chapters-legacy-BYsPY8w0.js","./Mangas-legacy-Bhccc3k-.js","./SpinnerImage-legacy-D-quo96V.js","./Strings-legacy-CzJ32ydF.js","./Tabs-legacy-DP4XBSd_.js","./Trans-legacy-qcDTIQQZ.js","./Slider-legacy-CVgFXh4V.js","./CheckboxInput-legacy-BFEY8m3s.js","./ListSubheader-legacy-Bb1-BxxJ.js","./Add-legacy-BmqhBrYL.js"],function(v,S){"use strict";var j,w,C,T,E,I,A,k,L,R,N,F,B,V,W,z,U,H,G,K,Z,X,Y,Q,J,q,$,ee,te,ne,re,ae,oe,ie,ue,le,se,ce,de,fe,ge,pe,ve,he,be,me,ye,xe,Se,je,_e,we,Pe,Oe,Ce,Me,De,Te,Ee,Ie,Ae,ke,Le,Re,Ne,Fe,Be,Ve,We,ze,Ue,He,Ge,Ke,Ze,Xe,Ye,Qe,Je,qe,$e,et,tt,nt,rt,at,ot,it,ut,lt,st,ct,dt,ft,gt,pt,vt,ht,bt,mt,yt;return{setters:[function(e){j=e.r,w=e.b,C=e.R,T=e.dF,E=e.Q,I=e.dG,A=e.dH,k=e.dz,L=e.dI,R=e.dJ,N=e.dK,F=e.bJ,B=e.j,V=e.z,W=e.at,z=e.d3,U=e.dr,H=e.dl,G=e.dn,K=e.am,Z=e.cS,X=e.dL,Y=e.d5,Q=e.av,J=e.d6,q=e.aX,$=e.O,ee=e.ds,te=e.d4,ne=e.bW,re=e.d2,ae=e.dM,oe=e.dN,ie=e.dO,ue=e.a,le=e.dP,se=e.dQ,ce=e.dR,de=e.cd,fe=e.m,ge=e.g,pe=e.as,ve=e.dS,he=e.bd,be=e.d,me=e.A,ye=e.dT,xe=e.f,Se=e.u,je=e.S,_e=e.T,we=e.B,Pe=e.C,Oe=e.df,Ce=e.dg,Me=e.dU,De=e.dV,Te=e.cZ,Ee=e.dd,Ie=e.de,Ae=e.dc,ke=e.c,Le=e.I,Re=e.dW,Ne=e.aN,Fe=e.dh,Be=e.cT,Ve=e.dk,We=e.dX,ze=e.dY,Ue=e.dZ,He=e.d_,Ge=e.d$,Ke=e.e0,Ze=e.c$,Xe=e.e1,Ye=e.a1,Qe=e.e2,Je=e.i,qe=e.k,$e=e.n,et=e.q,tt=e.a3,nt=e.a4,rt=e.dt,at=e.e3,ot=e.e4,it=e.cR},function(e){ut=e.T},function(e){lt=e.C},function(e){st=e.a,ct=e.F},function(e){dt=e.S},function(e){ft=e.r},function(e){gt=e.T,pt=e.a},function(e){vt=e.T},function(e){ht=e.S},function(e){bt=e.C},function(e){mt=e.L},function(e){yt=e.A}],execute:function(){var S,xt=function(e,t,n){var r,a=N(),o=a===F,i=Object.keys(null!==(r=n.meta)&&void 0!==r?r:{}).filter(function(e){var t;return o?1===(null===(t=e.match(/_/g))||void 0===t?void 0:t.length):e.startsWith("".concat(R,"_").concat(a,"_"))}).map(function(e){return L(e)});return Object.fromEntries(Object.entries(t).map(function(t){var n=M(t,2),r=n[0],a=n[1];return I.includes(r)?[r,a]:[r,{value:a,isDefault:"manga"===e&&!i.includes(r)}]}))},St=function(e){return P(P({},e),{},{tapZoneInvertMode:JSON.stringify(e.tapZoneInvertMode),customFilter:JSON.stringify(e.customFilter),readerWidth:JSON.stringify(e.readerWidth),hotkeys:JSON.stringify(e.hotkeys),autoScroll:JSON.stringify(e.autoScroll)})},jt=xt("global",T,{meta:St(T)}),_t=v("a5",function(e,t){var n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:T,void 0!==r?[r.toString()]:void 0,n)});function wt(e,t){var n=_t(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:T,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0);return xt(e,n,t)}v("a3",function(e,t){return function(e,t,n,r){return wt("manga",P(P({},e),{},{meta:C(e.meta,function(e){return!I.includes(L(e))})}),t,n,r)}(e,t)}),v("a7",function(e){var t=j.useGetGlobalMeta({notifyOnNetworkStatusChange:!0}),n=t.data,r=t.loading,a=w.useMemo(function(){return C(null==n?void 0:n.metas.nodes)},[null==n?void 0:n.metas.nodes]),o=w.useMemo(function(){return{meta:a}},[a]),i=_t("global",o,void 0,w.useEffect,e),u=w.useMemo(function(){return i},[o,e]);return w.useMemo(function(){return{metadata:a,settings:u,loading:r,request:t}},[a,u,r,t])});var Pt=v("u",function(e){var t=j.useGetGlobalMeta({notifyOnNetworkStatusChange:!0}),n=t.data,r=t.loading,a=w.useMemo(function(){return C(null==n?void 0:n.metas.nodes)},[null==n?void 0:n.metas.nodes]),o=w.useMemo(function(){return{meta:a}},[a]),i=wt("global",o,void 0,w.useEffect,e),u=w.useMemo(function(){return i},[o,e]);return w.useMemo(function(){return{metadata:a,settings:u,loading:r,request:t}},[a,u,r,t])}),Ot=function(){var e=_(x().m(function e(t,n,r){var a,o=arguments;return x().w(function(e){for(;;)switch(e.n){case 0:if(a=o.length>4?o[4]:void 0,!(o.length>3&&void 0!==o[3]&&o[3]||I.includes(n))){e.n=1;break}return e.a(2,A([[n,St(O({},n,r))[n]]],void 0!==a?[null==a?void 0:a.toString()]:void 0));case 1:return e.a(2,k(t,[[n,St(O({},n,r))[n]]],void 0!==a?[null==a?void 0:a.toString()]:void 0))}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),Ct=function(e){return e===U.END?Number.MAX_SAFE_INTEGER:-1},Mt=w.forwardRef(function(e,t){var n,r,a,o,i=e.currentPageIndex,u=e.pages,l=e.transitionPageMode,s=e.imageRefs,c=e.createPage,d=e.slots,f=e.readingMode,g=e.imagePreLoadAmount,p=e.isCurrentChapter,v=e.isPreviousChapter,h=e.isNextChapter,b=e.customFilter,m=e.pageScaleMode,x=e.shouldStretchPage,S=e.readerWidth,j=e.readerNavBarWidth,_=e.resumeMode,O=e.handleAsInitialRender,C=w.useRef(Ct(_));O&&(C.current=Ct(_));var M=w.useMemo(function(){return br(i,u,C.current,g,f,p,v,h)},[i,u,g,f,p,v,h]);w.useEffect(function(){p&&(C.current=i)},[M,p]);var D=w.useCallback(function(e,t){s.current[e]=t},[s]);return B.jsx(V,P(P({ref:t},null==d?void 0:d.boxProps),{},{sx:[{width:"fit-content",height:"fit-content"}].concat(y(Array.isArray(null==d||null===(n=d.boxProps)||void 0===n?void 0:n.sx)?null!==(r=null==d||null===(a=d.boxProps)||void 0===a?void 0:a.sx)&&void 0!==r?r:[]:[null==d||null===(o=d.boxProps)||void 0===o?void 0:o.sx]),[W(!Ht(f)&&mr(l,f),{visibility:"hidden",width:0,height:0,m:0,p:0})]),children:u.map(function(e,t){return c(e,t,M.includes(t),[z.NONE,z.BOTH].includes(l),D,f,b,m,x,S,j)})}))}),Dt=w.memo(Mt),Tt=w.forwardRef(function(t,n){var r=t.onLoad,a=t.onError,o=t.pageLoadStates,i=t.retryFailedPagesKeyPrefix,u=t.isPreloadMode,l=m(t,e),s=l.currentPageIndex,c=l.totalPages;return B.jsx(Dt,P(P({ref:n},l),{},{createPage:function(e,t,n,l,d){for(var f=arguments.length,g=new Array(f>5?f-5:0),p=5;p<f;p++)g[p-5]=arguments[p];return vr.apply(void 0,[e,t,!0,o[e.primary.index].loaded,u,r,a,n,l&&n&&s===e.primary.index,s,c].concat(g,[o[e.primary.index].error?i:void 0]))},slots:{boxProps:{sx:{margin:"auto"}}}}))}),Et=w.memo(Tt),It=v("g",function(e,t){var n=t.findIndex(function(t){var n=t.primary,r=t.secondary;return[n.index,null==r?void 0:r.index].includes(e)});return P(P({},t[H(n,0,t.length-1)]),{},{pagesIndex:n})}),At=v("n",function(e){var t,n;return null!==(t=null===(n=e.secondary)||void 0===n?void 0:n.index)&&void 0!==t?t:e.primary.index}),kt=(v("m",function(e,t,n){switch(e){case"previous":return At(n[Math.max(0,t-1)]);case"next":return At(n[Math.min(n.length-1,t+1)]);default:throw new Error('Unexpected offset "'.concat(e,'"'))}}),v("x",function(e,t,n,r,a,o){var i=r?e.clientX:e.clientY,u=getComputedStyle(t),l=u.paddingTop,s=u.paddingBottom,c=u.paddingLeft,d=u.paddingRight,f=t.getBoundingClientRect(),g=r?parseFloat(c)+parseFloat(d):parseFloat(l)+parseFloat(s),p=i-(r?f.left:f.top)-g/2,v=((r?f.width:f.height)-g)/(n.length-Number(!a)),h=Math.floor(p/v),b=p<=(h+(a?1:.5))*v?h:h+1,m=Math.max(0,b),y=Math.min(m,n.length-1);return n[o(y,n.length-1-y)]}),v("f",function(e){var t=e===G.BOTTOM,n=e===G.LEFT,r=e===G.RIGHT;return{isBottom:t,isLeft:n,isRight:r,isHorizontal:t,isVertical:n||r}}),function(e,t,n){var r=n===Z.LTR;return"first"===e?"ltr"===t?r?"right":"left":r?"left":"right":"ltr"===t?r?"left":"right":r?"right":"left"}),Lt=w.forwardRef(function(e,n){var r=e.onLoad,a=e.onError,o=e.pageLoadStates,i=e.retryFailedPagesKeyPrefix,u=e.isPreloadMode,l=m(e,t),s=l.currentPageIndex,c=l.pages,d=l.totalPages,f=l.readingDirection,g=l.pageScaleMode,p=K().direction,v=w.useMemo(function(){return It(s,c)},[s,c]),h=f===Z.LTR;return B.jsx(Dt,P(P({ref:n},l),{},{createPage:function(e,t,n,l,s){for(var c=e.primary,g=e.secondary,h=At(v),b=!!g,m=v.primary.index===c.index,y=!!g&&h===g.index,x=arguments.length,S=new Array(x>5?x-5:0),j=5;j<x;j++)S[j-5]=arguments[j];return B.jsxs(w.Fragment,{children:[vr.apply(void 0,[e,t,!0,o[c.index].loaded,u,r,a,n,l&&m&&n,v.primary.index,d].concat(S,[o[c.index].error?i:void 0,b?kt("first",p,f):void 0,b])),b&&vr.apply(void 0,[P(P({},e),{},{primary:P({},e.secondary)}),t,!1,o[g.index].loaded,u,r,a,n,l&&y&&n,h,d].concat(S,[o[g.index].error?i:void 0,kt("second",p,f),!0]))]},"".concat(c.url,"_").concat(null==g?void 0:g.url))},slots:{boxProps:{sx:P(P(P({},W(g===X.ORIGINAL,{margin:"auto"})),{},{width:"100%",minWidth:"fit-content",height:"100%",minHeight:"fit-content",display:"flex",flexDirection:"row",flexWrap:"nowrap"},W("ltr"===p,{flexDirection:h?"row":"row-reverse"})),W("rtl"===p,{flexDirection:h?"row-reverse":"row"}))}}}))}),Rt=w.memo(Lt),Nt=w.forwardRef(function(e,t){var r=e.onLoad,a=e.onError,o=e.pageLoadStates,i=e.retryFailedPagesKeyPrefix,u=e.isPreloadMode,l=m(e,n),s=l.currentPageIndex,c=l.totalPages,d=l.readingMode,f=l.pageGap,g=d===Y.WEBTOON?0:f;return B.jsx(Dt,P(P({ref:t},l),{},{createPage:function(e,t,n,l,d){for(var f=arguments.length,p=new Array(f>5?f-5:0),v=5;v<f;v++)p[v-5]=arguments[v];return vr.apply(void 0,[e,t,!0,o[e.primary.index].loaded,u,r,a,n,!u,s,c].concat(p,[o[e.primary.index].error?i:void 0,void 0,void 0,0!==e.primary.index?g:0,d]))},slots:{boxProps:{sx:{margin:"auto"}}}}))}),Ft=w.memo(Nt),Bt=w.forwardRef(function(e,t){var n=e.onLoad,a=e.onError,o=e.pageLoadStates,i=e.retryFailedPagesKeyPrefix,u=e.isPreloadMode,l=m(e,r),s=l.currentPageIndex,c=l.totalPages,d=l.pageGap,f=l.readingDirection,g=K().direction,p=f===Z.LTR;return B.jsx(Dt,P(P({ref:t},l),{},{createPage:function(e,t,r,l,d){for(var f=arguments.length,g=new Array(f>5?f-5:0),p=5;p<f;p++)g[p-5]=arguments[p];return vr.apply(void 0,[e,t,!0,o[e.primary.index].loaded,u,n,a,r,!u,s,c].concat(g,[o[e.primary.index].error?i:void 0,void 0,void 0,void 0,d]))},slots:{boxProps:{sx:P(P({my:"auto",display:"flex",flexWrap:"nowrap",alignItems:"center",gap:"".concat(d,"px")},W("ltr"===g,{flexDirection:p?"row":"row-reverse",justifyContent:p?"flex-start":"flex-end"})),W("rtl"===g,{flexDirection:p?"row-reverse":"row",justifyContent:p?"flex-end":"flex-start"}))}}}))}),Vt=w.memo(Bt),Wt=v("z",function(e){return e===Y.DOUBLE_PAGE}),zt=v("Z",function(e){return[X.WIDTH,X.SCREEN].includes(e)}),Ut=(v("_",function(e){return[X.HEIGHT,X.SCREEN].includes(e)}),v("X",function(e,t){return!(null==e||!e.enabled)&&zt(t)})),Ht=v("i",function(e){return[Y.CONTINUOUS_VERTICAL,Y.CONTINUOUS_HORIZONTAL,Y.WEBTOON].includes(e)}),Gt=v("N",function(e){return[Y.CONTINUOUS_VERTICAL,Y.WEBTOON].includes(e)}),Kt=(v("a4",function(e,t,n){return t&&n.isDefault&&st.isLongStripType(e)}),v("U",function(e){switch(e){case Y.SINGLE_PAGE:return Et;case Y.DOUBLE_PAGE:return Rt;case Y.CONTINUOUS_VERTICAL:case Y.WEBTOON:return Ft;case Y.CONTINUOUS_HORIZONTAL:return Vt;default:throw new Error('Unexpected "ReadingMode" ('.concat(e,")"))}}),v("y",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e!==G.AUTO?e:window.innerHeight-n>window.innerWidth-r?t:G.BOTTOM}),function(e){var t,n=new Set,r=function(e,r){var a="function"==typeof e?e(t):e;if(!Object.is(a,t)){var o=t;t=(null!=r?r:"object"!==b(a)||null===a)?a:Object.assign({},t,a),n.forEach(function(e){return e(t,o)})}},a=function(){return t},o={setState:r,getState:a,getInitialState:function(){return i},subscribe:function(e){return n.add(e),function(){return n.delete(e)}}},i=t=e(r,a,o);return o}),Zt=function(e){return e};var Xt=function(e){var t=function(e){return e?Kt(e):Kt}(e),n=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt,n=Q.useSyncExternalStore(e.subscribe,Q.useCallback(function(){return t(e.getState())},[e,t]),Q.useCallback(function(){return t(e.getInitialState())},[e,t]));return Q.useDebugValue(n),n}(t,e)};return Object.assign(n,t),n},Yt=Symbol.for("immer-nothing"),Qt=Symbol.for("immer-draftable"),Jt=Symbol.for("immer-state");function qt(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var $t=Object.getPrototypeOf;function en(e){return!!e&&!!e[Jt]}function tn(e){var t;return!!e&&(rn(e)||Array.isArray(e)||!!e[Qt]||!(null===(t=e.constructor)||void 0===t||!t[Qt])||sn(e)||cn(e))}var nn=Object.prototype.constructor.toString();function rn(e){if(!e||"object"!==b(e))return!1;var t=$t(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===nn}function an(e,t){0===on(e)?Reflect.ownKeys(e).forEach(function(n){t(n,e[n],e)}):e.forEach(function(n,r){return t(r,n,e)})}function on(e){var t=e[Jt];return t?t.type_:Array.isArray(e)?1:sn(e)?2:cn(e)?3:0}function un(e,t){return 2===on(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ln(e,t,n){var r=on(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function sn(e){return e instanceof Map}function cn(e){return e instanceof Set}function dn(e){return e.copy_||e.base_}function fn(e,t){if(sn(e))return new Map(e);if(cn(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);var n=rn(e);if(!0===t||"class_only"===t&&!n){var r=Object.getOwnPropertyDescriptors(e);delete r[Jt];for(var a=Reflect.ownKeys(r),o=0;o<a.length;o++){var i=a[o],u=r[i];!1===u.writable&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[i]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[i]})}return Object.create($t(e),r)}var l=$t(e);if(null!==l&&n)return P({},e);var s=Object.create(l);return Object.assign(s,e)}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return vn(e)||en(e)||!tn(e)||(on(e)>1&&(e.set=e.add=e.clear=e.delete=pn),Object.freeze(e),t&&Object.entries(e).forEach(function(e){var t=M(e,2);t[0];return gn(t[1],!0)})),e}function pn(){qt(2)}function vn(e){return Object.isFrozen(e)}var hn,bn={};function mn(e){var t=bn[e];return t||qt(0),t}function yn(){return hn}function xn(e,t){t&&(mn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sn(e){jn(e),e.drafts_.forEach(wn),e.drafts_=null}function jn(e){e===hn&&(hn=e.parent_)}function _n(e){return hn={drafts_:[],parent_:hn,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wn(e){var t=e[Jt];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Pn(e,t){t.unfinalizedDrafts_=t.drafts_.length;var n=t.drafts_[0];return void 0!==e&&e!==n?(n[Jt].modified_&&(Sn(t),qt(4)),tn(e)&&(e=On(t,e),t.parent_||Mn(t,e)),t.patches_&&mn("Patches").generateReplacementPatches_(n[Jt].base_,e,t.patches_,t.inversePatches_)):e=On(t,n,[]),Sn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Yt?e:void 0}function On(e,t,n){if(vn(t))return t;var r=t[Jt];if(!r)return an(t,function(a,o){return Cn(e,r,t,a,o,n)}),t;if(r.scope_!==e)return t;if(!r.modified_)return Mn(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;var a=r.copy_,o=a,i=!1;3===r.type_&&(o=new Set(a),a.clear(),i=!0),an(o,function(t,o){return Cn(e,r,a,t,o,n,i)}),Mn(e,a,!1),n&&e.patches_&&mn("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Cn(e,t,n,r,a,o,i){if(en(a)){var u=On(e,a,o&&t&&3!==t.type_&&!un(t.assigned_,r)?o.concat(r):void 0);if(ln(n,r,u),!en(u))return;e.canAutoFreeze_=!1}else i&&n.add(a);if(tn(a)&&!vn(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;On(e,a),t&&t.scope_.parent_||"symbol"===b(r)||!Object.prototype.propertyIsEnumerable.call(n,r)||Mn(e,a)}}function Mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gn(t,n)}var Dn={get:function(e,t){if(t===Jt)return e;var n=dn(e);if(!un(n,t))return function(e,t,n){var r,a=In(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);var r=n[t];return e.finalized_||!tn(r)?r:r===En(e.base_,t)?(kn(e),e.copy_[t]=Rn(r,e)):r},has:function(e,t){return t in dn(e)},ownKeys:function(e){return Reflect.ownKeys(dn(e))},set:function(e,t,n){var r,a,o=In(dn(e),t);if(null!=o&&o.set)return o.set.call(e.draft_,n),!0;if(!e.modified_){var i=En(dn(e),t),u=null==i?void 0:i[Jt];if(u&&u.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((r=n)===(a=i)?0!==r||1/r==1/a:r!=r&&a!=a)&&(void 0!==n||un(e.base_,t)))return!0;kn(e),An(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:function(e,t){return void 0!==En(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,kn(e),An(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor:function(e,t){var n=dn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){qt(11)},getPrototypeOf:function(e){return $t(e.base_)},setPrototypeOf:function(){qt(12)}},Tn={};function En(e,t){var n=e[Jt];return(n?dn(n):e)[t]}function In(e,t){if(t in e)for(var n=$t(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=$t(n)}}function An(e){e.modified_||(e.modified_=!0,e.parent_&&An(e.parent_))}function kn(e){e.copy_||(e.copy_=fn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}an(Dn,function(e,t){Tn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Tn.deleteProperty=function(e,t){return Tn.set.call(this,e,t,void 0)},Tn.set=function(e,t,n){return Dn.set.call(this,e[0],t,n,e[0])};var Ln=function(){return h(function e(t){var n=this;p(this,e),this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var o=n;return function(){for(var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return o.produce(n,function(n){var r;return(r=t).call.apply(r,[e,n].concat(i))})}}var i;if("function"!=typeof t&&qt(6),void 0!==r&&"function"!=typeof r&&qt(7),tn(e)){var u=_n(n),l=Rn(e,void 0),s=!0;try{i=t(l),s=!1}finally{s?Sn(u):jn(u)}return xn(u,r),Pn(i,u)}if(!e||"object"!==b(e)){if(void 0===(i=t(e))&&(i=e),i===Yt&&(i=void 0),n.autoFreeze_&&gn(i,!0),r){var c=[],d=[];mn("Patches").generateReplacementPatches_(e,i,c,d),r(c,d)}return i}qt(1)},this.produceWithPatches=function(e,t){return"function"==typeof e?function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return n.produceWithPatches(t,function(t){return e.apply(void 0,[t].concat(a))})}:[n.produce(e,t,function(e,t){r=e,a=t}),r,a];var r,a},"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof(null==t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)},[{key:"createDraft",value:function(e){tn(e)||qt(8),en(e)&&(e=function(e){en(e)||qt(10);return Nn(e)}(e));var t=_n(this),n=Rn(e,void 0);return n[Jt].isManual_=!0,jn(t),n}},{key:"finishDraft",value:function(e,t){var n=e&&e[Jt];n&&n.isManual_||qt(9);var r=n.scope_;return xn(r,t),Pn(void 0,r)}},{key:"setAutoFreeze",value:function(e){this.autoFreeze_=e}},{key:"setUseStrictShallowCopy",value:function(e){this.useStrictShallowCopy_=e}},{key:"applyPatches",value:function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=mn("Patches").applyPatches_;return en(e)?a(e,t):this.produce(e,function(e){return a(e,t)})}}])}();function Rn(e,t){var n=sn(e)?mn("MapSet").proxyMap_(e,t):cn(e)?mn("MapSet").proxySet_(e,t):function(e,t){var n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:yn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},a=r,o=Dn;n&&(a=[r],o=Tn);var i=Proxy.revocable(a,o),u=i.revoke,l=i.proxy;return r.draft_=l,r.revoke_=u,l}(e,t);return(t?t.scope_:yn()).drafts_.push(n),n}function Nn(e){if(!tn(e)||vn(e))return e;var t,n=e[Jt];if(n){if(!n.modified_)return n.base_;n.finalized_=!0,t=fn(e,n.scope_.immer_.useStrictShallowCopy_)}else t=fn(e,!0);return an(t,function(e,n){ln(t,e,Nn(n))}),n&&(n.finalized_=!1),t}var Fn=new Ln,Bn=Fn.produce;Fn.produceWithPatches.bind(Fn),Fn.setAutoFreeze.bind(Fn),Fn.setUseStrictShallowCopy.bind(Fn),Fn.applyPatches.bind(Fn),Fn.createDraft.bind(Fn),Fn.finishDraft.bind(Fn);var Vn=function(e){return function(t,n,r){return r.setState=function(e,n){for(var r="function"==typeof e?Bn(e):e,a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];return t.apply(void 0,[r,n].concat(o))},e(r.setState,n,r)}},Wn=function(e){return Symbol.iterator in e},zn=function(e){return"entries"in e},Un=function(e,t){var n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;var a,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=D(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}(n);try{for(o.s();!(a=o.n()).done;){var i=M(a.value,2),u=i[0],l=i[1];if(!r.has(u)||!Object.is(l,r.get(u)))return!1}}catch(s){o.e(s)}finally{o.f()}return!0};function Hn(e,t){return!!Object.is(e,t)||"object"===b(e)&&null!==e&&"object"===b(t)&&null!==t&&(Object.getPrototypeOf(e)===Object.getPrototypeOf(t)&&(Wn(e)&&Wn(t)?zn(e)&&zn(t)?Un(e,t):function(e,t){for(var n=e[Symbol.iterator](),r=t[Symbol.iterator](),a=n.next(),o=r.next();!a.done&&!o.done;){if(!Object.is(a.value,o.value))return!1;a=n.next(),o=r.next()}return!!a.done&&!!o.done}(e,t):Un({entries:function(){return Object.entries(e)}},{entries:function(){return Object.entries(t)}})))}var Gn,Kn={isVisible:!1},Zn={isActive:!1,isPaused:!1,start:q,cancel:q,toggleActive:q,pause:q,resume:q,invert:!1,direction:J.FORWARD,scrollRef:void 0},Xn={isMaximized:!1,isDragging:!1},Yn={showPreview:!1},Qn=v("Q",{totalPages:0,currentPageIndex:0,pageToScrollToIndex:null,pageUrls:[],pageLoadStates:[{url:"",loaded:!1}],pages:[{name:"1",primary:{index:0,alt:"Page #1",url:"".concat(j.getBaseUrl())}}],transitionPageMode:z.NONE,retryFailedPagesKeyPrefix:""}),Jn=v("a6",{chapters:{chapters:[],isCurrentChapterReady:!1,visibleChapters:{leading:0,trailing:0,lastLeadingChapterSourceOrder:99999,lastTrailingChapterSourceOrder:-1,isLeadingChapterPreloadMode:!0,isTrailingChapterPreloadMode:!0,scrollIntoView:!1,resumeMode:void 0}}}),qn={manga:void 0,scrollbar:{xSize:0,ySize:0}},$n=(Gn?Xt(Gn):Xt)(Vn(function(e,t,n){return P(P(P(P(P(P(P({},qn),{},{reset:function(){return e(function(e){e.manga=qn.manga,e.scrollbar=P(P({},t().scrollbar),qn.scrollbar),t().overlay.reset(),t().autoScroll.reset(),t().pages.reset(),t().chapters.reset(),e.settings=P(P({},t().settings),jt),t().progressBar.reset(),t().tapZone.reset()})},setManga:function(t){return e(function(e){e.manga=t})},scrollbar:P(P({},qn.scrollbar),{},{setXSize:function(t){return e(function(e){e.scrollbar.xSize=t})},setYSize:function(t){return e(function(e){e.scrollbar.ySize=t})}}),settings:P(P({},jt),{},{setSettings:function(n){return e(function(e){e.settings=P(P({},t().settings),n)})}})},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1];return{overlay:{isVisible:Kn.isVisible,setIsVisible:function(e){return r(function(t){t.overlay.isVisible=e})},reset:function(){return r(function(){return{overlay:P(P({},a().overlay),Kn)}})}}}}(e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1];return{autoScroll:P(P({},Zn),{},{reset:function(){return r(function(e){e.autoScroll=P(P({},a().autoScroll),Zn)})},setIsActive:function(e){return r(function(t){t.autoScroll.isActive=e})},setIsPaused:function(e){return r(function(t){t.autoScroll.isPaused=e})},setStart:function(e){return r(function(t){t.autoScroll.start=e})},setCancel:function(e){return r(function(t){t.autoScroll.cancel=e})},setToggleActive:function(e){return r(function(t){t.autoScroll.toggleActive=e})},setPause:function(e){return r(function(t){t.autoScroll.pause=e})},setResume:function(e){return r(function(t){t.autoScroll.resume=e})},setInvert:function(e){return r(function(t){t.autoScroll.invert=e})},setDirection:function(e){return r(function(t){t.autoScroll.direction=e})},setScrollRef:function(e){return r(function(t){if(e){var n=w.createRef();n.current=e,t.autoScroll.scrollRef=n}else t.autoScroll.scrollRef=void 0})}})}}(e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1];return{pages:P(P({},Qn),{},{reset:function(){return r(function(){return{pages:P(P({},a().pages),Qn)}})},setCurrentPageIndex:function(e){return r(function(t){t.pages.currentPageIndex=e})},setPageToScrollToIndex:function(e){return r(function(t){t.pages.pageToScrollToIndex=e})},setTotalPages:function(e){return r(function(t){t.pages.totalPages=e})},setPageUrls:function(e){return r(function(t){t.pages.pageUrls=e})},setPageLoadStates:function(e){return r(function(t){t.pages.pageLoadStates="function"!=typeof e?e:e(a().pages.pageLoadStates)})},setPages:function(e){return r(function(t){t.pages.pages=e})},setTransitionPageMode:function(e){return r(function(t){t.pages.transitionPageMode=e})},setRetryFailedPagesKeyPrefix:function(e){return r(function(t){t.pages.retryFailedPagesKeyPrefix=e})}})}}(e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1];return{chapters:P(P({},Jn.chapters),{},{reset:function(){return r(function(){return{chapters:P(P({},a().chapters),Jn.chapters)}})},setReaderStateChapters:function(e){return r(function(t){t.chapters=P(P({},a().chapters),"function"!=typeof e?e:e(a().chapters))})}})}}(e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1];return{progressBar:P(P({},Xn),{},{setIsMaximized:function(e){return r(function(t){t.progressBar.isMaximized=e})},setIsDragging:function(e){return r(function(t){t.progressBar.isDragging=e})},reset:function(){return r(function(){return{progressBar:P(P({},a().progressBar),Xn)}})}})}}(e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1];return{tapZone:P(P({},Yn),{},{setShowPreview:function(e){return r(function(t){t.tapZone.showPreview=e})},reset:function(){return r(function(){return{tapZone:P(P({},a().tapZone),Yn)}})}})}}(e,t,n))})),er=v("B",function(e){return $n(function(e){var t=Q.useRef(void 0);return function(n){var r=e(n);return Hn(t.current,r)?t.current:t.current=r}}(e))}),tr=v("$",function(){return $n.getState()}),nr=v("c",er),rr=(v("P",function(){return $n.getState().scrollbar}),v("b",er)),ar=v("k",function(){return $n.getState().settings}),or=(v("D",er),v("h",function(){return $n.getState().overlay}),v("A",er),v("a2",function(){return $n.getState().autoScroll}),v("d",er),v("l",function(){return $n.getState().pages}),v("C",er),v("j",function(){return $n.getState().chapters})),ir=(v("e",er),v("I",er)),ur=(v("p",function(){return $n.getState().tapZone}),function(e){return Object.keys(e).map(function(t){var n=t,r=e[n];switch(n){case"brightness":case"contrast":case"saturate":return r.enabled?"".concat(n,"(").concat(r.value/100,")"):"";case"hue":return r.enabled?"hue-rotate(".concat(r.value,"deg)"):"";case"rgba":return"";case"sepia":case"grayscale":case"invert":return r?"".concat(n,"(").concat(Number(r),")"):"";default:throw new Error('Unexpected "CustomFilter" ('.concat(n,")"))}}).join(" ")}),lr=w.memo(function(e){var t=e.pageIndex,n=e.pagesIndex,r=e.isPrimaryPage,o=e.display,i=e.doublePage,u=void 0!==i&&i,l=e.position,s=e.marginTop,c=e.shouldLoad,d=e.readingMode,f=e.customFilter,g=e.pageScaleMode,p=e.shouldStretchPage,v=e.readerWidth,h=e.onLoad,b=e.onError,y=e.setRef,x=e.readerNavBarWidth,S=e.isLoaded,j=m(e,a),_=j.src,O=$.useIsTabletWidth(),C=nr(function(e){return e.scrollbar}),M=w.useCallback(function(){return null==h?void 0:h(n,_,r)},[h,n,_,r]),D=w.useCallback(function(){return null==b?void 0:b(t,_)},[b,t,_]),T=w.useCallback(function(e){return null==y?void 0:y(n,e)},[n,y]);return o||c?B.jsx(dt,P(P({},j),{},{onLoad:M,onError:D,shouldLoad:c,shouldDecode:!0,ref:T,spinnerStyle:P(P(P({backgroundColor:"background.paper"},sr(d,p,g,v,x+C.ySize,C.xSize,u,O)),W(!o,{display:"none"})),dr(u,l)),imgStyle:P(P(P(P(P({},cr(d,p,g,u,v,x+C.ySize,C.xSize)),{},{filter:ur(f),objectFit:"contain",objectPosition:l,userSelect:"none"},dr(u,l)),W(void 0!==s,{mt:"".concat(s,"px")})),{},{display:"block"},W(!o,{display:"none"})),W(!S,{margin:"unset"})),hideImgStyle:{visibility:"hidden",minWidth:0,minHeight:0,width:0,height:0}})):null}),sr=function(e,t,n,r,a,o,i,u){var l=function(e){return"calc(".concat(e," - ").concat(a,"px)")},s=function(e,t){return l("".concat(H(null!=t?t:e,Math.min(e,null!=t?t:9e3),e),"vw"))},c=function(e,t){if(Ut(e,t))return null==e?void 0:e.value}(r,n),d=l("".concat(Math.min(100,null!=c?c:9e3),"vw")),f="calc(100vh - ".concat(o,"px)"),g=u?d:s(40,c),p=u?f:"85vh",v=P(P({},O(O(O(O(O({},Y.SINGLE_PAGE,{minWidth:g,minHeight:p}),Y.DOUBLE_PAGE,{minWidth:u?"50vw":s(35,c?c/2:void 0),minHeight:p}),Y.CONTINUOUS_VERTICAL,{minWidth:g,minHeight:"100vh"}),Y.CONTINUOUS_HORIZONTAL,{minWidth:g,minHeight:p}),Y.WEBTOON,{minWidth:g,minHeight:"100vh"})[e]),{},{height:"unset"}),h=i?"calc(".concat(l("".concat(null!=c?c:100,"vw"))," / 2)"):d;switch(n){case X.WIDTH:return P(P({},v),W(t,{minWidth:h}));case X.HEIGHT:return P(P({},v),W(t,P({minHeight:f},W(Gt(e),{minHeight:"100vh"}))));case X.SCREEN:return P(P({},v),W(t,P({minWidth:h,minHeight:f},W(Gt(e),{minHeight:"100vh"}))));case X.ORIGINAL:return P(P({},v),W(Gt(e),{height:void 0}));default:throw new Error('Unexpected "PageScaleMode" ('.concat(n,")"))}},cr=function(e,t,n,r,a,o,i){var u=function(e,t,n){if(Ut(n,e)){var r=n.value;return t?r/100/2:r/100}return t?.5:1}(n,r,a);return function(e,t,n,r,a,o){var i="calc((100vw - ".concat(a,"px) * ").concat(e,")"),u="calc(100vh - ".concat(o,"px)");switch(r){case X.WIDTH:return P(P(P({minWidth:0},W(Ht(t),{minWidth:"unset"})),W(n,{minWidth:i})),{},{maxWidth:i});case X.HEIGHT:return P(P(P({minHeight:0},W(Ht(t),{minHeight:"unset"})),W(n,{minHeight:u})),{},{maxHeight:u});case X.SCREEN:return P(P(P({minWidth:0,minHeight:0},W(Ht(t),{minWidth:"unset",minHeight:"unset"})),W(n,P(P({minWidth:i,minHeight:u},W(t===Y.CONTINUOUS_HORIZONTAL,{minWidth:"unset",minHeight:u})),W(Gt(t),{minWidth:i,minHeight:"unset"})))),{},{maxWidth:i,maxHeight:u});case X.ORIGINAL:return{};default:throw new Error('Unexpected "PageScaleMode" ('.concat(r,")"))}}(u,e,t,n,o,i)},dr=function(e,t){return P({m:"auto"},W(e,P(P({},W("right"===t,{mr:"unset "})),W("left"===t,{ml:"unset "}))))},fr=function(e,t){return{index:t,alt:"Page #".concat(t+1),url:"".concat(j.getBaseUrl()).concat(e)}},gr=function(e,t){return{name:"".concat(t+1),primary:fr(e,t)}},pr=(v("L",function(e){return e.map(gr)}),function(e,t,n,r,a){if(!r||a)return Number.MAX_SAFE_INTEGER;var o=n-Math.abs(t-e);return t<e?o-1:o}),vr=function(e,t,n,r,a,o,i,u,l,s,c,d,f,g,p,v,h,b,m,y,x,S){var j=e.primary,_=j.index,w=j.alt,P=j.url;return B.jsx(lr,{setRef:S,pageIndex:_,pagesIndex:t,isPrimaryPage:n,src:P,alt:w,display:l,priority:pr(s,_,c,u,a),position:m,onLoad:o,onError:i,doublePage:y,shouldLoad:u,retryKeyPrefix:b,marginTop:x,isLoaded:r,readingMode:d,customFilter:f,pageScaleMode:g,shouldStretchPage:p,readerWidth:v,readerNavBarWidth:h},P)},hr=function(e,t){var n=e.getBoundingClientRect(),r=n.top,a=n.bottom,o=n.left,i=n.right,u=P({top:0,bottom:0,left:0,right:0},t);return{isLeftInViewport:o>=u.left&&o<=window.innerWidth,isRightInViewport:i>=u.right&&i<=window.innerWidth,isFillingWidthViewportCompletely:o<=0&&i>=window.innerWidth,isTopInViewport:r>=u.top&&r<=window.innerHeight,isBottomInViewport:a>=u.bottom&&a<=window.innerHeight,isFillingHeightViewportCompletely:r<=0&&a>=window.innerHeight}},br=(v("q",function(e,t,n){var r=hr(e,n),a=r.isLeftInViewport,o=r.isRightInViewport,i=r.isFillingWidthViewportCompletely,u=r.isTopInViewport,l=r.isBottomInViewport,s=r.isFillingHeightViewportCompletely,c=a||o||i,d=u||l||s;switch(t){case ee.X:return c;case ee.Y:return d;default:throw new Error('unexpected "type" ('.concat(t,")"))}}),v("r",function(e,t,n){var r=hr(e),a=r.isLeftInViewport,o=r.isRightInViewport,i=r.isBottomInViewport;switch(t){case ee.X:return n===Z.LTR?o:a;case ee.Y:return i;default:throw new Error('unexpected "type" ('.concat(t,")"))}}),v("T",function(e,t,n,r){var a=[],o=t.map(function(e,n){return n+t.slice(0,n).filter(function(e){return e.isSpread}).length});return e.forEach(function(i,u){var l,s=u+(!(o[u]%2)?1:-1)*(n?-1:1),c=u<s,d=0===u,f=u===e.length-1,g=c&&!f,p=t[u].isSpread,v=!(null===(l=t[s])||void 0===l||!l.isSpread),h=!(p||v)&&!(d&&n);if(c||!h){var b="".concat(u+1).concat(g&&h?"".concat("-").concat(s+1):"");a.push({name:r===Z.LTR?b:ft(b,"-"),primary:fr(i,u)})}else{var m=a[a.length-1];a[a.length-1]=P(P({},m),{},{secondary:fr(i,u)})}}),a}),function(e,t,n,r,a,o,i,u){if(!o&&!i&&!u)return[];var l=It(e,t).pagesIndex,s=function(e,t,n,r){return e?r:t||n?H(1,0,r):0}(o,i,u,r),c=n<=e&&!i?1:-1,d=Math.max(0,l-Math.min(2,s)*c),f=Ht(a)?e:d,g=l+s*c,p=Math.max(1,Math.abs(g-f)+Number(o));return Array(p).fill(1).map(function(e,t){return f+t*c})}),mr=(v("M",function(e,t,n){return[z.BOTH,e].includes(t)||Ht(n)}),v("o",function(e,t){return e!==z.NONE||Ht(t)})),yr=(v("K",function(e,t,n){var r=re[n];return"ltr"===t?(te.PREVIOUS,ne("start","end",r)):(te.PREVIOUS,ne("end","start",r))}),v("J",function(e,t,n){var r=re[n];return"ltr"===t?ne(0,e.scrollWidth,r):ne(-e.scrollWidth,0,r)}),function(e,t){return void 0===t||t.url!==e}),xr=v("O",function(e,t,n){return e===U.START?0:e===U.END?n:H(t,0,n)}),Sr=v("v",function(e){return lt.getFromCache(e,ae,"CHAPTER_READER_FIELDS")}),jr=function(e,t,n,r,a,o,i){if(!(!!r.isRead&&!!a))return[];var u=[e].concat(y(n))[a-1];if(!u)return[];var l=(i?lt.addDuplicates([u],t):[u]).map(function(e){var t=e.id;return Sr(t)}).filter(function(e){return null!==e}).filter(function(e){return lt.isDeletable(e,o)});return l.length?lt.getIds(l):[]},_r=function(e,t){var n=(e+1)/t;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:te.NEXT)===te.PREVIOUS?n<.75:n>.25},wr=function(e,t,n,r,a){var o=Sr(e.id);if(!o||!t)return[];if(!(!!a&&o.isDownloaded&&_r(r,o.pageCount)))return[];var i=Sr(t.id);return null!=i&&i.isDownloaded?lt.getNonRead(n).map(function(e){return Sr(e.id)}).filter(function(e){return!!e}).slice(-a).filter(function(e){return!e.isDownloaded}).map(function(e){return e.id}).filter(function(e){return!lt.isDownloading(e)}):[]},Pr=(v("V",function(e,t,n,r){return function(a,o){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(a>e.length-1)){var u=e[a],l=(i?u.primary:u.secondary).index;if(r===Y.DOUBLE_PAGE){var s=new Image;s.onload=function(){var e,n=(e=s).height/e.width<1;n&&t(function(e){var t=e[l];return void 0===t||t.url!==o||t.isSpread===n?e:e.toSpliced(l,1,{url:o,isSpread:n})})},s.crossOrigin="anonymous",s.src=o}n(function(e){var t=e[l];return yr(o,t)||t.loaded?e:e.toSpliced(l,1,{url:t.url,loaded:!0})})}}}),v("t",function(e,t){if(e)return t?U.END:U.START}),v("W",function(e){return function(t,n){e(function(e){var r=e[t];return yr(n,r)?e:e.toSpliced(t,1,P(P({},r),{},{loaded:!1,error:!0}))})}}),v("s",function(e,t,n,r,a,o){var i=t.visibleChapters,u=i.leading,l=i.trailing,s=i.lastLeadingChapterSourceOrder,c=i.lastTrailingChapterSourceOrder,d=e&&n<s,f=!e&&n>c;return P(P({},t),{},{visibleChapters:P(P({},t.visibleChapters),{},{leading:u+Number(d),trailing:l+Number(f),lastLeadingChapterSourceOrder:d?n:s,lastTrailingChapterSourceOrder:f?n:c,isLeadingChapterPreloadMode:void 0!==a?a:t.visibleChapters.isLeadingChapterPreloadMode,isTrailingChapterPreloadMode:void 0!==o?o:t.visibleChapters.isTrailingChapterPreloadMode,scrollIntoView:r,resumeMode:e?U.END:U.START})})})),Or=(v("a1",function(e,t,n,r,a,o,i,u){if(r){if(a)return H(e,0,t.pageCount-1);if(u.scrollIntoView&&void 0!==u.resumeMode)return xr(u.resumeMode,0,t.pageCount-1);if(o)return Math.max(0,t.pageCount-1);if(i)return 0}return t.sourceOrder<n.sourceOrder?Math.max(t.pageCount-1,0):0}),v("a0",function(e,t,n,r,a,o){return e&&void 0!==a?a:t?o:n?U.END:U.START}),v("Y",function(e,t,n){var r=!!t[e+1],a=e+1>=t.length-1&&n.isLeadingChapterPreloadMode,o=r&&!a,i=!!t[e-1],u=e-1<=0&&n.isTrailingChapterPreloadMode;return{previous:o,next:i&&!u}}),{ltr:"rtl",rtl:"ltr"}),Cr={ltr:Z.LTR,rtl:Z.RTL},Mr=function(){function e(){p(this,e)}return h(e,null,[{key:"getOrCreateChapterUpdateQueue",value:function(t){return e.chapterUpdateQueues.has(t)||e.chapterUpdateQueues.set(t,new oe(1)),e.chapterUpdateQueues.get(t)}},{key:"navigateToChapter",value:function(e,t){ie.navigate(lt.getReaderUrl(e),{replace:!0,state:t})}},{key:"downloadAhead",value:function(t,n,r,a,o){var i="".concat(t.id,"_").concat(null==n?void 0:n.id,"_").concat(a,"_").concat(o);e.downloadAheadQueue.enqueue(i,_(x().m(function e(){var i;return x().w(function(e){for(;;)switch(e.p=e.n){case 0:if((i=wr(t,n,r,a,o)).length){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,lt.download(i);case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])})))}},{key:"preloadChapter",value:function(e,t,n,r,a,o,i){if(n){var u=i===te.PREVIOUS,l=i===te.NEXT;!(u&&r<=n.sourceOrder||l&&a>=n.sourceOrder)&&_r(e,t,i)&&o(function(e){return Pr(u,e,n.sourceOrder,!1,!!u||void 0,!!l||void 0)})}}},{key:"useUpdateChapter",value:function(){var t=ue().settings,n=t.deleteChaptersWhileReading,r=t.deleteChaptersWithBookmark,a=t.updateProgressAfterReading;return w.useCallback(function(t){var o=tr().manga,i=or(),u=i.currentChapter,l=i.mangaChapters,s=i.chapters,c=ar().shouldSkipDupChapters;if(o&&u&&l){var d=lt.getNextChapters(u,s,{offset:te.PREVIOUS}),f=function(){var e=_(x().m(function e(){var i,s;return x().w(function(e){for(;;)switch(e.n){case 0:if(i=lt.getIds(c?lt.addDuplicates([u],l):[u]),s=jr(u,l,d,t,n,r,c),!!s.length||i.some(function(e){var n=Sr(e);return!!n&&(void 0!==t.isRead&&t.isRead!==n.isRead||void 0!==t.lastPageRead&&t.lastPageRead!==n.lastPageRead||void 0!==t.isBookmarked&&t.isBookmarked!==n.isBookmarked)})){e.n=1;break}return e.a(2);case 1:return e.n=2,j.updateChapters(i,P(P({},t),{},{chapterIdsToDelete:s,trackProgressMangaId:a&&t.isRead&&o.trackRecords.totalCount?o.id:void 0}),{errorPolicy:"all"}).response.catch(xe());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();e.getOrCreateChapterUpdateQueue(u.id).enqueue("".concat(u.id),f)}},[n,r,a])}},{key:"useGetThemeDirection",value:function(){var e=K().direction,t=rr(function(e){return e.settings.readingDirection.value});return Cr[e]===t?e:Or[e]}},{key:"updateSetting",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,o=tr().manga;if(o&&o.id!==ct.id){var i=le(e,void 0!==a?[null==a?void 0:a.toString()]:void 0),u=j.graphQLClient.client.cache;if(r||I.includes(e)){var l=u.writeFragment({fragment:se,data:{__typename:"GlobalMetaType",key:i,value:JSON.stringify(t)}});u.modify({fields:{metas:function(e,t){var n=t.readField;return P(P({},e),{},{nodes:ce(i,null==e?void 0:e.nodes,n,function(){return l})})}}})}else{var s=u.writeFragment({fragment:de,data:{__typename:"MangaMetaType",mangaId:o.id,key:i,value:JSON.stringify(t)}});u.modify({id:u.identify({__typename:"MangaType",id:o.id}),fields:{meta:function(e,t){var n=t.readField;return ce(i,e,n,function(){return s})}}})}n&&Ot(o,e,t,r,a).catch(function(e){return fe(pe("reader.settings.error.label.failed_to_save_settings"),"error",ge(e))})}}},{key:"deleteSetting",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=tr().manga;if(r&&r.id!==ct.id){var a=le(e,void 0!==n?[n]:void 0),o=j.graphQLClient.client.cache,i=t||I.includes(e);i?o.evict({id:o.identify({__typename:"GlobalMetaType",key:a})}):o.evict({id:o.identify({__typename:"MangaMetaType",mangaId:r.id,key:a})});var u=i?function(){return j.deleteGlobalMeta(a).response}:function(){return j.deleteMangaMeta(r.id,a).response};u().catch(function(e){return fe(pe("reader.settings.error.label.failed_to_save_settings"),"error",ge(e))})}}},{key:"useOverlayMode",value:function(){var e=$.useIsTouchDevice(),t=rr(function(e){return e.settings.overlayMode}),n=t===ve.AUTO,r=t===ve.DESKTOP||n&&!e,a=t===ve.MOBILE||n&&e;return{mode:r?ve.DESKTOP:ve.MOBILE,isDesktop:r,isMobile:a}}},{key:"useExit",value:function(){var e=rr(function(e){return e.settings.exitMode}),t=he(),n=be(),r=w.useCallback(function(){var e=tr().manga;return e?n(me.manga.path(e.id)):function(){}},[]);switch(e){case ye.PREVIOUS:return t;case ye.MANGA:return r;default:throw new Error('Unexpected "exitMode" ('.concat(e,")"))}}}])}();O(Mr,"downloadAheadQueue",new oe(1)),O(Mr,"chapterUpdateQueues",new Map),v("a",Mr);var Dr=v("S",function(e){var t=e.i18nKey,n=e.value,r=Se().t;return B.jsx(je,{sx:{flexDirection:"row",gap:.25},children:B.jsx(vt,{t:r,i18nKey:t,values:{value:n},components:[B.jsx(_e,{variant:"caption",sx:{fontSize:"x-small",opacity:.75}})]})})}),Tr=function(e){var t=e.value,n=e.values,r=e.defaultValue,a=e.setValue,o=e.valueToDisplayData,i=e.isDefaultable,u=e.onDefault,l=Se().t;return B.jsxs(je,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:[i&&B.jsx(we,{onClick:u,variant:void 0===t?"contained":"outlined",children:l("global.label.default")},"default"),n.map(function(e){var n=void 0===t&&e===r,i=o[e].isTitleString?o[e].title:l(o[e].title);return B.jsx(Pe,{title:n?l("reader.settings.active_setting"):"",children:B.jsx(we,{onClick:function(){return a(e)},variant:e===t?"contained":"outlined",startIcon:o[e].icon,children:n?B.jsx(Dr,{i18nKey:"global.label.footnote",value:i}):i})},e)})]})},Er=function(e){var t=e.label,n=e.description,r=m(e,o);return B.jsxs(je,{children:[B.jsx(_e,{children:t}),n&&B.jsx(_e,{variant:"body2",color:"textDisabled",children:n}),B.jsx(Tr,P({},r))]})},Ir=v("F",function(e){var t=e.readingMode,n=e.setReadingMode,r=m(e,i),a=Se().t;return B.jsx(Er,P(P({},r),{},{label:a("reader.settings.label.reading_mode"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Ce,setValue:n,valueToDisplayData:Oe}))}),Ar=O(O({},Z.LTR,{title:"reader.settings.reading_direction.ltr",icon:B.jsx(De,{})}),Z.RTL,{title:"reader.settings.reading_direction.rtl",icon:B.jsx(Me,{})}),kr=Object.values(Z).filter(function(e){return"number"==typeof e}),Lr=v("G",function(e){var t=e.readingDirection,n=e.setReadingDirection,r=m(e,u),a=Se().t;return B.jsx(Er,P(P({},r),{},{label:a("reader.settings.label.reading_direction"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:kr,setValue:n,valueToDisplayData:Ar}))}),Rr=O(O(O(O(O({},Te.EDGE,{title:"reader.settings.tap_zones.edge",icon:null}),Te.KINDLE,{title:"reader.settings.tap_zones.kindle",icon:null}),Te.L_SHAPE,{title:"reader.settings.tap_zones.l_shape",icon:null}),Te.RIGHT_LEFT,{title:"reader.settings.tap_zones.right_left",icon:null}),Te.DISABLED,{title:"global.label.disabled",icon:null}),Nr=Object.values(Te).filter(function(e){return"number"==typeof e}),Fr=function(e){var t=e.tapZoneLayout,n=e.setTapZoneLayout,r=m(e,l),a=Se().t;return B.jsx(Er,P(P({},r),{},{label:a("reader.settings.tap_zones.title"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Nr,setValue:n,valueToDisplayData:Rr}))},Br=function(e){return e[e.NONE=0]="NONE",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.BOTH=3]="BOTH",e}(Br||{}),Vr=O(O(O(O({},0,{title:"global.label.none",icon:null}),1,{title:"global.label.horizontal",icon:null}),2,{title:"global.label.vertical",icon:null}),3,{title:"global.label.both",icon:null}),Wr=Object.values(Br).filter(function(e){return"number"==typeof e}),zr=O(O(O(O({},0,{vertical:!1,horizontal:!1}),1,{vertical:!1,horizontal:!0}),2,{vertical:!0,horizontal:!1}),3,{vertical:!0,horizontal:!0}),Ur=function(e){var t,n,r,a=e.tapZoneInvertMode,o=e.setTapZoneInvertMode,i=m(e,s),u=Se().t,l=(t=a.value,n=t.vertical,r=t.horizontal,n&&r?3:n?2:r?1:0);return B.jsx(Er,P(P({},i),{},{label:u("reader.settings.tap_zones.invert"),value:a.isDefault?void 0:l,defaultValue:a.isDefault?l:void 0,values:Wr,setValue:function(e){return o(zr[e])},valueToDisplayData:Vr}))},Hr=function(e){var t=e.pageScaleMode,n=e.setPageScaleMode,r=m(e,c),a=Se().t;return B.jsx(Er,P(P({},r),{},{label:a("reader.settings.page_scale.title"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Ie,setValue:n,valueToDisplayData:Ee}))},Gr=function(e){var t=e.pageScaleMode,n=e.shouldStretchPage,r=e.setShouldStretchPage,a=Se().t;return Ae[t]?B.jsx(V,{children:B.jsx(we,{onClick:function(){return r(!n)},variant:n?"contained":"outlined",children:a("reader.settings.page_scale.stretch")})}):null},Kr=ke(B.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"})),Zr=function(e){var t=e.asIconButton,n=m(e,d),r=Se().t;return t?B.jsx(Pe,{title:r("global.button.reset"),children:B.jsx(Le,P(P({color:"inherit"},n),{},{children:B.jsx(Kr,{})}))}):B.jsx(we,P(P({startIcon:B.jsx(Kr,{})},n),{},{children:r("global.button.reset")}))},Xr=function(e){var t,n,r,a=e.label,o=e.value,i=e.onDefault,u=e.slotProps;return B.jsxs(je,{sx:{flexDirection:"row",gap:2,alignItems:"center"},children:[B.jsxs(je,{sx:{flexBasis:"25%"},children:[B.jsx(_e,P(P({},null==u?void 0:u.label),{},{sx:P({},null==u||null===(t=u.label)||void 0===t?void 0:t.sx),children:a})),B.jsx(_e,P(P({},null==u?void 0:u.value),{},{sx:P({},null==u||null===(n=u.value)||void 0===n?void 0:n.sx),children:o}))]}),B.jsx(ht,P(P({},null==u?void 0:u.slider),{},{sx:P({flexBasis:"75%"},null==u||null===(r=u.slider)||void 0===r?void 0:r.sx)})),i&&B.jsx(Zr,{asIconButton:!0,onClick:i})]})},Yr=function(e){var t=e.pageGap,n=e.readingMode,r=e.isDefaultable,a=e.onDefault,o=e.updateSetting,i=Se().t;return n.value!==Y.WEBTOON&&Ht(n.value)?B.jsx(Xr,{label:i("reader.settings.label.page_gap"),value:i("global.value",{value:t.value,unit:i("global.unit.px")}),onDefault:r?a:void 0,slotProps:{slider:{defaultValue:T.pageGap,value:t.value,step:Re.step,min:Re.min,max:Re.max,onChange:function(e,t){o(t,!1)},onChangeCommitted:function(e,t){o(t,!0)}}}}):null},Qr=function(e){var t=e.readerWidth,n=e.pageScaleMode,r=e.isDefaultable,a=e.onDefault,o=e.updateSetting,i=e.setTransparent,u=Se().t;return zt(n)?B.jsxs(je,{children:[B.jsxs(je,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[B.jsx(bt,{label:u("reader.settings.label.limit_reader_width"),checked:t.enabled,onChange:function(e,n){return o("readerWidth",P(P({},t),{},{enabled:n}),!0)}}),r&&B.jsx(Zr,{onClick:a,variant:"outlined"})]}),t.enabled&&B.jsx(Xr,{label:u("reader.settings.label.reader_width"),value:u("global.value",{value:t.value,unit:"%"}),slotProps:{slider:{defaultValue:T.readerWidth.value,value:t.value,step:1,min:10,max:100,onChange:function(e,n){null==i||i(!0),o("readerWidth",P(P({},t),{},{value:n}),!1)},onChangeCommitted:function(e,n){null==i||i(!1),o("readerWidth",P(P({},t),{},{value:n}),!0)}}}})]}):null},Jr=v("E",function(e){var t=e.areDefaultSettings,n=Se().t;return!$.useIsTouchDevice()||t?null:B.jsx(je,{sx:{alignItems:"end"},children:B.jsx(_e,{variant:"caption",children:n("reader.settings.default_setting_footnote")})})}),qr=function(e){var t=e.profile,n=e.title,r=e.updateSetting,a=e.isSeriesMode,o=m(e,f),i=Pt(t).settings,u=w.useMemo(function(){return P(P({},i),{},{readingMode:{value:t,isDefault:!0}})},[i,t]);return B.jsxs(je,{sx:{gap:2},children:[a?B.jsx(_e,{children:n}):B.jsx(mt,{component:"div",id:"".concat(t,"-settings"),children:n}),B.jsx(je,{sx:{px:2*Number(!a)},children:B.jsx(ea,P(P({},o),{},{setShowPreview:function(){},settings:u,updateSetting:function(e,n,a){return r(e,n,a,!0,t)}}))})]})},$r=function(e){var t=e.profiles,n=void 0===t?Ce:t,r=e.readingMode,a=m(e,g),o=a.updateSetting,i=a.isSeriesMode,u=Se().t;return B.jsxs(je,{sx:{gap:2,pb:2*Number(!i)},children:[void 0!==r&&B.jsx(je,{sx:{pt:2,px:2},children:B.jsx(Ir,{readingMode:r,setReadingMode:function(e){return o("readingMode",e)}})}),n.map(function(e){return B.jsx(qr,P({profile:e,title:u(Oe[e].title)},a),e)})]})},ea=function(e){var t=e.setShowPreview,n=e.settings,r=e.updateSetting,a=e.isDefaultable,o=e.onDefault,i=e.isSeriesMode,u=e.setTransparent,l=Se().t;return B.jsxs(je,{sx:{gap:2},children:[B.jsx(Jr,{areDefaultSettings:!a}),i&&B.jsxs(B.Fragment,{children:[B.jsx(_e,{children:l("reader.settings.source_series")}),B.jsx(Ir,{readingMode:n.readingMode,setReadingMode:function(e){return r("readingMode",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("readingMode")}})]}),B.jsx(Yr,{pageGap:n.pageGap,readingMode:n.readingMode,isDefaultable:a,onDefault:function(){return null==o?void 0:o("pageGap")},updateSetting:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,["pageGap"].concat(t))}}),B.jsx(Lr,{readingDirection:n.readingDirection,setReadingDirection:function(e){return r("readingDirection",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("readingDirection")}}),B.jsx(Fr,{tapZoneLayout:n.tapZoneLayout,setTapZoneLayout:function(e){t(!0),r("tapZoneLayout",e)},isDefaultable:a,onDefault:function(){t(!0),null==o||o("tapZoneLayout")}}),B.jsx(Ur,{tapZoneInvertMode:n.tapZoneInvertMode,setTapZoneInvertMode:function(e){t(!0),r("tapZoneInvertMode",e)},isDefaultable:a,onDefault:function(){t(!0),null==o||o("tapZoneInvertMode")}}),B.jsx(Hr,{pageScaleMode:n.pageScaleMode,setPageScaleMode:function(e){return r("pageScaleMode",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("pageScaleMode")}}),B.jsx(Gr,{pageScaleMode:n.pageScaleMode.value,shouldStretchPage:n.shouldStretchPage.value,setShouldStretchPage:function(e){return r("shouldStretchPage",e)}}),B.jsx(Qr,{readerWidth:n.readerWidth.value,pageScaleMode:n.pageScaleMode.value,isDefaultable:a,onDefault:function(){return null==o?void 0:o("readerWidth")},updateSetting:function(){return r.apply(void 0,arguments)},setTransparent:u}),i&&B.jsxs(B.Fragment,{children:[B.jsx(Ne,{}),B.jsx($r,{profiles:[n.readingMode.value],updateSetting:r,isSeriesMode:i,setTransparent:u})]})]})},ta=function(){return B.jsx(Fe,{children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:B.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16"})})})},na=function(){return B.jsx(Fe,{children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:B.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16M7 15v-5m10 5v-5M4 9h16"})})})},ra=O(O({},Be.HIDDEN,{title:"global.label.hidden",icon:B.jsx(ta,{})}),Be.STANDARD,{title:"global.label.standard",icon:B.jsx(na,{})}),aa=Object.values(Be).filter(function(e){return"number"==typeof e}),oa=function(e){var t=e.overlayMode,n=e.progressBarType,r=e.setProgressBarType,a=Se().t;return t!==ve.DESKTOP?null:B.jsx(Er,{label:a("reader.settings.progress_bar.style"),value:n,values:aa,setValue:r,valueToDisplayData:ra})},ia=function(e){var t=e.overlayMode,n=e.progressBarType,r=e.progressBarSize,a=e.setProgressBarSize,o=e.onDefault,i=Se().t;return t===ve.DESKTOP&&n===Be.STANDARD?B.jsx(Xr,{label:i("reader.settings.progress_bar.size"),value:i("global.value",{value:r,unit:i("global.unit.px")}),onDefault:o,slotProps:{slider:{defaultValue:T.progressBarSize,value:r,step:Ve.step,min:Ve.min,max:Ve.max,onChange:function(e,t){a(t,!1)},onChangeCommitted:function(e,t){a(t,!0)}}}}):null},ua=ke(B.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),la=ke(B.jsx("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"})),sa=ke([B.jsx("path",{d:"M19.03 3.56c-1.67-1.39-3.74-2.3-6.03-2.51v2.01c1.73.19 3.31.88 4.61 1.92zM11 3.06V1.05c-2.29.2-4.36 1.12-6.03 2.51l1.42 1.42C7.69 3.94 9.27 3.25 11 3.06M4.98 6.39 3.56 4.97C2.17 6.64 1.26 8.71 1.05 11h2.01c.19-1.73.88-3.31 1.92-4.61M20.94 11h2.01c-.21-2.29-1.12-4.36-2.51-6.03l-1.42 1.42c1.04 1.3 1.73 2.88 1.92 4.61M7 12l3.44 1.56L12 17l1.56-3.44L17 12l-3.44-1.56L12 7l-1.56 3.44z"},"0"),B.jsx("path",{d:"M12 21c-3.11 0-5.85-1.59-7.46-4H7v-2H1v6h2v-2.7c1.99 2.84 5.27 4.7 9 4.7 4.87 0 9-3.17 10.44-7.56l-1.96-.45C19.25 18.48 15.92 21 12 21"},"1")]),ca=O(O(O(O({},G.AUTO,{title:"global.label.auto",icon:B.jsx(sa,{})}),G.BOTTOM,{title:"global.label.bottom",icon:B.jsx(la,{sx:{transform:"rotate(90deg)"}})}),G.LEFT,{title:"global.label.left",icon:B.jsx(ua,{})}),G.RIGHT,{title:"global.label.right",icon:B.jsx(la,{})}),da=Object.values(G).filter(function(e){return"number"==typeof e}),fa=Object.values(We),ga=function(e){var t=e.progressBarPosition,n=e.progressBarPositionAutoVertical,r=e.updateSetting,a=Se().t,o=t===G.AUTO;return B.jsxs(B.Fragment,{children:[B.jsx(Er,{label:a("reader.settings.progress_bar.position"),value:t,values:da,setValue:function(e){return r("progressBarPosition",e)},valueToDisplayData:ca}),o&&B.jsx(Er,{label:a("reader.settings.progress_bar.auto_vertical_position.title"),value:n,values:fa,setValue:function(e){return r("progressBarPositionAutoVertical",e)},valueToDisplayData:ca})]})},pa=ke(B.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"})),va=ke(B.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"})),ha=O(O(O({},ve.AUTO,{title:"global.label.auto",icon:B.jsx(sa,{})}),ve.DESKTOP,{title:"global.label.desktop",icon:B.jsx(va,{})}),ve.MOBILE,{title:"global.label.mobile",icon:B.jsx(pa,{})}),ba=Object.values(ve).filter(function(e){return"number"==typeof e}),ma=function(e){var t=e.overlayMode,n=e.setOverlayMode,r=Se().t;return B.jsx(Er,{label:r("reader.settings.overlay_mode"),value:t,values:ba,setValue:n,valueToDisplayData:ha})},ya=O(O(O(O({},ze.THEME,{title:"settings.appearance.theme.title",icon:null}),ze.BLACK,{title:"global.colors.black",icon:null}),ze.GRAY,{title:"global.colors.gray",icon:null}),ze.WHITE,{title:"global.colors.white",icon:null}),xa=Object.values(ze).filter(function(e){return"number"==typeof e}),Sa=function(e){var t=e.backgroundColor,n=e.updateSetting,r=Se().t;return B.jsx(Er,{label:r("reader.settings.background_color"),value:t,values:xa,setValue:n,valueToDisplayData:ya})},ja=function(e){var t=e.overlayMode,n=e.settings,r=e.updateSetting,a=e.onDefault,o=Se().t;return B.jsxs(je,{sx:{gap:2},children:[B.jsx(ma,{overlayMode:n.overlayMode,setOverlayMode:function(e){return r("overlayMode",e)}}),B.jsx(Sa,{backgroundColor:n.backgroundColor,updateSetting:function(e){return r("backgroundColor",e)}}),B.jsx(oa,{overlayMode:t,progressBarType:n.progressBarType,setProgressBarType:function(e){return r("progressBarType",e)}}),B.jsx(ia,{overlayMode:t,progressBarType:n.progressBarType,progressBarSize:n.progressBarSize,setProgressBarSize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,["progressBarSize"].concat(t))},onDefault:function(){return null==a?void 0:a("progressBarSize")}}),B.jsx(ga,{progressBarPosition:n.progressBarPosition,progressBarPositionAutoVertical:n.progressBarPositionAutoVertical,updateSetting:r}),(n.progressBarType===Be.HIDDEN||t===ve.MOBILE)&&B.jsx(bt,{label:o("reader.settings.label.show_page_number"),checked:n.shouldShowPageNumber,onChange:function(e,t){return r("shouldShowPageNumber",t)}})]})},_a=function(e){var t=e.brightness,n=e.updateSetting,r=Se().t;return B.jsxs(je,{children:[B.jsx(bt,{label:r("reader.settings.custom_filter.brightness"),checked:t.enabled,onChange:function(e,r){return n("brightness",P(P({},t),{},{enabled:r}),!0)}}),t.enabled&&B.jsx(Xr,{label:r("reader.settings.custom_filter.brightness"),value:t.value,onDefault:function(){return n("brightness",P(P({},t),{},{value:T.customFilter.brightness.value}),!0)},slotProps:{slider:{defaultValue:T.customFilter.brightness.value,value:t.value,step:Ue.brightness.step,min:Ue.brightness.min,max:Ue.brightness.max,onChange:function(e,r){n("brightness",P(P({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("brightness",P(P({},t),{},{value:r}),!0)}}}})]})},wa=function(e){var t=e.contrast,n=e.updateSetting,r=Se().t;return B.jsxs(je,{children:[B.jsx(bt,{label:r("reader.settings.custom_filter.contrast"),checked:t.enabled,onChange:function(e,r){return n("contrast",P(P({},t),{},{enabled:r}),!0)}}),t.enabled&&B.jsx(Xr,{label:r("reader.settings.custom_filter.contrast"),value:t.value,onDefault:function(){return n("contrast",P(P({},t),{},{value:T.customFilter.contrast.value}),!0)},slotProps:{slider:{defaultValue:T.customFilter.contrast.value,value:t.value,step:Ue.contrast.step,min:Ue.contrast.min,max:Ue.contrast.max,onChange:function(e,r){n("contrast",P(P({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("contrast",P(P({},t),{},{value:r}),!0)}}}})]})},Pa=function(e){var t=e.saturate,n=e.updateSetting,r=Se().t;return B.jsxs(je,{children:[B.jsx(bt,{label:r("reader.settings.custom_filter.saturate"),checked:t.enabled,onChange:function(e,r){return n("saturate",P(P({},t),{},{enabled:r}),!0)}}),t.enabled&&B.jsx(Xr,{label:r("reader.settings.custom_filter.saturate"),value:t.value,onDefault:function(){return n("saturate",P(P({},t),{},{value:T.customFilter.saturate.value}),!0)},slotProps:{slider:{defaultValue:T.customFilter.saturate.value,value:t.value,step:Ue.saturate.step,min:Ue.saturate.min,max:Ue.saturate.max,onChange:function(e,r){n("saturate",P(P({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("saturate",P(P({},t),{},{value:r}),!0)}}}})]})},Oa=function(e){var t=e.hue,n=e.updateSetting,r=Se().t;return B.jsxs(je,{children:[B.jsx(bt,{label:r("reader.settings.custom_filter.hue"),checked:t.enabled,onChange:function(e,r){return n("hue",P(P({},t),{},{enabled:r}),!0)}}),t.enabled&&B.jsx(Xr,{label:r("reader.settings.custom_filter.hue"),value:t.value,onDefault:function(){return n("hue",P(P({},t),{},{value:T.customFilter.hue.value}),!0)},slotProps:{slider:{defaultValue:T.customFilter.hue.value,value:t.value,step:Ue.hue.step,min:Ue.hue.min,max:Ue.hue.max,onChange:function(e,r){n("hue",P(P({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("hue",P(P({},t),{},{value:r}),!0)}}}})]})},Ca={red:"reader.settings.custom_filter.rgba.red",green:"reader.settings.custom_filter.rgba.green",blue:"reader.settings.custom_filter.rgba.blue",alpha:"reader.settings.custom_filter.rgba.alpha"},Ma=function(e){var t=e.rgba,n=e.updateSetting,r=Se().t;return B.jsxs(je,{children:[B.jsx(bt,{label:r("reader.settings.custom_filter.rgba.title"),checked:t.enabled,onChange:function(e,r){return n("rgba",P(P({},t),{},{enabled:r}),!0)}}),t.enabled&&B.jsxs(je,{sx:{gap:1},children:[Object.entries(t.value).map(function(e){var a=M(e,2),o=a[0],i=a[1];return"blendMode"===o?null:B.jsx(Xr,{label:r(Ca[o]),value:i,onDefault:function(){return n("rgba",P(P({},t),{},{value:P(P({},t.value),{},O({},o,T.customFilter.rgba.value[o]))}),!0)},slotProps:{slider:{value:i,defaultValue:T.customFilter.rgba.value[o],step:Ue.rgba[o].step,min:Ue.rgba[o].min,max:Ue.rgba[o].max,onChange:function(e,r){n("rgba",P(P({},t),{},{value:P(P({},t.value),{},O({},o,r))}),!1)},onChangeCommitted:function(e,r){n("rgba",P(P({},t),{},{value:P(P({},t.value),{},O({},o,r))}),!0)}}}},o)}),B.jsx(Er,{label:r("reader.settings.custom_filter.rgba.blend_mode.title"),value:t.value.blendMode,values:Ge,setValue:function(e){return n("rgba",P(P({},t),{},{value:P(P({},t.value),{},{blendMode:e})}),!0)},valueToDisplayData:He})]})]})},Da=function(e){var t=e.sepia,n=e.updateSetting,r=Se().t;return B.jsx(je,{children:B.jsx(bt,{label:r("reader.settings.custom_filter.sepia"),checked:t,onChange:function(e,t){return n(t)}})})},Ta=function(e){var t=e.grayscale,n=e.updateSetting,r=Se().t;return B.jsx(je,{children:B.jsx(bt,{label:r("reader.settings.custom_filter.grayscale"),checked:t,onChange:function(e,t){return n(t)}})})},Ea=function(e){var t=e.invert,n=e.updateSetting,r=Se().t;return B.jsx(je,{children:B.jsx(bt,{label:r("reader.settings.custom_filter.invert"),checked:t,onChange:function(e,t){return n(t)}})})},Ia=function(e){var t=e.settings.customFilter,n=e.updateSetting,r=e.onDefault,a=e.setTransparent,o=function(e,t){n("customFilter",e,t),null==a||a(void 0!==t&&!t)};return B.jsxs(je,{sx:{gap:2},children:[B.jsx(_a,{brightness:t.brightness,updateSetting:function(e,n,r){return o(P(P({},t),{},O({},e,n)),r)}}),B.jsx(wa,{contrast:t.contrast,updateSetting:function(e,n,r){return o(P(P({},t),{},O({},e,n)),r)}}),B.jsx(Pa,{saturate:t.saturate,updateSetting:function(e,n,r){return o(P(P({},t),{},O({},e,n)),r)}}),B.jsx(Oa,{hue:t.hue,updateSetting:function(e,n,r){return o(P(P({},t),{},O({},e,n)),r)}}),B.jsx(Ma,{rgba:t.rgba,updateSetting:function(e,n,r){return o(P(P({},t),{},O({},e,n)),r)}}),B.jsx(Da,{sepia:t.sepia,updateSetting:function(e){return o(P(P({},t),{},{sepia:e}))}}),B.jsx(Ta,{grayscale:t.grayscale,updateSetting:function(e){return o(P(P({},t),{},{grayscale:e}))}}),B.jsx(Ea,{invert:t.invert,updateSetting:function(e){return o(P(P({},t),{},{invert:e}))}}),B.jsx(je,{sx:{alignItems:"end"},children:B.jsx(Zr,{onClick:function(){return null==r?void 0:r("customFilter")},variant:"outlined"})})]})},Aa=O(O({},ye.PREVIOUS,{title:"global.label.previous",icon:null}),ye.MANGA,{title:"manga.title_one",icon:null}),ka=Object.values(ye).filter(function(e){return"number"==typeof e}),La=function(e){var t=e.exitMode,n=e.setExitMode,r=Se().t;return B.jsx(Er,{label:r("reader.settings.exit_mode"),value:t,values:ka,setValue:n,valueToDisplayData:Aa})},Ra=v("H",function(e){var t=e.autoScroll,n=e.setAutoScroll,r=Se().t;return B.jsxs(B.Fragment,{children:[B.jsx(bt,{label:r("reader.settings.auto_scroll.smooth"),checked:t.smooth,onChange:function(e,r){return n(P(P({},t),{},{smooth:r}),!0)}}),B.jsx(Xr,{label:r("reader.settings.auto_scroll.speed"),value:r("global.time.seconds.value",{count:t.value}),onDefault:function(){return n(P(P({},t),{},{value:T.autoScroll.value}),!0)},slotProps:{slider:P(P({defaultValue:T.customFilter.saturate.value,value:t.value},Ve),{},{onChange:function(e,r){n(P(P({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n(P(P({},t),{},{value:r}),!0)}})}})]})}),Na=O(O(O(O({},Ze.TINY,{title:"global.label.tiny",icon:null}),Ze.SMALL,{title:"global.label.small",icon:null}),Ze.MEDIUM,{title:"global.label.medium",icon:null}),Ze.LARGE,{title:"global.label.large",icon:null}),Fa=Object.values(Ze).filter(function(e){return"number"==typeof e}),Ba=function(e){var t=e.scrollAmount,n=e.setScrollAmount,r=Se().t;return B.jsxs(B.Fragment,{children:[B.jsx(Er,{label:r("reader.settings.scroll_amount"),value:t,values:Fa,setValue:function(e){return n(e,!0)},valueToDisplayData:Na}),B.jsx(Xr,{label:r("reader.settings.label.custom_scroll_amount"),value:r("global.value",{value:t,unit:"%"}),onDefault:function(){return n(T.scrollAmount,!0)},slotProps:{slider:P(P({defaultValue:T.scrollAmount,value:t},Ke),{},{onChange:function(e,t){n(t,!1)},onChangeCommitted:function(e,t){n(t,!0)}})}})]})},Va=function(e){var t=e.settings,n=e.updateSetting,r=e.onDefault,a=e.isDefaultable,o=Se().t;return B.jsxs(je,{sx:{gap:2},children:[B.jsx(La,{exitMode:t.exitMode,setExitMode:function(e){return n("exitMode",e)}}),B.jsx(Ba,{scrollAmount:t.scrollAmount,setScrollAmount:function(e,t){return n("scrollAmount",e,t)}}),B.jsx(bt,{label:o("reader.settings.label.skip_dup_chapters"),checked:t.shouldSkipDupChapters,onChange:function(e,t){return n("shouldSkipDupChapters",t)}}),B.jsx(bt,{label:B.jsxs(V,{children:[B.jsx(_e,{children:o("reader.settings.label.skip_filtered_chapters")}),a&&B.jsx(_e,{variant:"body2",color:"textDisabled",children:o("reader.settings.label.unchangeable_in_reader")})]}),checked:t.shouldSkipFilteredChapters,onChange:function(e,t){return n("shouldSkipFilteredChapters",t)},disabled:a}),Wt(t.readingMode.value)&&B.jsx(bt,{label:o("reader.settings.label.offset_double_spread"),checked:t.shouldOffsetDoubleSpreads.value,onChange:function(e,t){return n("shouldOffsetDoubleSpreads",t)}}),B.jsx(bt,{label:B.jsxs(V,{children:[B.jsx(_e,{children:o("reader.settings.infinite_scroll.title")}),B.jsx(_e,{variant:"body2",color:"textDisabled",children:o("reader.settings.infinite_scroll.description")})]}),checked:t.shouldUseInfiniteScroll,onChange:function(e,t){return n("shouldUseInfiniteScroll",t)}}),B.jsx(bt,{label:B.jsxs(V,{children:[B.jsx(_e,{children:o("reader.settings.preview.reading_mode.title")}),B.jsx(_e,{variant:"body2",color:"textDisabled",children:o("reader.settings.preview.reading_mode.description")})]}),checked:t.shouldShowReadingModePreview,onChange:function(e,t){return n("shouldShowReadingModePreview",t)}}),B.jsx(bt,{label:B.jsxs(V,{children:[B.jsx(_e,{children:o("reader.settings.preview.tap_zones.title")}),B.jsx(_e,{variant:"body2",color:"textDisabled",children:o("reader.settings.preview.tap_zones.description")})]}),checked:t.shouldShowTapZoneLayoutPreview,onChange:function(e,t){return n("shouldShowTapZoneLayoutPreview",t)}}),B.jsx(bt,{label:B.jsxs(V,{children:[B.jsx(_e,{children:o("reader.settings.auto_webtoon_mode.title")}),B.jsx(_e,{variant:"body2",color:"textDisabled",children:o("reader.settings.auto_webtoon_mode.description")})]}),checked:t.shouldUseAutoWebtoonMode,onChange:function(e,t){return n("shouldUseAutoWebtoonMode",t)}}),B.jsx(bt,{label:o("reader.settings.show_transition_page"),checked:t.shouldShowTransitionPage,onChange:function(e,t){return n("shouldShowTransitionPage",t)}}),B.jsx(bt,{label:o("reader.settings.chapter_transition.warning.missing_chapter"),checked:t.shouldInformAboutMissingChapter,onChange:function(e,t){return n("shouldInformAboutMissingChapter",t)}}),B.jsx(bt,{label:o("reader.settings.chapter_transition.warning.scanlator_change"),checked:t.shouldInformAboutScanlatorChange,onChange:function(e,t){return n("shouldInformAboutScanlatorChange",t)}}),B.jsx(Ra,{autoScroll:t.autoScroll,setAutoScroll:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,["autoScroll"].concat(t))}}),B.jsx(Xr,{label:o("reader.settings.image_preload_amount"),value:t.imagePreLoadAmount,onDefault:function(){return null==r?void 0:r("imagePreLoadAmount")},slotProps:{slider:{defaultValue:T.imagePreLoadAmount,value:t.imagePreLoadAmount,step:Xe.step,min:Xe.min,max:Xe.max,onChange:function(e,t){n("imagePreLoadAmount",t,!1)},onChangeCommitted:function(e,t){n("imagePreLoadAmount",t,!0)}}}})]})},Wa=Ye(_e)(function(e){var t=e.theme;return{display:"inline-block",padding:"0.2em 0.4em",fontSize:"0.85em",lineHeight:"1.4",color:t.palette.text.primary,backgroundColor:t.palette.background.paper,border:"1px solid ".concat(t.palette.divider),borderRadius:"3px",boxShadow:"inset 0 -1px 0 ".concat(t.palette.divider),fontFamily:"monospace, monospace"}}),za=function(e){var t=e.keys,n=e.removeKey,r=Se().t;return B.jsx(je,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:t.map(function(e,a){return B.jsxs(w.Fragment,{children:[B.jsx(Pe,{title:r("global.button.delete"),hidden:!n,children:B.jsx(je,{sx:{flexDirection:"row",flexWrap:"wrap",gap:.5,cursor:n?"pointer":void 0},onClick:function(){return null==n?void 0:n(e)},children:e.split("+").map(function(e,t,n){return B.jsxs(w.Fragment,{children:[B.jsx(Wa,{children:e}),t===n.length-1?"":"+"]},e)})})}),a===t.length-1?"":","]},e)})})},Ua=function(e){var t=e.onClose,n=e.onCreate,r=e.existingKeys,a=Se().t,o=M(Qe(),2),i=o[0],u=o[1],l=u.start,s=u.stop,c=u.resetKeys,d=[y(i).join("+")],f=d.some(function(e){return r.map(function(e){return e.toLowerCase()}).includes(e.toLowerCase())});return w.useEffect(function(){return l(),function(){s()}},[]),B.jsxs(Je,{open:!0,onClose:t,fullWidth:!0,children:[B.jsx(qe,{children:a("hotkeys.create.dialog.title")}),B.jsxs($e,{children:[B.jsx(je,{sx:{flexDirection:"row",gap:1},children:B.jsx(vt,{i18nKey:"hotkeys.create.dialog.label",components:{Keys:i.size?B.jsx(za,{keys:d}):B.jsx(_e,{children:a("hotkeys.create.dialog.placeholder")})},children:"Recorded keys:"})}),f&&B.jsx(_e,{color:"error",children:a("hotkeys.create.error.exists")})]}),B.jsx(et,{children:B.jsxs(je,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[B.jsx(we,{onClick:c,children:a("global.button.reset")}),B.jsxs(je,{direction:"row",children:[B.jsx(we,{onClick:t,children:a("global.button.cancel")}),B.jsx(we,{disabled:f,onClick:function(){t(),n(d)},children:a("global.button.create")})]})]})})]})},Ha=(O(O(O(O(O(O(O(O(O(O(S={},rt.PREVIOUS_PAGE,"reader.settings.hotkey.previous_page"),rt.NEXT_PAGE,"reader.settings.hotkey.next_page"),rt.SCROLL_BACKWARD,"reader.settings.hotkey.scroll_backward"),rt.SCROLL_FORWARD,"reader.settings.hotkey.scroll_forward"),rt.PREVIOUS_CHAPTER,"reader.settings.hotkey.previous_chapter"),rt.NEXT_CHAPTER,"reader.settings.hotkey.next_chapter"),rt.TOGGLE_MENU,"reader.settings.hotkey.menu"),rt.CYCLE_SCALE_TYPE,"reader.settings.hotkey.scale_type"),rt.STRETCH_IMAGE,"reader.settings.hotkey.stretch_image"),rt.OFFSET_SPREAD_PAGES,"reader.settings.hotkey.offset_spread_pages"),O(O(O(O(O(O(S,rt.CYCLE_READING_MODE,"reader.settings.hotkey.reading_mode"),rt.CYCLE_READING_DIRECTION,"reader.settings.hotkey.reading_direction"),rt.TOGGLE_AUTO_SCROLL,"reader.settings.hotkey.auto_scroll"),rt.AUTO_SCROLL_SPEED_INCREASE,"reader.settings.hotkey.auto_scroll_speed_increase"),rt.AUTO_SCROLL_SPEED_DECREASE,"reader.settings.hotkey.auto_scroll_speed_decrease"),rt.EXIT_READER,"reader.button.exit")),Ga=function(e){var t=e.hotkey,n=e.keys,r=e.existingKeys,a=e.updateSetting,o=Se().t,i=tt({popupId:"reader-setting-record-hotkey",variant:"dialog"});return B.jsxs(B.Fragment,{children:[B.jsxs(je,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[B.jsx(_e,{sx:{flexGrow:1},children:o(Ha[t])}),B.jsx(za,{keys:n,removeKey:function(e){return a(n.filter(function(t){return t!==e}))}}),B.jsx(Pe,{title:o("global.button.add"),children:B.jsx(Le,P(P({},nt(i)),{},{color:"inherit",children:B.jsx(yt,{})}))}),B.jsx(Zr,{asIconButton:!0,onClick:function(){return a(T.hotkeys[t])}})]}),i.isOpen&&B.jsx(Ua,{onClose:i.close,onCreate:function(e){return a([].concat(y(n),y(e)))},existingKeys:r})]})},Ka=function(e){var t=e.settings,n=e.updateSetting,r=e.onDefault,a=Se().t;return B.jsxs(je,{sx:{gap:2},children:[B.jsx(je,{sx:{alignItems:"end"},children:B.jsx(_e,{variant:"caption",children:a("hotkeys.info.delete")})}),at.map(function(e){return B.jsx(Ga,{hotkey:e,keys:t.hotkeys[e],existingKeys:Object.values(t.hotkeys).flat(),updateSetting:function(r){return n("hotkeys",P(P({},t.hotkeys),{},O({},e,r)))}},e)}),B.jsx(je,{sx:{alignItems:"end"},children:B.jsx(Zr,{onClick:function(){return null==r?void 0:r("hotkeys")},variant:"outlined"})})]})},Za=v("w",function(e,t,n){return w.memo(w.forwardRef(function(r,a){var o=t.reduce(function(e,t){return P(P({},e),t(r))},{}),i=Object.fromEntries(Object.entries(o).filter(function(e){var t=M(e,1)[0];return n.includes(t)})),u=P(P({},r),i);return B.jsx(e,P(P({},u),{},{ref:a}))}))});v("R",Za(function(e){var t=e.activeTab,n=e.setActiveTab,r=e.areDefaultSettings,a=e.settings,o=e.updateSetting,i=e.deleteSetting,u=e.mode,l=e.setTransparent,s=Se().t,c=$.useIsTouchDevice(),d=ir(function(e){return e.tapZone.setShowPreview});return B.jsxs(B.Fragment,{children:[B.jsx(ut,{value:t,onChange:function(e,t){return n(t)},sx:P(P({},W(!!r,{zIndex:2})),W(!r,{backgroundColor:"background.paper",backgroundImage:"var(--Paper-overlay)"})),children:Object.values(ot).map(function(e){var t=e.id,n=e.label;return!e.supportsTouchDevices&&c?null:B.jsx(gt,{value:t,label:s(n),sx:{flexGrow:1,maxWidth:"unset",textTransform:"none"}},t)})}),B.jsx(V,{sx:{p:r?void 0:2,overflowX:"hidden"},children:Object.values(ot).map(function(e){var n=e.id;if(!e.supportsTouchDevices&&c)return null;switch(n){case it.LAYOUT:return r?B.jsx(pt,{index:n,currentIndex:t,children:B.jsx($r,{readingMode:a.readingMode,updateSetting:function(){return o.apply(void 0,arguments)}})},n):B.jsx(pt,{index:n,currentIndex:t,children:B.jsx(ea,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},setShowPreview:d,isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)},isSeriesMode:!0,setTransparent:l})},n);case it.GENERAL:return B.jsx(pt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:B.jsx(ja,{overlayMode:u,settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);case it.FILTER:return B.jsx(pt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:B.jsx(Ia,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!0,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)},setTransparent:l})},n);case it.BEHAVIOUR:return B.jsx(pt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:B.jsx(Va,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);case it.HOTKEYS:return B.jsx(pt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:B.jsx(Ka,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!0,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);default:throw new Error('Unexpected "ReaderSettingTab" ('.concat(n,")"))}})})]})},[Mr.useOverlayMode],["mode"]))}}})}();
