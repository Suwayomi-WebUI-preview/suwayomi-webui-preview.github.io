import{u as $,f as j,j as s,av as q,v as M,o as F,p as G,q as T,c4 as H,T as A,b as u,aZ as P,N as R,w as U,B as b,di as W,cO as Z,s as z,C as E,I as J,m as Q}from"./index-BeKqgGKZ.js";import{D as V}from"./Delete-ByM-3zaS.js";const X=({handleDelete:c,mutable:r=!0,deletable:o=!0,...i})=>{const{i18n:D,_:p}=$();return s.jsxs(u,{sx:{flexDirection:"row",alignItems:"center"},children:[r?s.jsx(Z,{...i,dialogTitle:""}):s.jsx(z,{children:s.jsx(M,{secondary:i.value})}),s.jsx(E,{title:D._({id:"cnGeoo"}),disabled:!o,children:s.jsx(J,{disabled:!o,onClick:c,children:s.jsx(V,{})})})]})},Y=c=>{var r;return(r=c==null?void 0:c.map(o=>o[0]))!=null?r:[]},es=({settingName:c,description:r,dialogDisclaimer:o,valueInfos:i,handleChange:D,addItemButtonTitle:p,placeholder:S,allowDuplicates:N=!1,validateItem:x=()=>!0,invalidItemError:_})=>{const{i18n:h,_:I}=$(),n=Y(i),[B,f]=j.useState(!1),[a,g]=j.useState(n),[k,w]=j.useState(!1);j.useEffect(()=>{i&&g(n)},[i]);const C=(e=!0)=>{e&&g(n),f(!1)},m=(e,t)=>{if(t===void 0){g(a.toSpliced(e,1));return}if(!(!N&&a.includes(t))&&t!==""){if(!(x!=null&&x(t,a))){Q(_!=null?_:h._({id:"UeOiKl"}),"error");return}g(a.toSpliced(e,1,t.trim()))}},K=()=>{C(!0);const e=a.filter(l=>l!==""),t=n.filter(l=>!e.includes(l));D(e,t)};return s.jsxs(s.Fragment,{children:[s.jsx(q,{onClick:()=>f(!0),children:s.jsx(M,{primary:c,secondary:n!=null&&n.length?n==null?void 0:n.join(", "):r,secondaryTypographyProps:{style:{display:"flex",flexDirection:"column",wordBreak:"break-word"}}})}),s.jsxs(F,{open:B,onClose:()=>C(),fullWidth:!0,children:[s.jsx(G,{children:c}),(!!r||!!o)&&s.jsx(T,{children:s.jsxs(H,{sx:{paddingBottom:"10px"},component:"div",children:[r&&s.jsx(A,{variant:"body1",sx:{whiteSpace:"pre-line"},children:r}),o&&s.jsxs(u,{direction:"row",sx:{alignItems:"center"},children:[s.jsx(P,{color:"warning"}),s.jsx(A,{variant:"body1",sx:{marginLeft:"10px",marginTop:"5px",whiteSpace:"pre-line"},children:o})]})]})}),s.jsx(T,{dividers:!0,sx:{maxHeight:"300px"},children:s.jsx(R,{children:a.map((e,t)=>{var l,y,L,O;return s.jsx(X,{settingName:"",placeholder:S,handleChange:d=>m(t,d),handleDelete:()=>m(t,void 0),value:e,mutable:(y=(l=i==null?void 0:i.find(([d])=>d===e))==null?void 0:l[1])==null?void 0:y.mutable,deletable:(O=(L=i==null?void 0:i.find(([d])=>d===e))==null?void 0:L[1])==null?void 0:O.deletable},e)})})}),s.jsx(U,{children:s.jsxs(u,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[s.jsx(b,{onClick:()=>w(!0),children:p!=null?p:h._({id:"m16xKo"})}),s.jsxs(u,{direction:"row",children:[s.jsx(b,{onClick:()=>C(),children:h._({id:"dEgA5A"})}),s.jsx(b,{onClick:()=>K(),children:h._({id:"aP3N/0"})})]})]})})]}),k&&s.jsx(W,{settingName:"",placeholder:S,handleChange:e=>m(a.length,e),isDialogOpen:k,setIsDialogOpen:w,validate:e=>{var t;return(t=x==null?void 0:x(e,a))!=null?t:!0}})]})};export{es as M};
