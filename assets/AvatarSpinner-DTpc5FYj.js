import{c as M,j as c,X as N,W as T,f as y,Y as z,aa as v,_ as S,Z as U,a0 as E,a2 as q}from"./index-BeKqgGKZ.js";import{S as L}from"./SpinnerImage-Qc0sG63E.js";const B=M(c.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function H(e){return N("MuiAvatar",e)}T("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const W=e=>{const{classes:r,variant:a,colorDefault:t}=e;return E({root:["root",a,t&&"colorDefault"],img:["img"],fallback:["fallback"]},H,r)},X=S("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.root,r[a.variant],a.colorDefault&&r.colorDefault]}})(q(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),Y=S("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Z=S(B,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function _({crossOrigin:e,referrerPolicy:r,src:a,srcSet:t}){const[o,s]=y.useState(!1);return y.useEffect(()=>{if(!a&&!t)return;s(!1);let d=!0;const n=new Image;return n.onload=()=>{d&&s("loaded")},n.onerror=()=>{d&&s("error")},n.crossOrigin=e,n.referrerPolicy=r,n.src=a,t&&(n.srcset=t),()=>{d=!1}},[e,r,a,t]),o}const G=y.forwardRef(function(r,a){const t=z({props:r,name:"MuiAvatar"}),{alt:o,children:s,className:d,component:n="div",slots:u={},slotProps:i={},imgProps:b,sizes:P,src:g,srcSet:f,variant:A="circular",...k}=t;let p=null;const l={...t,component:n,variant:A},w=_({...b,...typeof i.img=="function"?i.img(l):i.img,src:g,srcSet:f}),h=g||f,x=h&&w!=="error";l.colorDefault=!x,delete l.ownerState;const m=W(l),[I,F]=v("root",{ref:a,className:U(m.root,d),elementType:X,externalForwardedProps:{slots:u,slotProps:i,component:n,...k},ownerState:l}),[j,R]=v("img",{className:m.img,elementType:Y,externalForwardedProps:{slots:u,slotProps:{img:{...b,...i.img}}},additionalProps:{alt:o,src:g,srcSet:f,sizes:P},ownerState:l}),[C,D]=v("fallback",{className:m.fallback,elementType:Z,externalForwardedProps:{slots:u,slotProps:i},shouldForwardComponentProp:!0,ownerState:l});return x?p=c.jsx(j,{...R}):s||s===0?p=s:h&&o?p=o[0]:p=c.jsx(C,{...D}),c.jsx(I,{...F,children:p})}),O=({iconUrl:e,alt:r,slots:a})=>{var t,o;return c.jsx(G,{variant:"rounded",alt:r,...a==null?void 0:a.avatarProps,children:c.jsx(L,{alt:r,src:e,...a==null?void 0:a.spinnerImageProps,spinnerStyle:{small:!0,...(t=a==null?void 0:a.spinnerImageProps)==null?void 0:t.spinnerStyle},imgStyle:{objectFit:"cover",width:"100%",height:"100%",...(o=a==null?void 0:a.spinnerImageProps)==null?void 0:o.imgStyle}})})};export{O as A};
