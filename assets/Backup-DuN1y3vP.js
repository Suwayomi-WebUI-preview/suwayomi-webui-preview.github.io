import{b as C,j as u,aL as ge,aM as ke,$ as L,aN as me,aO as pe,T as ht,B as we,aP as Ut,I as gt,aQ as zt,aR as kt,aS as Wt,aT as He,at as Ct,aU as Ue,aV as Tt,aW as qt,aX as xt,aY as o,ap as Kt,u as wt,aF as Ye,p as Qe,aZ as Ae,i as vt,n as yt,k as St,q as Mt,r as De,a_ as ot,m as Te,e as Gt,g as Ee,f as Yt,E as _e,au as Qt,o as nt,S as at,A as rt,L as it,an as lt}from"./index-B9UlrkJ4.js";import{f as ct}from"./file-selector-DlHkLoY8.js";import{P as Xt}from"./Progress-QVbcTB1z.js";import{T as Zt}from"./TextSetting-UoSr20wE.js";import{N as ut}from"./NumberSetting-FnLcslH4.js";import{c as qe,s as ye,a as Jt,u as fe,b as je,_ as S,d as es,e as ee,f as le,g as ts,P as ss,C as os,h as ns,i as as,j as rs,k as Xe,l as Ne,m as ve,n as is,o as ls,p as Pe,q as cs,S as us,r as Ze,t as Je,v as et,w as ze,x as tt,y as ds,D as Dt,z as We,M as ms,A as Le,B as Pt,E as Vt,F as It,G as ps,H as jt,I as fs,J as bs,L as hs,K as gs}from"./useMobilePicker-CPTbmvzc.js";import{E as ks}from"./EmptyViewAbsoluteCentered-DPycH2Z7.js";import{u as Cs}from"./useAppTitle-D8yTcyW3.js";import{u as dt}from"./use-window-event-B2Xq_FDA.js";import{u as Ts}from"./use-merged-ref-5Crp8Efl.js";import{L as xs}from"./ListSubheader-Bx7Mgto8.js";import"./PasswordTextField-CH7oBiVE.js";import"./TextField-yx_LXatZ.js";import"./useFormControl-DPq_bMc3.js";import"./formControlState-Dq1zat_P.js";import"./InputAdornment-yZ3SO1Xq.js";import"./Slider-DCR6-2F4.js";import"./Chip-C74rcJem.js";const Ke=({adapter:e,value:s,timezone:n,props:t})=>{if(s===null)return null;const{minTime:a,maxTime:c,minutesStep:i,shouldDisableTime:d,disableIgnoringDatePartForTimeValidation:f=!1,disablePast:m,disableFuture:x}=t,r=e.utils.date(void 0,n),h=qe(f,e.utils);switch(!0){case!e.utils.isValid(s):return"invalidDate";case!!(a&&h(a,s)):return"minTime";case!!(c&&h(s,c)):return"maxTime";case!!(x&&e.utils.isAfter(s,r)):return"disableFuture";case!!(m&&e.utils.isBefore(s,r)):return"disablePast";case!!(d&&d(s,"hours")):return"shouldDisableTime-hours";case!!(d&&d(s,"minutes")):return"shouldDisableTime-minutes";case!!(d&&d(s,"seconds")):return"shouldDisableTime-seconds";case!!(i&&e.utils.getMinutes(s)%i!==0):return"minutesStep";default:return null}};Ke.valueManager=ye;function ws(e={}){const{enableAccessibleFieldDOMStructure:s=!0,ampm:n}=e;return C.useMemo(()=>({valueType:"time",validator:Ke,internal_valueManager:ye,internal_fieldValueManager:Jt,internal_enableAccessibleFieldDOMStructure:s,internal_useApplyDefaultValuesToFieldInternalProps:ys,internal_useOpenPickerButtonAriaLabel:vs(n)}),[n,s])}function vs(e){return function(n){const t=fe(),a=je();return C.useMemo(()=>{const c=(e!=null?e:t.is12HourCycleInCurrentLocale())?"fullTime12h":"fullTime24h",i=t.isValid(n)?t.format(n,c):null;return a.openTimePickerDialogue(i)},[n,a,t])}}function ys(e){const s=fe(),n=Nt(e),t=C.useMemo(()=>{var a;return(a=e.ampm)!=null?a:s.is12HourCycleInCurrentLocale()},[e.ampm,s]);return C.useMemo(()=>{var a;return S({},e,n,{format:(a=e.format)!=null?a:t?s.formats.fullTime12h:s.formats.fullTime24h})},[e,n,t,s])}function Nt(e){return C.useMemo(()=>{var s,n;return{disablePast:(s=e.disablePast)!=null?s:!1,disableFuture:(n=e.disableFuture)!=null?n:!1}},[e.disablePast,e.disableFuture])}function Ss(e,s,n){const t=C.useRef(null);return C.useEffect(()=>{const a=t.current;if(a)return a.addEventListener(e,s,n),()=>a==null?void 0:a.removeEventListener(e,s,n)},[s,n]),t}const Ms=e=>{const s=ws(e);return es({manager:s,props:e})},Ds=["slots","slotProps","InputProps","inputProps"],Ft=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiTimeField"}),{slots:a,slotProps:c}=t,i=le(t,Ds),d=ts({slotProps:c,ref:n,externalForwardedProps:i}),f=Ms(d);return u.jsx(ss,{slots:a,slotProps:c,fieldResponse:f,defaultOpenPickerIcon:os})});function Ps(e){return ge("MuiPickersToolbarText",e)}ke("MuiPickersToolbarText",["root"]);const Vs=["className","classes","selected","value"],Is=e=>pe({root:["root"]},Ps,e),js=L(ht,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),Ot=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiPickersToolbarText"}),{className:a,classes:c,selected:i,value:d}=t,f=le(t,Vs),m=Is(c);return u.jsx(js,S({ref:n,className:me(m.root,a),component:"span",ownerState:t},i&&{"data-selected":!0},f,{children:d}))}),Ns=["align","className","classes","selected","typographyClassName","value","variant","width"],Fs=e=>pe({root:["root"]},ns,e),Os=L(we,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),Fe=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiPickersToolbarButton"}),{align:a,className:c,classes:i,selected:d,typographyClassName:f,value:m,variant:x,width:r}=t,h=le(t,Ns),b=Fs(i);return u.jsx(Os,S({variant:"text",ref:n,className:me(b.root,c),ownerState:t},r?{sx:{width:r}}:{},h,{children:u.jsx(Ot,{align:a,className:f,variant:x,value:m,selected:d})}))});function Ls(e){return ge("MuiTimePickerToolbar",e)}const Oe=ke("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Rs=["ampm","ampmInClock","className","classes"],Bs=(e,s)=>{const{pickerOrientation:n,toolbarDirection:t}=s;return pe({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",n==="landscape"&&"hourMinuteLabelLandscape",t==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",n==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},Ls,e)},As=L(is,{name:"MuiTimePickerToolbar",slot:"Root"})({}),Es=L(Ot,{name:"MuiTimePickerToolbar",slot:"Separator"})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),_s=L("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(e,s)=>[{["&.".concat(Oe.hourMinuteLabelLandscape)]:s.hourMinuteLabelLandscape,["&.".concat(Oe.hourMinuteLabelReverse)]:s.hourMinuteLabelReverse},s.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{pickerOrientation:"landscape"},style:{marginTop:"auto"}}]}),$s=L("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,s)=>[{[".".concat(Oe.ampmLabel)]:s.ampmLabel},{["&.".concat(Oe.ampmLandscape)]:s.ampmLandscape},s.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,["& .".concat(Oe.ampmLabel)]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Hs(e){const s=ee({props:e,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:t,className:a,classes:c}=s,i=le(s,Rs),d=fe(),f=je(),m=as(),x=Bs(c,m),{value:r,setValue:h,disabled:b,readOnly:k,view:w,setView:M,views:D}=rs(),P=!!(n&&!t&&D.includes("hours")),{meridiemMode:V,handleMeridiemChange:F}=Xe(r,n,j=>h(j,{changeImportance:"set"})),I=j=>d.isValid(r)?d.format(r,j):"--",A=u.jsx(Es,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:x.separator});return u.jsxs(As,S({landscapeDirection:"row",toolbarTitle:f.timePickerToolbarTitle,ownerState:m,className:me(x.root,a)},i,{children:[u.jsxs(_s,{className:x.hourMinuteLabel,ownerState:m,children:[Ne(D,"hours")&&u.jsx(Fe,{tabIndex:-1,variant:"h3",onClick:()=>M("hours"),selected:w==="hours",value:I(n?"hours12h":"hours24h")}),Ne(D,["hours","minutes"])&&A,Ne(D,"minutes")&&u.jsx(Fe,{tabIndex:-1,variant:"h3",onClick:()=>M("minutes"),selected:w==="minutes",value:I("minutes")}),Ne(D,["minutes","seconds"])&&A,Ne(D,"seconds")&&u.jsx(Fe,{variant:"h3",onClick:()=>M("seconds"),selected:w==="seconds",value:I("seconds")})]}),P&&u.jsxs($s,{className:x.ampmSelection,ownerState:m,children:[u.jsx(Fe,{disableRipple:!0,variant:"subtitle2",selected:V==="am",typographyClassName:x.ampmLabel,value:ve(d,"am"),onClick:k?void 0:()=>F("am"),disabled:b}),u.jsx(Fe,{disableRipple:!0,variant:"subtitle2",selected:V==="pm",typographyClassName:x.ampmLabel,value:ve(d,"pm"),onClick:k?void 0:()=>F("pm"),disabled:b})]})]}))}function Lt(e,s){var d,f;const n=fe(),t=ee({props:e,name:s}),a=Nt(t),c=(d=t.ampm)!=null?d:n.is12HourCycleInCurrentLocale(),i=C.useMemo(()=>{var m;return((m=t.localeText)==null?void 0:m.toolbarTitle)==null?t.localeText:S({},t.localeText,{timePickerToolbarTitle:t.localeText.toolbarTitle})},[t.localeText]);return S({},t,a,{ampm:c,localeText:i},ls({views:t.views,openTo:t.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{slots:S({toolbar:Hs},t.slots),slotProps:S({},t.slotProps,{toolbar:S({ampm:c,ampmInClock:t.ampmInClock},(f=t.slotProps)==null?void 0:f.toolbar)})})}function Us(e){return ge("MuiTimeClock",e)}ke("MuiTimeClock",["root","arrowSwitcher"]);const Ie=220,he=36,Re={x:Ie/2,y:Ie/2},Rt={x:Re.x,y:0},zs=Rt.x-Re.x,Ws=Rt.y-Re.y,qs=e=>e*(180/Math.PI),Bt=(e,s,n)=>{const t=s-Re.x,a=n-Re.y,c=Math.atan2(zs,Ws)-Math.atan2(t,a);let i=qs(c);i=Math.round(i/e)*e,i%=360;const d=Math.floor(i/e)||0,f=t**2+a**2,m=Math.sqrt(f);return{value:d,distance:m}},Ks=(e,s,n=1)=>{const t=n*6;let{value:a}=Bt(t,e,s);return a=a*n%60,a},Gs=(e,s,n)=>{const{value:t,distance:a}=Bt(30,e,s);let c=t||12;return n?c%=12:a<Ie/2-he&&(c+=12,c%=24),c};function Ys(e){return ge("MuiClockPointer",e)}ke("MuiClockPointer",["root","thumb"]);const Qs=["className","classes","isBetweenTwoClockValues","isInner","type","viewValue"],Xs=e=>pe({root:["root"],thumb:["thumb"]},Ys,e),Zs=L("div",{name:"MuiClockPointer",slot:"Root"})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{isClockPointerAnimated:!0},style:{transition:e.transitions.create(["transform","height"])}}]})),Js=L("div",{name:"MuiClockPointer",slot:"Thumb"})(({theme:e})=>({width:4,height:4,backgroundColor:(e.vars||e).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:"calc(50% - ".concat(he/2,"px)"),border:"".concat((he-4)/2,"px solid ").concat((e.vars||e).palette.primary.main),boxSizing:"content-box",variants:[{props:{isClockPointerBetweenTwoValues:!1},style:{backgroundColor:(e.vars||e).palette.primary.main}}]}));function eo(e){const s=ee({props:e,name:"MuiClockPointer"}),{className:n,classes:t,isBetweenTwoClockValues:a,isInner:c,type:i,viewValue:d}=s,f=le(s,Qs),m=C.useRef(i);C.useEffect(()=>{m.current=i},[i]);const{ownerState:x}=Pe(),r=S({},x,{isClockPointerAnimated:m.current!==i,isClockPointerBetweenTwoValues:a}),h=Xs(t),b=()=>{let w=360/(i==="hours"?12:60)*d;return i==="hours"&&d>12&&(w-=360),{height:Math.round((c?.26:.4)*Ie),transform:"rotateZ(".concat(w,"deg)")}};return u.jsx(Zs,S({style:b(),className:me(h.root,n),ownerState:r},f,{children:u.jsx(Js,{ownerState:r,className:h.thumb})}))}function to(e){return ge("MuiClock",e)}ke("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const so=(e,s)=>{const n={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",s.clockMeridiemMode==="am"&&"selected"],pmButton:["pmButton",s.clockMeridiemMode==="pm"&&"selected"],meridiemText:["meridiemText"]};return pe(n,to,e)},oo=L("div",{name:"MuiClock",slot:"Root"})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2)})),no=L("div",{name:"MuiClock",slot:"Clock"})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),ao=L("div",{name:"MuiClock",slot:"Wrapper"})({"&:focus":{outline:"none"}}),ro=L("div",{name:"MuiClock",slot:"SquareMask"})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{isClockDisabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),io=L("div",{name:"MuiClock",slot:"Pin"})(({theme:e})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),At=(e,s)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:he,variants:[{props:{clockMeridiemMode:s},style:{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}}}]}),lo=L(gt,{name:"MuiClock",slot:"AmButton"})(({theme:e})=>S({},At(e,"am"),{position:"absolute",left:8})),co=L(gt,{name:"MuiClock",slot:"PmButton"})(({theme:e})=>S({},At(e,"pm"),{position:"absolute",right:8})),mt=L(ht,{name:"MuiClock",slot:"MeridiemText"})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function uo(e){const s=ee({props:e,name:"MuiClock"}),{ampm:n,ampmInClock:t,autoFocus:a,children:c,value:i,handleMeridiemChange:d,isTimeDisabled:f,meridiemMode:m,minutesStep:x=1,onChange:r,selectedId:h,type:b,viewValue:k,viewRange:[w,M],disabled:D=!1,readOnly:P,className:V,classes:F}=s,I=fe(),A=je(),{ownerState:j}=Pe(),N=S({},j,{isClockDisabled:D,clockMeridiemMode:m}),O=C.useRef(!1),l=so(F,N),y=f(k,b),$=!n&&b==="hours"&&(k<1||k>12),E=(g,re)=>{D||P||f(g,b)||r(g,re)},B=(g,re)=>{let{offsetX:z,offsetY:se}=g;if(z===void 0){const oe=g.target.getBoundingClientRect();z=g.changedTouches[0].clientX-oe.left,se=g.changedTouches[0].clientY-oe.top}const J=b==="seconds"||b==="minutes"?Ks(z,se,x):Gs(z,se,!!n);E(J,re)},ce=g=>{O.current=!0,B(g,"shallow")},te=g=>{O.current&&(B(g,"finish"),O.current=!1),g.preventDefault()},Se=g=>{g.buttons>0&&B(g.nativeEvent,"shallow")},ue=g=>{O.current&&(O.current=!1),B(g.nativeEvent,"finish")},Z=b==="hours"?!1:k%5!==0,be=b==="minutes"?x:1,R=C.useRef(null);Ut(()=>{a&&R.current.focus()},[a]);const H=g=>Math.max(w,Math.min(M,g)),G=g=>(g+(M+1))%(M+1),Y=g=>{if(!O.current)switch(g.key){case"Home":E(w,"partial"),g.preventDefault();break;case"End":E(M,"partial"),g.preventDefault();break;case"ArrowUp":E(G(k+be),"partial"),g.preventDefault();break;case"ArrowDown":E(G(k-be),"partial"),g.preventDefault();break;case"PageUp":E(H(k+5),"partial"),g.preventDefault();break;case"PageDown":E(H(k-5),"partial"),g.preventDefault();break;case"Enter":case" ":E(k,"finish"),g.preventDefault();break}};return u.jsxs(oo,{className:me(l.root,V),children:[u.jsxs(no,{className:l.clock,children:[u.jsx(ro,{onTouchMove:ce,onTouchStart:ce,onTouchEnd:te,onMouseUp:ue,onMouseMove:Se,ownerState:N,className:l.squareMask}),!y&&u.jsxs(C.Fragment,{children:[u.jsx(io,{className:l.pin}),i!=null&&u.jsx(eo,{type:b,viewValue:k,isInner:$,isBetweenTwoClockValues:Z})]}),u.jsx(ao,{"aria-activedescendant":h,"aria-label":A.clockLabelText(b,i==null?null:I.format(i,n?"fullTime12h":"fullTime24h")),ref:R,role:"listbox",onKeyDown:Y,tabIndex:0,className:l.wrapper,children:c})]}),n&&t&&u.jsxs(C.Fragment,{children:[u.jsx(lo,{onClick:P?void 0:()=>d("am"),disabled:D||m===null,ownerState:N,className:l.amButton,title:ve(I,"am"),children:u.jsx(mt,{variant:"caption",className:l.meridiemText,children:ve(I,"am")})}),u.jsx(co,{disabled:D||m===null,onClick:P?void 0:()=>d("pm"),ownerState:N,className:l.pmButton,title:ve(I,"pm"),children:u.jsx(mt,{variant:"caption",className:l.meridiemText,children:ve(I,"pm")})})]})]})}function mo(e){return ge("MuiClockNumber",e)}const $e=ke("MuiClockNumber",["root","selected","disabled"]),po=["className","classes","disabled","index","inner","label","selected"],fo=(e,s)=>{const n={root:["root",s.isClockNumberSelected&&"selected",s.isClockNumberDisabled&&"disabled"]};return pe(n,mo,e)},bo=L("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,s)=>[s.root,{["&.".concat($e.disabled)]:s.disabled},{["&.".concat($e.selected)]:s.selected}]})(({theme:e})=>({height:he,width:he,position:"absolute",left:"calc((100% - ".concat(he,"px) / 2)"),display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(e.vars||e).palette.text.primary,fontFamily:e.typography.fontFamily,"&:focused":{backgroundColor:(e.vars||e).palette.background.paper},["&.".concat($e.selected)]:{color:(e.vars||e).palette.primary.contrastText},["&.".concat($e.disabled)]:{pointerEvents:"none",color:(e.vars||e).palette.text.disabled},variants:[{props:{isClockNumberInInnerRing:!0},style:S({},e.typography.body2,{color:(e.vars||e).palette.text.secondary})}]}));function Et(e){const s=ee({props:e,name:"MuiClockNumber"}),{className:n,classes:t,disabled:a,index:c,inner:i,label:d,selected:f}=s,m=le(s,po),{ownerState:x}=Pe(),r=S({},x,{isClockNumberInInnerRing:i,isClockNumberSelected:f,isClockNumberDisabled:a}),h=fo(t,r),b=c%12/12*Math.PI*2-Math.PI/2,k=(Ie-he-2)/2*(i?.65:1),w=Math.round(Math.cos(b)*k),M=Math.round(Math.sin(b)*k);return u.jsx(bo,S({className:me(h.root,n),"aria-disabled":a?!0:void 0,"aria-selected":f?!0:void 0,role:"option",style:{transform:"translate(".concat(w,"px, ").concat(M+(Ie-he)/2,"px")},ownerState:r},m,{children:d}))}const ho=({ampm:e,value:s,getClockNumberText:n,isDisabled:t,selectedId:a,utils:c})=>{const i=s?c.getHours(s):null,d=[],f=e?1:0,m=e?12:23,x=r=>i===null?!1:e?r===12?i===12||i===0:i===r||i-12===r:i===r;for(let r=f;r<=m;r+=1){let h=r.toString();r===0&&(h="00");const b=!e&&(r===0||r>12);h=c.formatNumber(h);const k=x(r);d.push(u.jsx(Et,{id:k?a:void 0,index:r,inner:b,selected:k,disabled:t(r),label:h,"aria-label":n(h)},r))}return d},pt=({utils:e,value:s,isDisabled:n,getClockNumberText:t,selectedId:a})=>{const c=e.formatNumber;return[[5,c("05")],[10,c("10")],[15,c("15")],[20,c("20")],[25,c("25")],[30,c("30")],[35,c("35")],[40,c("40")],[45,c("45")],[50,c("50")],[55,c("55")],[0,c("00")]].map(([i,d],f)=>{const m=i===s;return u.jsx(Et,{label:d,id:m?a:void 0,index:f+1,inner:!1,disabled:n(i),selected:m,"aria-label":t(d)},i)})},st=({value:e,referenceDate:s,utils:n,props:t,timezone:a})=>{const c=C.useMemo(()=>ye.getInitialReferenceValue({value:e,utils:n,props:t,referenceDate:s,granularity:us.day,timezone:a,getTodayDate:()=>cs(n,a,"date")}),[]);return e!=null?e:c},go=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","timezone"],ko=e=>pe({root:["root"],arrowSwitcher:["arrowSwitcher"]},Us,e),Co=L(tt,{name:"MuiTimeClock",slot:"Root"})({display:"flex",flexDirection:"column",position:"relative"}),To=L(ds,{name:"MuiTimeClock",slot:"ArrowSwitcher"})({position:"absolute",right:12,top:15}),xo=["hours","minutes"],wo=C.forwardRef(function(s,n){const t=fe(),a=ee({props:s,name:"MuiTimeClock"}),{ampm:c=t.is12HourCycleInCurrentLocale(),ampmInClock:i=!1,autoFocus:d,slots:f,slotProps:m,value:x,defaultValue:r,referenceDate:h,disableIgnoringDatePartForTimeValidation:b=!1,maxTime:k,minTime:w,disableFuture:M,disablePast:D,minutesStep:P=1,shouldDisableTime:V,showViewSwitcher:F,onChange:I,view:A,views:j=xo,openTo:N,onViewChange:O,focusedView:l,onFocusedViewChange:y,className:$,classes:E,disabled:B,readOnly:ce,timezone:te}=a,Se=le(a,go),{value:ue,handleValueChange:Z,timezone:be}=Ze({name:"TimeClock",timezone:te,value:x,defaultValue:r,referenceDate:h,onChange:I,valueManager:ye}),R=st({value:ue,referenceDate:h,utils:t,props:a,timezone:be}),H=je(),G=Je(be),Y=zt(),{ownerState:g}=Pe(),{view:re,setView:z,previousView:se,nextView:J,setValueAndGoToNextView:oe}=et({view:A,views:j,openTo:N,onViewChange:O,onChange:Z,focusedView:l,onFocusedViewChange:y}),{meridiemMode:ne,handleMeridiemChange:ae}=Xe(R,c,oe),de=C.useCallback((q,Q)=>{const U=qe(b,t),X=Q==="hours"||Q==="minutes"&&j.includes("seconds"),p=({start:v,end:_})=>!(w&&U(w,_)||k&&U(v,k)||M&&U(v,G)||D&&U(G,X?_:v)),T=(v,_=1)=>{if(v%_!==0)return!1;if(V)switch(Q){case"hours":return!V(t.setHours(R,v),"hours");case"minutes":return!V(t.setMinutes(R,v),"minutes");case"seconds":return!V(t.setSeconds(R,v),"seconds");default:return!1}return!0};switch(Q){case"hours":{const v=ze(q,ne,c),_=t.setHours(R,v);if(t.getHours(_)!==v)return!0;const K=t.setSeconds(t.setMinutes(_,0),0),Ve=t.setSeconds(t.setMinutes(_,59),59);return!p({start:K,end:Ve})||!T(v)}case"minutes":{const v=t.setMinutes(R,q),_=t.setSeconds(v,0),K=t.setSeconds(v,59);return!p({start:_,end:K})||!T(q,P)}case"seconds":{const v=t.setSeconds(R,q);return!p({start:v,end:v})||!T(q)}default:throw new Error("not supported")}},[c,R,b,k,ne,w,P,V,t,M,D,G,j]),Ce=C.useMemo(()=>{switch(re){case"hours":{const q=(X,p)=>{const T=ze(X,ne,c);oe(t.setHours(R,T),p,"hours")},Q=t.getHours(R);let U;return c?Q>12?U=[12,23]:U=[0,11]:U=[0,23],{onChange:q,viewValue:Q,children:ho({value:ue,utils:t,ampm:c,getClockNumberText:H.hoursClockNumberText,isDisabled:X=>B||de(X,"hours"),selectedId:Y}),viewRange:U}}case"minutes":{const q=t.getMinutes(R);return{viewValue:q,onChange:(U,X)=>{oe(t.setMinutes(R,U),X,"minutes")},children:pt({utils:t,value:q,getClockNumberText:H.minutesClockNumberText,isDisabled:U=>B||de(U,"minutes"),selectedId:Y}),viewRange:[0,59]}}case"seconds":{const q=t.getSeconds(R);return{viewValue:q,onChange:(U,X)=>{oe(t.setSeconds(R,U),X,"seconds")},children:pt({utils:t,value:q,getClockNumberText:H.secondsClockNumberText,isDisabled:U=>B||de(U,"seconds"),selectedId:Y}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[re,t,ue,c,H.hoursClockNumberText,H.minutesClockNumberText,H.secondsClockNumberText,ne,oe,R,de,Y,B]),Me=ko(E);return u.jsxs(Co,S({ref:n,className:me(Me.root,$),ownerState:g},Se,{children:[u.jsx(uo,S({autoFocus:d!=null?d:!!l,ampmInClock:i&&j.includes("hours"),value:ue,type:re,ampm:c,minutesStep:P,isTimeDisabled:de,meridiemMode:ne,handleMeridiemChange:ae,selectedId:Y,disabled:B,readOnly:ce},Ce)),F&&u.jsx(To,{className:Me.arrowSwitcher,slots:f,slotProps:m,onGoToPrevious:()=>z(se),isPreviousDisabled:!se,previousLabel:H.openPreviousView,onGoToNext:()=>z(J),isNextDisabled:!J,nextLabel:H.openNextView,ownerState:g})]}))});function vo(e){return ge("MuiDigitalClock",e)}ke("MuiDigitalClock",["root","list","item"]);const yo=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],So=e=>pe({root:["root"],list:["list"],item:["item"]},vo,e),Mo=L(tt,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:Dt,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),Do=L(Tt,{name:"MuiDigitalClock",slot:"List"})({padding:0}),Po=L(Ct,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue"})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ue(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ue(e.palette.primary.main,e.palette.action.focusOpacity)}})),Vo=C.forwardRef(function(s,n){var X;const t=fe(),a=C.useRef(null),c=kt(n,a),i=C.useRef(null),d=ee({props:s,name:"MuiDigitalClock"}),{ampm:f=t.is12HourCycleInCurrentLocale(),timeStep:m=30,autoFocus:x,slots:r,slotProps:h,value:b,defaultValue:k,referenceDate:w,disableIgnoringDatePartForTimeValidation:M=!1,maxTime:D,minTime:P,disableFuture:V,disablePast:F,minutesStep:I=1,shouldDisableTime:A,onChange:j,view:N,openTo:O,onViewChange:l,focusedView:y,onFocusedViewChange:$,className:E,classes:B,disabled:ce,readOnly:te,views:Se=["hours"],skipDisabled:ue=!1,timezone:Z}=d,be=le(d,yo),{value:R,handleValueChange:H,timezone:G}=Ze({name:"DigitalClock",timezone:Z,value:b,defaultValue:k,referenceDate:w,onChange:j,valueManager:ye}),Y=je(),g=Je(G),{ownerState:re}=Pe(),z=S({},re,{hasDigitalClockAlreadyBeenRendered:!!a.current}),se=So(B),J=(X=r==null?void 0:r.digitalClockItem)!=null?X:Po,oe=Wt({elementType:J,externalSlotProps:h==null?void 0:h.digitalClockItem,ownerState:z,className:se.item}),ne=st({value:R,referenceDate:w,utils:t,props:d,timezone:G}),ae=He(p=>H(p,"finish","hours")),{setValueAndGoToNextView:de}=et({view:N,views:Se,openTo:O,onViewChange:l,onChange:ae,focusedView:y,onFocusedViewChange:$}),Ce=He(p=>{de(p,"finish")});C.useEffect(()=>{if(a.current===null)return;const p=a.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!p)return;const T=p.offsetTop;(x||y)&&p.focus(),a.current.scrollTop=T-4});const Me=C.useCallback(p=>{const T=qe(M,t),v=()=>!(P&&T(P,p)||D&&T(p,D)||V&&T(p,g)||F&&T(g,p)),_=()=>t.getMinutes(p)%I!==0?!1:A?!A(p,"hours"):!0;return!v()||!_()},[M,t,P,D,V,g,F,I,A]),q=C.useMemo(()=>{const p=[];let v=t.startOfDay(ne);for(;t.isSameDay(ne,v);)p.push(v),v=t.addMinutes(v,m);return p},[ne,m,t]),Q=q.findIndex(p=>t.isEqual(p,ne)),U=p=>{switch(p.key){case"PageUp":{const T=We(i.current)-5,v=i.current.children,_=Math.max(0,T),K=v[_];K&&K.focus(),p.preventDefault();break}case"PageDown":{const T=We(i.current)+5,v=i.current.children,_=Math.min(v.length-1,T),K=v[_];K&&K.focus(),p.preventDefault();break}}};return u.jsx(Mo,S({ref:c,className:me(se.root,E),ownerState:z},be,{children:u.jsx(Do,{ref:i,role:"listbox","aria-label":Y.timePickerToolbarTitle,className:se.list,onKeyDown:U,children:q.map((p,T)=>{const v=Me(p);if(ue&&v)return null;const _=t.isEqual(p,R),K=t.format(p,f?"fullTime12h":"fullTime24h"),W=Q===T||Q===-1&&T===0?0:-1;return u.jsx(J,S({onClick:()=>!te&&Ce(p),selected:_,disabled:ce||v,disableRipple:te,role:"option","aria-disabled":te,"aria-selected":_,tabIndex:W,itemValue:p,formattedValue:K},oe,{children:K}),"".concat(p.valueOf(),"-").concat(K))})})}))});function Io(e){return ge("MuiMultiSectionDigitalClock",e)}ke("MuiMultiSectionDigitalClock",["root"]);function jo(e){return ge("MuiMultiSectionDigitalClockSection",e)}ke("MuiMultiSectionDigitalClockSection",["root","item"]);const No=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Fo=e=>pe({root:["root"],item:["item"]},jo,e),Oo=L(Tt,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:e})=>({maxHeight:Dt,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),Lo=L(Ct,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:e})=>({padding:8,margin:"2px 4px",width:ms,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ue(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ue(e.palette.primary.main,e.palette.action.focusOpacity)}})),Ro=C.forwardRef(function(s,n){var O;const t=C.useRef(null),a=kt(n,t),c=C.useRef(null),i=ee({props:s,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:f,className:m,classes:x,disabled:r,readOnly:h,items:b,active:k,slots:w,slotProps:M,skipDisabled:D}=i,P=le(i,No),{ownerState:V}=Pe(),F=S({},V,{hasDigitalClockAlreadyBeenRendered:!!t.current}),I=Fo(x),A=(O=w==null?void 0:w.digitalClockSectionItem)!=null?O:Lo;C.useEffect(()=>{if(t.current===null)return;const l=t.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(k&&d&&l&&l.focus(),!l||c.current===l)return;c.current=l;const y=l.offsetTop;t.current.scrollTop=y-4});const j=b.findIndex(l=>l.isFocused(l.value)),N=l=>{switch(l.key){case"PageUp":{const y=We(t.current)-5,$=t.current.children,E=Math.max(0,y),B=$[E];B&&B.focus(),l.preventDefault();break}case"PageDown":{const y=We(t.current)+5,$=t.current.children,E=Math.min($.length-1,y),B=$[E];B&&B.focus(),l.preventDefault();break}}};return u.jsx(Oo,S({ref:a,className:me(I.root,m),ownerState:F,autoFocusItem:d&&k,role:"listbox",onKeyDown:N},P,{children:b.map((l,y)=>{var te;const $=(te=l.isDisabled)==null?void 0:te.call(l,l.value),E=r||$;if(D&&E)return null;const B=l.isSelected(l.value),ce=j===y||j===-1&&y===0?0:-1;return u.jsx(A,S({onClick:()=>!h&&f(l.value),selected:B,disabled:E,disableRipple:h,role:"option","aria-disabled":h||E||void 0,"aria-label":l.ariaLabel,"aria-selected":B,tabIndex:ce,className:I.item},M==null?void 0:M.digitalClockSectionItem,{children:l.label}),l.label)})}))}),Bo=({now:e,value:s,utils:n,ampm:t,isDisabled:a,resolveAriaLabel:c,timeStep:i,valueOrReferenceDate:d})=>{const f=s?n.getHours(s):null,m=[],x=(b,k)=>{const w=k!=null?k:f;return w===null?!1:t?b===12?w===12||w===0:w===b||w-12===b:w===b},r=b=>x(b,n.getHours(d)),h=t?11:23;for(let b=0;b<=h;b+=i){let k=n.format(n.setHours(e,b),t?"hours12h":"hours24h");const w=c(parseInt(k,10).toString());k=n.formatNumber(k),m.push({value:b,label:k,isSelected:x,isDisabled:a,isFocused:r,ariaLabel:w})}return m},ft=({value:e,utils:s,isDisabled:n,timeStep:t,resolveLabel:a,resolveAriaLabel:c,hasValue:i=!0})=>{const d=m=>e===null?!1:i&&e===m,f=m=>e===m;return[...Array.from({length:Math.ceil(60/t)},(m,x)=>{const r=t*x;return{value:r,label:s.formatNumber(a(r)),isDisabled:n,isSelected:d,isFocused:f,ariaLabel:c(r.toString())}})]},Ao=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],Eo=e=>pe({root:["root"]},Io,e),_o=L(tt,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:"1px solid ".concat((e.vars||e).palette.divider)})),$o=C.forwardRef(function(s,n){const t=fe(),a=qt(),c=ee({props:s,name:"MuiMultiSectionDigitalClock"}),{ampm:i=t.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:f,slots:m,slotProps:x,value:r,defaultValue:h,referenceDate:b,disableIgnoringDatePartForTimeValidation:k=!1,maxTime:w,minTime:M,disableFuture:D,disablePast:P,minutesStep:V=1,shouldDisableTime:F,onChange:I,view:A,views:j=["hours","minutes"],openTo:N,onViewChange:O,focusedView:l,onFocusedViewChange:y,className:$,classes:E,disabled:B,readOnly:ce,skipDisabled:te=!1,timezone:Se}=c,ue=le(c,Ao),{value:Z,handleValueChange:be,timezone:R}=Ze({name:"MultiSectionDigitalClock",timezone:Se,value:r,defaultValue:h,referenceDate:b,onChange:I,valueManager:ye}),H=je(),G=Je(R),Y=C.useMemo(()=>S({hours:1,minutes:5,seconds:5},d),[d]),g=st({value:Z,referenceDate:b,utils:t,props:c,timezone:R}),re=He((p,T,v)=>be(p,T,v)),z=C.useMemo(()=>!i||!j.includes("hours")||j.includes("meridiem")?j:[...j,"meridiem"],[i,j]),{view:se,setValueAndGoToNextView:J,focusedView:oe}=et({view:A,views:z,openTo:N,onViewChange:O,onChange:re,focusedView:l,onFocusedViewChange:y}),ne=He(p=>{J(p,"finish","meridiem")}),{meridiemMode:ae,handleMeridiemChange:de}=Xe(g,i,ne,"finish"),Ce=C.useCallback((p,T)=>{const v=qe(k,t),_=T==="hours"||T==="minutes"&&z.includes("seconds"),K=({start:W,end:ie})=>!(M&&v(M,ie)||w&&v(W,w)||D&&v(W,G)||P&&v(G,_?ie:W)),Ve=(W,ie=1)=>{if(W%ie!==0)return!1;if(F)switch(T){case"hours":return!F(t.setHours(g,W),"hours");case"minutes":return!F(t.setMinutes(g,W),"minutes");case"seconds":return!F(t.setSeconds(g,W),"seconds");default:return!1}return!0};switch(T){case"hours":{const W=ze(p,ae,i),ie=t.setHours(g,W);if(t.getHours(ie)!==W)return!0;const Be=t.setSeconds(t.setMinutes(ie,0),0),Ht=t.setSeconds(t.setMinutes(ie,59),59);return!K({start:Be,end:Ht})||!Ve(W)}case"minutes":{const W=t.setMinutes(g,p),ie=t.setSeconds(W,0),Be=t.setSeconds(W,59);return!K({start:ie,end:Be})||!Ve(p,V)}case"seconds":{const W=t.setSeconds(g,p);return!K({start:W,end:W})||!Ve(p)}default:throw new Error("not supported")}},[i,g,k,w,ae,M,V,F,t,D,P,G,z]),Me=C.useCallback(p=>{switch(p){case"hours":return{onChange:T=>{const v=ze(T,ae,i);J(t.setHours(g,v),"finish","hours")},items:Bo({now:G,value:Z,ampm:i,utils:t,isDisabled:T=>Ce(T,"hours"),timeStep:Y.hours,resolveAriaLabel:H.hoursClockNumberText,valueOrReferenceDate:g})};case"minutes":return{onChange:T=>{J(t.setMinutes(g,T),"finish","minutes")},items:ft({value:t.getMinutes(g),utils:t,isDisabled:T=>Ce(T,"minutes"),resolveLabel:T=>t.format(t.setMinutes(G,T),"minutes"),timeStep:Y.minutes,hasValue:!!Z,resolveAriaLabel:H.minutesClockNumberText})};case"seconds":return{onChange:T=>{J(t.setSeconds(g,T),"finish","seconds")},items:ft({value:t.getSeconds(g),utils:t,isDisabled:T=>Ce(T,"seconds"),resolveLabel:T=>t.format(t.setSeconds(G,T),"seconds"),timeStep:Y.seconds,hasValue:!!Z,resolveAriaLabel:H.secondsClockNumberText})};case"meridiem":{const T=ve(t,"am"),v=ve(t,"pm");return{onChange:de,items:[{value:"am",label:T,isSelected:()=>!!Z&&ae==="am",isFocused:()=>!!g&&ae==="am",ariaLabel:T},{value:"pm",label:v,isSelected:()=>!!Z&&ae==="pm",isFocused:()=>!!g&&ae==="pm",ariaLabel:v}]}}default:throw new Error("Unknown view: ".concat(p," found."))}},[G,Z,i,t,Y.hours,Y.minutes,Y.seconds,H.hoursClockNumberText,H.minutesClockNumberText,H.secondsClockNumberText,ae,J,g,Ce,de]),q=C.useMemo(()=>{if(!a)return z;const p=z.filter(T=>T!=="meridiem");return p.reverse(),z.includes("meridiem")&&p.push("meridiem"),p},[a,z]),Q=C.useMemo(()=>z.reduce((p,T)=>S({},p,{[T]:Me(T)}),{}),[z,Me]),{ownerState:U}=Pe(),X=Eo(E);return u.jsx(_o,S({ref:n,className:me(X.root,$),ownerState:U,role:"group"},ue,{children:q.map(p=>u.jsx(Ro,{items:Q[p].items,onChange:Q[p].onChange,active:se===p,autoFocus:f!=null?f:oe===p,disabled:B,readOnly:ce,slots:m,slotProps:x,skipDisabled:te,"aria-label":H.selectViewText(p)},p))}))}),Ge=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:x,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,ampmInClock:P,slots:V,slotProps:F,readOnly:I,disabled:A,sx:j,autoFocus:N,showViewSwitcher:O,disableIgnoringDatePartForTimeValidation:l,timezone:y})=>u.jsx(wo,{view:e,onViewChange:s,focusedView:n&&Le(n)?n:null,onFocusedViewChange:t,views:a.filter(Le),value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:x,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,ampmInClock:P,slots:V,slotProps:F,readOnly:I,disabled:A,sx:j,autoFocus:N,showViewSwitcher:O,disableIgnoringDatePartForTimeValidation:l,timezone:y}),Ho=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:x,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,slots:P,slotProps:V,readOnly:F,disabled:I,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:N,timeSteps:O,skipDisabled:l,timezone:y})=>u.jsx(Vo,{view:e,onViewChange:s,focusedView:n&&Le(n)?n:null,onFocusedViewChange:t,views:a.filter(Le),value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:x,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,slots:P,slotProps:V,readOnly:F,disabled:I,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:N,timeStep:O==null?void 0:O.minutes,skipDisabled:l,timezone:y}),bt=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:x,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,slots:P,slotProps:V,readOnly:F,disabled:I,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:N,timeSteps:O,skipDisabled:l,timezone:y})=>u.jsx($o,{view:e,onViewChange:s,focusedView:n&&Pt(n)?n:null,onFocusedViewChange:t,views:a.filter(Le),value:c,defaultValue:i,referenceDate:d,onChange:f,className:m,classes:x,disableFuture:r,disablePast:h,minTime:b,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,slots:P,slotProps:V,readOnly:F,disabled:I,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:N,timeSteps:O,skipDisabled:l,timezone:y}),Uo=(e,s,n)=>n?s.filter(t=>!Pt(t)||t==="hours"):e?[...s,"meridiem"]:s,zo=(e,s)=>{var n,t;return 24*60/(((n=e.hours)!=null?n:1)*((t=e.minutes)!=null?t:5))<=s};function Wo({thresholdToRenderTimeInASingleColumn:e,ampm:s,timeSteps:n,views:t}){const a=e!=null?e:24,c=S({hours:1,minutes:5,seconds:5},n),i=zo(c,a);return{thresholdToRenderTimeInASingleColumn:a,timeSteps:c,shouldRenderTimeInASingleColumn:i,views:Uo(s,t,i)}}const _t=C.forwardRef(function(s,n){var w,M,D;const t=fe(),a=Lt(s,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:c,views:i,timeSteps:d}=Wo(a),f=c?Ho:bt,m=S({hours:f,minutes:f,seconds:f,meridiem:f},a.viewRenderers),x=(w=a.ampmInClock)!=null?w:!0,h=((M=m.hours)==null?void 0:M.name)===bt.name?i:i.filter(P=>P!=="meridiem"),b=S({},a,{ampmInClock:x,timeSteps:d,viewRenderers:m,format:Vt(t,a),views:c?["hours"]:h,slots:S({field:Ft},a.slots),slotProps:S({},a.slotProps,{field:P=>{var V;return S({},xt((V=a.slotProps)==null?void 0:V.field,P),It(a))},toolbar:S({hidden:!0,ampmInClock:x},(D=a.slotProps)==null?void 0:D.toolbar)})}),{renderPicker:k}=ps({ref:n,props:b,valueManager:ye,valueType:"time",validator:Ke,steps:null});return k()});_t.propTypes={ampm:o.bool,ampmInClock:o.bool,autoFocus:o.bool,className:o.string,closeOnSelect:o.bool,defaultValue:o.object,disabled:o.bool,disableFuture:o.bool,disableIgnoringDatePartForTimeValidation:o.bool,disableOpenPicker:o.bool,disablePast:o.bool,enableAccessibleFieldDOMStructure:o.any,format:o.string,formatDensity:o.oneOf(["dense","spacious"]),inputRef:jt,label:o.node,localeText:o.object,maxTime:o.object,minTime:o.object,minutesStep:o.number,name:o.string,onAccept:o.func,onChange:o.func,onClose:o.func,onError:o.func,onOpen:o.func,onSelectedSectionsChange:o.func,onViewChange:o.func,open:o.bool,openTo:o.oneOf(["hours","meridiem","minutes","seconds"]),orientation:o.oneOf(["landscape","portrait"]),readOnly:o.bool,reduceAnimations:o.bool,referenceDate:o.object,selectedSections:o.oneOfType([o.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),o.number]),shouldDisableTime:o.func,skipDisabled:o.bool,slotProps:o.object,slots:o.object,sx:o.oneOfType([o.arrayOf(o.oneOfType([o.func,o.object,o.bool])),o.func,o.object]),thresholdToRenderTimeInASingleColumn:o.number,timeSteps:o.shape({hours:o.number,minutes:o.number,seconds:o.number}),timezone:o.string,value:o.object,view:o.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:o.shape({hours:o.func,meridiem:o.func,minutes:o.func,seconds:o.func}),views:o.arrayOf(o.oneOf(["hours","minutes","seconds"]).isRequired)};const $t=C.forwardRef(function(s,n){var m,x;const t=fe(),a=Lt(s,"MuiMobileTimePicker"),c=S({hours:Ge,minutes:Ge,seconds:Ge},a.viewRenderers),i=(m=a.ampmInClock)!=null?m:!1,d=S({},a,{ampmInClock:i,viewRenderers:c,format:Vt(t,a),slots:S({field:Ft},a.slots),slotProps:S({},a.slotProps,{field:r=>{var h;return S({},xt((h=a.slotProps)==null?void 0:h.field,r),It(a))},toolbar:S({hidden:!1,ampmInClock:i},(x=a.slotProps)==null?void 0:x.toolbar)})}),{renderPicker:f}=fs({ref:n,props:d,valueManager:ye,valueType:"time",validator:Ke,steps:null});return f()});$t.propTypes={ampm:o.bool,ampmInClock:o.bool,autoFocus:o.bool,className:o.string,closeOnSelect:o.bool,defaultValue:o.object,disabled:o.bool,disableFuture:o.bool,disableIgnoringDatePartForTimeValidation:o.bool,disableOpenPicker:o.bool,disablePast:o.bool,enableAccessibleFieldDOMStructure:o.any,format:o.string,formatDensity:o.oneOf(["dense","spacious"]),inputRef:jt,label:o.node,localeText:o.object,maxTime:o.object,minTime:o.object,minutesStep:o.number,name:o.string,onAccept:o.func,onChange:o.func,onClose:o.func,onError:o.func,onOpen:o.func,onSelectedSectionsChange:o.func,onViewChange:o.func,open:o.bool,openTo:o.oneOf(["hours","minutes","seconds"]),orientation:o.oneOf(["landscape","portrait"]),readOnly:o.bool,reduceAnimations:o.bool,referenceDate:o.object,selectedSections:o.oneOfType([o.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),o.number]),shouldDisableTime:o.func,slotProps:o.object,slots:o.object,sx:o.oneOfType([o.arrayOf(o.oneOfType([o.func,o.object,o.bool])),o.func,o.object]),timezone:o.string,value:o.object,view:o.oneOf(["hours","minutes","seconds"]),viewRenderers:o.shape({hours:o.func,minutes:o.func,seconds:o.func}),views:o.arrayOf(o.oneOf(["hours","minutes","seconds"]).isRequired)};const qo=["desktopModeMediaQuery"],Ko=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiTimePicker"}),{desktopModeMediaQuery:a=bs}=t,c=le(t,qo);return Kt(a,{defaultMatches:!0})?u.jsx(_t,S({ref:n},c)):u.jsx($t,S({ref:n},c))}),Go=({settingName:e,value:s,defaultValue:n,handleChange:t})=>{const{t:a}=wt(),[c,i]=C.useState(!1),[d,f]=C.useState(s);C.useEffect(()=>{s&&f(s)},[s]);const m=C.useCallback(h=>{i(!1),h&&f(s)},[s]),x=C.useCallback(()=>m(!0),[m]),r=C.useCallback((h,b=!0)=>{b&&m(!1),s!==h&&t(h)},[s,t,m]);return u.jsxs(u.Fragment,{children:[u.jsx(Ye,{onClick:()=>i(!0),children:u.jsx(Qe,{primary:e,secondary:Ae(s,"HH:mm").format("LT"),secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),u.jsxs(vt,{open:c,onClose:m,children:[u.jsxs(yt,{children:[u.jsx(St,{sx:{paddingLeft:0},children:e}),u.jsx(hs,{dateAdapter:gs,adapterLocale:Ae.locale(),children:u.jsx(Ko,{value:Ae(d,"HH:mm"),defaultValue:Ae(n,"HH:mm"),format:"LT",onChange:h=>{var b;return f((b=h==null?void 0:h.format("HH:mm"))!=null?b:"00:00")}})})]}),u.jsxs(Mt,{children:[n!==void 0?u.jsx(we,{onClick:()=>{f(n),r(n,!1)},color:"primary",children:a("global.button.reset_to_default")}):null,u.jsx(we,{onClick:x,color:"primary",children:a("global.button.cancel")}),u.jsx(we,{onClick:()=>{r(d)},color:"primary",children:a("global.button.ok")})]})]})]})},Yo=e=>({backupPath:e.backupPath,backupTime:e.backupTime,backupInterval:e.backupInterval,backupTTL:e.backupTTL}),Qo=e=>e===0?lt("global.label.never"):lt("settings.backup.automated.cleanup.label.value",{days:e,count:e});let xe;function hn(){var O;const{t:e}=wt();Cs(e("settings.backup.title"));const{data:s,loading:n,error:t,refetch:a}=De.useGetServerSettings({notifyOnNetworkStatusChange:!0}),[c]=De.useUpdateServerSettings(),{data:i}=De.useGetBackupRestoreStatus(xe!=null?xe:"",{skip:!xe,pollInterval:1e3}),[d,f]=C.useState(null),[m,x]=C.useState(!1),[r,h]=C.useState(),[,b]=C.useState(0),k=C.useRef(null),w=(()=>{if(!(i!=null&&i.restoreStatus))return 0;const l=100*(i.restoreStatus.mangaProgress/i.restoreStatus.totalManga);return Number.isNaN(l)?0:l})(),M=(l,y)=>{c({variables:{input:{settings:{[l]:y}}}}).catch($=>Te(e("global.error.label.failed_to_save_changes"),"error",Ee($)))};C.useEffect(()=>{if(!(i!=null&&i.restoreStatus))return;const l=i.restoreStatus.state===ot.Success,y=i.restoreStatus.state===ot.Failure;(l||y)&&(l&&Te(e("settings.backup.action.restore.label.success"),"success"),y&&Te(e("settings.backup.action.restore.error.label.failure"),"error"),De.reset(),xe=void 0,b(Date.now()))},[(O=i==null?void 0:i.restoreStatus)==null?void 0:O.state]);const D=()=>{f(null);const l=document.getElementById("backup-file");l&&(l.value="")},P=async l=>{try{const{data:{validateBackup:y}}=await De.validateBackupFile(l,{fetchPolicy:"network-only"}).response;return y.missingSources.length||y.missingTrackers.length?(h(y),x(!0),!1):!0}catch(y){Te(e("settings.backup.action.validate.error.label.failure"),"error",Ee(y)),D()}return!1},V=async l=>{var y;try{Te(e("settings.backup.action.restore.label.in_progress"),"info"),xe=(y=(await De.restoreBackupFile(l).response).data)==null?void 0:y.restoreBackup.id,b(Date.now())}catch($){Te(e("settings.backup.action.restore.error.label.failure"),"error",Ee($))}finally{D()}},F=async l=>{if(l.name.toLowerCase().endsWith("json")){Te(e("settings.backup.action.restore.error.label.legacy_backup_unsupported"),"error");return}if(!l.name.toLowerCase().match(/proto\.gz$|tachibk$/g)){Te(e("global.error.label.invalid_file_type"),"error");return}f(l),await P(l)&&await V(l)},I=()=>{x(!1),D()};dt("drop",async l=>{l.preventDefault();const y=await ct(l);F(y[0])}),dt("dragover",l=>{l.preventDefault()});const A=Ss("change",async l=>{const y=await ct(l);F(y[0])}),j=Ts(k,A);if(n)return u.jsx(Gt,{});if(t)return u.jsx(ks,{message:e("global.error.label.failed_to_load_data"),messageExtra:Ee(t),retry:()=>a().catch(Yt())});const N=Yo(s.settings);return u.jsxs(u.Fragment,{children:[u.jsxs(_e,{sx:{padding:0},children:[u.jsx(Ye,{component:"a",href:De.getExportBackupUrl(),download:!0,children:u.jsx(Qe,{primary:e("settings.backup.action.create.label.title"),secondary:e("settings.backup.action.create.label.description")})}),u.jsxs(Ye,{onClick:()=>{var l;return(l=k.current)==null?void 0:l.click()},disabled:!!xe,children:[u.jsx(Qe,{primary:e("settings.backup.action.restore.label.title"),secondary:e("settings.backup.action.restore.label.description")}),xe?u.jsx(Qt,{children:u.jsx(Xt,{progress:w})}):null]}),u.jsxs(_e,{subheader:u.jsx(xs,{component:"div",id:"backup-settings",children:"Automated backup"}),children:[u.jsx(Zt,{settingName:e("settings.backup.automated.location.label.title"),dialogDescription:e("settings.backup.automated.location.label.description"),value:N.backupPath,settingDescription:N.backupPath.length?N.backupPath:e("global.label.default"),handleChange:l=>M("backupPath",l)}),u.jsx(Go,{settingName:e("settings.backup.automated.label.time"),value:N.backupTime,defaultValue:"00:00",handleChange:l=>M("backupTime",l)}),u.jsx(ut,{settingTitle:e("settings.backup.automated.label.interval"),settingValue:e("global.date.value.label.day",{days:N.backupInterval,count:N.backupInterval}),value:N.backupInterval,defaultValue:1,minValue:1,maxValue:31,stepSize:1,valueUnit:e("global.date.label.day_one"),showSlider:!0,handleUpdate:l=>M("backupInterval",l)}),u.jsx(ut,{settingTitle:e("settings.backup.automated.cleanup.label.title"),settingValue:Qo(N.backupTTL),value:N.backupTTL,defaultValue:14,minValue:0,maxValue:1e3,stepSize:1,valueUnit:e("global.date.label.day_one"),showSlider:!0,handleUpdate:l=>M("backupTTL",l)})]})]}),u.jsx("input",{ref:j,type:"file",style:{display:"none"}}),u.jsxs(vt,{open:m,children:[u.jsx(St,{children:e("settings.backup.action.validate.dialog.title")}),u.jsxs(yt,{dividers:!0,children:[!!(r!=null&&r.missingSources.length)&&u.jsx(_e,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:e("settings.backup.action.validate.dialog.content.label.missing_sources"),children:r==null?void 0:r.missingSources.map(({id:l,name:y})=>u.jsx(nt,{sx:{display:"list-item"},children:"".concat(y," (").concat(l,")")},l))}),!!(r!=null&&r.missingTrackers.length)&&u.jsx(_e,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:e("settings.backup.action.validate.dialog.content.label.missing_trackers"),children:r==null?void 0:r.missingTrackers.map(({name:l})=>u.jsx(nt,{sx:{display:"list-item"},children:"".concat(l)},l))})]}),u.jsx(Mt,{children:u.jsxs(at,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[!!(r!=null&&r.missingSources.length)&&u.jsx(we,{onClick:I,component:it,to:rt.browse.path,autoFocus:!!(r!=null&&r.missingSources.length),variant:r!=null&&r.missingSources.length?"contained":"text",children:e("extension.action.label.install")}),!!(r!=null&&r.missingTrackers.length)&&u.jsx(we,{onClick:I,component:it,to:rt.tracker.path,autoFocus:!!(r!=null&&r.missingTrackers.length),variant:r!=null&&r.missingTrackers.length?"contained":"text",children:e("global.button.log_in")}),u.jsxs(at,{direction:"row",children:[u.jsx(we,{onClick:I,children:e("global.button.cancel")}),u.jsx(we,{onClick:()=>{I(),V(d)},autoFocus:!(r!=null&&r.missingSources.length)&&!(r!=null&&r.missingTrackers.length),variant:!(r!=null&&r.missingSources.length)&&!(r!=null&&r.missingTrackers.length)?"contained":"text",children:e("global.button.restore")})]})]})})]})]})}export{hn as Backup};
