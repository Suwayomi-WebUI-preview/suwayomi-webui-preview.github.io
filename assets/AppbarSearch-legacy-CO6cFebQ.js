!function(){function r(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,a,o,i,u=[],l=!0,c=!1;try{if(o=(t=t.call(r)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=o.call(t)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(r){c=!0,a=r}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw a}}return u}}(r,e)||i(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function t(r){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?e(Object(a),!0).forEach(function(e){n(r,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function n(r,e,t){return(e=c(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function a(r){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},a(r)}function o(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=i(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,a=function(){};return{s:a,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return u=r.done,r},e:function(r){l=!0,o=r},f:function(){try{u||null==t.return||t.return()}finally{if(l)throw o}}}}function i(r,e){if(r){if("string"==typeof r)return u(r,e);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(r,e):void 0}}function u(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function l(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,c(n.key),n)}}function c(r){var e=function(r,e){if("object"!=a(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"==a(e)?e:e+""}System.register(["./index-legacy-DBfBh5EH.js","./ChaptersDownloadActionMenuItems-legacy-CN3o_UZb.js"],function(e,i){"use strict";var u,c,f,s,p,v,d,y,h,m,g,b,j,S;return{setters:[function(r){u=r.bi,c=r.b,f=r.bj,s=r.c,p=r.j,v=r.ap,d=r.u,y=r.aG,h=r.v,m=r.aA,g=r.bk,b=r.C,j=r.I},function(r){S=r.a}],execute:function(){function i(r,e){if(null==r)return r;if(0===r.length&&(!e||e&&""!==r))return null;var t=r instanceof Array?r[0]:r;return null==t||e||""!==t?t:null}var O=e("S",{encode:function(r){return null==r?r:String(r)},decode:function(r){var e=i(r,!0);return null==e?e:String(e)}});e("N",{encode:function(r){return null==r?r:String(r)},decode:function(r){var e=i(r);return null==e?e:""===e?null:+e}});var P=new(function(){return r=function r(){!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.paramsMap=new Map,this.registeredParams=new Map},(e=[{key:"set",value:function(r,e,t,n){this.paramsMap.set(r,{stringified:e,decoded:t,decode:n})}},{key:"has",value:function(r,e,t){if(!this.paramsMap.has(r))return!1;var n=this.paramsMap.get(r);return!!n&&n.stringified===e&&(null==t||n.decode===t)}},{key:"get",value:function(r){var e;if(this.paramsMap.has(r))return null==(e=this.paramsMap.get(r))?void 0:e.decoded}},{key:"registerParams",value:function(r){var e,t=o(r);try{for(t.s();!(e=t.n()).done;){var n=e.value,a=this.registeredParams.get(n)||0;this.registeredParams.set(n,a+1)}}catch(i){t.e(i)}finally{t.f()}}},{key:"unregisterParams",value:function(r){var e,t=o(r);try{for(t.s();!(e=t.n()).done;){var n=e.value,a=(this.registeredParams.get(n)||0)-1;a<=0?(this.registeredParams.delete(n),this.paramsMap.has(n)&&this.paramsMap.delete(n)):this.registeredParams.set(n,a)}}catch(i){t.e(i)}finally{t.f()}}},{key:"clear",value:function(){this.paramsMap.clear(),this.registeredParams.clear()}}])&&l(r.prototype,e),t&&l(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e,t}());function w(r,e,n,a){var i;if(!n||!e.length)return r;var u,l=t({},r),c=!1,f=o(e);try{for(f.s();!(u=f.n()).done;){var s=u.value;Object.prototype.hasOwnProperty.call(l,s)||(l[s]=null!=(i=n[s])?i:a,c=!0)}}catch(p){f.e(p)}finally{f.f()}return c?l:r}var M,k,C,T=Object.prototype.hasOwnProperty;function A(r,e){return r===e?0!==r||0!==e||1/r==1/e:r!=r&&e!=e}function x(r,e,t){var n;if(A(r,e))return!0;if("object"!==a(r)||null===r||"object"!==a(e)||null===e)return!1;var o=Object.keys(r),i=Object.keys(e);if(o.length!==i.length)return!1;for(var u=0;u<o.length;u++){var l=null!=(n=null==void 0?void 0:undefined.equals)?n:A;if(!T.call(e,o[u])||!l(r[o[u]],e[o[u]]))return!1}return!0}function E(r,e,t){for(var n={},a=0,o=Object.keys(e);a<o.length;a++){var i=o[a],u=e[i],l=r[i],c=void 0;if(t.has(i,l,u.decode))c=t.get(i);else{if(c=u.decode(l),u.equals&&t.has(i,l)){var f=t.get(i);u.equals(c,f)&&(c=f)}void 0!==c&&t.set(i,l,c,u.decode)}void 0===c&&void 0!==u.default&&(c=u.default),n[i]=c}return n}function I(){var r;return function(e,t,n){var a=E(e,t,n);return null!=r&&x(r,a)?r:(r=a,a)}}var D={},N=function(e,t,n){if(M===t&&C===e&&k===n)return D;M=t,C=e;var a=e(null!=t?t:"");k=n;for(var o=function(r){if(r)return Object.fromEntries(r.split("\n").map(function(r){return r.split("\0")}))}(n),i=0,u=Object.entries(a);i<u.length;i++){var l=r(u[i],2),c=l[0],f=l[1];(null==o?void 0:o[c])&&(delete a[c],a[c=o[c]]=f);var s=D[c];x(f,s)&&(a[c]=s)}return D=a,a};function B(r){var e,n=r.changes,a=r.updateType,o=r.currentSearchString,i=r.paramConfigMap,u=r.options,l=u.searchStringToObject,c=u.objectToSearchString;null==a&&(a=u.updateType);var f,s,p=N(l,o),v=w(i,Object.keys(n),u.params);"function"==typeof n?f=n(E(p,v,P)):f=n;return e=function(r,e){for(var t={},n=0,a=Object.keys(e);n<a.length;n++){var o=a[n],i=e[o];r[o]?t[o]=r[o].encode(e[o]):t[o]=null==i?i:String(i)}return t}(v,f),u.removeDefaultsFromUrl&&function(r,e){var t;for(var n in r)void 0!==(null==(t=e[n])?void 0:t.default)&&void 0!==r[n]&&e[n].encode(e[n].default)===r[n]&&(r[n]=void 0)}(e,v),e=function(r,e){var t,n={};for(var a in r)null!=(null==(t=e[a])?void 0:t.urlName)?n[e[a].urlName]=r[a]:n[a]=r[a];return n}(e,v),(null==(s=c("push"===a||"replace"===a?e:t(t({},p),e)))?void 0:s.length)&&"?"!==s[0]&&(s="?".concat(s)),null!=s?s:""}var R=function(r){return r()},U=function(r){return setTimeout(function(){return r()},0)},q=[];function F(r){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).immediate;q.push(r);var n=e?R:U;1===q.length&&n(function(){var e=q.slice();q.length=0;for(var n,a=e[0].currentSearchString,o=0;o<e.length;++o){n=B(0===o?e[o]:t(t({},e[o]),{},{currentSearchString:n}))}r.options.skipUpdateWhenNoChange&&n===a||function(r){var e=r.searchString,n=r.adapter,a=(r.navigate,r.updateType),o=t(t({},n.location),{},{search:e});"string"==typeof a&&a.startsWith("replace")?n.replace(o):n.push(o)}({searchString:null!=n?n:"",adapter:e[e.length-1].adapter,navigate:!0,updateType:e[e.length-1].updateType})})}var K=function(e,t){var n=u(),o=n.adapter,i=n.options,l=r(c.useState(I),1)[0],s=function(r,e){var t,n;void 0===r?(t={},n=e):Array.isArray(r)?(t=Object.fromEntries(r.map(function(r){return[r,"inherit"]})),n=e):(t=r,n=e);return{paramConfigMap:t,options:n}}(e,t),p=s.paramConfigMap,v=s.options,d=c.useMemo(function(){return f(i,v)},[i,v]),y=function(r,e){var t,n,o,i={},u=!1,l=Object.keys(r),c=l;if(e.includeKnownParams||!1!==e.includeKnownParams&&0===l.length){var f=Object.keys(null!=(t=e.params)?t:{});c.push.apply(c,f)}for(var s=0,p=c;s<p.length;s++){var v=p[s],d=r[v];null==d||"object"!==a(d)?(u=!0,i[v]=null!=(o=null==(n=e.params)?void 0:n[v])?o:O):i[v]=d}return u?i:r}(p,d),h=N(d.searchStringToObject,o.location.search,function(r){var e;for(var t in r)if(r[t].urlName){var n=r[t].urlName,a="".concat(n,"\0").concat(t);e?e.push(a):e=[a]}return e?e.join("\n"):void 0}(y));d.includeAllParams&&(y=w(y,Object.keys(h),d.params,O));var m=l(h,y,P),g=Object.keys(y).join("\0");c.useEffect(function(){var r=g.split("\0");return P.registerParams(r),function(){P.unregisterParams(r)}},[g]);var b={adapter:o,paramConfigMap:y,options:d},j=c.useRef(b);return null==j.current&&(j.current=b),c.useEffect(function(){j.current.adapter=o,j.current.paramConfigMap=y,j.current.options=d},[o,y,d]),[m,r(c.useState(function(){return function(r,e){var t=j.current,n=t.adapter,a=t.paramConfigMap,o=t.options;null==e&&(e=o.updateType),F({changes:r,updateType:e,currentSearchString:n.location.search,paramConfigMap:a,options:o,adapter:n},{immediate:!o.enableBatching})}}),1)[0]]};var W=e("u",function(e,t,a){var o=c.useMemo(function(){return n({},e,null!=t?t:"inherit")},[e,t]),i=r(K(o,a),2),u=i[0],l=i[1];return[u[e],c.useCallback(function(r,t){return l("function"==typeof r?function(t){var a=r(t[e]);return n({},e,a)}:n({},e,r),t)},[e,l])]}),z=e("a",s(p.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})));e("A",function(e){var n=e.isClosable,a=void 0===n||n,o=v(),i=d().t,u=r(c.useState(),2),l=u[0],f=u[1],s=y(),P=r(W(h.QUERY,O),2),w=P[0],M=P[1],k=r(c.useState(!a||!!w),2),C=k[0],T=k[1],A=m.useRef(void 0),x=r(c.useState(null!=w?w:""),2),E=x[0],I=x[1];l!==s.key&&(f(s.key),I(null!=w?w:""),T(!a||!!w));var D=C||!!w,N=function(r){var e;a&&(T(r),r&&(null===(e=A.current)||void 0===e||e.focus()))};return g("ctrl+f, F3",function(){N(!0)},{preventDefault:!0}),D?p.jsx(S,{autoFocus:!0,variant:"standard",value:E,onCancel:function(){I(""),M(void 0),N(!1)},onChange:function(r){return I(r.target.value)},onKeyDown:function(r){var e;"Enter"===r.key&&""!==(e=E)&&(M(e),N(!1))},onBlur:function(){E||N(!1)},inputRef:A,sx:t({},o.applyStyles("light",{"& .MuiInput-underline:before":{borderBottomColor:"primary.contrastText"},"& .MuiInput-underline:hover:before":{borderBottomColor:"primary.contrastText"},"& .MuiInput-underline:after":{borderBottomColor:"primary.dark"}})),cancelButtonProps:{sx:t({},o.applyStyles("light",{color:"primary.contrastText"}))}}):p.jsx(b,{title:i("search.title.search"),children:p.jsx(j,{onClick:function(){return N(!0)},color:"inherit",children:p.jsx(z,{})})})})}}})}();
