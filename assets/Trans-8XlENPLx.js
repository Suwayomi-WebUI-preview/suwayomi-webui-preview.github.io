import{cq as K,ep as X,eq as U,er as M,es as ee,b,et as _,eu as H,ev as k,ew as te}from"./index-C-m0jeKQ.js";var W,z;function re(){return z||(z=1,W={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),W}var ne=re();const se=K(ne);var ae=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function J(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(se[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var l=new RegExp(ae),s=null;(s=l.exec(e))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),E=[o,""];o.indexOf("=")>-1&&(E=o.split("=")),t.attrs[E[0]]=E[1],l.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var le=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,ie=/^\s*$/,ce=Object.create(null);function Y(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(r){var n=[];for(var l in r)n.push(l+'="'+r[l]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(Y,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var ue={parse:function(e,t){t||(t={}),t.components||(t.components=ce);var r,n=[],l=[],s=-1,o=!1;if(e.indexOf("<")!==0){var E=e.indexOf("<");n.push({type:"text",content:E===-1?e:e.substring(0,E)})}return e.replace(le,function(u,V){if(o){if(u!=="</"+r.name+">")return;o=!1}var m,x=u.charAt(1)!=="/",y=u.startsWith("<!--"),g=V+u.length,i=e.charAt(g);if(y){var A=J(u);return s<0?(n.push(A),n):((m=l[s]).children.push(A),n)}if(x&&(s++,(r=J(u)).type==="tag"&&t.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!i||i==="<"||r.children.push({type:"text",content:e.slice(g,e.indexOf("<",g))}),s===0&&n.push(r),(m=l[s-1])&&m.children.push(r),l[s]=r),(!x||r.voidElement)&&(s>-1&&(r.voidElement||r.name===u.slice(2,-1))&&(s--,r=s===-1?n:l[s]),!o&&i!=="<"&&i)){m=s===-1?n:l[s].children;var h=e.indexOf("<",g),c=e.slice(g,h===-1?void 0:h);ie.test(c)&&(c=" "),(h>-1&&s+m.length>=0||c!==" ")&&m.push({type:"text",content:c})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+Y("",r)},"")}};const q=(e,t)=>{var n,l;if(!e)return!1;const r=(l=(n=e.props)==null?void 0:n.children)!=null?l:e.children;return t?r.length>0:!!r},R=e=>{var r,n,l;if(!e)return[];const t=(n=(r=e.props)==null?void 0:r.children)!=null?n:e.children;return(l=e.props)!=null&&l.i18nIsDynamicList?L(t):t},oe=e=>Array.isArray(e)&&e.every(b.isValidElement),L=e=>Array.isArray(e)?e:[e],fe=(e,t)=>{const r={...t};return r.props=Object.assign(e.props,t.props),r},Z=(e,t,r,n)=>{var E;if(!e)return"";let l="";const s=L(e),o=t!=null&&t.transSupportBasicHtmlNodes?(E=t.transKeepBasicHtmlNodesFor)!=null?E:[]:[];return s.forEach((u,V)=>{if(_(u)){l+="".concat(u);return}if(b.isValidElement(u)){const{props:m,type:x}=u,y=Object.keys(m).length,g=o.indexOf(x)>-1,i=m.children;if(!i&&g&&!y){l+="<".concat(x,"/>");return}if(!i&&(!g||y)||m.i18nIsDynamicList){l+="<".concat(V,"></").concat(V,">");return}if(g&&y===1&&_(i)){l+="<".concat(x,">").concat(i,"</").concat(x,">");return}const A=Z(i,t,r,n);l+="<".concat(V,">").concat(A,"</").concat(V,">");return}if(u===null){H(r,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:n});return}if(k(u)){const{format:m,...x}=u,y=Object.keys(x);if(y.length===1){const g=m?"".concat(y[0],", ").concat(m):y[0];l+="{{".concat(g,"}}");return}H(r,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:n,child:u});return}H(r,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:n,child:u})}),l},pe=(e,t,r,n,l,s,o)=>{if(r==="")return[];const E=l.transKeepBasicHtmlNodesFor||[],u=r&&new RegExp(E.map(c=>"<".concat(c)).join("|")).test(r);if(!e&&!t&&!u&&!o)return[r];const V=t!=null?t:{},m=c=>{L(c).forEach(f=>{_(f)||(q(f)?m(R(f)):k(f)&&!b.isValidElement(f)&&Object.assign(V,f))})};m(e);const x=ue.parse("<0>".concat(r,"</0>")),y={...V,...s},g=(c,N,f)=>{var p;const $=R(c),j=A($,N.children,f);return oe($)&&j.length===0||(p=c.props)!=null&&p.i18nIsDynamicList?$:j},i=(c,N,f,$,j)=>{c.dummy?(c.children=N,f.push(b.cloneElement(c,{key:$},j?void 0:N))):f.push(...b.Children.map([c],p=>{var C;const a={...p.props};return delete a.i18nIsDynamicList,b.createElement(p.type,{...a,key:$,ref:(C=p.props.ref)!=null?C:p.ref},j?null:N)}))},A=(c,N,f)=>{const $=L(c);return L(N).reduce((p,a,C)=>{var O,D;const I=((D=(O=a.children)==null?void 0:O[0])==null?void 0:D.content)&&n.services.interpolator.interpolate(a.children[0].content,y,n.language);if(a.type==="tag"){let T=$[parseInt(a.name,10)];!T&&t&&(T=t[a.name]),f.length===1&&!T&&(T=f[0][a.name]),T||(T={});const d=Object.keys(a.attrs).length!==0?fe({props:a.attrs},T):T,S=b.isValidElement(d),F=S&&q(a,!0)&&!a.voidElement,P=u&&k(d)&&d.dummy&&!S,B=k(t)&&Object.hasOwnProperty.call(t,a.name);if(_(d)){const v=n.services.interpolator.interpolate(d,y,n.language);p.push(v)}else if(q(d)||F){const v=g(d,a,f);i(d,v,p,C)}else if(P){const v=A($,a.children,f);i(d,v,p,C)}else if(Number.isNaN(parseFloat(a.name)))if(B){const v=g(d,a,f);i(d,v,p,C,a.voidElement)}else if(l.transSupportBasicHtmlNodes&&E.indexOf(a.name)>-1)if(a.voidElement)p.push(b.createElement(a.name,{key:"".concat(a.name,"-").concat(C)}));else{const v=A($,a.children,f);p.push(b.createElement(a.name,{key:"".concat(a.name,"-").concat(C)},v))}else if(a.voidElement)p.push("<".concat(a.name," />"));else{const v=A($,a.children,f);p.push("<".concat(a.name,">").concat(v,"</").concat(a.name,">"))}else if(k(d)&&!S){const v=a.children[0]?I:null;v&&p.push(v)}else i(d,I,p,C,a.children.length!==1||!I)}else if(a.type==="text"){const T=l.transWrapTextNodes,d=o?l.unescape(n.services.interpolator.interpolate(a.content,y,n.language)):n.services.interpolator.interpolate(a.content,y,n.language);T?p.push(b.createElement(T,{key:"".concat(a.name,"-").concat(C)},d)):p.push(d)}return p},[])},h=A([{dummy:!0,children:e||[]}],x,L(e||[]));return R(h[0])},G=(e,t,r)=>{const n=e.key||t,l=b.cloneElement(e,{key:n});if(!l.props||!l.props.children||r.indexOf("".concat(t,"/>"))<0&&r.indexOf("".concat(t," />"))<0)return l;function s(){return b.createElement(b.Fragment,null,l)}return b.createElement(s,{key:n})},me=(e,t)=>e.map((r,n)=>G(r,n,t)),he=(e,t)=>{const r={};return Object.keys(e).forEach(n=>{Object.assign(r,{[n]:G(e[n],n,t)})}),r},de=(e,t,r,n)=>e?Array.isArray(e)?me(e,t):k(e)?he(e,t):(X(r,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:n}),null):null,ye=e=>!k(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,r)=>t&&Number.isNaN(Number.parseFloat(r)),!0);function ge({children:e,count:t,parent:r,i18nKey:n,context:l,tOptions:s={},values:o,defaults:E,components:u,ns:V,i18n:m,t:x,shouldUnescape:y,...g}){var S,F,P,B,v,w;const i=m||U();if(!i)return X(i,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:n}),e;const A=x||i.t.bind(i)||(Q=>Q),h={...M(),...(S=i.options)==null?void 0:S.react};let c=V||A.ns||((F=i.options)==null?void 0:F.defaultNS);c=_(c)?[c]:c||["translation"];const N=Z(e,h,i,n),f=E||(s==null?void 0:s.defaultValue)||N||h.transEmptyNodeValue||(typeof n=="function"?ee(n):n),{hashTransKey:$}=h,j=n||($?$(N||f):N||f);(B=(P=i.options)==null?void 0:P.interpolation)!=null&&B.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...i.options.interpolation.defaultVariables}:{...i.options.interpolation.defaultVariables});const p=o||t!==void 0&&!((w=(v=i.options)==null?void 0:v.interpolation)!=null&&w.alwaysFormat)||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},a={...s,context:l||s.context,count:t,...o,...p,defaultValue:E||(s==null?void 0:s.defaultValue),ns:c},C=j?A(j,a):f,I=de(u,C,i,n);let O=I||e,D=null;ye(I)&&(D=I,O=e);const T=pe(O,D,C,i,h,a,y),d=r!=null?r:h.defaultTransParent;return d?b.createElement(d,g,T):T}function ve({children:e,count:t,parent:r,i18nKey:n,context:l,tOptions:s={},values:o,defaults:E,components:u,ns:V,i18n:m,t:x,shouldUnescape:y,...g}){var N;const{i18n:i,defaultNS:A}=b.useContext(te)||{},h=m||i||U(),c=x||(h==null?void 0:h.t.bind(h));return ge({children:e,count:t,parent:r,i18nKey:n,context:l,tOptions:s,values:o,defaults:E,components:u,ns:V||(c==null?void 0:c.ns)||A||((N=h==null?void 0:h.options)==null?void 0:N.defaultNS),i18n:h,t:x,shouldUnescape:y,...g})}export{ve as T};
