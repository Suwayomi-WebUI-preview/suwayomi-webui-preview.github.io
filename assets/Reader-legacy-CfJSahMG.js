!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t=["page","pagesIndex","isCurrentPage","isLeadingPage","isTrailingPage","totalPages","showDraggingStyle","primaryPageLoadState","secondaryPageLoadState","createProgressBarSlot"],r=["direction"],n=["title","type","disabled"],i=["pageScaleMode","shouldStretchPage","updateSetting"],o=["readingMode","setReadingMode"],a=["readingDirection","setReadingDirection"];function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function l(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return r};var t,r={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:T(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var g="suspendedStart",h="suspendedYield",v="executing",x="completed",m={};function b(){}function S(){}function y(){}var C={};d(C,s,(function(){return this}));var j=Object.getPrototypeOf,P=j&&j(j(k([])));P&&P!==n&&i.call(P,s)&&(C=P);var w=y.prototype=b.prototype=Object.create(C);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function I(t,r){function n(o,a,s,l){var u=f(t[o],t,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==e(d)&&i.call(d,"__await")?r.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):r.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var a;o(this,"_invoke",{value:function(e,t){function i(){return new r((function(r,i){n(e,t,r,i)}))}return a=a?a.then(i,i):i()}})}function T(e,r,n){var i=g;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===x){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=L(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===g)throw i=x,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var u=f(e,r,n);if("normal"===u.type){if(i=n.done?x:h,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=x,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function k(r){if(r||""===r){var n=r[s];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function e(){for(;++o<r.length;)if(i.call(r,o))return e.value=r[o],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw new TypeError(e(r)+" is not iterable")}return S.prototype=y,o(w,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:S,configurable:!0}),S.displayName=d(y,c,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,d(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},r.awrap=function(e){return{__await:e}},E(I.prototype),d(I.prototype,u,(function(){return this})),r.AsyncIterator=I,r.async=function(e,t,n,i,o){void 0===o&&(o=Promise);var a=new I(p(e,t,n,i),o);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),d(w,c,"Generator"),d(w,s,(function(){return this})),d(w,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),M(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;M(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:k(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},r}function u(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function c(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(t,r,n){return(r=function(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return x(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}System.register(["./index-legacy-DnnJI9yx.js","./ReaderSettingsTabs-legacy-Foify42m.js","./Link-legacy-DUceaHf0.js","./Select-legacy-BEHxZLFM.js","./CustomButtonIcon-legacy-h8jfNDR5.js","./TextField-legacy-BOxFKwcF.js","./MUI.util-legacy-CVidVun2.js","./InputAdornment-legacy-Z9IETaiH.js","./OpenInNew-legacy-OknTNikF.js","./Download-legacy-taAOjLLO.js","./Delete-legacy-Deyh0Fw2.js","./ChapterCardMetadata-legacy-Dcxkn_MN.js","./Favorite-legacy-CSUBdI8I.js","./useManageMangaLibraryState-legacy-C12lo83O.js","./CheckboxInput-legacy-CfDGPrJK.js","./EmptyViewAbsoluteCentered-legacy-BiQQNPgH.js","./use-window-event-legacy-CvqKSPHK.js","./use-merged-ref-legacy-Dvv4uOqH.js","./useAppTitle-legacy-ClvWGmul.js","./TabsMenu-legacy-DQ2XQsLM.js","./Tabs-legacy-x7dxbvhv.js","./Trans-legacy-D8gbPAeO.js","./Slider-legacy-CjMEcKO2.js","./ListSubheader-legacy-1WEdCUCU.js","./Add-legacy-BElpHOQA.js","./ListCardContent-legacy-D9u94l7H.js","./Card-legacy-Dxzw7ZY1.js","./CardActionArea-legacy-DgtmqLMC.js","./Checkbox-legacy-4pzv9khm.js","./formControlState-legacy-CX958IUm.js","./useFormControl-legacy-74bNae5K.js","./SwitchBase-legacy-Bj10YVlW.js","./ThreeStateCheckboxInput-legacy-JyAt4o96.js","./FormGroup-legacy-Cqh5k-sQ.js"],(function(e,d){"use strict";var v,x,m,b,S,y,C,j,P,w,E,I,T,L,D,M,O,k,R,N,A,B,_,V,z,W,H,F,U,G,X,Y,Z,q,K,J,Q,$,ee,te,re,ne,ie,oe,ae,se,le,ue,ce,de,pe,fe,ge,he,ve,xe,me,be,Se,ye,Ce,je,Pe,we,Ee,Ie,Te,Le,De,Me,Oe,ke,Re,Ne,Ae,Be,_e,Ve,ze,We,He,Fe,Ue,Ge,Xe,Ye,Ze,qe,Ke,Je,Qe,$e,et,tt,rt,nt,it,ot,at,st,lt,ut,ct,dt,pt,ft,gt,ht,vt,xt,mt,bt,St,yt,Ct,jt,Pt,wt,Et,It,Tt,Lt,Dt,Mt,Ot,kt,Rt,Nt,At,Bt,_t,Vt,zt,Wt,Ht,Ft,Ut,Gt,Xt,Yt,Zt,qt,Kt,Jt,Qt,$t,er,tr,rr,nr,ir,or,ar,sr,lr,ur,cr,dr,pr,fr,gr,hr,vr,xr,mr,br,Sr,yr,Cr,jr,Pr,wr,Er,Ir;return{setters:[function(e){v=e.cx,x=e.d,m=e.cy,b=e.cz,S=e.cs,y=e.j,C=e.D,j=e.ab,P=e.l,w=e.cA,E=e.cB,I=e.cC,T=e.q,L=e.cD,D=e.cE,M=e.cF,O=e.cG,k=e.cH,R=e.cI,N=e.S,A=e.n,B=e.T,_=e.aS,V=e.cJ,z=e.aU,W=e.c6,H=e.Z,F=e.a5,U=e.cK,G=e.C,X=e.cL,Y=e.cM,Z=e.z,q=e.cN,K=e.bF,J=e.cO,Q=e.cP,$=e.a,ee=e.b,te=e.ci,re=e.cQ,ne=e.cR,ie=e.cS,oe=e.cj,ae=e.co,se=e.ac,le=e.cT,ue=e.aV,ce=e.cU,de=e.cV,pe=e.c,fe=e.bJ,ge=e.A,he=e.L,ve=e.u,xe=e.bS,me=e.cW,be=e.an,Se=e.ae,ye=e.a2,Ce=e.bV,je=e.ah,Pe=e.B,we=e.cX,Ee=e.cY,Ie=e.cZ,Te=e.c_,Le=e.c$,De=e.d0,Me=e.d1,Oe=e.d2,ke=e.d3,Re=e.d4,Ne=e.d5,Ae=e.cq,Be=e.d6,_e=e.i,Ve=e.I,ze=e._,We=e.d7,He=e.d8,Fe=e.bT,Ue=e.bU,Ge=e.be,Xe=e.f,Ye=e.aL,Ze=e.d9,qe=e.a3,Ke=e.a4,Je=e.m,Qe=e.da,$e=e.db,et=e.a8,tt=e.dc,rt=e.dd,nt=e.de,it=e.df,ot=e.dg,at=e.dh,st=e.di,lt=e.dj,ut=e.dk,ct=e.b1,dt=e.dl,pt=e.dm,ft=e.dn,gt=e.dp,ht=e.dq,vt=e.dr,xt=e.ds,mt=e.r,bt=e.dt,St=e.du,yt=e.dv,Ct=e.h,jt=e.dw,Pt=e.dx,wt=e.g,Et=e.dy,It=e.dz,Tt=e.dA,Lt=e.dB,Dt=e.o,Mt=e.dC,Ot=e.M,kt=e.dD,Rt=e.dE,Nt=e.dF,At=e.dG,Bt=e.dH,_t=e.dI,Vt=e.bh,zt=e.dJ,Wt=e.dK,Ht=e.dL,Ft=e.dM,Ut=e.dN,Gt=e.dO,Xt=e.e,Yt=e.dP,Zt=e.aq,qt=e.dQ,Kt=e.dR,Jt=e.dS},function(e){Qt=e.R,$t=e.S,er=e.D,tr=e.a,rr=e.b,nr=e.c},function(e){ir=e.L},function(e){or=e.S},function(e){ar=e.d,sr=e.b,lr=e.B,ur=e.F},function(e){cr=e.a,dr=e.I,pr=e.T},function(e){fr=e.K},function(e){gr=e.I},function(e){hr=e.O},function(e){vr=e.D},function(e){xr=e.D},function(e){mr=e.D},function(e){br=e.F},function(e){Sr=e.a,yr=e.F,Cr=e.g},function(e){jr=e.C},function(e){Pr=e.E},function(e){wr=e.u},function(e){Er=e.u},function(e){Ir=e.u},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var d=function(e){var t,r,n,i,o,a,s=e.isOpen,l=e.close,u=b().manga,c=S.useSettings();t=s,r=v(),n=r.activeScopes,i=r.enableScope,o=r.disableScope,a=x.useRef([]),x.useEffect((function(){return t?(a.current=h(n),i(m.NONE),a.current.forEach(o),function(){o(m.NONE),a.current.forEach(i)}):function(){}}),[t]);var d=g(x.useState(0),2),f=d[0],E=d[1],I=g(x.useState(!1),2),T=I[0],L=I[1];return u&&s?y.jsx(C,{open:s,maxWidth:"md",fullWidth:!0,onClose:l,hideBackdrop:f===w.FILTER,sx:p({},j(T,{opacity:.75})),children:y.jsx(P,{sx:{p:0},children:y.jsx(Qt,{activeTab:f,setActiveTab:E,settings:c,updateSetting:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=S).updateSetting.apply(e,[u].concat(r))},deleteSetting:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=S).deleteSetting.apply(e,[u].concat(r))},setTransparent:L})})}):null},Tr=E((function(e){var t=e.isDesktop,r=e.scrollbarXSize,n=e.readerNavBarWidth,i=e.isMaximized,o=e.currentPageIndex,a=e.pages,s=e.totalPages,l=e.progressBarType,u=e.shouldShowPageNumber,c=e.readingDirection,d=x.useMemo((function(){var e=M(o,a).name,t="".concat(e).concat("/").concat(s);return c===k.LTR?t:O(t,"/")}),[o,a,s,c]);return u?i||t&&l===R.STANDARD||i&&l===R.HIDDEN?null:y.jsx(N,{sx:{position:"fixed",left:n,right:0,bottom:function(e){return"max(calc(".concat(e.spacing(1)," + ").concat(r,"px), env(safe-area-inset-bottom))")},alignItems:"center",transition:function(e){return"left 0.".concat(e.transitions.duration.shortest,"s")}},children:y.jsx(A,{sx:{p:.5,borderRadius:1,backgroundColor:"rgba(0, 0, 0, 0.3)"},children:y.jsx(B,{sx:{color:"white"},children:d})})}):null}),[S.useOverlayMode,I,T,L,D,S.useSettingsWithoutDefaultFlag],["isDesktop","scrollbarXSize","readerNavBarWidth","isMaximized","currentPageIndex","pages","totalPages","progressBarType","shouldShowPageNumber","readingDirection"]);function Lr(e){return e.substring(2).toLowerCase()}function Dr(e){var t=e.children,r=e.disableReactTree,n=void 0!==r&&r,i=e.mouseEvent,o=void 0===i?"onClick":i,a=e.onClickAway,s=e.touchEvent,l=void 0===s?"onTouchEnd":s,u=x.useRef(!1),c=x.useRef(null),d=x.useRef(!1),p=x.useRef(!1);x.useEffect((function(){return setTimeout((function(){d.current=!0}),0),function(){d.current=!1}}),[]);var f=_(V(t),c),g=z((function(e){var t=p.current;p.current=!1;var r=W(c.current);!d.current||!c.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r)||(u.current?u.current=!1:(e.composedPath?e.composedPath().includes(c.current):!r.documentElement.contains(e.target)||c.current.contains(e.target))||!n&&t||a(e))})),h=function(e){return function(r){p.current=!0;var n=t.props[e];n&&n(r)}},v={ref:f};return!1!==l&&(v[l]=h(l)),x.useEffect((function(){if(!1!==l){var e=Lr(l),t=W(c.current),r=function(){u.current=!0};return t.addEventListener(e,g),t.addEventListener("touchmove",r),function(){t.removeEventListener(e,g),t.removeEventListener("touchmove",r)}}}),[g,l]),!1!==o&&(v[o]=h(o)),x.useEffect((function(){if(!1!==o){var e=Lr(o),t=W(c.current);return t.addEventListener(e,g),function(){t.removeEventListener(e,g)}}}),[g,o]),x.cloneElement(t,v)}var Mr=H(B)({boxSizing:"content-box",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",textAlign:"center",userSelect:"none",cursor:"pointer"}),Or=H(N,{shouldForwardProp:F(["progressBarPosition"])})((function(e){var t=e.theme,r=e.progressBarPosition;return p(p(p(p({position:"fixed",pointerEvents:"all",touchAction:"none"},j(U(r).isHorizontal,{justifyContent:"flex-end",bottom:0,right:0})),j(U(r).isVertical,{top:0,bottom:0})),j(U(r).isLeft,{alignItems:"ltr"===t.direction?"flex-start":"flex-end"})),j(U(r).isRight,{alignItems:"ltr"===t.direction?"flex-end":"flex-start"}))})),kr=H(N)((function(e){return{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:e.theme.spacing(.5)}})),Rr=H(N)({flexDirection:"row",flexGrow:1,overflow:"hidden"}),Nr=H(A,{shouldForwardProp:F(["currentPagesIndex","pagesLength","progressBarPosition"])})((function(e){var t=e.currentPagesIndex,r=e.pagesLength,n=e.progressBarPosition;return p(p({position:"absolute",pointerEvents:"none"},j(U(n).isHorizontal,{left:0,width:"".concat((t+1)/r*100,"%"),height:"100%"})),j(U(n).isVertical,{top:0,width:"100%",height:"".concat((t+1)/r*100,"%")}))})),Ar=function(e){var t=e.pageName,r=e.currentPagesIndex,n=e.pagesLength,i=e.isDragging,o=e.boxProps,a=e.children,s=e.progressBarPosition;return y.jsx(G,{title:t,slotProps:{tooltip:{sx:{backgroundColor:"primary.main",color:"primary.contrastText"}}},placement:X[s],children:y.jsx(A,p(p({},o),{},{sx:p(p(p({position:"absolute",cursor:i?"grabbing":"grab"},j(U(s).isHorizontal,{left:"".concat(Math.max(0,r-1)/(n-1)*100,"%"),width:"calc(100% / ".concat(n-1,")"),height:"100%"})),j(U(s).isVertical,{top:"".concat(Math.max(0,r-1)/(n-1)*100,"%"),width:"100%",height:"calc(100% / ".concat(n-1,")")})),null==o?void 0:o.sx),children:a}))})},Br=H(N)({position:"relative",flexDirection:"row",flexGrow:1}),_r=x.memo(H(A,{shouldForwardProp:F(["isFirstPage","isLastPage"])})((function(e){return{flexGrow:1,height:"100%",cursor:"pointer",borderLeftWidth:e.isFirstPage?0:void 0,borderRightWidth:e.isLastPage?0:void 0}}))),Vr=x.memo((function(e){var r=e.page,n=e.pagesIndex,i=e.isCurrentPage,o=e.isLeadingPage,a=e.isTrailingPage,s=e.totalPages,l=e.showDraggingStyle,u=e.primaryPageLoadState,d=e.secondaryPageLoadState,f=e.createProgressBarSlot,g=c(e,t),h=x.useMemo((function(){return f(r,n,u,d,i,o,a,s,l)}),[f,r,n,u,d,i,o,a,s,l]);return y.jsx(_r,p(p({},g),{},{isFirstPage:0===n,isLastPage:n===s-1,children:h}))})),zr=E(x.memo((function(e){var t,r,n,i,o,a,s,l,u,c,d,f,v,m,b,S,C,j,P,w,E=e.totalPages,I=e.pages,T=e.pageLoadStates,L=e.currentPageIndex,D=e.slotProps,O=e.slots,k=e.createProgressBarSlot,R=e.progressBarPosition,N=e.readingMode,A=e.isDragging,B=e.setIsDragging,_=e.openPage,V=e.direction,z=e.fullSegmentClicks,W=x.useRef(null),H=x.useRef(void 0),F=g(x.useState(0),2),G=F[0],X=F[1],$=x.useRef(null);Z($,x.useCallback((function(){var e=$.current;if(e){var t=getComputedStyle(e),r=t.paddingLeft,n=t.paddingRight,i=e.clientWidth-parseFloat(r)-parseFloat(n),o=N===q.DOUBLE_PAGE?2*i+6:i;X(o)}}),[N]));var ee=x.useMemo((function(){return M(L,I).pagesIndex}),[L,I]),te=U(R).isHorizontal,re=x.useMemo((function(){return M(L,I)}),[L,I]),ne=x.useCallback((function(){return K(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],V)}),[V]);Y.useHandleProgressDragging(_,W,A,re,I,R,ne,z);var ie=function(e){W.current&&(_(J(Q("touches"in e?e.touches[0]:e,W.current,I,te,z,ne)),void 0,!1),clearTimeout(H.current),H.current=setTimeout((function(){return B(!0)}),250))},oe=function(){B(!1),clearTimeout(H.current)};return y.jsx(Or,p(p({},null==D?void 0:D.container),{},{progressBarPosition:R,children:y.jsxs(kr,p(p({},null==D?void 0:D.progressBarRoot),{},{children:[y.jsx(Mr,p(p(p({},null==D||null===(t=D.progressBarPageTexts)||void 0===t?void 0:t.base),null==D||null===(r=D.progressBarPageTexts)||void 0===r?void 0:r.current),{},{sx:[{width:"".concat(G,"px")}].concat(h(Array.isArray(null==D||null===(n=D.progressBarPageTexts)||void 0===n||null===(n=n.base)||void 0===n?void 0:n.sx)?null!==(i=null==D||null===(o=D.progressBarPageTexts)||void 0===o||null===(o=o.base)||void 0===o?void 0:o.sx)&&void 0!==i?i:[]:[null==D||null===(a=D.progressBarPageTexts)||void 0===a||null===(a=a.base)||void 0===a?void 0:a.sx]),h(Array.isArray(null==D||null===(s=D.progressBarPageTexts)||void 0===s||null===(s=s.current)||void 0===s?void 0:s.sx)?null!==(l=null==D||null===(u=D.progressBarPageTexts)||void 0===u||null===(u=u.current)||void 0===u?void 0:u.sx)&&void 0!==l?l:[]:[null==D||null===(c=D.progressBarPageTexts)||void 0===c||null===(c=c.current)||void 0===c?void 0:c.sx])),onClick:function(){return _("previous","ltr",!1)},children:re.name})),y.jsx(Dr,{onClickAway:function(){return B(!1)},children:y.jsxs(Br,p(p({},null==D?void 0:D.progressBarSlotsActionArea),{},{onMouseDown:ie,onMouseUp:oe,onTouchStart:ie,onTouchEnd:oe,children:[y.jsxs(Rr,p(p({ref:W},null==D?void 0:D.progressBarSlotsContainer),{},{children:[I.map((function(e,t){return x.createElement(Vr,p(p({},null==D?void 0:D.progressBarSlot),{},{key:e.primary.index,page:e,pagesIndex:t,isCurrentPage:t===ee,isLeadingPage:t<ee,isTrailingPage:t>ee,totalPages:I.length,primaryPageLoadState:T[e.primary.index].loaded,secondaryPageLoadState:e.secondary?T[e.secondary.index].loaded:void 0,createProgressBarSlot:k,showDraggingStyle:t===ee&&A}))})),y.jsx(Nr,p(p({},null==D?void 0:D.progressBarReadPages),{},{currentPagesIndex:re.pagesIndex,pagesLength:I.length,progressBarPosition:R}))]})),y.jsx(Ar,{boxProps:null==D?void 0:D.progressBarCurrentPageSlot,pageName:re.name,currentPagesIndex:re.pagesIndex,pagesLength:I.length,isDragging:A,progressBarPosition:R,children:null==O?void 0:O.progressBarCurrentPage})]}))}),y.jsx(Mr,p(p(p({ref:$},null==D||null===(d=D.progressBarPageTexts)||void 0===d?void 0:d.base),null==D||null===(f=D.progressBarPageTexts)||void 0===f?void 0:f.total),{},{sx:[{minWidth:"unset"}].concat(h(Array.isArray(null==D||null===(v=D.progressBarPageTexts)||void 0===v||null===(v=v.base)||void 0===v?void 0:v.sx)?null!==(m=null==D||null===(b=D.progressBarPageTexts)||void 0===b||null===(b=b.base)||void 0===b?void 0:b.sx)&&void 0!==m?m:[]:[null==D||null===(S=D.progressBarPageTexts)||void 0===S||null===(S=S.base)||void 0===S?void 0:S.sx]),h(Array.isArray(null==D||null===(C=D.progressBarPageTexts)||void 0===C||null===(C=C.total)||void 0===C?void 0:C.sx)?null!==(j=null==D||null===(P=D.progressBarPageTexts)||void 0===P||null===(P=P.total)||void 0===P?void 0:P.sx)&&void 0!==j?j:[]:[null==D||null===(w=D.progressBarPageTexts)||void 0===w||null===(w=w.total)||void 0===w?void 0:w.sx])),onClick:function(){return _("next","ltr",!1)},children:E}))]}))}))})),[L,function(){return{openPage:Y.useOpenPage()}},D,S.useSettingsWithoutDefaultFlag],["isDragging","setIsDragging","openPage","pages","pageLoadStates","totalPages","currentPageIndex","readingMode"]),Wr=x.forwardRef((function(e,t){var n=e.direction,i=c(e,r),o=g($("appTheme","default"),1)[0],a=g($("themeMode",ae.SYSTEM),1)[0],s=g($("pureBlackMode",!1),1)[0],l=ee().settings.customThemes,u=x.useMemo((function(){return te(a,re(o,l),s,n)}),[a,o,l,s,n]);return y.jsx(ne,{value:ie[n],children:y.jsx(oe,{theme:u,children:y.jsx(A,p(p({},i),{},{ref:t,dir:n}))})})})),Hr=E(Wr,[function(){return{direction:S.useGetThemeDirection()}}],["direction"]),Fr=x.memo((function(e){var t,r=e.pageName,n=e.progressBarPosition,i=e.slotProps,o=e.children;return y.jsx(G,p(p({},null==i?void 0:i.tooltip),{},{title:r,placement:X[n],children:y.jsx(A,p(p({},null==i?void 0:i.box),{},{sx:p({width:"100%",height:"100%"},null==i||null===(t=i.box)||void 0===t?void 0:t.sx),children:o}))}))})),Ur=x.memo((function(e){var t=e.pageName,r=e.primaryPageLoadState,n=e.secondaryPageLoadState,i=e.progressBarPosition,o=e.isCurrentPage,a=e.isLeadingPage,s=e.showDraggingStyle,l=se();return y.jsx(Fr,{pageName:t,progressBarPosition:i,slotProps:{box:{sx:p(p({cursor:"pointer",backgroundColor:le(l.palette.background.paper,.2)},l.applyStyles("dark",{backgroundColor:ce(l.palette.background.paper,.1)})),j(r&&(null==n||n),p({backgroundColor:le(l.palette.background.paper,.35)},l.applyStyles("dark",{backgroundColor:ce(l.palette.background.paper,.25)}))))},tooltip:{slotProps:o?{tooltip:{sx:{backgroundColor:"primary.main",color:"primary.contrastText"}}}:void 0}},children:y.jsx(A,{sx:p(p({width:"100%",height:"100%"},j(a,{backgroundColor:ue(l.palette.primary.main,.5)})),j(o,p({cursor:s?"grabbing":"grab",pointer:"grabbing",borderRadius:2,backgroundColor:"primary.dark"},l.applyStyles("dark",{backgroundColor:"primary.light"}))))})})})),Gr=E(x.memo((function(e){var t=e.readerNavBarWidth,r=e.isMaximized,n=e.setIsMaximized,i=e.isDragging,o=e.progressBarType,a=e.progressBarSize,s=e.progressBarPosition,l=e.progressBarPositionAutoVertical,u=e.readerDirection,c=e.scrollbarXSize,d=e.scrollbarYSize,f=e.totalPages,h=se(),v=g(x.useState({}),2)[1];Z(window.document.documentElement,x.useCallback((function(){return v({})}),[]));var m=de(s,l,d,t+c),b=U(m),S=b.isBottom,C=b.isLeft,P=b.isRight,w=b.isVertical,E=b.isHorizontal,I=!!f,T=o===R.HIDDEN,L=!r&&!i;return y.jsx(Hr,{children:y.jsx(zr,{direction:E?u:"ltr",progressBarPosition:m,fullSegmentClicks:!0,createProgressBarSlot:x.useCallback((function(e,t,r,n,i,o,a,s,l){return y.jsx(Ur,{pageName:e.name,primaryPageLoadState:r,secondaryPageLoadState:n,progressBarPosition:m,isCurrentPage:i,isLeadingPage:o,showDraggingStyle:l})}),[m]),slotProps:{container:{sx:p(p(p(p(p(p(p({overflow:"hidden",transition:"all 0.".concat(h.transitions.duration.shortest,"s")},j(E,p(p({minHeight:"100px"},j("ltr"===h.direction,{left:"ltr"===u?t:d,right:"rtl"===u?t:d})),j("rtl"===h.direction,{left:"rtl"===u?t:d,right:"ltr"===u?t:d})))),j(w,{minWidth:"100px",bottom:"".concat(c,"px")})),j(S,{bottom:"".concat(c,"px")})),j(C,p(p({},j("ltr"===h.direction,{left:"ltr"===u?t:"unset",right:"rtl"===u?t:"unset"})),j("rtl"===h.direction,{right:"rtl"===u?d:"unset",left:"ltr"===u?d:"unset"})))),j(P,p(p({},j("ltr"===h.direction,{right:"ltr"===u?d:"unset",left:"rtl"===u?d:"unset"})),j("rtl"===h.direction,{left:"rtl"===u?t:"unset",right:"ltr"===u?t:"unset"})))),j(L,{opacity:T?0:.85})),j(!I,{pointerEvents:"none"})),onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)}},progressBarRoot:{sx:p(p({gap:0,transition:"all 0.1s ease-in-out",backgroundColor:"background.paper"},j(w,{flexDirection:"column",height:"100%"})),j(L,p(p(p(p(p({backgroundColor:"unset",pointerEvents:"none"},j(E,{px:2})),j(w,{py:2})),j(S,{pb:.25})),j(C,p(p({},j("ltr"===h.direction,{pl:"ltr"===u?.25:0,pr:"rtl"===u?.25:0})),j("rtl"===h.direction,{pr:"rtl"===u?.25:0,pl:"ltr"===u?.25:0})))),j(P,p(p({},j("ltr"===h.direction,{pr:"ltr"===u?.25:0,pl:"rtl"===u?.25:0})),j("rtl"===h.direction,{pl:"rtl"===u?.25:0,pr:"ltr"===u?.25:0}))))))},progressBarSlotsContainer:{sx:p(p(p({gap:.25,borderRadius:2,transition:"height 0.1s ease-in-out"},j(E,{height:"20px"})),j(w,{flexDirection:"column",width:"20px"})),j(L,p(p({},j(E,{height:"".concat(a,"px")})),j(w,{width:"".concat(a,"px")}))))},progressBarReadPages:{sx:{display:"none"}},progressBarCurrentPageSlot:{sx:{display:"none"}},progressBarPageTexts:{base:{sx:p({px:1,py:1.5,transition:"all 0.1s ease-in-out"},j(L,{transform:"scale(0)",p:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0}))}}}})})})),[T,L,S.useSettingsWithoutDefaultFlag,function(){return{readerDirection:S.useGetThemeDirection()}},I,D],["readerNavBarWidth","isMaximized","setIsMaximized","isDragging","progressBarType","progressBarSize","progressBarPosition","progressBarPositionAutoVertical","readerDirection","scrollbarXSize","scrollbarYSize","totalPages"]),Xr=pe(y.jsx("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"})),Yr=pe(y.jsx("path",{d:"M14 4v5c0 1.12.37 2.16 1 3H9c.65-.86 1-1.9 1-3V4zm3-2H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3V4h1c.55 0 1-.45 1-1s-.45-1-1-1"})),Zr=H(N)({width:"400px",minWidth:"400px",maxWidth:"400px",height:"100vh",overflowY:"auto"}),qr=x.memo((function(e){var t=e.mangaId,r=e.mangaTitle,n=e.chapterTitle,i=e.scanlator;return y.jsxs(N,{children:[y.jsx(G,{title:r,placement:"right",children:y.jsx(fe,{lines:3,variant:"h6",component:"h1",sx:{textAlign:"center"},children:y.jsx(ir,{component:he,to:ge.manga.path(t),sx:{textDecoration:"none",color:"inherit"},children:r})})}),y.jsx(G,{title:n,placement:"right",children:y.jsx(fe,{lines:4,variant:"body1",component:"h2",sx:{textAlign:"center"},children:n})}),i&&y.jsx(G,{title:i,placement:"right",children:y.jsx(fe,{lines:4,variant:"body2",component:"h3",color:"textDisabled",sx:{textAlign:"center"},children:i})})]})})),Kr=pe(y.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"})),Jr=pe(y.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"})),Qr=function(e){var t=e.title,r=e.type,i=e.disabled,o=c(e,n);return y.jsx(G,{title:t,disabled:i,children:y.jsx(ar,p(p({sx:{flexBasis:"15%"},variant:"contained",disabled:i},o),{},{children:"previous"===r?y.jsx(Kr,{}):y.jsx(Jr,{})}))})},$r=E(x.memo((function(e){var t=e.currentPageIndex,r=e.pages,n=e.readingDirection,i=e.openPage,o=ve().t,a=xe(),s=x.useMemo((function(){return M(t,r)}),[t,r]),l=me[n];return y.jsxs(N,{sx:{flexDirection:"row",gap:1},dir:"ltr",children:[y.jsx(Qr,{type:"previous",title:o(a("reader.button.previous_page","reader.button.next_page",l)),disabled:a(!s.primary.index,J(s)===J(r.slice(-1)[0]),l),onClick:function(){return i("previous",void 0,!1)}}),y.jsxs(cr,{sx:{flexBasis:"70%",flexGrow:0,flexShrink:0},children:[y.jsx(dr,{id:"reader-nav-bar-desktop-page-select",children:o("reader.page_info.label.page")}),y.jsx(or,{labelId:"reader-nav-bar-desktop-page-select",label:o("reader.page_info.label.page"),value:J(s),onChange:function(e){return i(e.target.value,void 0,!1)},children:r.map((function(e){return y.jsx(be,{value:J(e),children:e.name},J(e))}))})]}),y.jsx(Qr,{type:"next",title:o(a("reader.button.next_page","reader.button.previous_page",l)),disabled:a(J(s)===J(r.slice(-1)[0]),!s.primary.index,l),onClick:function(){return i("next",void 0,!1)}})]})})),[D,function(){return{openPage:Y.useOpenPage()}},S.useSettingsWithoutDefaultFlag],["currentPageIndex","pages","readingDirection","openPage"]),en=function(){},tn=function(e){var t=e.currentChapter,r=e.chapters,n=e.style,i=x.useMemo((function(){return t&&r.findIndex((function(e){return e.id===t.id}))}),[t,r]);return y.jsx(fr,{style:p({height:"calc(".concat(r.length," * 100px)")},n),initialTopMostItemIndex:null!=i?i:0,totalCount:r.length,computeItemKey:function(e){return r[e].id},itemContent:function(e){return y.jsx(sr,{mode:"reader",chapter:r[e],showChapterNumber:!1,selected:null,onSelect:en,selectable:!1,isActiveChapter:e===i},r[e].id)},increaseViewportBy:400})},rn=E(x.memo((function(e){var t,r,n=e.currentChapter,i=e.previousChapter,o=e.nextChapter,a=e.chapters,s=void 0===a?[]:a,l=e.readerThemeDirection,u=e.openChapter,c=ve().t,d=Se({variant:"popover",popupId:"reader-nav-bar-desktop-chapter-list"});return x.useLayoutEffect((function(){d.close()}),[null==n?void 0:n.id]),y.jsxs(N,{sx:{flexDirection:"row",gap:1},dir:"ltr",children:[y.jsx(Qr,{type:"previous",title:c(K("reader.button.previous_chapter","reader.button.next_chapter",l)),onClick:function(){u(K("previous","next",l))},disabled:K(!i,!o,l)}),y.jsxs(cr,{sx:{flexBasis:"70%",flexGrow:0,flexShrink:0},children:[y.jsx(dr,{id:"reader-nav-bar-desktop-chapter-select",children:c("chapter.title_one")}),y.jsx(or,p(p({},ye(d)),{},{open:d.isOpen,value:null!==(t=null==n?void 0:n.id)&&void 0!==t?t:0,MenuProps:{sx:{visibility:"hidden"}},label:c("chapter.title_one"),labelId:"reader-nav-bar-desktop-chapter-select",children:y.jsx(be,{value:null!==(r=null==n?void 0:n.id)&&void 0!==r?r:0,children:n?"#".concat(n.chapterNumber," ").concat(n.name):""},null==n?void 0:n.id)}))]}),y.jsx(Qr,{component:he,type:"next",title:c(K("reader.button.next_chapter","reader.button.previous_chapter",l)),onClick:function(){u(K("next","previous",l))},disabled:K(!o,!i,l)}),y.jsx(Ce,p(p({},je(d)),{},{anchorOrigin:{vertical:"bottom",horizontal:"left"},children:y.jsx(A,{sx:{mb:1},children:y.jsx(tn,{style:{width:"500px",maxWidth:"90vw",minHeight:"150px",maxHeight:"300px"},currentChapter:n,chapters:s})})}))]})})),[function(){return{readerThemeDirection:S.useGetThemeDirection()}},function(){return{openChapter:Y.useOpenChapter()}}],["readerThemeDirection","openChapter"]),nn=pe(y.jsx("path",{d:"M17 4h3c1.1 0 2 .9 2 2v2h-2V6h-3zM4 8V6h3V4H4c-1.1 0-2 .9-2 2v2zm16 8v2h-3v2h3c1.1 0 2-.9 2-2v-2zM7 18H4v-2H2v2c0 1.1.9 2 2 2h3zM18 8H6v8h12z"})),on=function(e,t,r){var n=(e+1)%t.length;if(!(!!r&&0===n))return t[(e+1)%t.length]},an=function(e){var t=e.tooltip,r=e.value,n=e.defaultValue,i=e.values,o=e.setValue,a=e.valueToDisplayData,s=e.isDefaultable,l=e.onDefault,u=e.defaultIcon,c=ve().t,d=void 0===r,p=x.useMemo((function(){return d?-1:i.indexOf(r)}),[r,i]);return y.jsx(G,{title:t,children:d?y.jsx(Pe,{onClick:function(){return o(i[0])},sx:{justifyContent:"start",textTransform:"unset",flexGrow:1},variant:"contained",startIcon:u,size:"large",children:void 0===n?c("global.label.default"):y.jsx($t,{i18nKey:"settings.default_value",value:a[n].isTitleString?a[n].title:c(a[n].title)})}):y.jsx(Pe,{onClick:function(){var e=on(p,i,s);void 0!==e?o(e):null==l||l()},sx:{justifyContent:"start",textTransform:"unset",flexGrow:1},variant:"contained",startIcon:a[r].icon,size:"large",children:a[r].isTitleString?a[r].title:c(a[r].title)})})},sn=function(e){var t=e.pageScaleMode,r=e.shouldStretchPage,n=e.updateSetting,o=c(e,i),a=ve().t;return y.jsxs(N,{sx:{flexDirection:"row",gap:1},children:[y.jsx(an,p(p({},o),{},{tooltip:a("reader.settings.page_scale.title"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Ie,setValue:function(e){return n("pageScaleMode",e)},valueToDisplayData:Ee,defaultIcon:Ee[t.value].icon})),we[t.value]&&y.jsx(G,{title:a("reader.settings.page_scale.stretch"),children:y.jsx(ar,{onClick:function(){return n("shouldStretchPage",!r.value)},sx:{px:void 0},variant:"contained",color:r.value?"secondary":"primary",children:y.jsx(nn,{})})})]})},ln=function(e){var t=e.readingMode,r=e.setReadingMode,n=c(e,o),i=ve().t;return y.jsx(an,p(p({},n),{},{tooltip:i("reader.settings.label.reading_mode"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Le,setValue:r,valueToDisplayData:Te,defaultIcon:Te[t.value].icon}))},un=function(){return y.jsx(De,{children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M2 4h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2m20 0h-6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M2 12h20m-3-3 3 3-3 3M5 9l-3 3 3 3"})})})},cn=function(e){var t=e.readingMode,r=e.shouldOffsetDoubleSpreads,n=e.setShouldOffsetDoubleSpreads,i=ve().t;return Me(t)?y.jsx(Pe,{sx:{justifyContent:"start",textTransform:"unset"},size:"large",onClick:function(){return n(!r)},color:r?"secondary":"primary",variant:"contained",startIcon:y.jsx(un,{}),children:i("reader.settings.label.offset_double_spread")}):null},dn=function(e){var t=e.readingDirection,r=e.setReadingDirection,n=c(e,a),i=ve().t;return y.jsx(an,p(p({},n),{},{tooltip:i("reader.settings.label.reading_direction"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:ke,setValue:r,valueToDisplayData:Oe,defaultIcon:Oe[t.value].icon}))},pn=pe(y.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 14H9V8h2zm4 0h-2V8h2z"})),fn=pe(y.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 14.5v-9l6 4.5z"})),gn=function(e){var t=e.autoScroll,r=e.setAutoScroll,n=ve().t,i=Re(),o=i.isActive,a=i.toggleActive,s=x.useRef(void 0);return y.jsxs(N,{sx:{flexDirection:"row",gap:1},children:[y.jsx(Pe,{sx:{justifyContent:"start",textTransform:"unset",flexGrow:1},size:"large",onClick:a,color:o?"secondary":"primary",variant:"contained",startIcon:o?y.jsx(pn,{}):y.jsx(fn,{}),children:n("reader.settings.auto_scroll.title")}),y.jsx(pr,{value:t.value,type:"number",size:"small",onBlur:function(e){var n=Ae(+e.target.value,Ne.min,Ne.max);n!==t.value&&(clearTimeout(s.current),r(p(p({},t),{},{value:n}),!0))},onChange:function(e){var n=Ae(+e.target.value,Ne.min,Ne.max);r(p(p({},t),{},{value:n}),!1),clearTimeout(s.current),s.current=setTimeout((function(){return r(p(p({},t),{},{value:n}),!0)}),1e3)},slotProps:{input:{inputProps:Ne,endAdornment:y.jsx(gr,{position:"end",children:n("global.time.seconds.second",{count:t.value})})}}})]})},hn=E((function(e){var t=e.manga,r=e.readingMode,n=e.shouldOffsetDoubleSpreads,i=e.pageScaleMode,o=e.shouldStretchPage,a=e.readingDirection,s=e.autoScroll,l=e.openSettings,u=ve().t,c=S.useCreateUpdateSetting(null!=t?t:Be),d=S.useCreateDeleteSetting(null!=t?t:Be);return y.jsxs(N,{sx:{gap:1},children:[y.jsx(ln,{readingMode:r,setReadingMode:function(e){return c("readingMode",e)},isDefaultable:!0,onDefault:function(){return d("readingMode")}}),y.jsx(cn,{readingMode:r.value,shouldOffsetDoubleSpreads:n.value,setShouldOffsetDoubleSpreads:function(e){return c("shouldOffsetDoubleSpreads",e)}}),y.jsx(sn,{pageScaleMode:i,shouldStretchPage:o,updateSetting:c,isDefaultable:!0,onDefault:function(){return d("pageScaleMode")}}),y.jsx(dn,{readingDirection:a,setReadingDirection:function(e){return c("readingDirection",e)},isDefaultable:!0,onDefault:function(){return d("readingDirection")}}),y.jsx(gn,{autoScroll:s,setAutoScroll:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.apply(void 0,["autoScroll"].concat(t))}}),y.jsx(Pe,{onClick:function(){return l()},size:"large",sx:{justifyContent:"start",textTransform:"none"},variant:"contained",startIcon:y.jsx(_e,{}),children:u("reader.settings.title.reader")})]})}),[b,S.useSettings],["manga","readingMode","shouldOffsetDoubleSpreads","pageScaleMode","shouldStretchPage","readingDirection","autoScroll"]),vn=pe(y.jsx("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"})),xn=p(p({},Be),{},{title:"Fallback",inLibrary:!1}),mn=E(x.memo((function(e){var t=e.manga,r=(null!=t?t:xn).inLibrary,n=ve().t,i=Sr(null!=t?t:xn,!0),o=i.CategorySelectComponent,a=i.updateLibraryState;return y.jsxs(y.Fragment,{children:[y.jsx(G,{title:n(r?"manga.action.library.remove.label.action":"manga.button.add_to_library"),children:y.jsx(Ve,{onClick:a,color:"inherit",children:r?y.jsx(br,{}):y.jsx(yr,{})})}),o]})})),[b],["manga"]),bn=pe(y.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"})),Sn=x.memo((function(e){var t=e.id,r=e.isBookmarked,n=ve().t,i=r?"unbookmark":"bookmark";return y.jsx(G,{title:n(We[i].action.single),children:y.jsx(Ve,{onClick:function(){return ze.performAction(i,[t],{})},color:"inherit",children:r?y.jsx(lr,{}):y.jsx(bn,{})})})})),yn=function(e){var t,r=e.currentChapter,n=ve().t,i=ze.useDownloadStatusFromCache(null!==(t=null==r?void 0:r.id)&&void 0!==t?t:-1);return r&&ze.isDownloaded(r)?y.jsx(G,{title:n(We.delete.action.single),children:y.jsx(Ve,{onClick:function(){return ze.performAction("delete",[r.id],{})},color:"inherit",children:y.jsx(xr,{})})}):i?y.jsx(mr,{chapterId:i.chapter.id}):y.jsx(G,{title:n(We.download.action.single),disabled:!r,children:y.jsx(Ve,{disabled:!r,onClick:function(){var e;return ze.performAction("download",[null!==(e=null==r?void 0:r.id)&&void 0!==e?e:-1],{})},color:"inherit",children:y.jsx(vr,{})})})},Cn=x.memo((function(e){var t=e.currentChapter,r=e.pageLoadStates,n=e.setPageLoadStates,i=e.setRetryFailedPagesKeyPrefix,o=null!=t?t:ur,a=o.id,s=o.isBookmarked,l=o.realUrl,u=ve().t,c=x.useRef(0),d=x.useMemo((function(){return r.some((function(e){return e.error}))}),[r]);return y.jsxs(N,{sx:{flexDirection:"row",justifyContent:"center",gap:1},children:[y.jsx(mn,{}),y.jsx(Sn,{id:a,isBookmarked:s}),y.jsx(G,{title:u("reader.button.retry_load_pages"),disabled:!d,children:y.jsx(Ve,{onClick:function(){n((function(e){return e.map((function(e){return{url:e.url,loaded:e.loaded}}))})),i("".concat(c.current)),c.current=(c.current+1)%1e3},disabled:!d,color:"inherit",children:y.jsx(vn,{})})}),y.jsx(yn,{currentChapter:t}),y.jsx(G,{title:u("chapter.action.label.open_on_source"),disabled:!l,children:y.jsx(Ve,{disabled:!l,href:null!=l?l:"",rel:"noreferrer",target:"_blank",color:"inherit",children:y.jsx(hr,{})})})]})})),jn=E(Cn,[He,D],["currentChapter","pageLoadStates","setPageLoadStates","setRetryFailedPagesKeyPrefix"]),Pn=E(x.memo((function(e){var t=e.exit,r=ve().t,n=xe();return y.jsx(G,{title:r("reader.button.exit"),children:y.jsx(Ve,{sx:{marginRight:2},onClick:t,color:"inherit",children:n(y.jsx(Fe,{}),y.jsx(Ue,{}))})})})),[function(){return{exit:S.useExit()}}],["exit"]),wn=E(x.memo((function(e){var t=e.isVisible,r=e.openSettings,n=e.setReaderNavBarWidth,i=e.manga,o=e.chapters,a=e.currentChapter,s=e.previousChapter,l=e.nextChapter,u=e.isStaticNav,c=ve().t,d=S.useCreateUpdateSetting(null!=i?i:Be),p=g(x.useState(),2),f=p[0],h=p[1];Z(f,x.useCallback((function(){u&&n(f.offsetWidth)}),[f,u])),x.useLayoutEffect((function(){return function(){return n(0)}}),[]);var v=function(e,t){var r=x.useRef(t),n=x.useRef(t);return n.current!==r.current&&!e&&(r.current=!1),n.current!==t&&(r.current=n.current,n.current=t),r.current}(t,u),m=v&&t?0:void 0;return y.jsx(Ge,{variant:u?"permanent":"persistent",open:t||u,transitionDuration:m,SlideProps:{unmountOnExit:!0},PaperProps:{ref:function(e){return h(e)}},children:y.jsxs(Zr,{sx:{backgroundColor:"background.paper",pointerEvents:"all"},children:[y.jsxs(N,{sx:{p:2,gap:2,backgroundColor:"action.hover"},children:[y.jsxs(N,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[y.jsx(Pn,{}),y.jsx(G,{title:c("reader.settings.label.static_navigation"),children:y.jsx(Ve,{onClick:function(){n(0),d("isStaticNav",!u)},color:u?"primary":"inherit",children:u?y.jsx(Xr,{}):y.jsx(Yr,{})})})]}),i&&a?y.jsxs(y.Fragment,{children:[y.jsx(qr,{mangaId:i.id,mangaTitle:i.title,chapterTitle:a.name,scanlator:a.scanlator}),y.jsx(jn,{})]}):y.jsx(Xe,{})]}),y.jsxs(N,{sx:{p:2,gap:2},children:[y.jsxs(N,{sx:{gap:1},children:[y.jsx($r,{}),y.jsx(rn,{chapters:o,currentChapter:a,nextChapter:l,previousChapter:s})]}),y.jsx(Ye,{}),y.jsx(hn,{openSettings:r})]})]})})})),[T,b,He,D,S.useSettingsWithoutDefaultFlag],["setReaderNavBarWidth","manga","chapters","currentChapter","previousChapter","nextChapter","isStaticNav"]),En=p(p({},Be),{},{title:""}),In=x.forwardRef((function(e,t){var r,n,i=e.isVisible,o=e.manga,a=e.currentChapter,s=e.scrollbarYSize,c=ve().t,d=Se({popupId:"reader-overlay-more-menu",variant:"popover"}),f=null!=o?o:En,g=f.id,h=f.title,v=null!=a?a:ur,x=v.id,m=v.name,b=v.realUrl,S=v.isBookmarked;return y.jsx(Ze,{direction:"down",in:i,ref:t,children:y.jsxs(N,{sx:{flexDirection:"row",alignItems:"center",position:"fixed",top:0,left:0,right:"".concat(s,"px"),p:2,pt:function(e){return"max(env(safe-area-inset-top), ".concat(e.spacing(2),")")},backgroundColor:function(e){return ue(e.palette.background.paper,.95)},pointerEvents:"all",boxShadow:2},children:[y.jsx(Pn,{}),y.jsx(N,{sx:{flexGrow:1},children:o&&a?y.jsxs(y.Fragment,{children:[y.jsx(G,{title:h,children:y.jsx(fe,{lines:1,component:"h1",variant:"h5",children:y.jsx(ir,{component:he,to:ge.manga.path(g),sx:{textDecoration:"none",color:"inherit"},children:h})})}),y.jsx(G,{title:m,children:y.jsx(fe,{lines:1,children:m})})]}):y.jsx(Xe,{})}),y.jsx(mn,{}),y.jsx(Sn,{id:x,isBookmarked:S}),y.jsx(Ve,p(p({},ye(d)),{},{color:"inherit",children:y.jsx(Cr,{})})),y.jsxs(qe,p(p({},Ke(d)),{},{children:[y.jsx(be,{component:ir,disabled:!b,href:null!=b?b:"",rel:"noreferrer",target:"_blank",children:c("chapter.action.label.open_on_source")}),y.jsx(be,{disabled:!b,onClick:(r=l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(h);case 2:Je(c("global.label.copied_clipboard"),"info");case 3:case"end":return e.stop()}}),e)})),n=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))},function(){return n.apply(this,arguments)}),children:c("global.label.share")})]}))]})})})),Tn=E(x.memo(In),[b,He,I],["manga","currentChapter","scrollbarYSize"]),Ln=pe(y.jsx("path",{d:"m21.81 12.74-.82-.63v-.22l.8-.63c.16-.12.2-.34.1-.51l-.85-1.48c-.07-.13-.21-.2-.35-.2q-.075 0-.15.03l-.95.38c-.08-.05-.11-.07-.19-.11l-.15-1.01c-.03-.21-.2-.36-.4-.36h-1.71c-.2 0-.37.15-.4.34l-.14 1.01c-.03.02-.07.03-.1.05l-.09.06-.95-.38q-.075-.03-.15-.03c-.14 0-.27.07-.35.2l-.85 1.48c-.1.17-.06.39.1.51l.8.63v.23l-.8.63c-.16.12-.2.34-.1.51l.85 1.48c.07.13.21.2.35.2q.075 0 .15-.03l.95-.37c.08.05.12.07.2.11l.15 1.01c.03.2.2.34.4.34h1.71c.2 0 .37-.15.4-.34l.15-1.01c.03-.02.07-.03.1-.05l.09-.06.95.38q.075.03.15.03c.14 0 .27-.07.35-.2l.85-1.48c.1-.17.06-.39-.1-.51M18 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M17 17h2v4c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2V3c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2v4h-2V6H7v12h10z"})),Dn=pe(y.jsx("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5m0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5M7 19h14v-2H7zm0-6h14v-2H7zm0-8v2h14V5z"})),Mn=pe(y.jsx("path",{d:"M6 6h2v12H6zm3.5 6 8.5 6V6z"})),On=pe(y.jsx("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"})),kn={display:"flex",alignItems:"center",justifyContent:"end",position:"relative",backgroundColor:"background.default"},Rn=x.memo((function(e){var t=e.isTrailingPage,r=e.pagesIndex,n=e.totalPages,i=e.isVertical,o=e.isHorizontal,a="".concat(r/(n-1)*100,"%");return y.jsx(A,{sx:p(p(p(p({position:"absolute"},j(i,{top:a,left:"50%"})),j(o,{top:"50%",left:a})),{},{transform:"translate(-50%, -50%)",width:"3px",height:"3px",borderRadius:100,backgroundColor:"background.paper"},j(t,{backgroundColor:"primary.main"})),{},{zIndex:1})})})),Nn=x.memo((function(e){var t=e.pageName,r=e.isTrailingPage,n=e.isCurrentPage,i=e.pagesIndex,o=e.totalPages,a=e.isVertical,s=e.isHorizontal;return y.jsx(Fr,{pageName:t,progressBarPosition:Qe.BOTTOM,slotProps:{box:{sx:kn}},children:!n&&y.jsx(Rn,{isTrailingPage:r,pagesIndex:i,totalPages:o,isVertical:a,isHorizontal:s})})})),An=f(f(f(f({},Qe.BOTTOM,"up"),Qe.LEFT,"right"),Qe.RIGHT,"left"),Qe.AUTO,"left"),Bn=E(x.memo((function(e){var t=e.previousChapter,r=e.nextChapter,n=e.isVisible,i=e.setIsMaximized,o=e.isDragging,a=e.currentPageIndex,s=e.pages,l=e.direction,u=e.progressBarPosition,c=e.progressBarPositionAutoVertical,d=e.topOffset,f=void 0===d?0:d,h=e.bottomOffset,v=void 0===h?0:h,m=e.scrollbarXSize,b=Y.useOpenChapter(),S=g(x.useState({}),2)[1];Z(window.document.documentElement,x.useCallback((function(){return S({})}),[]));var C=de(u,c,f+v,m),P=U(C),w=P.isLeft,E=P.isRight,I=P.isVertical,T=P.isHorizontal,L=T?l:"ltr",D=x.useMemo((function(){return M(a,s).pagesIndex}),[a,s]),O=x.useMemo((function(){return{container:{sx:{flexGrow:1,position:"relative",display:"flex",justifyItems:"center",alignItems:"stretch",backgroundColor:function(e){return ue(e.palette.background.paper,.85)},borderRadius:100,boxShadow:2}},progressBarRoot:{sx:p(p({flexGrow:1,gap:0},j(I,{flexDirection:"column"})),j(T,{alignItems:"stretch"}))},progressBarSlotsActionArea:{sx:p(p({alignItems:"center",cursor:"pointer"},j(I,{width:"100%",flexDirection:"column",px:2})),j(T,{height:"100%",py:2}))},progressBarSlotsContainer:{sx:p(p({borderRadius:100,backgroundColor:"background.default"},j(I,{flexDirection:"column",py:1})),j(T,{px:1}))},progressBarSlot:{sx:p(p({},j(I,{width:"20px"})),j(T,{height:"20px"}))},progressBarCurrentPageSlot:{sx:p(p({display:"flex",zIndex:1,cursor:"inherit"},j(I,{justifyContent:"center"})),j(T,{alignItems:"center"}))},progressBarPageTexts:{base:{sx:p(p({},j(I,{py:1})),j(T,{px:1}))}}}}),[I,T]),k=x.useMemo((function(){return{progressBarCurrentPage:y.jsx(A,{sx:p(p(p({position:"absolute"},j(I,p(p({top:"calc(100% - 6px)"},j(0===D,{top:"0"})),{},{width:"75%",height:"6px"}))),j(T,p(p({left:"calc(100% - 0px)"},j(0===D,{left:"0"})),{},{width:"6px",height:"75%"}))),{},{backgroundColor:"primary.main",borderRadius:100,cursor:o?"grabbing":"grab"})})}}),[D,s.length,o,I,T]);return x.useLayoutEffect((function(){return i(n),function(){return i(!1)}}),[n]),y.jsx(Ze,{direction:An[C],in:n,children:y.jsx(Hr,{sx:p(p({position:"relative",display:"flex",alignItems:"end",height:"100%",pointerEvents:"none"},j(w,{justifyContent:"ltr"===l?"start":"end"})),j(E,{justifyContent:"ltr"===l?"end":"start"})),children:y.jsxs(N,{sx:p(p({p:2,gap:1,pointerEvents:"all",alignItems:"center"},j(I,{height:"100%",flexDirection:"column"})),j(T,{width:"100%",flexDirection:"row"})),children:[y.jsx(Ve,{onClick:function(){return b("previous")},disabled:!t,sx:{backgroundColor:function(e){return ue(e.palette.background.paper,.85)},boxShadow:2},children:K(y.jsx(Mn,{sx:p({},j(I,{transform:"rotate(90deg)"}))}),y.jsx(On,{sx:p({},j(I,{transform:"rotate(90deg)"}))}),L)}),y.jsx(zr,{direction:L,progressBarPosition:C,fullSegmentClicks:!1,createProgressBarSlot:x.useCallback((function(e,t,r,n,i,o,a,s){return y.jsx(Nn,{pageName:e.name,isTrailingPage:a,isCurrentPage:i,pagesIndex:t,totalPages:s,isVertical:I,isHorizontal:T})}),[I,T]),slotProps:p(p({},O),{},{progressBarReadPages:{sx:p(p({backgroundColor:"primary.main"},j(I,{width:"20px",height:"".concat(Math.max(0,M(a,s).pagesIndex)/(s.length-1)*100,"%"),borderRadius:"400px 400px 0 0"})),j(T,{width:"".concat(Math.max(0,M(a,s).pagesIndex)/(s.length-1)*100,"%"),height:"20px",borderRadius:"400px 0 0 400px"}))}}),slots:k}),y.jsx(Ve,{onClick:function(){return b("next")},disabled:!r,sx:{backgroundColor:function(e){return ue(e.palette.background.paper,.85)},boxShadow:2},children:K(y.jsx(On,{sx:p({},j(I,{transform:"rotate(90deg)"}))}),y.jsx(Mn,{sx:p({},j(I,{transform:"rotate(90deg)"}))}),L)})]})})})})),[He,$e,L,D,function(){return{direction:S.useGetThemeDirection()}},S.useSettingsWithoutDefaultFlag,I],["previousChapter","nextChapter","isVisible","setIsMaximized","isDragging","currentPageIndex","pages","direction","progressBarPosition","progressBarPositionAutoVertical","scrollbarXSize"]),_n=E(x.memo((function(e){var t=e.manga,r=e.readingMode,n=e.readingDirection,i=e.autoScroll,o=e.isActive,a=e.toggleActive,s=ve().t,l=S.useCreateDeleteSetting(null!=t?t:Be);return t?y.jsxs(N,{sx:{gap:2},children:[y.jsx(er,{}),y.jsx(tr,{readingMode:r,setReadingMode:function(e){return S.updateSetting(t,"readingMode",e)},isDefaultable:!0,onDefault:function(){return l("readingMode")}}),y.jsx(rr,{readingDirection:n,setReadingDirection:function(e){return S.updateSetting(t,"readingDirection",e)},isDefaultable:!0,onDefault:function(){return l("readingDirection")}}),y.jsx(jr,{label:s("reader.settings.auto_scroll.title"),checked:o,onChange:function(){return a()}}),y.jsx(nr,{autoScroll:i,setAutoScroll:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=S).updateSetting.apply(e,[t,"autoScroll"].concat(n))}})]}):null})),[b,S.useSettings,Re],["manga","readingMode","readingDirection","autoScroll","isActive","toggleActive"]),Vn=E(x.memo((function(e){var t=e.openSettings,r=e.isVisible,n=e.currentChapter,i=e.chapters,o=e.scrollbarXSize,a=e.scrollbarYSize,s=e.topOffset,l=void 0===s?0:s,u=ve().t,c=Se({variant:"dialog",popupId:"reader-chapter-list-dialog"}),d=Se({variant:"dialog",popupId:"reader-quick-settings-dialog"}),f=g(x.useState(0),2),h=f[0],v=f[1],m=x.useRef(null);return Z(m,x.useCallback((function(){var e,t;return v(null!==(e=null===(t=m.current)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0)}),[h])),x.useLayoutEffect((function(){c.close()}),[null==n?void 0:n.id]),y.jsxs(y.Fragment,{children:[y.jsxs(N,{sx:{position:"fixed",right:"".concat(a,"px"),bottom:0,left:0,height:"calc(100% - ".concat(l,"px)")},children:[y.jsx(Bn,{topOffset:l,bottomOffset:h}),y.jsx(Ze,{direction:"up",in:r,children:y.jsx(N,{ref:m,sx:{alignItems:"center",backgroundColor:function(e){return ue(e.palette.background.paper,.95)},pb:"max(".concat(o,"px, env(safe-area-inset-bottom))"),boxShadow:2,pointerEvents:"all"},children:y.jsxs(N,{sx:{width:"50%",flexDirection:"row",p:2,gap:1,justifyContent:"space-evenly",alignItems:"center"},children:[y.jsx(G,{title:u("reader.button.chapter_list"),children:y.jsx(Ve,p(p({},ye(c)),{},{color:"inherit",children:y.jsx(Dn,{})}))}),y.jsx(G,{title:u("reader.settings.title.quick_settings"),children:y.jsx(Ve,p(p({},ye(d)),{},{color:"inherit",children:y.jsx(Ln,{})}))}),y.jsx(G,{title:u("settings.title"),children:y.jsx(Ve,{onClick:t,color:"inherit",children:y.jsx(_e,{})})})]})})})]}),c.isOpen&&y.jsx(C,p(p({},et(c)),{},{fullWidth:!0,maxWidth:"md",scroll:"paper",children:y.jsx(P,{sx:{p:0,pb:1},children:y.jsx(tn,{style:{minHeight:"15vh",maxHeight:"75vh"},currentChapter:n,chapters:i})})})),d.isOpen&&y.jsx(C,p(p({},et(d)),{},{fullWidth:!0,maxWidth:"md",scroll:"paper",children:y.jsx(P,{children:y.jsx(_n,{})})}))]})})),[He,I],["currentChapter","chapters","scrollbarXSize","scrollbarYSize"]),zn=E(x.memo((function(e){var t=e.isVisible,r=e.isDesktop,n=e.isMobile,i=g(x.useState(!1),2),o=i[0],a=i[1],s=g(x.useState(0),2),l=s[0],u=s[1],c=x.useRef(null);return Z(c,x.useCallback((function(){var e,t;return u(null!==(e=null===(t=c.current)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0)}),[n])),y.jsxs(A,{sx:{position:"absolute",width:"100%",height:"100%",pointerEvents:"none",zIndex:1},children:[r&&y.jsxs(y.Fragment,{children:[y.jsx(Gr,{}),y.jsx(wn,{isVisible:t,openSettings:function(){return a(!0)}})]}),n&&y.jsxs(y.Fragment,{children:[y.jsx(Tn,{ref:c,isVisible:t}),y.jsx(Vn,{openSettings:function(){return a(!0)},isVisible:t,topOffset:l})]}),y.jsx(d,{isOpen:o,close:function(){return a(!1)}}),y.jsx(Tr,{})]})})),[S.useOverlayMode],["isDesktop","isMobile"]),Wn="reader-tap-zone-layout-canvas",Hn=E((function(e){var t=e.readerNavBarWidth,r=e.showPreview,n=e.tapZoneLayout,i=e.tapZoneInvertMode,o=e.readingDirection,a=se(),s=g(x.useState(0),2),l=s[0],u=s[1],c=g(x.useState(0),2),d=c[0],p=c[1],f=g(x.useState(null),2),h=f[0],v=f[1];Z(h,x.useCallback((function(){var e,t;u(null!==(e=null==h?void 0:h.clientWidth)&&void 0!==e?e:0),p(null!==(t=null==h?void 0:h.clientHeight)&&void 0!==t?t:0)}),[h]));var m=rt.getOrCreateCanvas(n,l,d,a.typography.h3,{vertical:i.vertical,horizontal:i.horizontal,isRTL:o===k.RTL});return x.useLayoutEffect((function(){var e=document.getElementById(Wn);null==e||e.replaceChildren(m)}),[m,r]),y.jsx(A,{ref:v,sx:{position:"fixed",top:0,left:t,right:0,bottom:0,pointerEvents:"none"},children:r&&y.jsx("div",{id:Wn})})}),[T,tt,S.useSettingsWithoutDefaultFlag],["readerNavBarWidth","showPreview","tapZoneLayout","tapZoneInvertMode","readingDirection"]),Fn=E((function(e){var t=e.readerNavBarWidth,r=e.customFilter.rgba,n=r.value,i=n.red,o=n.green,a=n.blue,s=n.alpha,l=n.blendMode;return r.enabled?y.jsx(A,{sx:{position:"fixed",top:0,left:t,right:0,bottom:0,pointerEvents:"none",background:"rgba(".concat(i," ").concat(o," ").concat(a," / ").concat(s,"%)"),mixBlendMode:"".concat(l)}}):null}),[T,S.useSettingsWithoutDefaultFlag],["readerNavBarWidth","customFilter"]),Un=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.XY,r=g(x.useState(!1),2),n=r[0],i=r[1],o=x.useRef(void 0),a=x.useRef([0,0,0]),s=x.useRef([0,0,0]),l=x.useRef([0,0,0]),u=x.useRef([0,0]),c=x.useRef(void 0);return x.useEffect((function(){var r=null==e?void 0:e.current;if(!r)return function(){};var n=function(){o.current||(o.current=getComputedStyle(r));var e="rtl"===o.current.direction,t="row-reverse"===o.current.flexDirection;return e||!e&&t},d=t!==nt.Y,p=t!==nt.X,f=function(){return clearInterval(c.current)},g=function(){var e=function(e,t,r){return(e[0]-e[2])/(t[0]-t[2])*1e3/r},t=[d?e(a.current,l.current,r.clientWidth):0,p?e(s.current,l.current,r.clientHeight):0],i=d&&p?Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)):p?Math.abs(t[1]):Math.abs(t[0]),c=[t[0]/i,t[1]/i],g=Ae(1.2*i,-12,12),h=(Date.now()-l.current[0])/1e3,v=g-14.278*h+75.24*Math.pow(h,2)/g-149.72*Math.pow(h,3)/g/g;if(0!==g&&v>0&&!Number.isNaN(g)){var x=function(e,t){return e*t*(g*h-7.1397*Math.pow(h,2)+25.08*Math.pow(h,3)/g-37.43*Math.pow(h,4)/g/g)},m=[x(r.clientWidth,c[0]),x(r.clientHeight,c[1])],b=[r.scrollWidth-r.clientWidth,r.scrollHeight-r.clientHeight],S=[Ae(u.current[0]-m[0],n()?-b[0]:0,b[0]),Ae(u.current[1]-m[1],(o.current||(o.current=getComputedStyle(r)),"column-reverse"===o.current.flexDirection?-b[1]:0),b[1])];0!==S[0]||S[0]!==b[0]||(0!==S[1]||S[1]!==b[1])||f(),d&&(r.scrollLeft=S[0]),p&&(r.scrollTop=S[1])}else f()},v=!1,x=function(e){(function(e){if(v)return!0;var t=[r.clientHeight<r.scrollHeight,r.clientWidth<r.scrollWidth],n=[Math.abs(a.current[0]-e.pageX)>0,Math.abs(s.current[0]-e.pageY)>0];return t[0]&&n[0]||t[1]&&n[1]})(e)&&(v=!0,i(!0),a.current=[].concat(h(a.current.slice(1)),[e.pageX]),s.current=[].concat(h(s.current.slice(1)),[e.pageY]),l.current=[].concat(h(l.current.slice(1)),[Date.now()]),d&&(r.scrollLeft+=a.current[0]-a.current[1]),p&&(r.scrollTop+=s.current[0]-s.current[1]))},m=function(){r.removeEventListener("mousemove",x),r.removeEventListener("mouseup",m),setTimeout((function(){v=!1,i(!1)}),0),u.current=[r.scrollLeft,r.scrollTop],c.current=setInterval(g,16)},b=function(e){0===e.button&&(e.preventDefault(),a.current=[e.pageX,e.pageX,e.pageX],s.current=[e.pageY,e.pageY,e.pageY],l.current=[Date.now()-2,Date.now()-1,Date.now()],r.addEventListener("mousemove",x),r.addEventListener("mouseup",m),f())};return r.addEventListener("mousedown",b),r.addEventListener("wheel",f),function(){r.removeEventListener("mousedown",b),r.removeEventListener("wheel",f),f()}}),[e,t]),n},Gn=function(e){var t=e.title,r=e.name,n=e.scanlator,i=e.backgroundColor,o=se(),a=o.palette.getContrastText(gt(o.palette,ht[i])),s=ue(a,.5);return r?y.jsxs(N,{children:[y.jsx(B,{color:a,children:t}),y.jsx(B,{color:a,variant:"h6",component:"h1",children:r}),n&&y.jsx(B,{variant:"body2",color:s,children:n})]}):null},Xn=E(x.memo((function(e){var t,r=e.type,n=e.transitionPageMode,i=e.readingMode,o=e.backgroundColor,a=e.shouldShowTransitionPage,s=e.manga,l=e.currentChapterName,u=e.currentChapterScanlator,c=e.previousChapterName,d=e.previousChapterScanlator,f=e.nextChapterName,g=e.nextChapterScanlator,h=e.scrollbarXSize,v=e.scrollbarYSize,x=e.readerNavBarWidth,m=e.handleBack,b=ve().t,S=r===ut.PREVIOUS,C=r===ut.NEXT,P=!!l&&!c,w=!!l&&!f,E=P&&r===ut.PREVIOUS,I=w&&r===ut.NEXT;return(a||(E||I))&&dt(r,n,i)?y.jsx(N,{sx:p(p({justifyContent:"center",alignItems:"center"},j(!ft(i),{width:"100%",height:"100%"})),j(ft(i),p(p({position:"sticky"},j(pt(i),{left:0,maxWidth:"calc(100vw - ".concat(v,"px - ").concat(x,"px)"),minHeight:"calc(100vh - ".concat(h,"px)")})),j(i===q.CONTINUOUS_HORIZONTAL,{top:0,minWidth:"calc(100vw - ".concat(v,"px - ").concat(x,"px)"),maxHeight:"calc(100vh - ".concat(h,"px)")})))),children:y.jsxs(N,{sx:{gap:2,maxWidth:function(e){return"calc(100vw - ".concat(v,"px - ").concat(x,"px - ").concat(e.spacing(2),")")},maxHeight:"calc(100vh - ".concat(h,"px)"),width:"max-content",p:1},children:[S&&P&&y.jsx(B,{variant:"h6",children:b("reader.transition_page.first_chapter")}),y.jsxs(N,{sx:{gap:5},children:[S&&!P&&y.jsx(Gn,{title:b("reader.transition_page.previous"),name:c,scanlator:d,backgroundColor:o}),!!l&&y.jsx(Gn,{title:b(S?"reader.transition_page.current":"reader.transition_page.finished"),name:l,scanlator:u,backgroundColor:o}),C&&!w&&y.jsx(Gn,{title:b("reader.transition_page.next"),name:f,scanlator:g,backgroundColor:o})]}),C&&w&&y.jsx(B,{variant:"h6",children:b("reader.transition_page.last_chapter")}),(S&&P||C&&w)&&y.jsxs(N,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:[y.jsx(Pe,{sx:{flexGrow:1},onClick:function(e){e.stopPropagation(),m()},variant:"contained",children:b("reader.transition_page.exit.previous_page")}),y.jsx(Pe,{sx:{flexGrow:1},component:he,onClick:function(e){e.stopPropagation()},variant:"contained",to:ge.manga.path(null!==(t=null==s?void 0:s.id)&&void 0!==t?t:-1),children:b("reader.transition_page.exit.manga_page")})]})]})}):null})),[b,function(e){var t=e.chapterId,r=He().chapters,n=x.useMemo((function(){return r.findIndex((function(e){return e.id===t}))}),[t,r]),i=r[n],o=x.useMemo((function(){return r[n+1]}),[n,r]),a=x.useMemo((function(){return r[n-1]}),[n,r]);return{currentChapterName:null==i?void 0:i.name,currentChapterScanlator:null==i?void 0:i.scanlator,previousChapterName:null==o?void 0:o.name,previousChapterScanlator:null==o?void 0:o.name,nextChapterName:null==a?void 0:a.name,nextChapterScanlator:null==a?void 0:a.scanlator}},I,T,D,S.useSettingsWithoutDefaultFlag,function(e){var t=e.chapterId,r=e.type,n=lt(),i=He().chapters,o=x.useMemo((function(){return i.findIndex((function(e){return e.id===t}))}),[t,i]),a=0===o,s=o===i.length-1,l=r===ut.PREVIOUS&&s,u=r===ut.NEXT&&a;return{handleBack:l||u?n:ct}}],["manga","currentChapterName","currentChapterScanlator","previousChapterName","previousChapterScanlator","nextChapterName","nextChapterScanlator","scrollbarXSize","scrollbarYSize","readerNavBarWidth","backgroundColor","transitionPageMode","readingMode","handleBack","shouldShowTransitionPage"]),Yn="-10px",Zn=function(e,t,r){if(ft(t)){var n=me[r],i="0px ".concat(Yn," 0px 0px"),o="0px 0px 0px ".concat(Yn);return pt(t)?"first"===e?"0px 0px ".concat(Yn," 0px"):"".concat(Yn," 0px 0px 0px"):"first"===e?K(i,o,n):K(o,i,n)}},qn=function(e,t,r,n){var i=t.top,o=t.right,a=t.bottom,s=t.left,l=window.innerWidth-n,u=window.innerHeight-r;return f(f({},q.CONTINUOUS_VERTICAL,{start:a>=u,end:i<0}),q.CONTINUOUS_HORIZONTAL,function(e,t,r,n){return e===k.LTR?{start:r>=n,end:t<0}:{start:t<0,end:r>=n}}(e,s,o,l))},Kn=function(e,t,r,n,i,o,a,s,l,u,c,d,p,f){x.useEffect((function(){var t=ft(o),a=pt(o);if(f||!p||!t||!s||!n||i||void 0===r)return function(){};var u=function(){var t=0===p.scrollLeft,n=p.scrollLeft===p.scrollWidth-p.clientWidth,i=0===p.scrollTop,o=p.scrollTop===p.scrollHeight-p.clientHeight;("first"===e&&(a?i:t)||"last"===e&&(a?o:n))&&l(r,void 0,!1)};return p.addEventListener("scroll",u),function(){return p.removeEventListener("scroll",u)}}),[o,p,f,s,n,i,r,l]),xt(u,x.useCallback((function(u){if(s&&ft(o)&&void 0!==r&&(f||i)){var p=u[u.length-1],g=qn(a,p.target.getBoundingClientRect(),c,d),h=function(e,t){var r=e[q.CONTINUOUS_VERTICAL],n=e[q.CONTINUOUS_HORIZONTAL];return pt(t)?r:n}(g,o),v=h.start,x=h.end,m=p.intersectionRatio<=0;if(function(e,t){var r=e[q.CONTINUOUS_VERTICAL],n=e[q.CONTINUOUS_HORIZONTAL];return pt(t)?r.start||r.end:n.start||n.end}(g,o)){var b="last"===e&&!n&&x;"first"===e&&v&&!i||"last"===e&&x&&m?l(r,!i,!1):b&&l(t,!1,!1)}}}),[e,t,r,n,i,o,a,s,f,l,c,d]),x.useMemo((function(){return{root:p,threshold:[0],rootMargin:Zn(e,o,a),ignoreInitialObserve:!0}}),[e,o,a]))},Jn=E(x.memo((function(e){var t=e.readingMode,r=e.readingDirection,n=e.shouldUseInfiniteScroll,i=e.chapterId,o=e.previousChapterId,a=e.nextChapterId,s=e.isPreviousChapterVisible,l=e.isCurrentChapter,u=e.isNextChapterVisible,c=e.imageWrapper,d=e.openChapter,p=e.scrollbarXSize,f=e.scrollbarYSize,g=e.scrollElement,h=e.shouldShowTransitionPage;return Kn("first",i,o,l,s,t,r,n,d,c,p,f,g,h),Kn("last",i,a,l,u,t,r,n,d,c,p,f,g,h),null})),[function(){return{openChapter:Y.useOpenChapter()}},S.useSettingsWithoutDefaultFlag],["openChapter","shouldShowTransitionPage"]),Qn=x.memo((function(e){var t=e.currentPageIndex,r=e.setPages,n=e.setPageLoadStates,i=e.setTotalPages,o=e.setCurrentPageIndex,a=e.updateCurrentPageIndex,s=e.setPageToScrollToIndex,l=e.transitionPageMode,u=e.retryFailedPagesKeyPrefix,c=e.setTransitionPageMode,d=e.readingMode,f=e.readerWidth,h=e.pageScaleMode,v=e.shouldOffsetDoubleSpreads,m=e.readingDirection,b=e.shouldUseInfiniteScroll,S=e.imagePreLoadAmount,C=e.pageGap,P=e.chapterId,w=e.previousChapterId,E=e.nextChapterId,I=e.isPreviousChapterVisible,T=e.isNextChapterVisible,L=e.lastPageRead,D=e.isInitialChapter,O=e.isCurrentChapter,R=e.isPreviousChapter,B=e.isNextChapter,_=e.isLeadingChapter,V=e.isTrailingChapter,z=e.isPreloadMode,W=e.imageRefs,H=e.scrollIntoView,F=e.setReaderStateChapters,U=e.resumeMode,G=e.customFilter,X=e.shouldStretchPage,Y=e.scrollbarXSize,K=e.scrollbarYSize,Q=e.readerNavBarWidth,$=e.onSizeChange,ee=e.minWidth,te=e.minHeight,re=e.scrollElement,ne=ve().t,ie=se().direction,oe=g(mt.useGetChapterPagesFetch(null!=P?P:-1),2),ae=oe[0],le=oe[1],ue=g(x.useState(!1),2),ce=ue[0],de=ue[1],pe=g(x.useState(bt.totalPages),2),fe=pe[0],ge=pe[1],he=g(x.useState(bt.pageUrls),2),xe=he[0],me=he[1],be=g(x.useState(bt.pages),2),Se=be[0],ye=be[1],Ce=g(x.useState(bt.pageLoadStates),2),je=Ce[0],Pe=Ce[1],we=g(x.useState(je.map((function(e){return{url:e.url,isSpread:!1}}))),2),Ee=we[0],Ie=we[1],Te=x.useRef(null),Le=x.useRef(O),De=x.useRef(Se.map((function(){return null}))),Me=x.useRef(null),Oe=x.useMemo((function(){return!fe?Se:fe===Ee.length&&d===q.DOUBLE_PAGE?St(xe,Ee,v,m):Se}),[Ee,d,v,m,fe]),ke=x.useMemo((function(){return yt(d)}),[d]),Re=m===k.LTR,Ne=ft(d),Ae=!Ne&&!O||z,Be=!Ne&&O,_e=!Ae&&(Be||Ne&&(D||_)),Ve=!Ae&&(Be||Ne&&(D||V));Le.current=O,O&&(W.current=De.current);var ze=x.useCallback((function(){P&&(de(!1),ae({variables:{input:{chapterId:P}}}).catch(Ct()))}),[ae,P]),We=x.useMemo((function(){return jt(Oe,Ee,Ie,je,(function(e){Le.current&&n(e),Pe(e)}),d)}),[Oe,d]),He=x.useMemo((function(){return Pt((function(e){Le.current&&n(e),Pe(e)}))}),[]);x.useEffect((function(){ze()}),[P]),Z(Te,x.useCallback((function(e){var t=e[0].target,r=t.clientWidth,n=t.clientHeight;$(r,n,P)}),[$,Te.current,P]));var Fe=function(e,t,r){!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])&&ce||t(e),O&&r(e)};return function(e,t,r,n,i,o,a,s,l,u,c,d,f,g,h,v,m,b){var S,y=x.useRef(void 0);x.useLayoutEffect((function(){var e,x=null===(e=t.data)||void 0===e?void 0:e.fetchChapterPages;if(x){var S=x.pages,C=S.length?S:[""],j=vt(r,null!=n?n:0,C.length-1),P=y.current!==(null==x?void 0:x.pages);if(P){y.current=x.pages;var w=st(C);l(!0),d(w),f(C),g(w.map((function(e){return{url:e.primary.url,loaded:!1}}))),h(w.map((function(e){return{url:e.primary.url,isSpread:!1}})))}else d(i),g(o),h(a);c(x.pages.length),f(C),v(j),m(j),u((function(e){return p(p({},e),{},{isCurrentChapterReady:s||P})})),b(ut.NONE)}}),[null===(S=t.data)||void 0===S||null===(S=S.fetchChapterPages)||void 0===S?void 0:S.pages,e])}(O,le,U,L,Oe,je,Ee,ce,de,(function(e){return Fe(e,ct,F)}),(function(e){return Fe(e,ge,i)}),(function(e){return Fe(e,ye,r)}),(function(e){return Fe(e,me,ct)}),(function(e){return Fe(e,Pe,n)}),(function(e){return Fe(e,Ie,ct)}),(function(e){return Fe(e,ct,o)}),(function(e){(D&&!ce||H)&&(s(e),F((function(e){return p(p({},e),{},{visibleChapters:p(p({},e.visibleChapters),{},{scrollIntoView:!1,resumeMode:void 0})})})))}),(function(e){return Fe(e,ct,c)})),function(e,t,r,n,i,o,a){var s=g(x.useState(a===q.DOUBLE_PAGE),2),l=s[0],u=s[1];x.useLayoutEffect((function(){if(l&&a!==q.DOUBLE_PAGE){u(!1);var s=st(r);return n(s),void i(s.map((function(e){return{url:e.primary.url,isSpread:!1}})))}a===q.DOUBLE_PAGE&&(l||o(J(M(e,t))),n(t),u(a===q.DOUBLE_PAGE))}),[t,a])}(t,Oe,xe,(function(e){return Fe(e,ye,r,!0)}),(function(e){return Fe(e,Ie,ct,!0)}),(function(e){return Fe(e,ct,a)}),d),Ne||O||R||B?le.error?Ae?null:y.jsx(A,{sx:{minHeight:"100%",minWidth:"100%",display:"grid",placeItems:"center",position:"relative"},children:y.jsx(Pr,{message:ne("global.error.label.failed_to_load_data"),messageExtra:wt(le.error),retry:function(){ze()}})}):le.loading||!ce?Ae?null:y.jsx(A,{sx:{minHeight:"100%",minWidth:"100%",display:"grid",placeItems:"center"},children:y.jsx(Xe,{})}):null==P||fe?y.jsxs(N,{ref:Te,sx:p(p(p(p(p({width:"fit-content",height:"fit-content",margin:"auto",flexWrap:"nowrap"},j(d===q.CONTINUOUS_HORIZONTAL,{minHeight:te})),j(pt(d),{minWidth:ee})),j(Ae,{maxWidth:0,maxHeight:0,minWidth:"unset",minHeight:"unset",overflow:"hidden",margin:"unset"})),j(pt(d)&&Et(f,h),{alignItems:"center"})),j(d===q.CONTINUOUS_HORIZONTAL,p(p({},j("ltr"===ie,{flexDirection:Re?"row":"row-reverse"})),j("rtl"===ie,{flexDirection:Re?"row-reverse":"row"})))),children:[!z&&y.jsx(Jn,{readingMode:d,readingDirection:m,shouldUseInfiniteScroll:b,chapterId:P,previousChapterId:w,nextChapterId:E,isCurrentChapter:O,isPreviousChapterVisible:I,isNextChapterVisible:T,imageWrapper:Me.current,scrollbarXSize:Y,scrollbarYSize:K,scrollElement:re}),_e&&y.jsx(Xn,{chapterId:P,type:ut.PREVIOUS}),y.jsx(ke,{ref:Me,totalPages:fe,currentPageIndex:t,pages:Oe,transitionPageMode:l,pageLoadStates:je,retryFailedPagesKeyPrefix:u,imageRefs:De,onLoad:We,onError:He,isCurrentChapter:O,isPreviousChapter:R,isNextChapter:B,readingMode:d,imagePreLoadAmount:S,readingDirection:m,pageScaleMode:h,pageGap:C,customFilter:G,shouldStretchPage:X,readerWidth:f,scrollbarXSize:Y,scrollbarYSize:K,readerNavBarWidth:Q,isPreloadMode:z,resumeMode:U,handleAsInitialRender:H}),Ve&&y.jsx(Xn,{chapterId:P,type:ut.NEXT})]}):Ae?null:y.jsx(A,{sx:{minWidth:"100%",minHeight:"100%",position:"relative"},children:y.jsx(Pr,{message:ne("reader.error.label.no_pages_found"),retry:ze})}):null})),$n=function(e,t,r){x.useLayoutEffect((function(){r(t)}),[e])},ei=function(e,t,r,n){var i=x.useRef({width:window.innerWidth,height:window.innerHeight}),o=x.useCallback((function(){var o=i.current,a=o.width,s=o.height;i.current={width:window.innerWidth,height:window.innerHeight},function(e,t,r,n){var i=Tt(t),o=Lt(t),a=r!==window.innerWidth,s=n!==window.innerHeight,l=i&&a,u=o&&s;return!(pt(e)||!a)||l||u}(e,t,a,s)&&r(n)}),[e,t,n]);wr("resize",o)},ti=function(e){var t=x.useRef({left:0,top:0,visibleElement:void 0,visibleElementLeft:0,visibleElementTop:0});return x.useEffect((function(){var r=e.current;if(!r)return function(){};var n=function(){var e,n,i=t.current.visibleElement;t.current=p(p({},t.current),{},{left:r.scrollLeft,top:r.scrollTop,visibleElementLeft:null!==(e=null==i?void 0:i.offsetLeft)&&void 0!==e?e:0,visibleElementTop:null!==(n=null==i?void 0:i.offsetTop)&&void 0!==n?n:0})};return r.addEventListener("scroll",n),function(){return r.removeEventListener("scroll",n)}}),[]),x.useEffect((function(){var r=e.current;if(!r)return function(){};var n=function(e,t){return Array.from(e).filter((function(e){return e instanceof HTMLElement})).flatMap((function(e){return e instanceof HTMLImageElement?[e]:Array.from(e.querySelectorAll("img"))})).forEach(t)},i=new IntersectionObserver((function(e){var r=e.find((function(e){return e.isIntersecting}));(null==r?void 0:r.target)instanceof HTMLElement&&(t.current=p(p({},t.current),{},{visibleElement:r.target,visibleElementLeft:r.target.offsetLeft,visibleElementTop:r.target.offsetTop}))})),o=new MutationObserver((function(e){var t,r=s(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n(o.addedNodes,(function(e){return i.observe(e)})),n(o.removedNodes,(function(e){return i.unobserve(e)}))}}catch(a){r.e(a)}finally{r.f()}}));return o.observe(r,{childList:!0,subtree:!0}),function(){o.disconnect(),i.disconnect()}}),[]),t},ri=function(e,t,r,n,i,o,a,l,u,c){!function(e,t,r,n,i,o,a){var l=ti(e),u=function(){var t=e.current,s=l.current,u=s.left,c=s.top,d=s.visibleElementLeft,p=s.visibleElementTop,f=s.visibleElement;if(!t||!a||!f)return!1;var g=It(r,i,o),h=0===n;if(g.previous||!h)return!1;var v=u-d+f.offsetLeft,x=c-p+f.offsetTop;return t.scrollTo(v,x),!0};x.useEffect((function(){var t=e.current;if(!t||!a)return function(){};var r=!1,n=function(e,t){Array.from(e).filter((function(e){return e instanceof HTMLElement})).flatMap((function(e){return e instanceof HTMLImageElement?[e]:Array.from(e.querySelectorAll("img"))})).forEach(t)},i=new ResizeObserver((function(){r||(r=u())&&i.disconnect()})),o=new MutationObserver((function(e){var t,r=s(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n(o.addedNodes,(function(e){return i.observe(e)})),n(o.removedNodes,(function(e){return i.unobserve(e)}))}}catch(a){r.e(a)}finally{r.f()}}));return o.observe(t,{childList:!0,subtree:!0}),function(){o.disconnect(),i.disconnect()}}),[t]),x.useLayoutEffect((function(){u()}),[t])}(e,t,r,n,i,o,ft(a)),function(e,t){var r=ti(e),n=ft(t),i=pt(t);x.useEffect((function(){var t=e.current;if(!t||!n)return function(){};var o=function(e,t){return Array.from(e).filter((function(e){return e instanceof HTMLElement})).flatMap((function(e){return e instanceof HTMLImageElement?[e]:Array.from(e.querySelectorAll("img"))})).forEach(t)},a=new ResizeObserver((function(e){var n=r.current,o=n.left,a=n.top,s=n.visibleElement,l=n.visibleElementLeft,u=n.visibleElementTop;if(s&&e.filter((function(e){return e.target instanceof HTMLElement&&!(!e.target.clientWidth&&!e.target.clientHeight)&&(i?e.target.offsetTop<a:Math.abs(e.target.offsetLeft)<Math.abs(o))})).length){var c=o-l+s.offsetLeft,d=a-u+s.offsetTop;t.scrollTo(c,d)}})),l=new MutationObserver((function(e){var t,r=s(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;o(n.addedNodes,(function(e){return a.observe(e)})),o(n.removedNodes,(function(e){return a.unobserve(e)}))}}catch(i){r.e(i)}finally{r.f()}}));return l.observe(t,{childList:!0,subtree:!0}),function(){l.disconnect(),a.disconnect()}}),[n,i])}(e,a),ei(a,c,u,n),$n(l,n,u),$n(a,n,u)},ni=f(f(f(f(f({},q.SINGLE_PAGE,Nt.X),q.DOUBLE_PAGE,Nt.X),q.CONTINUOUS_VERTICAL,Nt.Y),q.CONTINUOUS_HORIZONTAL,Nt.X),q.WEBTOON,Nt.Y),ii=x.forwardRef((function(e,t){var r,n=e.currentPageIndex,i=e.pageToScrollToIndex,o=e.setPageToScrollToIndex,a=e.pages,s=e.totalPages,l=e.setPages,u=e.setPageLoadStates,c=e.setTotalPages,d=e.setCurrentPageIndex,f=e.transitionPageMode,h=e.retryFailedPagesKeyPrefix,v=e.setTransitionPageMode,m=e.readingMode,b=e.readingDirection,S=e.shouldUseInfiniteScroll,C=e.readerWidth,P=e.pageScaleMode,w=e.shouldOffsetDoubleSpreads,E=e.imagePreLoadAmount,I=e.pageGap,T=e.customFilter,L=e.shouldStretchPage,D=e.readerNavBarWidth,O=e.setScrollbarXSize,R=e.setScrollbarYSize,A=e.isVisible,B=e.setIsVisible,_=e.updateCurrentPageIndex,V=e.showPreview,z=e.setShowPreview,W=e.initialChapter,H=e.currentChapter,F=e.chapters,U=e.visibleChapters,G=e.setReaderStateChapters,X=e.isCurrentChapterReady,Z=se().direction,K=(null!==(r=Dt().state)&&void 0!==r?r:{resumeMode:Mt.START}).resumeMode,Q=void 0===K?Mt.START:K,$=x.useRef(null),ee=Er(t,$),te=pt(m),re=ft(m),ne=Un($),ie=Re();x.useEffect((function(){return ie.setScrollRef($)}),[]);var oe=Ot.useGetScrollbarSize("width",$.current),ae=Ot.useGetScrollbarSize("height",$.current);x.useLayoutEffect((function(){O(oe),R(ae)}),[oe,ae]);var le=Y.useHandleClick($.current),ue=x.useRef(a.map((function(){return null}))),ce=g(x.useState({minChapterViewWidth:0,minChapterViewHeight:0,minChapterSizeSourceChapterId:-1}),2),de=ce[0],pe=de.minChapterViewWidth,fe=de.minChapterViewHeight,ge=de.minChapterSizeSourceChapterId,he=ce[1],ve=g(x.useState({}),2)[1],xe=ni[m],me=b===k.LTR,be=x.useMemo((function(){return F.findIndex((function(e){return e.id===(null==W?void 0:W.id)}))}),[F,null==W?void 0:W.id]),Se=x.useMemo((function(){return F.slice(Math.max(0,be-U.trailing),Math.min(F.length,be+U.leading+1))}),[F,be,U.trailing,U.leading]),ye=x.useMemo((function(){return Se.findIndex((function(e){return e.id===(null==H?void 0:H.id)}))}),[H,Se]),Ce=x.useCallback((function(e,t,r){if(re){var n=r===ge;if(te){if(!n&&pe>=e)return;he({minChapterViewWidth:e,minChapterViewHeight:0,minChapterSizeSourceChapterId:r})}else(n||fe<t)&&he({minChapterViewWidth:0,minChapterViewHeight:t,minChapterSizeSourceChapterId:r})}}),[re,te,pe,fe,ge]);if(function(e,t,r,n,i,o,a,s,l,u){x.useLayoutEffect((function(){if(null!=e){var c=M(e,r);if(a){var d=e>t?ot.PREVIOUS:ot.NEXT,p=s.current[c.pagesIndex];null==p||p.scrollIntoView({block:"start",inline:at(d,l,u)})}var f=J(c),g=f===n-1;i(null),o(f,!g,g)}}),[e])}(i,n,a,s,o,_,re,ue,Z,b),function(e,t,r,n,i){x.useLayoutEffect((function(){var e;t||null===(e=i.current)||void 0===e||e.scrollTo(it(i.current,r,n),0)}),[e])}(n,re,Z,b,$),function(e){var t=x.useRef(void 0);x.useEffect((function(){var r=function(t){var r=e.current;r&&(r.style.cursor=t?"default":"none")},n=function(){r(!0),clearTimeout(t.current),t.current=setTimeout((function(){r(!1)}),5e3)};return n(),window.addEventListener("mousemove",n),function(){r(!0),window.removeEventListener("mousemove",n),clearTimeout(t.current)}}),[])}($),function(e,t,r){x.useEffect((function(){if(e!==q.CONTINUOUS_HORIZONTAL)return function(){};if(!r.current)return function(){};var n=function(e){var n,i;e.preventDefault(),e.shiftKey?null===(i=r.current)||void 0===i||i.scrollBy({top:e.deltaY}):null===(n=r.current)||void 0===n||n.scrollBy({left:t===k.LTR?e.deltaY:-1*e.deltaY})};return r.current.addEventListener("wheel",n),function(){var e;return null===(e=r.current)||void 0===e?void 0:e.removeEventListener("wheel",n)}}),[e,t])}(m,b,$),function(e,t,r,n,i){x.useEffect((function(){var o,a,s=function(){e&&t(!1),r&&n(!1)};return null===(o=i.current)||void 0===o||o.addEventListener("wheel",s),null===(a=i.current)||void 0===a||a.addEventListener("touchmove",s),function(){var e,t;null===(e=i.current)||void 0===e||e.removeEventListener("wheel",s),null===(t=i.current)||void 0===t||t.removeEventListener("touchmove",s)}}),[e,r])}(A,B,V,z,$),function(e,t){x.useEffect((function(){e?t.pause():t.resume()}),[e,t.isPaused])}(A,ie),ri($,null==H?void 0:H.id,ye,n,Se,U,m,b,o,P),x.useLayoutEffect((function(){he({minChapterViewWidth:0,minChapterViewHeight:0,minChapterSizeSourceChapterId:-1}),ve({})}),[m]),!W||!H)throw new Error("ReaderViewer: illegal state - initialChapter and currentChapter should not be undefined");return y.jsx(N,{ref:ee,sx:p(p({width:"100%",height:"100%",overflow:"auto",flexWrap:"nowrap"},j(te&&Et(C,P),{alignItems:"center"})),j(!te,p(p({},j("ltr"===Z,{flexDirection:me?"row":"row-reverse"})),j("rtl"===Z,{flexDirection:me?"row-reverse":"row"})))),onClick:function(e){return!ne&&le(e)},onScroll:function(){return Y.updateCurrentPageOnScroll(ue,s-1,_,xe,b)},children:Se.map((function(e,t){var r,i,a,s,p=Math.max(0,Se.length-t-1),g=Se[p],x=null!==(r=Se[p+1])&&void 0!==r?r:F[be+U.leading+1],j=null!==(i=Se[p-1])&&void 0!==i?i:F[be-U.trailing-1],M=g.id===W.id,O=g.id===H.id,k=g.id===(null===(a=Se[ye+1])||void 0===a?void 0:a.id),R=g.id===(null===(s=Se[ye-1])||void 0===s?void 0:s.id),N=W.sourceOrder>g.sourceOrder,A=W.sourceOrder<g.sourceOrder,B=U.lastLeadingChapterSourceOrder===g.sourceOrder,V=U.lastTrailingChapterSourceOrder===g.sourceOrder,z=B&&U.isLeadingChapterPreloadMode||V&&U.isTrailingChapterPreloadMode,Y=It(p,Se,U),Z=g.id===ge;return y.jsx(Qn,{chapterId:g.id,previousChapterId:null==x?void 0:x.id,nextChapterId:null==j?void 0:j.id,isPreviousChapterVisible:Y.previous,isNextChapterVisible:Y.next,lastPageRead:Ae(g.lastPageRead,0,g.pageCount-1),currentPageIndex:Rt(n,g,H,O,X,N,A,U),isInitialChapter:M,isCurrentChapter:O,isPreviousChapter:k,isNextChapter:R,isLeadingChapter:N,isTrailingChapter:A,isPreloadMode:z,imageRefs:ue,setPages:l,setPageLoadStates:u,setTotalPages:c,setCurrentPageIndex:d,setPageToScrollToIndex:o,transitionPageMode:f,retryFailedPagesKeyPrefix:h,readingMode:m,readerWidth:C,pageScaleMode:P,shouldOffsetDoubleSpreads:w,readingDirection:b,shouldUseInfiniteScroll:S,updateCurrentPageIndex:O?_:ct,scrollIntoView:O&&U.scrollIntoView,resumeMode:kt(O,M,N,A,U.resumeMode,Q),setReaderStateChapters:G,setTransitionPageMode:v,pageGap:I,imagePreLoadAmount:E,customFilter:T,shouldStretchPage:L,scrollbarXSize:oe,scrollbarYSize:ae,readerNavBarWidth:D,onSizeChange:Ce,minWidth:Z?0:pe,minHeight:Z?0:fe,scrollElement:$.current},g.id)}))})})),oi=E(x.memo(ii),[D,S.useSettingsWithoutDefaultFlag,I,$e,function(){return{updateCurrentPageIndex:Y.useUpdateCurrentPageIndex()}},tt,He,T],["currentPageIndex","pageToScrollToIndex","setPageToScrollToIndex","pages","totalPages","setPages","setPageLoadStates","setTotalPages","setCurrentPageIndex","retryFailedPagesKeyPrefix","setTransitionPageMode","readingMode","readingDirection","shouldUseInfiniteScroll","readerWidth","pageScaleMode","shouldOffsetDoubleSpreads","imagePreLoadAmount","pageGap","customFilter","shouldStretchPage","readerNavBarWidth","transitionPageMode","setScrollbarXSize","setScrollbarYSize","isVisible","setIsVisible","updateCurrentPageIndex","showPreview","setShowPreview","initialChapter","currentChapter","chapters","visibleChapters","setReaderStateChapters","isCurrentChapterReady"]),ai=Object.fromEntries(Object.values(m).map((function(e){return[e,{scopes:e}]}))),si=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],i=t[1],o=t[2],a=t[3];return Vt(n,i,p(p({},o),ai.reader),a)},li=function(e,t,r,n,i,o,a){if(o)e(r,i[0]);else{var s=on(i.indexOf(n),i,a);void 0===s?t(r):e(r,s)}},ui=function(e){var t=e.scrollElementRef,r=se().direction,n=S.useGetThemeDirection(),i=v(),o=i.enableScope,a=i.disableScope,s=b().manga,l=$e(),u=l.isVisible,c=l.setIsVisible,d=S.useSettings(),f=d.hotkeys,g=d.pageScaleMode,h=d.shouldStretchPage,y=d.shouldOffsetDoubleSpreads,C=d.readingMode,j=d.readingDirection,P=d.autoScroll,w=d.scrollAmount,E=Re(),I=tt().setShowPreview,T=S.useExit(),L=Y.useOpenChapter(),D=Y.useOpenPage(),M=S.useCreateUpdateSetting(null!=s?s:Be),O=S.useCreateDeleteSetting(null!=s?s:Be);return si(f[At.PREVIOUS_PAGE],(function(){return D("previous")}),[D]),si(f[At.NEXT_PAGE],(function(){return D("next")}),[D]),si(f[At.SCROLL_BACKWARD],(function(){return t.current&&Y.scroll(Bt.BACKWARD,_t[C.value],C.value,j.value,r,t.current,L,c,I,w)}),{preventDefault:!0},[C.value,j.value,r,L,w]),si(f[At.SCROLL_FORWARD],(function(){return t.current&&Y.scroll(Bt.FORWARD,_t[C.value],C.value,j.value,r,t.current,L,c,I,w)}),{preventDefault:!0},[C.value,j.value,r,L,w]),si(f[At.PREVIOUS_CHAPTER],(function(){return L(K("previous","next",n))}),[L,n]),si(f[At.NEXT_CHAPTER],(function(){return L(K("next","previous",n))}),[L,n]),si(f[At.TOGGLE_MENU],(function(){return c(!u)}),[u]),si(f[At.CYCLE_SCALE_TYPE],(function(){li(M,O,"pageScaleMode",g.value,Ie,g.isDefault,!0)}),[M,O,g.value,g.isDefault]),si(f[At.STRETCH_IMAGE],(function(){return M("shouldStretchPage",!h.value)}),[M,h.value]),si(f[At.OFFSET_SPREAD_PAGES],(function(){return M("shouldOffsetDoubleSpreads",!y.value)}),[M,y.value]),si(f[At.CYCLE_READING_MODE],(function(){li(M,O,"readingMode",C.value,Le,C.isDefault,!0)}),[M,O,C.value,C.isDefault]),si(f[At.CYCLE_READING_DIRECTION],(function(){li(M,O,"readingDirection",j.value,ke,j.isDefault,!0)}),[M,O,j.value,j.isDefault]),si(f[At.TOGGLE_AUTO_SCROLL],E.toggleActive,{preventDefault:!0},[E.toggleActive]),si(f[At.AUTO_SCROLL_SPEED_DECREASE],(function(){return M("autoScroll",p(p({},P),{},{value:Math.min(Ne.max,P.value+Ne.step)}))}),[M,P.value]),si(f[At.AUTO_SCROLL_SPEED_INCREASE],(function(){return M("autoScroll",p(p({},P),{},{value:Math.max(Ne.min,P.value-Ne.step)}))}),[M,P.value]),si(f[At.EXIT_READER],T,[T]),x.useEffect((function(){return o(m.READER),function(){return a(m.READER)}}),[]),null};e("Reader",E(x.memo((function(e){var t,r,n,i=e.setOverride,o=e.readerNavBarWidth,a=e.isVisible,s=e.setIsVisible,l=e.manga,u=e.setManga,c=e.shouldSkipDupChapters,d=e.backgroundColor,f=e.readingMode,h=e.tapZoneLayout,v=e.tapZoneInvertMode,m=e.shouldShowReadingModePreview,b=e.shouldShowTapZoneLayoutPreview,S=e.setSettings,C=e.initialChapter,j=e.chapterForDuplicatesHandling,P=e.currentChapter,w=e.setReaderStateChapters,E=e.setTotalPages,I=e.setCurrentPageIndex,T=e.setPageToScrollToIndex,L=e.setPages,D=e.setPageUrls,M=e.setPageLoadStates,O=e.setTransitionPageMode,k=e.cancelAutoScroll,R=e.setShowPreview,N=ve().t,B=x.useRef(null),_=g(x.useState(!1),2),V=_[0],z=_[1],W=Zt(),H=W.chapterSourceOrder,F=W.mangaId,U=Number(H),G=Number(F),X=mt.useGetManga(qt,G),Y=mt.useGetMangaChapters(Kt,G);Ir(l&&P?"".concat(l.title,": ").concat(P.name):N("reader.title",{mangaId:G,chapterIndex:U}));var Z=Jt(),K=Z.metadata,J=Z.settings,Q=Z.request,$=void 0===P||!V||X.loading||Y.loading||Q.loading,ee=null!==(t=null!==(r=X.error)&&void 0!==r?r:Y.error)&&void 0!==t?t:Q.error;return x.useEffect((function(){var e;u(null===(e=X.data)||void 0===e?void 0:e.manga)}),[null===(n=X.data)||void 0===n?void 0:n.manga]),function(e,t,r,n,i,o,a,s,l,u,c,d){x.useEffect((function(){return function(){e(void 0),t(zt),r(0),n(null),i(0),o([Wt("",0)]),a([]),s([{url:"",loaded:!1}]),l(ut.NONE),u(!1),c(Ht),d()}}),[])}(u,w,I,T,E,L,D,M,O,s,S,k),function(e,t,r,n,i,o){var a;x.useEffect((function(){var a,s=null===(a=e.data)||void 0===a?void 0:a.manga;if(s&&!t.loading&&!t.error){var l=Ft(s,r),u=Ut(s,l.shouldUseAutoWebtoonMode,l.readingMode),c=p(p({},r),{},{readingMode:u?q.WEBTOON:r.readingMode}),d=u?q.WEBTOON:l.readingMode.value,f=Gt("global",{meta:n},c,void 0,d),g=Ft(s,f);i(g),o(!0)}}),[null===(a=e.data)||void 0===a?void 0:a.manga,r])}(X,Q,J,K,S,z),function(e,t,r,n,i,o,a,s,l){var u=ve().t,c=x.useRef(void 0),d=x.useRef(void 0),p=x.useRef(void 0),f=x.useRef(!0);x.useEffect((function(){if(!e&&!t&&r){var g=JSON.stringify(n)!==JSON.stringify(c.current);a&&g&&Je(u(Te[n.value].title),{autoHideDuration:5e3}),c.current=n;var h=JSON.stringify(i)!==JSON.stringify(d.current)||JSON.stringify(o)!==JSON.stringify(p.current);s&&h&&(l(!0),f.current&&setTimeout((function(){return l(!1)}),5e3)),d.current=i,p.current=o,f.current=!1}}),[e,t,r,n.value,n.isDefault,i.value,i.isDefault,o.value,o.isDefault])}($,ee,V,f,h,v,m,b,R),function(e,t,r,n,i,o){var a,s=Xt(),l=Dt().state,u=(null!=l?l:{}).updateInitialChapter?void 0:r;x.useEffect((function(){var r,a,c=null===(r=e.data)||void 0===r?void 0:r.chapters.nodes,d=c?null!==(a=c[c.length-t])&&void 0!==a?a:null:void 0,f=null!=u?u:d,g=null!=n?n:d,h=c&&d&&ze.getNextChapter(d,c,{offset:ot.NEXT,skipDupe:o,skipDupeChapter:g}),v=c&&d&&ze.getNextChapter(d,c,{offset:ot.PREVIOUS,skipDupe:o,skipDupeChapter:g}),x=c&&g?o?ze.removeDuplicates(g,c):c:[],m=null!=f&&f.id!==(null==u?void 0:u.id);m&&s("",{replace:!0,state:p(p({},l),{},{updateInitialChapter:void 0})}),i((function(e){var t,r,n,i=(null==d?void 0:d.id)!==(null===(t=e.currentChapter)||void 0===t?void 0:t.id);return p(p({},e),{},{mangaChapters:null!=c?c:[],chapters:x,initialChapter:f,chapterForDuplicatesHandling:g,currentChapter:d,nextChapter:h,previousChapter:v,isCurrentChapterReady:!i&&e.isCurrentChapterReady,visibleChapters:m?p(p({},zt.visibleChapters),{},{lastLeadingChapterSourceOrder:null!==(r=null==f?void 0:f.sourceOrder)&&void 0!==r?r:zt.visibleChapters.lastLeadingChapterSourceOrder,lastTrailingChapterSourceOrder:null!==(n=null==f?void 0:f.sourceOrder)&&void 0!==n?n:zt.visibleChapters.lastTrailingChapterSourceOrder,isLeadingChapterPreloadMode:!1,isTrailingChapterPreloadMode:!1,scrollIntoView:!!e.initialChapter}):e.visibleChapters})}))}),[null===(a=e.data)||void 0===a?void 0:a.chapters.nodes,t,o,u])}(Y,U,C,j,w,c),x.useLayoutEffect((function(){return i({status:!0,value:y.jsxs(A,{sx:{position:"absolute"},children:[y.jsx(ui,{scrollElementRef:B}),y.jsx(zn,{isVisible:a}),!B.current&&y.jsx(A,{onClick:function(){return s(!a)},sx:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"transparent"}})]})}),function(){return i({status:!1,value:null})}}),[a,s,B.current]),ee?y.jsx(Pr,{message:N("global.error.label.failed_to_load_data"),messageExtra:wt(ee),retry:function(){X.error&&X.refetch().catch(Ct()),Q.error&&Q.refetch().catch(Ct()),Y.error&&Y.refetch().catch(Ct())}}):$?y.jsx(A,{sx:{height:"100vh",width:"100vw",display:"grid",placeItems:"center"},children:y.jsx(Xe,{})}):null===P?y.jsx(Pr,{message:N("reader.error.label.chapter_not_found")}):l&&P?y.jsxs(A,{sx:{position:"relative",display:"flex",flexDirection:"column",width:"calc(100vw - ".concat(o,"px)"),height:"100vh",marginLeft:"".concat(o,"px"),transition:function(e){return"width 0.".concat(e.transitions.duration.shortest,"s, margin-left 0.").concat(e.transitions.duration.shortest,"s")},overflow:"auto",backgroundColor:ht[d]},children:[y.jsx(oi,{ref:B}),y.jsx(Hn,{}),y.jsx(Fn,{})]}):null})),[T,$e,b,He,Yt,function(){var e=S.useSettingsWithoutDefaultFlag();return{shouldSkipDupChapters:e.shouldSkipDupChapters,backgroundColor:e.backgroundColor,shouldShowReadingModePreview:e.shouldShowReadingModePreview,shouldShowTapZoneLayoutPreview:e.shouldShowTapZoneLayoutPreview}},function(){var e=S.useSettings();return{readingMode:e.readingMode,tapZoneLayout:e.tapZoneLayout,tapZoneInvertMode:e.tapZoneInvertMode}},D,function(){return{cancelAutoScroll:Re().cancel}},tt],["setOverride","readerNavBarWidth","isVisible","setIsVisible","manga","setManga","shouldSkipDupChapters","backgroundColor","readingMode","tapZoneLayout","tapZoneInvertMode","shouldShowReadingModePreview","shouldShowTapZoneLayoutPreview","setSettings","initialChapter","chapterForDuplicatesHandling","currentChapter","setReaderStateChapters","setTotalPages","setCurrentPageIndex","setPageToScrollToIndex","setPages","setPageUrls","setPageLoadStates","setTransitionPageMode","cancelAutoScroll","setShowPreview"]))}}}))}();
