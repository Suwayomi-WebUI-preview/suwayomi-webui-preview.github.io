import{u as f,c as o,N as h,A as x,j as a,g as P,E,h as n,m as S}from"./index-Zl59rTnr.js";import{c as T,a as N}from"./metadata-3dsaWhfv.js";import{u as _,c as v,R as b,a as w}from"./ReaderSettingsOptions-BRuWAwo2.js";import"./NumberSetting-D95Za2Yx.js";import"./Info-CBdRtVcr.js";import"./TextField-lew-bJf8.js";import"./InputAdornment-C6brfzM8.js";import"./SpinnerImage-DiQGN4Ou.js";import"./Select-BndaAxxl.js";import"./Switch-Dz039eWF.js";import"./SwitchBase-B5dQFXOZ.js";import"./MenuItem-DWrnvo_k.js";function F(){const{t}=f(),{setTitle:r,setAction:s}=o.useContext(h);o.useEffect(()=>(r(t("reader.settings.title.default_reader_settings")),s(null),()=>{r(""),s(null)}),[t]);const{metadata:d,settings:e,loading:l,request:{error:i,refetch:g}}=_();x("settings");const u=(c,m,p=!0)=>{p&&N([[c,m]]).catch(()=>S(t("reader.settings.error.label.failed_to_save_settings"),"warning"))};return l?a.jsx(P,{}):i?a.jsx(E,{message:t("global.error.label.failed_to_load_data"),messageExtra:i.message,retry:()=>g().catch(n())}):(v({meta:T(d)},"server",w()).catch(n()),a.jsx(b,{setSettingValue:u,staticNav:e.staticNav,showPageNumber:e.showPageNumber,loadNextOnEnding:e.loadNextOnEnding,skipDupChapters:e.skipDupChapters,fitPageToWindow:e.fitPageToWindow,scalePage:e.scalePage,readerType:e.readerType,offsetFirstPage:e.offsetFirstPage,readerWidth:e.readerWidth}))}export{F as DefaultReaderSettings};
