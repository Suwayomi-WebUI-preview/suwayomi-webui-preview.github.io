import{u as A,c as p,j as t,aP as J,a7 as M,_ as K,aJ as N,aK as O,bb as P,T as _,S as g,o as R,aL as W,b as C,aB as $,f as q,I as G,m as Q}from"./index-CKBxMd_h.js";import{d as U}from"./Delete-CgmxhIrM.js";import{d as X}from"./Info-2xKqwcLI.js";import{a as Y,T as Z}from"./TextSetting-CBA14Vva.js";const E=({handleDelete:a,mutable:i=!0,deletable:o=!0,...e})=>{const{t:h}=A();return t.jsxs(g,{direction:"row",children:[i?t.jsx(Z,{...e,dialogTitle:""}):t.jsx($,{children:t.jsx(M,{secondary:e.value})}),t.jsx(q,{title:h("chapter.action.download.delete.label.action"),children:t.jsx(G,{disabled:!o,size:"large",onClick:a,children:t.jsx(U,{})})})]})},V=a=>{var i;return(i=a==null?void 0:a.map(o=>o[0]))!=null?i:[]},st=({settingName:a,description:i,dialogDisclaimer:o,valueInfos:e,handleChange:h,addItemButtonTitle:j,placeholder:S,allowDuplicates:z=!1,validateItem:B=()=>!0,invalidItemError:b})=>{const{t:d}=A(),n=V(e),[F,f]=p.useState(!1),[l,x]=p.useState(n),[T,k]=p.useState(!1);p.useEffect(()=>{e&&x(n)},[e]);const m=(s=!0)=>{s&&x(n),f(!1)},u=(s,r)=>{if(r===void 0){x(l.toSpliced(s,1));return}if(!(!z&&l.includes(r))&&r!==""){if(!B(r)){Q(b!=null?b:d("global.error.label.invalid_input"),"error");return}x(l.toSpliced(s,1,r.trim()))}},H=()=>{m(!0),h(l.filter(s=>s!==""))};return t.jsxs(t.Fragment,{children:[t.jsx(J,{onClick:()=>f(!0),children:t.jsx(M,{primary:a,secondary:n!=null&&n.length?n==null?void 0:n.join(", "):i,secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),t.jsxs(K,{open:F,onClose:()=>m(),fullWidth:!0,children:[t.jsx(N,{children:a}),(!!i||!!o)&&t.jsx(O,{children:t.jsxs(P,{sx:{paddingBottom:"10px"},component:"div",children:[i&&t.jsx(_,{variant:"body1",sx:{whiteSpace:"pre-line"},children:i}),o&&t.jsxs(g,{direction:"row",sx:{alignItems:"center"},children:[t.jsx(X,{color:"warning"}),t.jsx(_,{variant:"body1",sx:{marginLeft:"10px",marginTop:"5px",whiteSpace:"pre-line"},children:o})]})]})}),t.jsx(O,{dividers:!0,sx:{maxHeight:"300px"},children:t.jsx(R,{children:l.map((s,r)=>{var D,y,L,w;return t.jsx(E,{settingName:"",placeholder:S,handleChange:c=>u(r,c),handleDelete:()=>u(r,void 0),value:s,mutable:(y=(D=e==null?void 0:e.find(([c])=>c===s))==null?void 0:D[1])==null?void 0:y.mutable,deletable:(w=(L=e==null?void 0:e.find(([c])=>c===s))==null?void 0:L[1])==null?void 0:w.deletable})})})}),t.jsx(W,{children:t.jsxs(g,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[t.jsx(C,{onClick:()=>k(!0),children:j!=null?j:d("global.button.add")}),t.jsxs(g,{direction:"row",children:[t.jsx(C,{onClick:()=>m(),children:d("global.button.cancel")}),t.jsx(C,{onClick:()=>H(),children:d("global.button.ok")})]})]})})]}),T&&t.jsx(Y,{settingName:"",placeholder:S,handleChange:s=>u(l.length,s),isDialogOpen:T,setIsDialogOpen:k})]})};export{st as M};
