!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t,n=["onCancel","cancelButtonProps"],r=["children","className","component","image","src","style"];function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function s(n,r,a,i){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return o(u,"_invoke",function(n,r,a){var o,i,s,c=0,u=a||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,i=0,s=e,f.n=n,l}};function h(n,r){for(i=n,s=r,t=0;!d&&c&&!a&&t<u.length;t++){var a,o=u[t],h=f.p,m=o[2];n>3?(a=m===r)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=h&&((a=n<2&&h<o[1])?(i=0,f.v=r,f.n=o[1]):h<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,f.n=m,i=0))}if(a||n>1)return l;throw d=!0,r}return function(a,u,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,m),i=u,s=m;(t=i<2?e:s)||!d;){o||(i?i<3?(i>1&&(f.n=-1),h(i,s)):f.n=s:f.v=s);try{if(c=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(d=f.n<0)?s:n.call(r,f))!==l)break}catch(t){o=e,i=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,a,i),!0),u}var l={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(o(t={},r,function(){return this}),t),h=d.prototype=c.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=d,o(h,"constructor",d),o(d,"constructor",u),u.displayName="GeneratorFunction",o(d,i,"GeneratorFunction"),o(h),o(h,i,"Generator"),o(h,r,function(){return this}),o(h,"toString",function(){return"[object Generator]"}),(a=function(){return{w:s,m:m}})()}function o(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}o=function(e,t,n,r){function i(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},o(e,t,n,r)}function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function h(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}System.register(["./index-legacy-Bn54ljrW.js","./Trackers-legacy-CfAoco_b.js","./AvatarSpinner-legacy-boNyAYeO.js","./Card-legacy-DjjSdlJb.js","./ListCardContent-legacy-XsSZ7IP9.js","./EmptyViewAbsoluteCentered-legacy-BNcXomnx.js","./CheckCircle-legacy-mw2v0qC9.js","./SpinnerImage-legacy-DrJn6crw.js","./Metadata-legacy-BFN7X5VE.js","./Mangas-legacy-Bp9TaDFz.js","./MUI.util-legacy-D9xMlHDR.js","./CardActionArea-legacy-wPKCTLO8.js","./Link-legacy-BzNrC7X_.js","./useManageMangaLibraryState-legacy-DHHAk5D1.js","./ListPreference-legacy-B5Aa8hnj.js","./NumberSetting-legacy-CgoLaesr.js","./useMobilePicker-legacy-B7Q25SbJ.js","./SelectSetting-legacy-DKW6RtLf.js","./CheckboxInput-legacy-B80fM3Gk.js","./FormGroup-legacy-DGqnXgP8.js","./Chapters-legacy-B-XoWtBW.js"],function(e,o){"use strict";var c,u,m,p,g,v,b,y,x,D,w,C,M,k,j,P,S,O,T,F,A,N,R,E,V,I,L,_,z,B,Y,W,H,K,G,U,q,Q,X,J,Z,$,ee,te,ne,re,ae,oe,ie,se,le,ce,ue,de,fe,he,me,pe,ge,ve,be,ye,xe,De,we,Ce,Me,ke,je,Pe,Se,Oe,Te,Fe,Ae,Ne,Re,Ee,Ve,Ie,Le,_e,ze,Be,Ye,We,He,Ke,Ge,Ue,qe,Qe,Xe,Je,Ze,$e,et,tt,nt,rt,at,ot,it,st,lt,ct,ut,dt,ft,ht,mt,pt,gt,vt,bt,yt,xt,Dt,wt,Ct,Mt,kt,jt,Pt,St,Ot,Tt,Ft,At,Nt,Rt,Et,Vt,It,Lt,_t,zt,Bt,Yt,Wt,Ht,Kt,Gt,Ut,qt,Qt,Xt,Jt,Zt,$t,en,tn,nn,rn,an,on,sn,ln,cn,un,dn;return{setters:[function(e){c=e.aU,u=e.aV,m=e.aW,p=e.am,g=e.aX,v=e.aY,b=e.c,y=e.j,x=e.aE,D=e.ay,w=e.I,C=e.u,M=e.b,k=e.r,j=e.B,P=e.X,S=e.W,O=e.f,T=e.Y,F=e._,A=e.Z,N=e.a0,R=e.U,E=e.H,V=e.C,I=e.aZ,L=e.aw,_=e.T,z=e.a_,B=e.p,Y=e.a$,W=e.b0,H=e.aB,K=e.aC,G=e.b1,U=e.b2,q=e.b3,Q=e.q,X=e.b4,J=e.i,Z=e.g,$=e.k,ee=e.N,te=e.b5,ne=e.m,re=e.b6,ae=e.a9,oe=e.a8,ie=e.b7,se=e.b8,le=e.b9,ce=e.a3,ue=e.a1,de=e.ba,fe=e.a6,he=e.a7,me=e.bb,pe=e.bc,ge=e.bd,ve=e.be,be=e.bf,ye=e.bg,xe=e.av,De=e.v,we=e.bh,Ce=e.o,Me=e.w,ke=e.aA,je=e.bi,Pe=e.bj,Se=e.ar,Oe=e.aD,Te=e.h,Fe=e.bk,Ae=e.bl,Ne=e.A,Re=e.ac,Ee=e.e,Ve=e.G,Ie=e.bm,Le=e.bn,_e=e.bo,ze=e.bp,Be=e.bq},function(e){Ye=e.C,We=e.P,He=e.T,Ke=e.a,Ge=e.D,Ue=e.b,qe=e.U},function(e){Qe=e.A},function(e){Xe=e.C},function(e){Je=e.C},function(e){Ze=e.E},function(e){$e=e.C},function(e){et=e.S},function(e){tt=e.M},function(e){nt=e.M,rt=e.a},function(e){at=e.M},function(e){ot=e.C},function(e){it=e.L},function(e){st=e.C,lt=e.M,ct=e.a,ut=e.g,dt=e.f},function(e){ft=e.L},function(e){ht=e.N},function(e){mt=e.u,pt=e._,gt=e.a,vt=e.b,bt=e.c,yt=e.d,xt=e.r,Dt=e.P,wt=e.s,Ct=e.e,Mt=e.f,kt=e.g,jt=e.h,Pt=e.i,St=e.j,Ot=e.k,Tt=e.l,Ft=e.C,At=e.S,Nt=e.m,Rt=e.n,Et=e.D,Vt=e.o,It=e.p,Lt=e.q,_t=e.t,zt=e.v,Bt=e.w,Yt=e.M,Wt=e.x,Ht=e.y,Kt=e.z,Gt=e.A,Ut=e.B,qt=e.E,Qt=e.F,Xt=e.G,Jt=e.V,Zt=e.H,$t=e.I,en=e.J,tn=e.K,nn=e.L,rn=e.N,an=e.O,on=e.Q},function(e){sn=e.S},function(e){ln=e.C},function(e){cn=e.F},function(e){un=e.C,dn=e.a}],execute:function(){function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var fn=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=o(n.className,r):n.setAttribute("class",o(n.className&&n.className.baseVal||"",r)));var n,r})},hn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),a=r[0],o=r[1];t.removeClasses(a,"exit"),t.addClass(a,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),a=r[0],o=r[1]?"appear":"enter";t.addClass(a,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),a=r[0],o=r[1]?"appear":"enter";t.removeClasses(a,o),t.addClass(a,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,a=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:a,activeClassName:r?a+"-active":n[e+"Active"],doneClassName:r?a+"-done":n[e+"Done"]}},t}c(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&a&&(r+=" "+a),"active"===n&&e&&u(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach(function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r})}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,a=n.active,o=n.done;this.appliedClasses[t]={},r&&fn(e,r),a&&fn(e,a),o&&fn(e,o)},n.render=function(){var e=this.props;e.classNames;var t=m(e,["classNames"]);return p.createElement(g,v({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(p.Component);hn.defaultProps={classNames:""},hn.propTypes={};var mn=b(y.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),pn=e("S",function(e){var t,r,a=e.onCancel,o=e.cancelButtonProps,i=h(e,n);return y.jsx(x,d(d({},i),{},{slotProps:{input:d(d({},i.InputProps),{},{sx:{color:"inherit"},endAdornment:null!==(t=null===(r=i.InputProps)||void 0===r?void 0:r.endAdornment)&&void 0!==t?t:y.jsx(D,{position:"end",children:y.jsx(w,d(d({},o),{},{onClick:function(){return a()},children:y.jsx(mn,{})}))})})}}))}),gn=(e("L",b(y.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"}))),e("a",b(y.jsx("path",{d:"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z"}))),function(e){var t=e.tracker,n=e.onClick,r=C(),a=r.i18n;r._;return y.jsx(Xe,{sx:Ye,children:y.jsx(Je,{sx:{padding:"0"},children:y.jsxs(M,{direction:"row",sx:{gap:3},children:[y.jsx(Qe,{alt:"".concat(t.name),iconUrl:k.getValidImgUrlFor(t.icon),slots:{avatarProps:{variant:"rounded",sx:{width:64,height:64}},spinnerImageProps:{ignoreQueue:!0}}}),y.jsx(j,{sx:{flexGrow:"1"},onClick:n,children:a._({id:"U/mpkT"})})]})})})});function vn(e){return P("MuiCardMedia",e)}S("MuiCardMedia",["root","media","img"]);var bn=F("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.isMediaComponent,a=n.isImageComponent;return[t.root,r&&t.media,a&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),yn=["video","audio","picture","iframe","img"],xn=["picture","img"],Dn=O.forwardRef(function(e,t){var n=T({props:e,name:"MuiCardMedia"}),a=n.children,o=n.className,i=n.component,s=void 0===i?"div":i,l=n.image,c=n.src,u=n.style,f=h(n,r),m=yn.includes(s),p=!m&&l?d({backgroundImage:'url("'.concat(l,'")')},u):u,g=d(d({},n),{},{component:s,isMediaComponent:m,isImageComponent:xn.includes(s)}),v=function(e){var t=e.classes,n=e.isMediaComponent,r=e.isImageComponent;return N({root:["root",n&&"media",r&&"img"]},vn,t)}(g);return y.jsx(bn,d(d({className:A(v.root,o),as:s,role:!m&&l?"img":void 0,ref:t,style:p,ownerState:g,src:m?l||c:void 0},f),{},{children:a}))}),wn=function(e){var t=e.title,n=e.selected;return y.jsxs(M,{direction:"row",sx:{gap:"5px",justifyContent:"space-between"},children:[y.jsx(V,{title:t,children:y.jsx(I,{variant:"h5",component:"h1",children:t})}),y.jsx($e,{sx:{visibility:n?"visible":"hidden"},color:"primary"})]})},Cn=function(e){var t=e.summary,n=C(),r=n.i18n,a=(n._,O.useRef(null)),o=l(O.useState(!1),2),i=o[0],s=o[1],c=l(O.useState(!1),2),u=c[0],f=c[1],h=u?50:0;return O.useLayoutEffect(function(){var e,t,n=(null!==(e=null===(t=a.current)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0)>50;f(n),s(!n)},[]),y.jsxs(y.Fragment,{children:[t.length&&y.jsx(L,{collapsedSize:h,in:i,children:y.jsx(_,{ref:a,variant:"body1",component:"p",sx:{whiteSpace:"pre-line"},children:t})}),t.length&&u&&y.jsx(j,d(d({component:"div"},at.preventRippleProp()),{},{onClick:function(e){e.stopPropagation(),s(!i)},children:i?r._({id:"6lGV3K"}):r._({id:"fMPkxb"})}))]})},Mn=function(e){var t=e.children,n=e.url;return y.jsx(it,d(d({},at.preventRippleProp()),{},{href:n,rel:"noreferrer",target:"_blank",underline:"none",color:"inherit",onClick:function(e){return e.stopPropagation()},children:t}))},kn=function(e){var t=e.manga,n=e.selected,r=e.onSelect,a=C(),o=a.i18n,i=(a._,R.useIsMobileWidth());return y.jsx(Xe,{sx:{backgroundColor:"background.default",marginBottom:2,"&:last-child":{marginBottom:8}},children:y.jsx(ot,{onClick:r,children:y.jsx(Je,{sx:{padding:"0",borderRadius:"inherit"},children:y.jsxs(E,{sx:{padding:1,border:"3px solid",borderRadius:"inherit",borderColor:n?"primary.main":"transparent"},children:[y.jsxs(M,{direction:"row",sx:{gap:2,marginBottom:2},children:[y.jsx(Dn,{sx:{aspectRatio:nt,minWidth:"100px",width:"150px",borderRadius:1,overflow:"hidden"},children:y.jsx(Mn,{url:t.trackingUrl,children:y.jsx(et,{useFetchApi:!1,disableCors:!0,ignoreQueue:!0,alt:t.title,src:t.coverUrl,spinnerStyle:{width:"100%",height:"100%"},imgStyle:{width:"100%",height:i?void 0:"100%",maxHeight:"100%",objectFit:"cover"}})})}),y.jsxs(M,{direction:"column",sx:{width:"100%"},children:[y.jsx(Mn,{url:t.trackingUrl,children:y.jsx(wn,{title:t.title,selected:n})}),t.publishingType&&y.jsx(tt,{title:o._({id:"+zy2Nq"}),value:o._(We[He.getPublishingType(t)])}),t.startDate&&y.jsx(tt,{title:o._({id:"JEGlfK"}),value:t.startDate}),t.publishingStatus&&y.jsx(tt,{title:o._({id:"uAQUqI"}),value:o._(Ke[He.getPublishingStatus(t)])}),t.score>0&&y.jsx(tt,{title:o._({id:"Eq6YVV"}),value:t.score}),t.totalChapters>0&&y.jsx(tt,{title:o._({id:"QIei5D"}),value:t.totalChapters})]})]}),y.jsx(Cn,{summary:t.summary})]})})})})},jn=function(e){var t=e.mangaId,n=e.selectedTrackerRemoteId,r=e.trackerId,a=e.closeSearchMode,o=e.supportsPrivateTracking,i=C(),s=i.i18n,c=(i._,l(k.useBindTracker(),2)),u=c[0],d=c[1],f=function(e){void 0!==n&&u({variables:{input:{mangaId:t,remoteId:n,trackerId:r,private:e}}}).then(function(){ne(s._({id:"hg1vrh"}),"success"),a()}).catch(function(e){return ne(s._({id:"t0VaCQ"}),"error",Z(e))})};return y.jsxs(M,{direction:"row",sx:{justifyContent:"center",position:"absolute",left:0,right:0,bottom:0,paddingBottom:Ge,gap:2,px:Ge},children:[y.jsx(j,{disabled:d.loading,size:"large",variant:"contained",onClick:function(){return f(!1)},sx:{flexBasis:"65%"},children:s._({id:"J2ZTMa"})}),o&&y.jsx(V,{title:s._({id:"Iy3yJp"}),disabled:d.loading,children:y.jsx(st,{disabled:d.loading,sx:{flexBasis:"10%",maxWidth:"100px"},variant:"contained",onClick:function(){return f(!0)},children:y.jsx(te,{})})})]})},Pn=function(e){var t,n,r=e.manga,a=e.tracker,o=e.closeSearchMode,i=e.trackedId,s=C(),c=s.i18n,u=(s._,z()),f=l(O.useState(r.title),2),h=f[0],m=f[1],p=l(O.useState(h),2),g=p[0],v=p[1],b=l(O.useState(i),2),x=b[0],j=b[1],P=k.useTrackerSearch(a.id,h,{notifyOnNetworkStatusChange:!0}),S=null!==(t=null===(n=P.data)||void 0===n?void 0:n.searchTracker.trackSearches)&&void 0!==t?t:[],T=!!S.length,F=!P.loading&&!P.error&&!T,A=!!P.error&&!P.loading;O.useEffect(function(){return j(i),function(){return P.abortRequest(new Error("MangaTrackerSearchCard(".concat(a.id,", ").concat(r.id,"): search changed")))}},[h]);var N=O.useMemo(function(){return!!x&&!!S.find(function(e){return e.remoteId===x})},[x,S])&&!A;return y.jsxs(y.Fragment,{children:[y.jsx(B,{sx:{padding:Ge},children:y.jsxs(M,{direction:"row",sx:{gap:"10px",alignItems:"center"},children:[y.jsx(w,{onClick:o,children:u(y.jsx(Y,{}),y.jsx(W,{}))}),y.jsx(pn,{sx:{width:"100%"},variant:"standard",value:g,onChange:function(e){return v(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&m(g)},onCancel:function(){return v("")},InputProps:{startAdornment:a.id===Ue.MYANIMELIST&&y.jsx(D,{position:"start",children:y.jsx(H,{variant:"popover",popupId:"tracker-search-info",children:function(e){return y.jsxs(y.Fragment,{children:[y.jsx(w,d(d({},K(e)),{},{color:"inherit",children:y.jsx(G,{})})),y.jsx(U,d(d({},q(e)),{},{anchorOrigin:{vertical:"bottom",horizontal:"left"},children:y.jsx(_,{sx:{padding:1,whiteSpace:"pre-line"},children:c._({id:"4NJZo4"})})}))]})}})})}})]})}),y.jsxs(Q,{dividers:!0,sx:d({padding:Ge,height:"100vh"},X(F||A,{position:"relative"})),children:[F&&y.jsx(Ze,{message:c._({id:"RbPhRX"})}),P.loading&&y.jsx(J,{}),A&&y.jsx(Ze,{message:c._({id:"6m5aox"}),messageExtra:Z(P.error),retry:function(){return P.refetch().catch($("TrackerSearch::refetch"))}}),y.jsx(ee,{sx:{padding:0},children:T&&S.map(function(e){return y.jsx(kn,{manga:e,selected:e.remoteId===x,onSelect:function(){return j(e.remoteId)}},e.id)})}),N&&y.jsx(jn,{mangaId:r.id,trackerId:a.id,closeSearchMode:o,selectedTrackerRemoteId:x,supportsPrivateTracking:a.supportsPrivateTracking})]})]})};function Sn(e){return P("MuiDatePickerToolbar",e)}S("MuiDatePickerToolbar",["root","title"]);var On=["toolbarFormat","toolbarPlaceholder","className","classes"],Tn=F(Dt,{name:"MuiDatePickerToolbar",slot:"Root"})({}),Fn=F(_,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),An=O.forwardRef(function(e,t){var n=mt({props:e,name:"MuiDatePickerToolbar"}),r=n.toolbarFormat,a=n.toolbarPlaceholder,o=void 0===a?"––":a,i=n.className,s=n.classes,l=pt(n,On),c=gt(),u=vt(),d=u.value,f=u.views,h=u.orientation,m=bt(),p=yt(),g=function(e){return N({root:["root"],title:["title"]},Sn,e)}(s),v=O.useMemo(function(){if(!c.isValid(d))return o;var e=xt(c,{format:r,views:f},!0);return c.formatByString(d,e)},[d,r,o,c,f]);return y.jsx(Tn,re({ref:t,toolbarTitle:m.datePickerToolbarTitle,className:A(g.root,i)},l,{children:y.jsx(Fn,{variant:"h4",align:"landscape"===h?"left":"center",ownerState:p,className:g.title,children:v})}))}),Nn=function(e){var t=e.props,n=e.value,r=e.timezone,a=e.adapter;if(null===n)return null;var o=t.shouldDisableDate,i=t.shouldDisableMonth,s=t.shouldDisableYear,l=t.disablePast,c=t.disableFuture,u=t.minDate,d=t.maxDate,f=a.date(void 0,r);switch(!0){case!a.isValid(n):return"invalidDate";case Boolean(o&&o(n)):return"shouldDisableDate";case Boolean(i&&i(n)):return"shouldDisableMonth";case Boolean(s&&s(n)):return"shouldDisableYear";case Boolean(c&&a.isAfterDay(n,f)):return"disableFuture";case Boolean(l&&a.isBeforeDay(n,f)):return"disablePast";case Boolean(u&&a.isBeforeDay(n,u)):return"minDate";case Boolean(d&&a.isAfterDay(n,d)):return"maxDate";default:return null}};function Rn(e){var t=gt(),n=bt();return O.useMemo(function(){var r=t.isValid(e)?t.format(e,"fullDate"):null;return n.openDatePickerDialogue(r)},[e,n,t])}function En(e){var t=gt(),n=Vn(e);return O.useMemo(function(){var r;return re({},e,n,{format:null!==(r=e.format)&&void 0!==r?r:t.formats.keyboardDate})},[e,n,t])}function Vn(e){var t=gt(),n=Ct();return O.useMemo(function(){var r,a;return{disablePast:null!==(r=e.disablePast)&&void 0!==r&&r,disableFuture:null!==(a=e.disableFuture)&&void 0!==a&&a,minDate:Mt(t,e.minDate,n.minDate),maxDate:Mt(t,e.maxDate,n.maxDate)}},[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,n])}function In(e,t){var n=mt({props:e,name:t}),r=Vn(n),a=O.useMemo(function(){var e;return null==(null===(e=n.localeText)||void 0===e?void 0:e.toolbarTitle)?n.localeText:re({},n.localeText,{datePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return re({},n,r,{localeText:a},jt({views:n.views,openTo:n.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:re({toolbar:An},n.slots)})}Nn.valueManager=wt;var Ln=function(e){var t=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).enableAccessibleFieldDOMStructure,t=void 0===e||e;return O.useMemo(function(){return{valueType:"date",validator:Nn,internal_valueManager:wt,internal_fieldValueManager:kt,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:En,internal_useOpenPickerButtonAriaLabel:Rn}},[t])}(e);return Pt({manager:t,props:e})},_n=["slots","slotProps"],zn=O.forwardRef(function(e,t){var n=mt({props:e,name:"MuiDateField"}),r=n.slots,a=n.slotProps,o=pt(n,_n),i=St({slotProps:a,ref:t,externalForwardedProps:o}),s=Ln(i);return y.jsx(Ot,{slots:r,slotProps:a,inputRef:o.inputRef,children:y.jsx(Tt,{fieldResponse:s,defaultOpenPickerIcon:Ft})})}),Bn=function(e){var t=e.shouldDisableDate,n=e.shouldDisableMonth,r=e.shouldDisableYear,a=e.minDate,o=e.maxDate,i=e.disableFuture,s=e.disablePast,l=e.timezone,c=gt();return O.useCallback(function(e){return null!==Nn({adapter:c,value:e,timezone:l,props:{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:r,minDate:a,maxDate:o,disableFuture:i,disablePast:s}})},[c,t,n,r,a,o,i,s,l])},Yn=function(e){var t=e.value,n=e.referenceDate,r=e.disableFuture,a=e.disablePast,o=e.maxDate,i=e.minDate,s=e.onMonthChange,c=e.onYearChange,u=e.reduceAnimations,d=e.shouldDisableDate,f=e.timezone,h=e.getCurrentMonthFromVisibleDate,m=gt(),p=O.useRef(function(e,t){return function(n,r){switch(r.type){case"setVisibleDate":return re({},n,{slideDirection:r.direction,currentMonth:r.month,isMonthSwitchingAnimating:!t.isSameMonth(r.month,n.currentMonth)&&!e&&!r.skipAnimation,focusedDay:r.focusedDay});case"changeMonthTimezone":var a=r.newTimezone;if(t.getTimezone(n.currentMonth)===a)return n;var o=t.setTimezone(n.currentMonth,a);return t.getMonth(o)!==t.getMonth(n.currentMonth)&&(o=t.setMonth(o,t.getMonth(n.currentMonth))),re({},n,{currentMonth:o});case"finishMonthSwitchingAnimation":return re({},n,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}}}(Boolean(u),m)).current,g=O.useMemo(function(){return wt.getInitialReferenceValue({value:t,adapter:m,timezone:f,props:e,referenceDate:n,granularity:At.day})},[n,f]),v=l(O.useReducer(p,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:m.startOfMonth(g),slideDirection:"left"}),2),b=v[0],y=v[1],x=Bn({shouldDisableDate:d,minDate:i,maxDate:o,disableFuture:r,disablePast:a,timezone:f});O.useEffect(function(){y({type:"changeMonthTimezone",newTimezone:m.getTimezone(g)})},[g,m]);var D=ae(function(e){var t=e.target,n=e.reason;if("cell-interaction"!==n||null==b.focusedDay||!m.isSameDay(t,b.focusedDay)){var l,u,d="cell-interaction"===n;if("cell-interaction"===n)l=h(t,b.currentMonth),u=t;else if(l=m.isSameMonth(t,b.currentMonth)?b.currentMonth:m.startOfMonth(t),x(u=t)){var p=m.startOfMonth(t),g=m.endOfMonth(t);u=Nt({adapter:m,date:u,minDate:m.isBefore(i,p)?p:i,maxDate:m.isAfter(o,g)?g:o,disablePast:a,disableFuture:r,isDateDisabled:x,timezone:f})}var v=!m.isSameMonth(b.currentMonth,l),D=!m.isSameYear(b.currentMonth,l);v&&(null==s||s(l)),D&&(null==c||c(m.startOfYear(l))),y({type:"setVisibleDate",month:l,direction:m.isAfterDay(l,b.currentMonth)?"left":"right",focusedDay:null!=b.focusedDay&&null!=u&&m.isSameDay(u,b.focusedDay)?b.focusedDay:u,skipAnimation:d})}}),w=O.useCallback(function(){y({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:g,calendarState:b,setVisibleDate:D,isDateDisabled:x,onMonthSwitchingAnimationEnd:w}},Wn=function(e){return P("MuiPickersFadeTransitionGroup",e)};S("MuiPickersFadeTransitionGroup",["root"]);var Hn=["children"],Kn=F(se,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function Gn(e){var t=mt({props:e,name:"MuiPickersFadeTransitionGroup"}),n=t.className,r=t.reduceAnimations,a=t.transKey,o=t.classes,i=t.children,s=pt(t,Hn),l=function(e){return N({root:["root"]},Wn,e)}(o),c=oe();return r?i:y.jsx(Kn,{className:A(l.root,n),ownerState:s,children:y.jsx(ie,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:c.transitions.duration.enteringScreen,enter:c.transitions.duration.enteringScreen,exit:0},children:i},a)})}function Un(e){return P("MuiPickersDay",e)}var qn=S("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function Qn(e){var t=e.disabled,n=e.selected,r=e.today,a=e.outsideCurrentMonth,o=e.day,i=e.disableMargin,s=e.disableHighlightToday,l=e.showDaysOutsideCurrentMonth,c=gt(),u=Rt().ownerState;return O.useMemo(function(){return re({},u,{day:o,isDaySelected:null!=n&&n,isDayDisabled:null!=t&&t,isDayCurrent:null!=r&&r,isDayOutsideMonth:null!=a&&a,isDayStartOfWeek:c.isSameDay(o,c.startOfWeek(o)),isDayEndOfWeek:c.isSameDay(o,c.endOfWeek(o)),disableMargin:null!=i&&i,disableHighlightToday:null!=s&&s,showDaysOutsideCurrentMonth:null!=l&&l})},[c,u,o,n,t,r,a,i,s,l])}var Xn=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],Jn=function(e){var t=e.theme;return re({},t.typography.caption,f(f(f(f({width:Vt,height:Vt,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):de(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":f({backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):de(t.palette.primary.main,t.palette.action.focusOpacity)},"&.".concat(qn.selected),{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark})},"&.".concat(qn.selected),{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}}),"&.".concat(qn.disabled,":not(.").concat(qn.selected,")"),{color:(t.vars||t).palette.text.disabled}),"&.".concat(qn.disabled,"&.").concat(qn.selected),{opacity:.6}),"variants",[{props:{disableMargin:!1},style:{margin:"0 ".concat(Et,"px")}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:f({},"&:not(.".concat(qn.selected,")"),{border:"1px solid ".concat((t.vars||t).palette.text.secondary)})}]))},Zn=function(e,t){var n=e.ownerState;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.isDayCurrent&&t.today,!n.isDayOutsideMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.isDayOutsideMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},$n=F(ue,{name:"MuiPickersDay",slot:"Root",overridesResolver:Zn})(Jn),er=F("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Zn})(function(e){var t=e.theme;return re({},Jn({theme:t}),{opacity:0,pointerEvents:"none"})}),tr=function(){},nr=O.forwardRef(function(e,t){var n=mt({props:e,name:"MuiPickersDay"}),r=n.autoFocus,a=void 0!==r&&r,o=n.className,i=n.classes,s=n.isAnimating,l=n.onClick,c=n.onDaySelect,u=n.onFocus,d=void 0===u?tr:u,f=n.onBlur,h=void 0===f?tr:f,m=n.onKeyDown,p=void 0===m?tr:m,g=n.onMouseDown,v=void 0===g?tr:g,b=n.onMouseEnter,x=void 0===b?tr:b,D=n.children,w=n.day,C=n.selected,M=n.disabled,k=n.today,j=n.outsideCurrentMonth,P=n.disableMargin,S=n.disableHighlightToday,T=n.showDaysOutsideCurrentMonth,F=pt(n,Xn),R=Qn({day:w,selected:C,disabled:M,today:k,outsideCurrentMonth:j,disableMargin:P,disableHighlightToday:S,showDaysOutsideCurrentMonth:T}),E=function(e,t){var n=t.isDaySelected,r=t.isDayDisabled,a=t.isDayCurrent,o=t.isDayOutsideMonth,i=t.disableMargin,s=t.disableHighlightToday,l=t.showDaysOutsideCurrentMonth,c=o&&!l;return N({root:["root",n&&!c&&"selected",r&&"disabled",!i&&"dayWithMargin",!s&&a&&"today",o&&l&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Un,e)}(i,R),V=gt(),I=O.useRef(null),L=le(I,t);ce(function(){!a||M||s||j||I.current.focus()},[a,M,s,j]);return j&&!T?y.jsx(er,{className:A(E.root,E.hiddenDaySpacingFiller,o),ownerState:R,role:F.role}):y.jsx($n,re({className:A(E.root,o),ref:L,centerRipple:!0,disabled:M,tabIndex:C?0:-1,onKeyDown:function(e){return p(e,w)},onFocus:function(e){return d(e,w)},onBlur:function(e){return h(e,w)},onMouseEnter:function(e){return x(e,w)},onClick:function(e){e.defaultMuiPrevented=!0,M||c(w),j&&e.currentTarget.focus(),l&&l(e)},onMouseDown:function(e){v(e),j&&e.preventDefault()}},F,{ownerState:R,children:null!=D?D:V.format(w,"dayOfMonth")}))}),rr=O.memo(nr),ar=function(e){return P("MuiPickersSlideTransition",e)},or=S("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),ir=["children","className","reduceAnimations","slideDirection","transKey","classes"],sr=F(se,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:function(e,t){return[t.root,f({},".".concat(or["slideEnter-left"]),t["slideEnter-left"]),f({},".".concat(or["slideEnter-right"]),t["slideEnter-right"]),f({},".".concat(or.slideEnterActive),t.slideEnterActive),f({},".".concat(or.slideExit),t.slideExit),f({},".".concat(or["slideExitActiveLeft-left"]),t["slideExitActiveLeft-left"]),f({},".".concat(or["slideExitActiveLeft-right"]),t["slideExitActiveLeft-right"])]}})(function(e){var t=e.theme,n=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return f(f(f(f(f(f({display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0}},"& .".concat(or["slideEnter-left"]),{willChange:"transform",transform:"translate(100%)",zIndex:1}),"& .".concat(or["slideEnter-right"]),{willChange:"transform",transform:"translate(-100%)",zIndex:1}),"& .".concat(or.slideEnterActive),{transform:"translate(0%)",transition:n}),"& .".concat(or.slideExit),{transform:"translate(0%)"}),"& .".concat(or["slideExitActiveLeft-left"]),{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0}),"& .".concat(or["slideExitActiveLeft-right"]),{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0})});var lr=function(e){return P("MuiDayCalendar",e)};S("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);var cr=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],ur=["ownerState"],dr=6*(Vt+2*Et),fr=F("div",{name:"MuiDayCalendar",slot:"Root"})({}),hr=F("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),mr=F(_,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(function(e){var t=e.theme;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary}}),pr=F(_,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(function(e){var t=e.theme;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.disabled}}),gr=F(_,{name:"MuiDayCalendar",slot:"WeekNumber"})(function(e){var t=e.theme;return re({},t.typography.caption,{width:Vt,height:Vt,padding:0,margin:"0 ".concat(Et,"px"),color:(t.vars||t).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})}),vr=F("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:dr}),br=F(function(e){var t=mt({props:e,name:"MuiPickersSlideTransition"}),n=t.children,r=t.className,a=t.reduceAnimations,o=t.slideDirection,i=t.transKey,s=t.classes,l=pt(t,ir),c=Rt().ownerState,u=re({},c,{slideDirection:o}),d=function(e,t){var n=t.slideDirection,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:["slideEnter-".concat(n)],exitActive:["slideExitActiveLeft-".concat(n)]};return N(r,ar,e)}(s,u),f=oe();if(a)return y.jsx("div",{className:A(d.root,r),children:n});var h={exit:d.exit,enterActive:d.enterActive,enter:d.enter,exitActive:d.exitActive};return y.jsx(sr,{className:A(d.root,r),childFactory:function(e){return O.cloneElement(e,{classNames:h})},role:"presentation",ownerState:u,children:y.jsx(hn,re({mountOnEnter:!0,unmountOnExit:!0,timeout:f.transitions.duration.complex,classNames:h},l,{children:n}),i)})},{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:dr}),yr=F("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),xr=F("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:"".concat(Et,"px 0"),display:"flex",justifyContent:"center"});function Dr(e){var t,n=e.parentProps,r=e.day,a=e.focusedDay,o=e.selectedDays,i=e.isDateDisabled,s=e.currentMonthNumber,l=e.isViewFocused,c=pt(e,cr),u=n.disabled,d=n.disableHighlightToday,f=n.isMonthSwitchingAnimating,h=n.showDaysOutsideCurrentMonth,m=n.slots,p=n.slotProps,g=n.timezone,v=gt(),b=It(g),x=null!=a&&v.isSameDay(r,a),D=l&&x,w=o.some(function(e){return v.isSameDay(e,r)}),C=v.isSameDay(r,b),M=O.useMemo(function(){return u||i(r)},[u,i,r]),k=O.useMemo(function(){return v.getMonth(r)!==s},[v,r,s]),j=Qn({day:r,selected:w,disabled:M,today:C,outsideCurrentMonth:k,disableMargin:void 0,disableHighlightToday:d,showDaysOutsideCurrentMonth:h}),P=null!==(t=null==m?void 0:m.day)&&void 0!==t?t:rr,S=he({elementType:P,externalSlotProps:null==p?void 0:p.day,additionalProps:re({disableHighlightToday:d,showDaysOutsideCurrentMonth:h,role:"gridcell",isAnimating:f,"data-timestamp":v.toJsDate(r).valueOf()},c),ownerState:re({},j,{day:r,isDayDisabled:M,isDaySelected:w})}),T=pt(S,ur),F=O.useMemo(function(){var e=v.startOfMonth(v.setMonth(r,s));return h?v.isSameDay(r,v.startOfWeek(e)):v.isSameDay(r,e)},[s,r,h,v]),A=O.useMemo(function(){var e=v.endOfMonth(v.setMonth(r,s));return h?v.isSameDay(r,v.endOfWeek(e)):v.isSameDay(r,e)},[s,r,h,v]);return y.jsx(P,re({},T,{day:r,disabled:M,autoFocus:!k&&D,today:C,outsideCurrentMonth:k,isFirstVisibleCell:F,isLastVisibleCell:A,selected:w,tabIndex:x?0:-1,"aria-selected":w,"aria-current":C?"date":void 0}))}function wr(e){var t=mt({props:e,name:"MuiDayCalendar"}),n=gt(),r=t.onFocusedDayChange,a=t.className,o=t.classes,i=t.currentMonth,s=t.selectedDays,l=t.focusedDay,c=t.loading,u=t.onSelectedDaysChange,d=t.onMonthSwitchingAnimationEnd,f=t.readOnly,h=t.reduceAnimations,m=t.renderLoading,p=void 0===m?function(){return y.jsx("span",{children:"..."})}:m,g=t.slideDirection,v=t.TransitionProps,b=t.disablePast,x=t.disableFuture,D=t.minDate,w=t.maxDate,C=t.shouldDisableDate,M=t.shouldDisableMonth,k=t.shouldDisableYear,j=t.dayOfWeekFormatter,P=void 0===j?function(e){return n.format(e,"weekdayShort").charAt(0).toUpperCase()}:j,S=t.hasFocus,T=t.onFocusedViewChange,F=t.gridLabelId,R=t.displayWeekNumber,E=t.fixedWeekNumber,V=t.timezone,I=It(V),L=function(e){return N({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},lr,e)}(o),_=fe(),z=Bn({shouldDisableDate:C,shouldDisableMonth:M,shouldDisableYear:k,minDate:D,maxDate:w,disablePast:b,disableFuture:x,timezone:V}),B=bt(),Y=ae(function(e){f||u(e)}),W=function(e){z(e)||(r(e),null==T||T(!0))},H=ae(function(e,t){switch(e.key){case"ArrowUp":W(n.addDays(t,-7)),e.preventDefault();break;case"ArrowDown":W(n.addDays(t,7)),e.preventDefault();break;case"ArrowLeft":var r=n.addDays(t,_?1:-1),a=n.addMonths(t,_?1:-1),o=Nt({adapter:n,date:r,minDate:_?r:n.startOfMonth(a),maxDate:_?n.endOfMonth(a):r,isDateDisabled:z,timezone:V});W(o||r),e.preventDefault();break;case"ArrowRight":var i=n.addDays(t,_?-1:1),s=n.addMonths(t,_?-1:1),l=Nt({adapter:n,date:i,minDate:_?n.startOfMonth(s):i,maxDate:_?i:n.endOfMonth(s),isDateDisabled:z,timezone:V});W(l||i),e.preventDefault();break;case"Home":W(n.startOfWeek(t)),e.preventDefault();break;case"End":W(n.endOfWeek(t)),e.preventDefault();break;case"PageUp":W(n.addMonths(t,1)),e.preventDefault();break;case"PageDown":W(n.addMonths(t,-1)),e.preventDefault()}}),K=ae(function(e,t){return W(t)}),G=ae(function(e,t){null!=l&&n.isSameDay(l,t)&&(null==T||T(!1))}),U=n.getMonth(i),q=n.getYear(i),Q=O.useMemo(function(){return s.filter(function(e){return!!e}).map(function(e){return n.startOfDay(e)})},[n,s]),X="".concat(q,"-").concat(U),J=O.useMemo(function(){return O.createRef()},[X]),Z=O.useMemo(function(){for(var e=n.getWeekArray(i),t=n.addMonths(i,1);E&&e.length<E;){var r=n.getWeekArray(t),a=n.isSameDay(e[e.length-1][0],r[0][0]);r.slice(a?1:0).forEach(function(t){e.length<E&&e.push(t)}),t=n.addMonths(t,1)}return e},[i,E,n]);return y.jsxs(fr,{role:"grid","aria-labelledby":F,className:L.root,children:[y.jsxs(hr,{role:"row",className:L.header,children:[R&&y.jsx(pr,{variant:"caption",role:"columnheader","aria-label":B.calendarWeekNumberHeaderLabel,className:L.weekNumberLabel,children:B.calendarWeekNumberHeaderText}),Lt(n,I).map(function(e,t){return y.jsx(mr,{variant:"caption",role:"columnheader","aria-label":n.format(e,"weekday"),className:L.weekDayLabel,children:P(e)},t.toString())})]}),c?y.jsx(vr,{className:L.loadingContainer,children:p()}):y.jsx(br,re({transKey:X,onExited:d,reduceAnimations:h,slideDirection:g,className:A(a,L.slideTransition)},v,{nodeRef:J,children:y.jsx(yr,{ref:J,role:"rowgroup",className:L.monthContainer,children:Z.map(function(e,r){return y.jsxs(xr,{role:"row",className:L.weekContainer,"aria-rowindex":r+1,children:[R&&y.jsx(gr,{className:L.weekNumber,role:"rowheader","aria-label":B.calendarWeekNumberAriaLabelText(n.getWeekNumber(e[0])),children:B.calendarWeekNumberText(n.getWeekNumber(e[0]))}),e.map(function(e,n){return y.jsx(Dr,{parentProps:t,day:e,selectedDays:Q,isViewFocused:S,focusedDay:l,onKeyDown:H,onFocus:K,onBlur:G,onDaySelect:Y,isDateDisabled:z,currentMonthNumber:U,"aria-colindex":n+1},e.toString())})]},"week-".concat(e[0]))})})}))]})}function Cr(e){return P("MuiMonthCalendar",e)}var Mr=S("MuiMonthCalendar",["root","button","disabled","selected"]),kr=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],jr=F("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:function(e,t){return[t.button,f({},"&.".concat(Mr.disabled),t.disabled),f({},"&.".concat(Mr.selected),t.selected)]}})(function(e){var t=e.theme;return re({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,f(f({height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):de(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):de(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"}},"&.".concat(Mr.disabled),{color:(t.vars||t).palette.text.secondary}),"&.".concat(Mr.selected),{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}))}),Pr=O.memo(function(e){var t,n=e.autoFocus,r=e.classes,a=e.disabled,o=e.selected,i=e.value,s=e.onClick,l=e.onKeyDown,c=e.onFocus,u=e.onBlur,d=e.slots,f=e.slotProps,h=pt(e,kr),m=O.useRef(null),p=Rt().ownerState,g=re({},p,{isMonthDisabled:a,isMonthSelected:o}),v=function(e,t){var n={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return N(n,Cr,e)}(r,g);ce(function(){var e;n&&(null===(e=m.current)||void 0===e||e.focus())},[n]);var b=null!==(t=null==d?void 0:d.monthButton)&&void 0!==t?t:jr,x=he({elementType:b,externalSlotProps:null==f?void 0:f.monthButton,externalForwardedProps:h,additionalProps:{disabled:a,ref:m,type:"button",role:"radio","aria-checked":o,onClick:function(e){return s(e,i)},onKeyDown:function(e){return l(e,i)},onFocus:function(e){return c(e,i)},onBlur:function(e){return u(e,i)}},ownerState:g,className:v.button});return y.jsx(b,re({},x))}),Sr=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"];var Or=function(e,t,n,r,a){return Boolean(e===t&&r&&a.isSameYear(n,r))},Tr=F("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:function(e){return pe(e)&&"monthsPerRow"!==e}})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:Bt,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),Fr=O.forwardRef(function(e,t){var n,r=function(e,t){var n,r=mt({props:e,name:t}),a=Vn(r);return re({},r,a,{monthsPerRow:null!==(n=r.monthsPerRow)&&void 0!==n?n:3})}(e,"MuiMonthCalendar"),a=r.autoFocus,o=r.className,i=r.currentMonth,s=r.classes,c=r.value,u=r.defaultValue,d=r.referenceDate,f=r.disabled,h=r.disableFuture,m=r.disablePast,p=r.maxDate,g=r.minDate,v=r.onChange,b=r.shouldDisableMonth,x=r.readOnly,D=r.onMonthFocus,w=r.hasFocus,C=r.onFocusedViewChange,M=r.monthsPerRow,k=r.timezone,j=r.gridLabelId,P=r.slots,S=r.slotProps,T=pt(r,Sr),F=_t({name:"MonthCalendar",timezone:k,value:c,defaultValue:u,referenceDate:d,onChange:v,valueManager:wt}),R=F.value,E=F.handleValueChange,V=F.timezone,I=It(V),L=fe(),_=gt(),z=Rt().ownerState,B=O.useMemo(function(){return wt.getInitialReferenceValue({value:R,adapter:_,props:r,timezone:V,referenceDate:d,granularity:At.month})},[]),Y=function(e){return N({root:["root"]},Cr,e)}(s),W=O.useMemo(function(){return _.getMonth(I)},[_,I]),H=O.useMemo(function(){return null!=R?_.getMonth(R):null},[R,_]),K=l(O.useState(function(){return H||_.getMonth(B)}),2),G=K[0],U=K[1],q=l(me({name:"MonthCalendar",state:"hasFocus",controlled:w,default:null!=a&&a}),2),Q=q[0],X=q[1],J=ae(function(e){X(e),C&&C(e)}),Z=O.useCallback(function(e){var t=_.startOfMonth(m&&_.isAfter(I,g)?I:g),n=_.startOfMonth(h&&_.isBefore(I,p)?I:p),r=_.startOfMonth(e);return!!_.isBefore(r,t)||(!!_.isAfter(r,n)||!!b&&b(r))},[h,m,p,g,I,b,_]),$=ae(function(e,t){if(!x){var n=R&&i&&!_.isSameYear(R,i)?_.setYear(R,_.getYear(i)):R,r=_.setMonth(null!=n?n:B,t);E(r)}}),ee=ae(function(e){var t;Z(_.setMonth(null!==(t=null!=R?R:i)&&void 0!==t?t:B,e))||(U(e),J(!0),D&&D(e))});O.useEffect(function(){U(function(e){return null!==H&&e!==H?H:e})},[H]);var te=ae(function(e,t){var n=12;switch(e.key){case"ArrowUp":ee((n+t-3)%n),e.preventDefault();break;case"ArrowDown":ee((n+t+3)%n),e.preventDefault();break;case"ArrowLeft":ee((n+t+(L?1:-1))%n),e.preventDefault();break;case"ArrowRight":ee((n+t+(L?-1:1))%n),e.preventDefault()}}),ne=ae(function(e,t){ee(t)}),oe=ae(function(e,t){G===t&&J(!1)});return y.jsx(Tr,re({ref:t,className:A(Y.root,o),ownerState:z,role:"radiogroup","aria-labelledby":j,monthsPerRow:M},T,{children:zt(_,null!==(n=null!=i?i:R)&&void 0!==n?n:B).map(function(e){var t=_.getMonth(e),n=_.format(e,"monthShort"),r=_.format(e,"month"),a=Or(t,H,e,R,_),o=f||Z(e);return y.jsx(Pr,{selected:a,value:t,onClick:$,onKeyDown:te,autoFocus:Q&&t===G,disabled:o,tabIndex:t!==G||o?-1:0,onFocus:ne,onBlur:oe,"aria-current":Or(t,W,e,I,_)?"date":void 0,"aria-label":r,slots:P,slotProps:S,classes:s,children:n},n)})}))});function Ar(e){return P("MuiYearCalendar",e)}var Nr=S("MuiYearCalendar",["root","button","disabled","selected"]),Rr=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Er=F("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:function(e,t){return[t.button,f({},"&.".concat(Nr.disabled),t.disabled),f({},"&.".concat(Nr.selected),t.selected)]}})(function(e){var t=e.theme;return re({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,f(f({height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):de(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):de(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"}},"&.".concat(Nr.disabled),{color:(t.vars||t).palette.text.secondary}),"&.".concat(Nr.selected),{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}))}),Vr=O.memo(function(e){var t,n=e.autoFocus,r=e.classes,a=e.disabled,o=e.selected,i=e.value,s=e.onClick,l=e.onKeyDown,c=e.onFocus,u=e.onBlur,d=e.slots,f=e.slotProps,h=pt(e,Rr),m=O.useRef(null),p=Rt().ownerState,g=re({},p,{isYearDisabled:a,isYearSelected:o}),v=function(e,t){var n={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return N(n,Ar,e)}(r,g);ce(function(){var e;n&&(null===(e=m.current)||void 0===e||e.focus())},[n]);var b=null!==(t=null==d?void 0:d.yearButton)&&void 0!==t?t:Er,x=he({elementType:b,externalSlotProps:null==f?void 0:f.yearButton,externalForwardedProps:h,additionalProps:{disabled:a,ref:m,type:"button",role:"radio","aria-checked":o,onClick:function(e){return s(e,i)},onKeyDown:function(e){return l(e,i)},onFocus:function(e){return c(e,i)},onBlur:function(e){return u(e,i)}},ownerState:g,className:v.button});return y.jsx(b,re({},x))}),Ir=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"];var Lr=F("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:function(e){return pe(e)&&"yearsPerRow"!==e}})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:Bt,maxHeight:Yt,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),_r=F("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),zr=O.forwardRef(function(e,t){var n=function(e,t){var n,r,a=mt({props:e,name:t}),o=Vn(a);return re({},a,o,{yearsPerRow:null!==(n=a.yearsPerRow)&&void 0!==n?n:3,yearsOrder:null!==(r=a.yearsOrder)&&void 0!==r?r:"asc"})}(e,"MuiYearCalendar"),r=n.autoFocus,a=n.className,o=n.classes,i=n.value,s=n.defaultValue,c=n.referenceDate,u=n.disabled,d=n.disableFuture,f=n.disablePast,h=n.maxDate,m=n.minDate,p=n.onChange,g=n.readOnly,v=n.shouldDisableYear,b=n.onYearFocus,x=n.hasFocus,D=n.onFocusedViewChange,w=n.yearsOrder,C=n.yearsPerRow,M=n.timezone,k=n.gridLabelId,j=n.slots,P=n.slotProps,S=pt(n,Ir),T=_t({name:"YearCalendar",timezone:M,value:i,defaultValue:s,referenceDate:c,onChange:p,valueManager:wt}),F=T.value,R=T.handleValueChange,E=T.timezone,V=It(E),I=fe(),L=gt(),_=Rt().ownerState,z=O.useMemo(function(){return wt.getInitialReferenceValue({value:F,adapter:L,props:n,timezone:E,referenceDate:c,granularity:At.year})},[]),B=function(e){return N({root:["root"]},Ar,e)}(o),Y=O.useMemo(function(){return L.getYear(V)},[L,V]),W=O.useMemo(function(){return null!=F?L.getYear(F):null},[F,L]),H=l(O.useState(function(){return W||L.getYear(z)}),2),K=H[0],G=H[1],U=l(me({name:"YearCalendar",state:"hasFocus",controlled:x,default:null!=r&&r}),2),q=U[0],Q=U[1],X=ae(function(e){Q(e),D&&D(e)}),J=O.useCallback(function(e){if(f&&L.isBeforeYear(e,V))return!0;if(d&&L.isAfterYear(e,V))return!0;if(m&&L.isBeforeYear(e,m))return!0;if(h&&L.isAfterYear(e,h))return!0;if(!v)return!1;var t=L.startOfYear(e);return v(t)},[d,f,h,m,V,v,L]),Z=ae(function(e,t){if(!g){var n=L.setYear(null!=F?F:z,t);R(n)}}),$=ae(function(e){J(L.setYear(null!=F?F:z,e))||(G(e),X(!0),null==b||b(e))});O.useEffect(function(){G(function(e){return null!==W&&e!==W?W:e})},[W]);var ee="desc"!==w?1*C:-1*C,te=I&&"asc"===w||!I&&"desc"===w?-1:1,ne=ae(function(e,t){switch(e.key){case"ArrowUp":$(t-ee),e.preventDefault();break;case"ArrowDown":$(t+ee),e.preventDefault();break;case"ArrowLeft":$(t-te),e.preventDefault();break;case"ArrowRight":$(t+te),e.preventDefault()}}),oe=ae(function(e,t){$(t)}),ie=ae(function(e,t){K===t&&X(!1)}),se=O.useRef(null),ce=le(t,se);O.useEffect(function(){if(!r&&null!==se.current){var e=se.current.querySelector('[tabindex="0"]');if(e){var t=e.offsetHeight,n=e.offsetTop,a=se.current.clientHeight,o=se.current.scrollTop,i=n+t;t>a||n<o||(se.current.scrollTop=i-a/2-t/2)}}},[r]);var ue=L.getYearRange([m,h]);"desc"===w&&ue.reverse();var de=C-ue.length%C;return de===C&&(de=0),y.jsxs(Lr,re({ref:ce,className:A(B.root,a),ownerState:_,role:"radiogroup","aria-labelledby":k,yearsPerRow:C},S,{children:[ue.map(function(e){var t=L.getYear(e),n=t===W,r=u||J(e);return y.jsx(Vr,{selected:n,value:t,onClick:Z,onKeyDown:ne,autoFocus:q&&t===K,disabled:r,tabIndex:t!==K||r?-1:0,onFocus:oe,onBlur:ie,"aria-current":Y===t?"date":void 0,slots:j,slotProps:P,classes:o,children:L.format(e,"year")},L.format(e,"year"))}),Array.from({length:de},function(e,t){return y.jsx(_r,{},t)})]}))}),Br=function(e){return P("MuiPickersCalendarHeader",e)},Yr=S("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),Wr=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],Hr=["ownerState"],Kr=F("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Gr=F("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(function(e){var t=e.theme;return re({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})}),Ur=F("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),qr=F(w,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:f({},".".concat(Yr.switchViewIcon),{transform:"rotate(180deg)"})}]}),Qr=F(Gt,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(function(e){return{willChange:"transform",transition:e.theme.transitions.create("transform"),transform:"rotate(0deg)"}}),Xr=O.forwardRef(function(e,t){var n,r,a=bt(),o=gt(),i=mt({props:e,name:"MuiPickersCalendarHeader"}),s=i.slots,l=i.slotProps,c=i.currentMonth,u=i.disabled,d=i.disableFuture,f=i.disablePast,h=i.maxDate,m=i.minDate,p=i.onMonthChange,g=i.onViewChange,v=i.view,b=i.reduceAnimations,x=i.views,D=i.labelId,w=i.className,C=i.classes,M=i.timezone,k=i.format,j=void 0===k?"".concat(o.formats.month," ").concat(o.formats.year):k,P=pt(i,Wr),S=Rt().ownerState,O=function(e){return N({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Br,e)}(C),T=null!==(n=null==s?void 0:s.switchViewButton)&&void 0!==n?n:qr,F=he({elementType:T,externalSlotProps:null==l?void 0:l.switchViewButton,additionalProps:{size:"small","aria-label":a.calendarViewSwitchingButtonAriaLabel(v)},ownerState:re({},S,{view:v}),className:O.switchViewButton}),R=null!==(r=null==s?void 0:s.switchViewIcon)&&void 0!==r?r:Qr,E=he({elementType:R,externalSlotProps:null==l?void 0:l.switchViewIcon,ownerState:S,className:O.switchViewIcon}),V=pt(E,Hr),I=Wt(c,{disableFuture:d,maxDate:h,timezone:M}),L=Ht(c,{disablePast:f,minDate:m,timezone:M});if(1===x.length&&"year"===x[0])return null;var _=o.formatByString(c,j);return y.jsxs(Kr,re({},P,{ownerState:S,className:A(O.root,w),ref:t,children:[y.jsxs(Gr,{role:"presentation",onClick:function(){if(1!==x.length&&g&&!u)if(2===x.length)g(x.find(function(e){return e!==v})||x[0]);else{var e=0!==x.indexOf(v)?0:1;g(x[e])}},ownerState:S,"aria-live":"polite",className:O.labelContainer,children:[y.jsx(Gn,{reduceAnimations:b,transKey:_,children:y.jsx(Ur,{id:D,ownerState:S,className:O.label,children:_})}),x.length>1&&!u&&y.jsx(T,re({},F,{children:y.jsx(R,re({},V))}))]}),y.jsx(ie,{in:"day"===v,appear:!b,enter:!b,children:y.jsx(Kt,{slots:s,slotProps:l,onGoToPrevious:function(){return p(o.addMonths(c,-1))},isPreviousDisabled:L,previousLabel:a.previousMonth,onGoToNext:function(){return p(o.addMonths(c,1))},isNextDisabled:I,nextLabel:a.nextMonth})})]}))}),Jr=function(e){return P("MuiDateCalendar",e)};S("MuiDateCalendar",["root","viewTransitionContainer"]);var Zr=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"];var $r=F(Xt,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Jt}),ea=F(Gn,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),ta=O.forwardRef(function(e,t){var n,r=gt(),a=Rt().ownerState,o=ge(),i=function(e,t){var n,r,a,o,i=mt({props:e,name:t}),s=Qt(i.reduceAnimations),l=Vn(i);return re({},i,l,{loading:null!==(n=i.loading)&&void 0!==n&&n,openTo:null!==(r=i.openTo)&&void 0!==r?r:"day",views:null!==(a=i.views)&&void 0!==a?a:["year","day"],reduceAnimations:s,renderLoading:null!==(o=i.renderLoading)&&void 0!==o?o:function(){return y.jsx("span",{children:"..."})}})}(e,"MuiDateCalendar"),s=i.autoFocus,l=i.onViewChange,c=i.value,u=i.defaultValue,d=i.referenceDate,f=i.disableFuture,h=i.disablePast,m=i.onChange,p=i.onMonthChange,g=i.reduceAnimations,v=i.shouldDisableDate,b=i.shouldDisableMonth,x=i.shouldDisableYear,D=i.view,w=i.views,C=i.openTo,M=i.className,k=i.classes,j=i.disabled,P=i.readOnly,S=i.minDate,T=i.maxDate,F=i.disableHighlightToday,R=i.focusedView,E=i.onFocusedViewChange,V=i.showDaysOutsideCurrentMonth,I=i.fixedWeekNumber,L=i.dayOfWeekFormatter,_=i.slots,z=i.slotProps,B=i.loading,Y=i.renderLoading,W=i.displayWeekNumber,H=i.yearsOrder,K=i.yearsPerRow,G=i.monthsPerRow,U=i.timezone,q=pt(i,Zr),Q=_t({name:"DateCalendar",timezone:U,value:c,defaultValue:u,referenceDate:d,onChange:m,valueManager:wt}),X=Q.value,J=Q.handleValueChange,Z=Q.timezone,$=Ut({view:D,views:w,openTo:C,onChange:J,onViewChange:l,autoFocus:s,focusedView:R,onFocusedViewChange:E}),ee=$.view,te=$.setView,ne=$.focusedView,oe=$.setFocusedView,ie=$.goToNextView,se=$.setValueAndGoToNextView,le=Yn({value:X,referenceDate:d,reduceAnimations:g,onMonthChange:p,minDate:S,maxDate:T,shouldDisableDate:v,disablePast:h,disableFuture:f,timezone:Z,getCurrentMonthFromVisibleDate:function(e,t){return r.isSameMonth(e,t)?t:r.startOfMonth(e)}}),ce=le.referenceDate,ue=le.calendarState,de=le.setVisibleDate,fe=le.isDateDisabled,me=le.onMonthSwitchingAnimationEnd,pe=j&&X||S,ve=j&&X||T,be="".concat(o,"-grid-label"),ye=null!==ne,xe=null!==(n=null==_?void 0:_.calendarHeader)&&void 0!==n?n:Xr,De=he({elementType:xe,externalSlotProps:null==z?void 0:z.calendarHeader,additionalProps:{views:w,view:ee,currentMonth:ue.currentMonth,onViewChange:te,onMonthChange:function(e){return de({target:e,reason:"header-navigation"})},minDate:pe,maxDate:ve,disabled:j,disablePast:h,disableFuture:f,reduceAnimations:g,timezone:Z,labelId:be},ownerState:a}),we=ae(function(e){var t=r.startOfMonth(e),n=r.endOfMonth(e),a=fe(e)?Nt({adapter:r,date:e,minDate:r.isBefore(S,t)?t:S,maxDate:r.isAfter(T,n)?n:T,disablePast:h,disableFuture:f,isDateDisabled:fe,timezone:Z}):e;a?(se(a,"finish"),de({target:a,reason:"cell-interaction"})):(ie(),de({target:t,reason:"cell-interaction"}))}),Ce=ae(function(e){var t=r.startOfYear(e),n=r.endOfYear(e),a=fe(e)?Nt({adapter:r,date:e,minDate:r.isBefore(S,t)?t:S,maxDate:r.isAfter(T,n)?n:T,disablePast:h,disableFuture:f,isDateDisabled:fe,timezone:Z}):e;a?(se(a,"finish"),de({target:a,reason:"cell-interaction"})):(ie(),de({target:t,reason:"cell-interaction"}))}),Me=ae(function(e){return J(e?qt(r,e,null!=X?X:ce):e,"finish",ee)});O.useEffect(function(){r.isValid(X)&&de({target:X,reason:"controlled-value-change"})},[X]);var ke=function(e){return N({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Jr,e)}(k),je={disablePast:h,disableFuture:f,maxDate:T,minDate:S},Pe={disableHighlightToday:F,readOnly:P,disabled:j,timezone:Z,gridLabelId:be,slots:_,slotProps:z},Se=O.useRef(ee);O.useEffect(function(){Se.current!==ee&&(ne===Se.current&&oe(ee,!0),Se.current=ee)},[ne,oe,ee]);var Oe=O.useMemo(function(){return[X]},[X]);return y.jsxs($r,re({ref:t,className:A(ke.root,M),ownerState:a},q,{children:[y.jsx(xe,re({},De,{slots:_,slotProps:z})),y.jsx(ea,{reduceAnimations:g,className:ke.viewTransitionContainer,transKey:ee,ownerState:a,children:y.jsxs("div",{children:["year"===ee&&y.jsx(zr,re({},je,Pe,{value:X,onChange:Ce,shouldDisableYear:x,hasFocus:ye,onFocusedViewChange:function(e){return oe("year",e)},yearsOrder:H,yearsPerRow:K,referenceDate:ce})),"month"===ee&&y.jsx(Fr,re({},je,Pe,{currentMonth:ue.currentMonth,hasFocus:ye,className:M,value:X,onChange:we,shouldDisableMonth:b,onFocusedViewChange:function(e){return oe("month",e)},monthsPerRow:G,referenceDate:ce})),"day"===ee&&y.jsx(wr,re({},ue,je,Pe,{onMonthSwitchingAnimationEnd:me,hasFocus:ye,onFocusedDayChange:function(e){return de({target:e,reason:"cell-interaction"})},reduceAnimations:g,selectedDays:Oe,onSelectedDaysChange:Me,shouldDisableDate:v,shouldDisableMonth:b,shouldDisableYear:x,onFocusedViewChange:function(e){return oe("day",e)},showDaysOutsideCurrentMonth:V,fixedWeekNumber:I,dayOfWeekFormatter:L,displayWeekNumber:W,loading:B,renderLoading:Y}))]})})]}))}),na=function(e){var t=e.view,n=e.onViewChange,r=e.views,a=e.focusedView,o=e.onFocusedViewChange,i=e.value,s=e.defaultValue,l=e.referenceDate,c=e.onChange,u=e.className,d=e.classes,f=e.disableFuture,h=e.disablePast,m=e.minDate,p=e.maxDate,g=e.shouldDisableDate,v=e.shouldDisableMonth,b=e.shouldDisableYear,x=e.reduceAnimations,D=e.onMonthChange,w=e.monthsPerRow,C=e.onYearChange,M=e.yearsOrder,k=e.yearsPerRow,j=e.slots,P=e.slotProps,S=e.loading,O=e.renderLoading,T=e.disableHighlightToday,F=e.readOnly,A=e.disabled,N=e.showDaysOutsideCurrentMonth,R=e.dayOfWeekFormatter,E=e.sx,V=e.autoFocus,I=e.fixedWeekNumber,L=e.displayWeekNumber,_=e.timezone;return y.jsx(ta,{view:t,onViewChange:n,views:r.filter(Zt),focusedView:a&&Zt(a)?a:null,onFocusedViewChange:o,value:i,defaultValue:s,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:f,disablePast:h,minDate:m,maxDate:p,shouldDisableDate:g,shouldDisableMonth:v,shouldDisableYear:b,reduceAnimations:x,onMonthChange:D,monthsPerRow:w,onYearChange:C,yearsOrder:M,yearsPerRow:k,slots:j,slotProps:P,loading:S,renderLoading:O,disableHighlightToday:T,readOnly:F,disabled:A,showDaysOutsideCurrentMonth:N,dayOfWeekFormatter:R,sx:E,autoFocus:V,fixedWeekNumber:I,displayWeekNumber:L,timezone:_})},ra=O.forwardRef(function(e,t){var n,r,a,o=gt(),i=In(e,"MuiDesktopDatePicker"),s=re({day:na,month:na,year:na},i.viewRenderers),l=re({},i,{closeOnSelect:null===(n=i.closeOnSelect)||void 0===n||n,viewRenderers:s,format:xt(o,i,!1),yearsPerRow:null!==(r=i.yearsPerRow)&&void 0!==r?r:4,slots:re({field:zn},i.slots),slotProps:re({},i.slotProps,{field:function(e){var t;return re({},ve(null===(t=i.slotProps)||void 0===t?void 0:t.field,e),$t(i))},toolbar:re({hidden:!0},null===(a=i.slotProps)||void 0===a?void 0:a.toolbar)})});return(0,en({ref:t,props:l,valueManager:wt,valueType:"date",validator:Nn,steps:null}).renderPicker)()});ra.propTypes={autoFocus:be.bool,className:be.string,closeOnSelect:be.bool,dayOfWeekFormatter:be.func,defaultValue:be.object,disabled:be.bool,disableFuture:be.bool,disableHighlightToday:be.bool,disableOpenPicker:be.bool,disablePast:be.bool,displayWeekNumber:be.bool,enableAccessibleFieldDOMStructure:be.any,fixedWeekNumber:be.number,format:be.string,formatDensity:be.oneOf(["dense","spacious"]),inputRef:tn,label:be.node,loading:be.bool,localeText:be.object,maxDate:be.object,minDate:be.object,monthsPerRow:be.oneOf([3,4]),name:be.string,onAccept:be.func,onChange:be.func,onClose:be.func,onError:be.func,onMonthChange:be.func,onOpen:be.func,onSelectedSectionsChange:be.func,onViewChange:be.func,onYearChange:be.func,open:be.bool,openTo:be.oneOf(["day","month","year"]),orientation:be.oneOf(["landscape","portrait"]),readOnly:be.bool,reduceAnimations:be.bool,referenceDate:be.object,renderLoading:be.func,selectedSections:be.oneOfType([be.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),be.number]),shouldDisableDate:be.func,shouldDisableMonth:be.func,shouldDisableYear:be.func,showDaysOutsideCurrentMonth:be.bool,slotProps:be.object,slots:be.object,sx:be.oneOfType([be.arrayOf(be.oneOfType([be.func,be.object,be.bool])),be.func,be.object]),timezone:be.string,value:be.object,view:be.oneOf(["day","month","year"]),viewRenderers:be.shape({day:be.func,month:be.func,year:be.func}),views:be.arrayOf(be.oneOf(["day","month","year"]).isRequired),yearsOrder:be.oneOf(["asc","desc"]),yearsPerRow:be.oneOf([3,4])};var aa=O.forwardRef(function(e,t){var n,r=gt(),a=In(e,"MuiMobileDatePicker"),o=re({day:na,month:na,year:na},a.viewRenderers),i=re({},a,{viewRenderers:o,format:xt(r,a,!1),slots:re({field:zn},a.slots),slotProps:re({},a.slotProps,{field:function(e){var t;return re({},ve(null===(t=a.slotProps)||void 0===t?void 0:t.field,e),$t(a))},toolbar:re({hidden:!1},null===(n=a.slotProps)||void 0===n?void 0:n.toolbar)})});return(0,nn({ref:t,props:i,valueManager:wt,valueType:"date",validator:Nn,steps:null}).renderPicker)()});aa.propTypes={autoFocus:be.bool,className:be.string,closeOnSelect:be.bool,dayOfWeekFormatter:be.func,defaultValue:be.object,disabled:be.bool,disableFuture:be.bool,disableHighlightToday:be.bool,disableOpenPicker:be.bool,disablePast:be.bool,displayWeekNumber:be.bool,enableAccessibleFieldDOMStructure:be.any,fixedWeekNumber:be.number,format:be.string,formatDensity:be.oneOf(["dense","spacious"]),inputRef:tn,label:be.node,loading:be.bool,localeText:be.object,maxDate:be.object,minDate:be.object,monthsPerRow:be.oneOf([3,4]),name:be.string,onAccept:be.func,onChange:be.func,onClose:be.func,onError:be.func,onMonthChange:be.func,onOpen:be.func,onSelectedSectionsChange:be.func,onViewChange:be.func,onYearChange:be.func,open:be.bool,openTo:be.oneOf(["day","month","year"]),orientation:be.oneOf(["landscape","portrait"]),readOnly:be.bool,reduceAnimations:be.bool,referenceDate:be.object,renderLoading:be.func,selectedSections:be.oneOfType([be.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),be.number]),shouldDisableDate:be.func,shouldDisableMonth:be.func,shouldDisableYear:be.func,showDaysOutsideCurrentMonth:be.bool,slotProps:be.object,slots:be.object,sx:be.oneOfType([be.arrayOf(be.oneOfType([be.func,be.object,be.bool])),be.func,be.object]),timezone:be.string,value:be.object,view:be.oneOf(["day","month","year"]),viewRenderers:be.shape({day:be.func,month:be.func,year:be.func}),views:be.arrayOf(be.oneOf(["day","month","year"]).isRequired),yearsOrder:be.oneOf(["asc","desc"]),yearsPerRow:be.oneOf([3,4])};var oa=["desktopModeMediaQuery"],ia=O.forwardRef(function(e,t){var n=mt({props:e,name:"MuiDatePicker"}),r=n.desktopModeMediaQuery,a=void 0===r?rn:r,o=pt(n,oa);return ye(a,{defaultMatches:!0})?y.jsx(ra,re({ref:t},o)):y.jsx(aa,re({ref:t},o))}),sa=function(e){var t=e.settingName,n=e.value,r=e.defaultValue,a=e.handleChange,o=e.remove,i=C(),s=i.i18n,c=(i._,l(O.useState(!1),2)),u=c[0],d=c[1],f=l(O.useState(null!=n?n:r),2),h=f[0],m=f[1];O.useEffect(function(){n&&m(n)},[n]);var p=O.useCallback(function(e){d(!1),e&&m(null!=n?n:r)},[n]),g=O.useCallback(function(){return p(!0)},[p]),v=O.useCallback(function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&p(!1),n!==e&&a(e)},[n,a,p]);return y.jsxs(y.Fragment,{children:[y.jsx(xe,{onClick:function(){return d(!0)},children:y.jsx(De,{primary:t,secondary:n?we(Number(n)).format("L"):"-",secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),y.jsxs(Ce,{open:u,onClose:p,children:[y.jsx(B,{children:t}),y.jsx(Q,{children:y.jsx(an,{dateAdapter:on,adapterLocale:we.locale(),children:y.jsx(ia,{value:h?we(Number(h)):null,onChange:function(e){e&&m(e.valueOf().toString())}})})}),y.jsx(Me,{children:y.jsxs(M,{direction:"row",sx:{justifyContent:"space-between",alignItems:"end",width:"100%"},children:[y.jsxs(M,{children:[void 0!==r&&y.jsx(j,{onClick:function(){m(r),v(r,!1)},color:"primary",children:s._({id:"Tj36Dr"})}),o&&y.jsx(j,{onClick:function(){m(void 0),v(void 0,!1)},color:"primary",children:s._({id:"t/YqKh"})})]}),y.jsxs(M,{direction:"row",children:[y.jsx(j,{onClick:g,color:"primary",children:s._({id:"dEgA5A"})}),y.jsx(j,{onClick:function(){v(h)},color:"primary",children:s._({id:"aP3N/0"})})]})]})})]})]})},la=function(e){var t=e.children,n=e.url;return y.jsx(it,{href:n,rel:"noreferrer",target:"_blank",underline:"none",color:"inherit",children:t})},ca=function(e){var t=e.trackerRecordId,n=e.tracker,r=e.onClick,a=e.onClose,o=C(),i=o.i18n,s=(o._,l(O.useState(!1),2)),c=s[0],u=s[1];return y.jsx(H,{variant:"dialog",popupId:"tracker-active-menu-remove-button-".concat(n.id),children:function(e){return y.jsxs(y.Fragment,{children:[y.jsx(Se,d(d({},K(e)),{},{onClick:function(){r(),e.open()},children:i._({id:"t/YqKh"})})),y.jsxs(Ce,d(d({},Oe(e)),{},{onClose:function(){a(),e.close()},children:[y.jsx(B,{children:i._({id:"whJO4r",values:{0:n.name}})}),y.jsxs(Q,{dividers:!0,children:[y.jsx(_,{children:i._({id:"jGYJGu"})}),n.supportsTrackDeletion&&y.jsx(cn,{children:y.jsx(ln,{disabled:!1,label:i._({id:"R7YZoV",values:{0:n.name}}),checked:c,onChange:function(e,t){return u(t)}})})]}),y.jsxs(Me,{children:[y.jsx(j,{autoFocus:!0,onClick:function(){e.close(),a()},children:i._({id:"dEgA5A"})}),y.jsx(j,{onClick:function(){e.close(),a(),a(),k.unbindTracker(t,c).response.then(function(){return ne(i._({id:"BbWLs7"}),"success")}).catch(function(e){return ne(i._({id:"YM4gTV"}),"error",Z(e))})},children:i._({id:"aP3N/0"})})]})]}))]})}})},ua=function(e){var t=e.trackRecordId,n=e.isPrivate,r=e.closeMenu,a=e.supportsPrivateTracking,o=C(),i=o.i18n;o._;return a?y.jsx(Se,{onClick:function(){k.updateTrackerBind(t,{private:!n}).response.catch(function(e){return ne(i._({id:"cBoXe4"}),"error",Z(e))}),r()},children:n?i._({id:"nSFzho"}):i._({id:"Iy3yJp"})}):null},da=function(e){var t=e.trackRecord,n=e.tracker,r=e.openSearch,a=C(),o=a.i18n;a._;return y.jsxs(M,{direction:"row",sx:{alignItems:"stretch",paddingBottom:2},children:[y.jsx(je,{badgeContent:t.private?y.jsx(M,{sx:{p:"2px 6px",backgroundColor:"primary.main",borderRadius:100},children:y.jsx(te,{fontSize:"small",sx:{color:"primary.contrastText"}})}):null,children:y.jsx(la,{url:t.remoteUrl,children:y.jsx(Qe,{alt:"".concat(n.name),iconUrl:k.getValidImgUrlFor(n.icon),slots:{avatarProps:{variant:"rounded",sx:{width:64,height:64}},spinnerImageProps:{ignoreQueue:!0}}})})}),y.jsx(xe,{sx:{flexGrow:1},onClick:r,children:y.jsx(V,{title:t.title,children:y.jsx(I,{flexGrow:1,lines:1,children:t.title})})}),y.jsx(M,{sx:{justifyContent:"center"},children:y.jsx(H,{variant:"popover",popupId:"tracker-active-menu-popup-".concat(n.id),children:function(e){return y.jsxs(y.Fragment,{children:[y.jsx(w,d(d({},K(e)),{},{children:y.jsx(lt,{})})),y.jsx(ct,d(d({},Pe(e)),{},{id:"tracker-active-menu-".concat(n.id),children:function(e,r){return[y.jsx(la,{url:t.remoteUrl,children:y.jsx(Se,{onClick:function(){return e()},children:o._({id:"ZdWg0V"})})},"tracker-active-menu-item-browser-".concat(n.id)),y.jsx(ca,{trackerRecordId:t.id,tracker:n,onClick:function(){return r(!0)},onClose:e},"tracker-active-menu-item-remove-".concat(n.id)),y.jsx(ua,{trackRecordId:t.id,isPrivate:t.private,closeMenu:e,supportsPrivateTracking:n.supportsPrivateTracking})]}}))]})}})})]})},fa=function(e){var t=e.children;return y.jsx(M,{direction:"row",sx:{textAlignLast:"center"},children:t})},ha=function(e){return!Math.trunc(Number(e))},ma=function(e){var t=e.trackRecord,n=e.tracker,r=e.onClick,a=C(),o=a.i18n,i=(a._,ha(t.displayScore)?n.scores[0]:t.displayScore),s=O.useMemo(function(){return n.scores.map(function(e){return[e,{text:ha(e)?"-":e}]})},[n.scores]),l=function(e){k.updateTrackerBind(t.id,e).response.catch(function(e){return ne(o._({id:"cBoXe4"}),"error",Z(e))})};return y.jsx(Xe,{sx:Ye,children:y.jsxs(Je,{sx:{padding:0},children:[y.jsx(da,{trackRecord:t,tracker:n,openSearch:r}),y.jsx(Xe,{sx:{backgroundColor:"background.default"},children:y.jsx(Je,{sx:{padding:"0"},children:y.jsxs(E,{sx:{padding:1},children:[y.jsxs(fa,{children:[y.jsx(ft,{ListPreferenceTitle:o._({id:"uAQUqI"}),entries:n.statuses.map(function(e){return e.name}),type:"ListPreference",entryValues:n.statuses.map(function(e){return"".concat(e.value)}),ListPreferenceCurrentValue:"".concat(t.status),updateValue:function(e,t){return l({status:Number(t)})},summary:"%s"},"status"),y.jsx(ke,{orientation:"vertical",flexItem:!0}),y.jsx(ht,{settingTitle:o._({id:"QIei5D"}),dialogTitle:o._({id:"QIei5D"}),settingValue:"".concat(t.lastChapterRead,"/").concat(t.totalChapters),value:t.lastChapterRead,minValue:0,maxValue:Number.MAX_SAFE_INTEGER,valueUnit:"",handleUpdate:function(e){return l({lastChapterRead:e})}}),y.jsx(ke,{orientation:"vertical",flexItem:!0}),y.jsx(sn,{settingName:o._({id:"Eq6YVV"}),value:i,values:s,handleChange:function(e){return l({scoreString:e})}})]}),y.jsx(ke,{}),y.jsxs(fa,{children:[y.jsx(sa,{settingName:o._({id:"WAjFYI"}),value:He.getDateString(t.startDate),remove:!0,handleChange:function(e){return l({startDate:null!=e?e:qe})}}),y.jsx(ke,{orientation:"vertical",flexItem:!0}),y.jsx(sa,{settingName:o._({id:"PWpGu5"}),value:He.getDateString(t.finishDate),remove:!0,handleChange:function(e){return l({finishDate:null!=e?e:qe})}})]})]})})})]})})},pa=function(e){return e[e.UNTRACKED=0]="UNTRACKED",e[e.SEARCH=1]="SEARCH",e[e.INFO=2]="INFO",e}({}),ga=function(e){var t=e.tracker,n=e.manga,r=e.trackRecord,a=e.mode,o=e.setSearchMode;if(0===a)return y.jsx(gn,{tracker:t,onClick:function(){return o(t.id)}});if(1===a)return y.jsx(Pn,{manga:n,tracker:t,trackedId:null==r?void 0:r.remoteId,closeSearchMode:function(){return o(void 0)}});if(2===a&&!r)throw new Error('TrackerCard: unable to find track record for tracker "'.concat(t.id,'" of manga "').concat(n.id,'"}'));return y.jsx(ma,{tracker:t,trackRecord:r,onClick:function(){o(t.id)}})},va=(e("T",function(e){var t,n,r,a,o,i=e.manga,s=C(),c=s.i18n,u=(s._,Te()),d=l(O.useState(),2),f=d[0],h=d[1],m=k.useGetTrackerList(Fe,{notifyOnNetworkStatusChange:!0}),p=null!==(t=null===(n=m.data)||void 0===n?void 0:n.trackers.nodes)&&void 0!==t?t:[],g=k.useGetManga(Ae,i.id),v=null!==(r=null===(a=g.data)||void 0===a?void 0:a.manga.trackRecords.nodes)&&void 0!==r?r:[],b=He.getLoggedIn(p),x=He.getLoggedIn(He.getTrackers(v,p)),D=He.getIds(x),w=void 0!==f,M=O.useMemo(function(){return w?E:Q},[w]),j=m.loading||g.loading,P=null!==(o=m.error)&&void 0!==o?o:g.error;O.useEffect(function(){j||P||x.length||b.length||u(Ne.settings.childRoutes.tracking.path)},[j]);var S=O.useRef(!1);O.useEffect(function(){v.length&&!S.current&&(S.current=!0,Promise.all(v.filter(function(e){return D.includes(e.trackerId)}).map(function(e){return k.fetchTrackBind(e.id).response})).catch(function(e){return ne(c._({id:"UfZIOH"}),"error",Z(e))}))},[v]);var T=O.useMemo(function(){return b.map(function(e){var t=function(e,t,n){return e===n?pa.SEARCH:t.includes(e)?pa.INFO:pa.UNTRACKED}(e.id,D,f),n=He.getTrackRecordFor(e,v),r=t===pa.SEARCH;return w&&!r?null:y.jsx(ga,{tracker:e,manga:i,trackRecord:n,mode:t,setSearchMode:function(e){return h(e)}},e.id)})},[D,f,v]);return P?y.jsx(Re,{message:c._({id:"6m5aox"}),messageExtra:Z(P),retry:function(){m.error&&m.refetch().catch($("TrackManga::refetch: trackerList")),g.error&&g.refetch().catch($("TrackManga::refetch: mangaTrackRecordsList"))}}):j?y.jsx(J,{}):w?T:y.jsx(M,{sx:{padding:0,".MuiPaper-root .MuiCardContent-root":{paddingBottom:"0"}},children:T})}),[{title:{id:"zVKKXn"},getCount:function(){return 1}},{title:{id:"zVKKXn"},getCount:function(){return 5}},{title:{id:"zVKKXn"},getCount:function(){return 10}},{title:{id:"zVKKXn"},getCount:function(){return 25}},{title:{id:"HueRea"},getCount:function(e){return e},onlyUnread:!0,isDownloadAhead:!0},{title:{id:"KuVpz+"},getCount:function(){},onlyUnread:!0},{title:{id:"N40H+G"},getCount:function(){},onlyUnread:!1}]),ba=function(){var e,n=(e=a().m(function e(n,r,o,s){var l,c,u,d,f,h,m,p,g;return a().w(function(e){for(;;)switch(e.n){case 0:if(!(n.length>1)){e.n=1;break}return rt.performAction("download",n,{downloadAhead:s,onlyUnread:r,size:o}).catch($("ChaptersDownloadActionMenuItems::handleSelect:multiMangaMode")),e.a(2);case 1:return l=n[0],c=rt.getFromCache(l,Le(t||(t=i(["\n            ","\n            fragment MangaInLibraryState on MangaType {\n                id\n                meta {\n                    ...MANGA_META_FIELDS\n                }\n            }\n        "])),Ie),"MangaInLibraryState"),u=ut(c),e.n=2,k.getChapters(_e,{condition:{mangaId:Number(l)},order:[{by:Be.SourceOrder,byType:ze.Desc}]}).response;case 2:if(d=e.v,f=dt(d.data.chapters.nodes,u),!s||!dn.removeDuplicates(f.slice(-1)[0],f).slice(-(null!=o?o:0)).every(function(e){return!dn.isRead(e)&&dn.isDownloaded(e)})){e.n=3;break}return e.a(2);case 3:if(h=f.filter(function(e){return!(r&&e.isRead||e.isDownloaded)}),m=dn.removeDuplicates(h.slice(-1)[0],h),p=m.slice(-(null!=o?o:0)),(g=dn.addDuplicates(p,h)).length){e.n=4;break}return e.a(2);case 4:dn.performAction("download",dn.getIds(g),{}).catch($("ChaptersDownloadActionMenuItems::handleSelect::singleMangaMode"));case 5:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,l,"next",e)}function l(e){s(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e,t,r,a){return n.apply(this,arguments)}}();e("C",function(e){var t=e.mangaIds,n=e.closeMenu,r=Ee().settings.downloadAheadLimit;return y.jsx(y.Fragment,{children:va.map(function(e){var a=e.title,o=e.getCount,i=e.onlyUnread,s=e.isDownloadAhead;return y.jsx(Se,{onClick:function(){return function(e){ba(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e,arguments.length>2&&void 0!==arguments[2]&&arguments[2]).catch(function(t){return ne(Ve.t(d(d({},un.download.error),{},{values:{count:e}})),"error",Z(t))}),null==n||n()}(o(r),i,s)},children:Ve.t(d(d({},a),{},{values:{count:o(r)}}))},Ve.t(d(d({},a),{},{values:{count:o(r)}})))})})}),e("b",function(e){var t=e.children,n=e.chapterNumber,r=e.name,a=e.sourceOrder,o=e.scanlator,i=C(),s=i.i18n,l=(i._,1===a);return y.jsx(V,{slotProps:{tooltip:{sx:{whiteSpace:"pre-line"}}},title:l?s._({id:"64G4xI",values:{chapterNumber:n,name:r,scanlator:o}}):s._({id:"FVEiRO",values:{chapterNumber:n,name:r,scanlator:o}}),children:t})})}}})}();
