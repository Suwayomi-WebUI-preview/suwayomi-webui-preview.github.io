import{u as F,g as h,j as e,aJ as W,as as H,D as _,o as q,p as A,b5 as z,T as M,a as j,bv as B,x as E,aF as G,b as S,aE as K,C as P,I as Q,n as U}from"./index-YAtlvmGf.js";import{D as V}from"./Delete-CG4c_Wcp.js";import{a as X,T as Y}from"./TextSetting-BEOeKwkt.js";const Z=({handleDelete:r,mutable:o=!0,deletable:c=!0,...n})=>{const{t:u}=F();return e.jsxs(j,{sx:{flexDirection:"row",alignItems:"center"},children:[o?e.jsx(Y,{...n,dialogTitle:""}):e.jsx(K,{children:e.jsx(H,{secondary:n.value})}),e.jsx(P,{title:u("chapter.action.download.delete.label.action"),disabled:!c,children:e.jsx(Q,{disabled:!c,onClick:r,children:e.jsx(V,{})})})]})},$=r=>{var o;return(o=r==null?void 0:r.map(c=>c[0]))!=null?o:[]},se=({settingName:r,description:o,dialogDisclaimer:c,valueInfos:n,handleChange:u,addItemButtonTitle:b,placeholder:f,allowDuplicates:J=!1,validateItem:x=()=>!0,invalidItemError:D})=>{const{t:p}=F(),i=$(n),[N,T]=h.useState(!1),[a,g]=h.useState(i),[k,L]=h.useState(!1);h.useEffect(()=>{n&&g(i)},[n]);const C=(s=!0)=>{s&&g(i),T(!1)},m=(s,t)=>{if(t===void 0){g(a.toSpliced(s,1));return}if(!(!J&&a.includes(t))&&t!==""){if(!(x!=null&&x(t,a))){U(D!=null?D:p("global.error.label.invalid_input"),"error");return}g(a.toSpliced(s,1,t.trim()))}},R=()=>{C(!0);const s=a.filter(l=>l!==""),t=i.filter(l=>!s.includes(l));u(s,t)};return e.jsxs(e.Fragment,{children:[e.jsx(W,{onClick:()=>T(!0),children:e.jsx(H,{primary:r,secondary:i!=null&&i.length?i==null?void 0:i.join(", "):o,secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),e.jsxs(_,{open:N,onClose:()=>C(),fullWidth:!0,children:[e.jsx(q,{children:r}),(!!o||!!c)&&e.jsx(A,{children:e.jsxs(z,{sx:{paddingBottom:"10px"},component:"div",children:[o&&e.jsx(M,{variant:"body1",sx:{whiteSpace:"pre-line"},children:o}),c&&e.jsxs(j,{direction:"row",sx:{alignItems:"center"},children:[e.jsx(B,{color:"warning"}),e.jsx(M,{variant:"body1",sx:{marginLeft:"10px",marginTop:"5px",whiteSpace:"pre-line"},children:c})]})]})}),e.jsx(A,{dividers:!0,sx:{maxHeight:"300px"},children:e.jsx(E,{children:a.map((s,t)=>{var l,y,w,O;return e.jsx(Z,{settingName:"",placeholder:f,handleChange:d=>m(t,d),handleDelete:()=>m(t,void 0),value:s,mutable:(y=(l=n==null?void 0:n.find(([d])=>d===s))==null?void 0:l[1])==null?void 0:y.mutable,deletable:(O=(w=n==null?void 0:n.find(([d])=>d===s))==null?void 0:w[1])==null?void 0:O.deletable},s)})})}),e.jsx(G,{children:e.jsxs(j,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[e.jsx(S,{onClick:()=>L(!0),children:b!=null?b:p("global.button.add")}),e.jsxs(j,{direction:"row",children:[e.jsx(S,{onClick:()=>C(),children:p("global.button.cancel")}),e.jsx(S,{onClick:()=>R(),children:p("global.button.ok")})]})]})})]}),k&&e.jsx(X,{settingName:"",placeholder:f,handleChange:s=>m(a.length,s),isDialogOpen:k,setIsDialogOpen:L,validate:s=>{var t;return(t=x==null?void 0:x(s,a))!=null?t:!0}})]})};export{se as M};
