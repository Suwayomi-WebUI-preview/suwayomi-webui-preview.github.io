import{ab as x,u as f,f as d,j as t,i as P,I as m,ap as b,aL as C,aM as G,v as j,aN as B,aC as R,aO as k,e as D}from"./index-Bzv3cZXu.js";import{F as v}from"./FilterList-Bs_kFpRs.js";import{c as h}from"./cloneObject-DrOPTG0J.js";import{D as l,b as M,l as w}from"./Languages-D5TLPpFB.js";import{S as H}from"./Switch-B4k8b7YO.js";var L=(a=>(a.UPDATE="UPDATE",a.UNINSTALL="UNINSTALL",a.INSTALL="INSTALL",a))(L||{}),r=(a=>(a.OBSOLETE="OBSOLETE",a.UPDATING="UPDATING",a.UNINSTALLING="UNINSTALLING",a.INSTALLING="INSTALLING",a))(r||{});const i={...L,...r};var n=(a=>(a.INSTALLED="INSTALLED",a.UPDATE_PENDING="UPDATE_PENDING",a.OBSOLETE="OBSOLETE",a))(n||{});const Q={[L.UPDATE]:r.UPDATING,[L.UNINSTALL]:r.UNINSTALLING,[L.INSTALL]:r.INSTALLING},V={[L.UPDATE]:L.UNINSTALL,[L.UNINSTALL]:L.INSTALL,[L.INSTALL]:L.UNINSTALL},Z={[i.UNINSTALL]:"extension.action.label.uninstall",[i.INSTALL]:"extension.action.label.install",[i.UPDATE]:"extension.action.label.update",[i.OBSOLETE]:"extension.state.label.obsolete",[i.UPDATING]:"extension.state.label.updating",[i.UNINSTALLING]:"extension.state.label.uninstalling",[i.INSTALLING]:"extension.state.label.installing"},$={[L.UPDATE]:"extension.label.update_failed",[L.INSTALL]:"extension.label.installation_failed",[L.UNINSTALL]:"extension.label.uninstallation_failed"},y={[n.INSTALLED]:"extension.state.label.installed",[n.UPDATE_PENDING]:"extension.state.label.update_pending",[n.OBSOLETE]:"extension.state.label.obsolete",[l.ALL]:"extension.language.all",[l.OTHER]:"extension.language.other",[l.LOCAL_SOURCE]:"extension.language.other"},aa=(a,o,s)=>o?i.OBSOLETE:s?i.UPDATE:a?i.UNINSTALL:i.INSTALL,F=a=>[n.INSTALLED,n.UPDATE_PENDING,n.OBSOLETE,l.ALL,l.OTHER,l.LOCAL_SOURCE].includes(a),X=a=>F(a)?x(y[a]):M(a);function ea(a){const o=[],s={[n.OBSOLETE]:[],[n.INSTALLED]:[],[n.UPDATE_PENDING]:[],[l.ALL]:[],[l.OTHER]:[],[l.LOCAL_SOURCE]:[]};a.forEach(e=>{if(s[e.lang]===void 0&&(s[e.lang]=[],e.lang!=="all"&&o.push(e.lang)),e.isInstalled){if(e.hasUpdate){s[n.UPDATE_PENDING].push(e);return}if(e.isObsolete){s[n.OBSOLETE].push(e);return}s[n.INSTALLED].push(e)}else s[e.lang].push(e)}),o.sort(w);const T=[[n.OBSOLETE,s[n.OBSOLETE]],[n.UPDATE_PENDING,s[n.UPDATE_PENDING]],[n.INSTALLED,s[n.INSTALLED]],[l.ALL,s[l.ALL]],[l.OTHER,s[l.OTHER]],[l.LOCAL_SOURCE,s[l.LOCAL_SOURCE]]],I=o.map(e=>[e,s[e]]),E=T.concat(I);return E.forEach(([,e])=>e.sort((A,S)=>A.name.localeCompare(S.name))),{allLangs:o,groupedExtensions:E}}function K(a,o){return o.forEach(s=>{const T=a.indexOf(s);T!==-1&&a.splice(T,1)}),a}function sa(a){const{t:o}=f(),{shownLangs:s,setShownLangs:T,allLangs:I,forcedLangs:E=[]}=a,[e,A]=d.useState(K(h(s),E)),[S,O]=d.useState(!1),u=()=>{O(!1)},U=()=>{O(!1),T(e)},_=(N,c)=>{const{checked:p}=N.target;if(p)A([...e,c]);else{const g=h(e);g.splice(g.indexOf(c),1),A(g)}};return t.jsxs(t.Fragment,{children:[t.jsx(P,{title:o("settings.title"),children:t.jsx(m,{onClick:()=>O(!0),"aria-label":"display more actions",edge:"end",color:"inherit",size:"large",children:t.jsx(v,{})})}),t.jsxs(b,{sx:{".MuiDialog-paper":{maxHeight:435,width:"80%"}},maxWidth:"xs",open:S,onClose:u,children:[t.jsx(C,{children:o("global.language.title.enabled_languages")}),t.jsx(G,{dividers:!0,sx:{padding:0},children:t.jsx(j,{children:I.map(N=>t.jsxs(B,{children:[t.jsx(R,{primary:X(N)}),t.jsx(H,{checked:e.indexOf(N)!==-1,onChange:c=>_(c,N)})]},N))})}),t.jsxs(k,{children:[t.jsx(D,{autoFocus:!0,onClick:u,color:"primary",children:o("global.button.cancel")}),t.jsx(D,{onClick:U,color:"primary",children:o("global.button.ok")})]})]})]})}export{r as E,i as I,sa as L,Z as a,L as b,$ as c,V as d,Q as e,ea as f,aa as g,n as h,F as i,X as t};
