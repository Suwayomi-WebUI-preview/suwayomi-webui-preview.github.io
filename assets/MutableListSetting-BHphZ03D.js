import{u as $,f as j,j as s,av as q,v as M,o as F,p as G,q as T,c4 as H,T as A,b as u,b1 as P,N as R,w as U,B as y,di as W,cO as z,s as E,C as J,I as Q,m as V}from"./index-BKuQKJJ1.js";import{D as X}from"./Delete-D3Ucymzq.js";const Y=({handleDelete:c,mutable:r=!0,deletable:o=!0,...i})=>{const{i18n:D,_:p}=$();return s.jsxs(u,{sx:{flexDirection:"row",alignItems:"center"},children:[r?s.jsx(z,{...i,dialogTitle:""}):s.jsx(E,{children:s.jsx(M,{secondary:i.value})}),s.jsx(J,{title:D._({id:"cnGeoo"}),disabled:!o,children:s.jsx(Q,{disabled:!o,onClick:c,children:s.jsx(X,{})})})]})},Z=c=>{var r;return(r=c==null?void 0:c.map(o=>o[0]))!=null?r:[]},es=({settingName:c,description:r,dialogDisclaimer:o,valueInfos:i,handleChange:D,addItemButtonTitle:p,placeholder:S,allowDuplicates:N=!1,validateItem:a=()=>!0,invalidItemError:_})=>{const{i18n:h,_:I}=$(),n=Z(i),[B,f]=j.useState(!1),[l,g]=j.useState(n),[k,w]=j.useState(!1);j.useEffect(()=>{i&&g(n)},[i]);const C=(e=!0)=>{e&&g(n),f(!1)},b=(e,t)=>{if(t===void 0){g(l.toSpliced(e,1));return}if(!(!N&&l.includes(t))&&t!==""){if(!(a!=null&&a(t,l))){V(_!=null?_:h._({id:"UeOiKl"}),"error");return}g(l.toSpliced(e,1,t.trim()))}},K=()=>{C(!0);const e=l.filter(x=>x!==""),t=n.filter(x=>!e.includes(x));D(e,t)};return s.jsxs(s.Fragment,{children:[s.jsx(q,{onClick:()=>f(!0),children:s.jsx(M,{primary:c,secondary:n!=null&&n.length?n==null?void 0:n.join(", "):r,secondaryTypographyProps:{style:{display:"flex",flexDirection:"column",wordBreak:"break-word"}}})}),s.jsxs(F,{open:B,onClose:()=>C(),fullWidth:!0,children:[s.jsx(G,{children:c}),(!!r||!!o)&&s.jsx(T,{children:s.jsxs(H,{sx:{paddingBottom:"10px"},component:"div",children:[r&&s.jsx(A,{variant:"body1",sx:{whiteSpace:"pre-line"},children:r}),o&&s.jsxs(u,{direction:"row",sx:{alignItems:"center"},children:[s.jsx(P,{color:"warning"}),s.jsx(A,{variant:"body1",sx:{marginLeft:"10px",marginTop:"5px",whiteSpace:"pre-line"},children:o})]})]})}),s.jsx(T,{dividers:!0,sx:{maxHeight:"300px"},children:s.jsx(R,{children:l.map((e,t)=>{var x,m,L,O;return s.jsx(Y,{settingName:"",placeholder:S,handleChange:d=>b(t,d),handleDelete:()=>b(t,void 0),value:e,mutable:(m=(x=i==null?void 0:i.find(([d])=>d===e))==null?void 0:x[1])==null?void 0:m.mutable,deletable:(O=(L=i==null?void 0:i.find(([d])=>d===e))==null?void 0:L[1])==null?void 0:O.deletable},e)})})}),s.jsx(U,{children:s.jsxs(u,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[s.jsx(y,{onClick:()=>w(!0),children:p!=null?p:h._({id:"m16xKo"})}),s.jsxs(u,{direction:"row",children:[s.jsx(y,{onClick:()=>C(),children:h._({id:"dEgA5A"})}),s.jsx(y,{onClick:()=>K(),children:h._({id:"aP3N/0"})})]})]})})]}),k&&s.jsx(W,{settingName:"",placeholder:S,handleChange:e=>b(l.length,e),isDialogOpen:k,setIsDialogOpen:w,validate:e=>{var t;return(t=a==null?void 0:a(e,l))!=null?t:!0}})]})};export{es as M};
