var jt=Object.freeze,Aa=Object.defineProperty;var At=(e,t)=>jt(Aa(e,"raw",{value:jt(t||e.slice())}));import{aQ as Oa,aR as _a,aS as Ia,am as Ot,aT as Ea,aU as Na,c as mt,j as n,aE as Fa,ay as zt,I as Be,u as ue,b as le,r as fe,B as ve,X as ye,W as Ce,f as p,Y as Ra,_ as B,Z as de,a0 as he,U as $a,H as gt,C as tt,aV as Gt,aw as Va,T as Ee,aW as La,p as bt,aX as Ba,aY as Ya,aB as yt,aC as Ct,aZ as Ha,a_ as Ua,a$ as Wa,q as at,b0 as za,i as Kt,g as Pe,k as Ye,N as Ga,b1 as qt,m as Te,b2 as x,a9 as X,a8 as Qt,b3 as Xt,b4 as Jt,b5 as Zt,a3 as Dt,a1 as Ka,b6 as Fe,a6 as xt,a7 as Re,b7 as ea,b8 as ta,b9 as qa,ba as aa,bb as l,bc as Qa,av as sa,v as Xa,bd as ht,o as na,w as oa,aA as Ke,be as Ja,bf as Za,ar as st,aD as es,h as ts,bg as as,bh as ss,A as ns,ac as os,e as rs,G as pt,bi as is,bj as ls,bk as cs,bl as ds,bm as us}from"./index-BeKqgGKZ.js";import{C as ra,P as hs,T as Me,a as ps,D as Je,b as fs,U as _t}from"./Trackers-BQ19KlF0.js";import{A as ia}from"./AvatarSpinner-DTpc5FYj.js";import{C as Ze}from"./Card-2kPOafNu.js";import{C as et}from"./ListCardContent-CUvsnK_z.js";import{E as It}from"./EmptyViewAbsoluteCentered-DyDu9RIa.js";import{C as ms}from"./CheckCircle-BwnNBfff.js";import{S as gs}from"./SpinnerImage-Qc0sG63E.js";import{M as Ve}from"./Metadata-C49wdiE6.js";import{M as bs,a as Et}from"./Mangas-4ZQrY_65.js";import{M as la}from"./MUI.util-CEodEA2f.js";import{C as ys}from"./CardActionArea-BAvksYw8.js";import{L as ca}from"./Link-BQmOKeEU.js";import{C as Cs,M as Ds,a as xs,g as Ms,f as vs}from"./useManageMangaLibraryState-5JG7wS-l.js";import{L as ws}from"./ListPreference-DjV98Thq.js";import{N as ks}from"./NumberSetting-P2DkhItC.js";import{u as pe,_ as se,a as te,b as Ps,c as nt,d as Ts,r as Mt,P as Ss,s as be,e as js,f as Nt,g as As,h as Os,i as _s,j as Is,k as Es,l as Ns,C as Fs,S as vt,m as He,n as Se,D as ot,o as Ue,p as rt,q as Rs,t as wt,v as $s,w as da,M as Vs,x as Ls,y as Bs,z as Ys,A as Hs,B as Us,E as Ws,F as zs,G as Gs,V as Ks,H as Ft,I as ua,J as qs,K as ha,L as Qs,N as Xs,O as Js,Q as Zs}from"./useMobilePicker-3HwBePmq.js";import{S as en}from"./SelectSetting-tLuAuDUe.js";import{C as tn}from"./CheckboxInput-uieK81Oi.js";import{F as an}from"./FormGroup-7ZcMAFSa.js";import{C as sn,a as _e}from"./Chapters-AzercDRH.js";function nn(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function on(e,t){e.classList?e.classList.add(t):nn(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Rt(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function rn(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Rt(e.className,t):e.setAttribute("class",Rt(e.className&&e.className.baseVal||"",t))}var ln=function(t,a){return t&&a&&a.split(" ").forEach(function(s){return on(t,s)})},ft=function(t,a){return t&&a&&a.split(" ").forEach(function(s){return rn(t,s)})},kt=function(e){Oa(t,e);function t(){for(var s,o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return s=e.call.apply(e,[this].concat(c))||this,s.appliedClasses={appear:{},enter:{},exit:{}},s.onEnter=function(d,u){var r=s.resolveArguments(d,u),m=r[0],h=r[1];s.removeClasses(m,"exit"),s.addClass(m,h?"appear":"enter","base"),s.props.onEnter&&s.props.onEnter(d,u)},s.onEntering=function(d,u){var r=s.resolveArguments(d,u),m=r[0],h=r[1],y=h?"appear":"enter";s.addClass(m,y,"active"),s.props.onEntering&&s.props.onEntering(d,u)},s.onEntered=function(d,u){var r=s.resolveArguments(d,u),m=r[0],h=r[1],y=h?"appear":"enter";s.removeClasses(m,y),s.addClass(m,y,"done"),s.props.onEntered&&s.props.onEntered(d,u)},s.onExit=function(d){var u=s.resolveArguments(d),r=u[0];s.removeClasses(r,"appear"),s.removeClasses(r,"enter"),s.addClass(r,"exit","base"),s.props.onExit&&s.props.onExit(d)},s.onExiting=function(d){var u=s.resolveArguments(d),r=u[0];s.addClass(r,"exit","active"),s.props.onExiting&&s.props.onExiting(d)},s.onExited=function(d){var u=s.resolveArguments(d),r=u[0];s.removeClasses(r,"exit"),s.addClass(r,"exit","done"),s.props.onExited&&s.props.onExited(d)},s.resolveArguments=function(d,u){return s.props.nodeRef?[s.props.nodeRef.current,d]:[d,u]},s.getClassNames=function(d){var u=s.props.classNames,r=typeof u=="string",m=r&&u?u+"-":"",h=r?""+m+d:u[d],y=r?h+"-active":u[d+"Active"],f=r?h+"-done":u[d+"Done"];return{baseClassName:h,activeClassName:y,doneClassName:f}},s}var a=t.prototype;return a.addClass=function(o,c,i){var d=this.getClassNames(c)[i+"ClassName"],u=this.getClassNames("enter"),r=u.doneClassName;c==="appear"&&i==="done"&&r&&(d+=" "+r),i==="active"&&o&&_a(o),d&&(this.appliedClasses[c][i]=d,ln(o,d))},a.removeClasses=function(o,c){var i=this.appliedClasses[c],d=i.base,u=i.active,r=i.done;this.appliedClasses[c]={},d&&ft(o,d),u&&ft(o,u),r&&ft(o,r)},a.render=function(){var o=this.props;o.classNames;var c=Ia(o,["classNames"]);return Ot.createElement(Ea,Na({},c,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Ot.Component);kt.defaultProps={classNames:""};kt.propTypes={};const cn=mt(n.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),dn=({onCancel:e,cancelButtonProps:t,...a})=>{var s,o;return n.jsx(Fa,{...a,slotProps:{input:{...a.InputProps,sx:{color:"inherit"},endAdornment:(o=(s=a.InputProps)==null?void 0:s.endAdornment)!=null?o:n.jsx(zt,{position:"end",children:n.jsx(Be,{...t,onClick:()=>e(),children:n.jsx(cn,{})})})}}})},jr=mt(n.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"})),Ar=mt(n.jsx("path",{d:"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z"})),un=({tracker:e,onClick:t})=>{const{i18n:a,_:s}=ue();return n.jsx(Ze,{sx:ra,children:n.jsx(et,{sx:{padding:"0"},children:n.jsxs(le,{direction:"row",sx:{gap:3},children:[n.jsx(ia,{alt:"".concat(e.name),iconUrl:fe.getValidImgUrlFor(e.icon),slots:{avatarProps:{variant:"rounded",sx:{width:64,height:64}},spinnerImageProps:{ignoreQueue:!0}}}),n.jsx(ve,{sx:{flexGrow:"1"},onClick:t,children:a._({id:"U/mpkT"})})]})})})};function hn(e){return ye("MuiCardMedia",e)}Ce("MuiCardMedia",["root","media","img"]);const pn=e=>{const{classes:t,isMediaComponent:a,isImageComponent:s}=e;return he({root:["root",a&&"media",s&&"img"]},hn,t)},fn=B("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e,{isMediaComponent:s,isImageComponent:o}=a;return[t.root,s&&t.media,o&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),mn=["video","audio","picture","iframe","img"],gn=["picture","img"],bn=p.forwardRef(function(t,a){const s=Ra({props:t,name:"MuiCardMedia"}),{children:o,className:c,component:i="div",image:d,src:u,style:r,...m}=s,h=mn.includes(i),y=!h&&d?{backgroundImage:'url("'.concat(d,'")'),...r}:r,f={...s,component:i,isMediaComponent:h,isImageComponent:gn.includes(i)},D=pn(f);return n.jsx(fn,{className:de(D.root,c),as:i,role:!h&&d?"img":void 0,ref:a,style:y,ownerState:f,src:h?d||u:void 0,...m,children:o})}),yn=({title:e,selected:t})=>n.jsxs(le,{direction:"row",sx:{gap:"5px",justifyContent:"space-between"},children:[n.jsx(tt,{title:e,children:n.jsx(Gt,{variant:"h5",component:"h1",children:e})}),n.jsx(ms,{sx:{visibility:t?"visible":"hidden"},color:"primary"})]}),$t=50,Cn=({summary:e})=>{const{i18n:t,_:a}=ue(),s=p.useRef(null),[o,c]=p.useState(!1),[i,d]=p.useState(!1),u=i?$t:0;return p.useLayoutEffect(()=>{var m,h;const r=((h=(m=s.current)==null?void 0:m.clientHeight)!=null?h:0)>$t;d(r),c(!r)},[]),n.jsxs(n.Fragment,{children:[e.length&&n.jsx(Va,{collapsedSize:u,in:o,children:n.jsx(Ee,{ref:s,variant:"body1",component:"p",sx:{whiteSpace:"pre-line"},children:e})}),e.length&&i&&n.jsx(ve,{component:"div",...la.preventRippleProp(),onClick:r=>{r.stopPropagation(),c(!o)},children:o?t._({id:"6lGV3K"}):t._({id:"fMPkxb"})})]})},Vt=({children:e,url:t})=>n.jsx(ca,{...la.preventRippleProp(),href:t,rel:"noreferrer",target:"_blank",underline:"none",color:"inherit",onClick:a=>a.stopPropagation(),children:e}),Dn=({manga:e,selected:t,onSelect:a})=>{const{i18n:s,_:o}=ue(),c=$a.useIsMobileWidth();return n.jsx(Ze,{sx:{backgroundColor:"background.default",marginBottom:2,"&:last-child":{marginBottom:8}},children:n.jsx(ys,{onClick:a,children:n.jsx(et,{sx:{padding:"0",borderRadius:"inherit"},children:n.jsxs(gt,{sx:{padding:1,border:"3px solid",borderRadius:"inherit",borderColor:t?"primary.main":"transparent"},children:[n.jsxs(le,{direction:"row",sx:{gap:2,marginBottom:2},children:[n.jsx(bn,{sx:{aspectRatio:bs,minWidth:"100px",width:"150px",borderRadius:1,overflow:"hidden"},children:n.jsx(Vt,{url:e.trackingUrl,children:n.jsx(gs,{useFetchApi:!1,disableCors:!0,ignoreQueue:!0,alt:e.title,src:e.coverUrl,spinnerStyle:{width:"100%",height:"100%"},imgStyle:{width:"100%",height:c?void 0:"100%",maxHeight:"100%",objectFit:"cover"}})})}),n.jsxs(le,{direction:"column",sx:{width:"100%"},children:[n.jsx(Vt,{url:e.trackingUrl,children:n.jsx(yn,{title:e.title,selected:t})}),e.publishingType&&n.jsx(Ve,{title:s._({id:"+zy2Nq"}),value:s._(hs[Me.getPublishingType(e)])}),e.startDate&&n.jsx(Ve,{title:s._({id:"JEGlfK"}),value:e.startDate}),e.publishingStatus&&n.jsx(Ve,{title:s._({id:"uAQUqI"}),value:s._(ps[Me.getPublishingStatus(e)])}),e.score>0&&n.jsx(Ve,{title:s._({id:"Eq6YVV"}),value:e.score}),e.totalChapters>0&&n.jsx(Ve,{title:s._({id:"QIei5D"}),value:e.totalChapters})]})]}),n.jsx(Cn,{summary:e.summary})]})})})})},xn=({mangaId:e,selectedTrackerRemoteId:t,trackerId:a,closeSearchMode:s,supportsPrivateTracking:o})=>{const{i18n:c,_:i}=ue(),[d,u]=fe.useBindTracker(),r=m=>{t!==void 0&&d({variables:{input:{mangaId:e,remoteId:t,trackerId:a,private:m}}}).then(()=>{Te(c._({id:"hg1vrh"}),"success"),s()}).catch(h=>Te(c._({id:"t0VaCQ"}),"error",Pe(h)))};return n.jsxs(le,{direction:"row",sx:{justifyContent:"center",position:"absolute",left:0,right:0,bottom:0,paddingBottom:Je,gap:2,px:Je},children:[n.jsx(ve,{disabled:u.loading,size:"large",variant:"contained",onClick:()=>r(!1),sx:{flexBasis:"65%"},children:c._({id:"J2ZTMa"})}),o&&n.jsx(tt,{title:c._({id:"Iy3yJp"}),disabled:u.loading,children:n.jsx(Cs,{disabled:u.loading,sx:{flexBasis:"10%",maxWidth:"100px"},variant:"contained",onClick:()=>r(!0),children:n.jsx(qt,{})})})]})},Mn=({manga:e,tracker:t,closeSearchMode:a,trackedId:s})=>{var $,A;const{i18n:o,_:c}=ue(),i=La(),[d,u]=p.useState(e.title),[r,m]=p.useState(d),[h,y]=p.useState(s),f=fe.useTrackerSearch(t.id,d,{notifyOnNetworkStatusChange:!0}),D=(A=($=f.data)==null?void 0:$.searchTracker.trackSearches)!=null?A:[],M=!!D.length,g=!f.loading&&!f.error&&!M,S=!!f.error&&!f.loading;p.useEffect(()=>(y(s),()=>f.abortRequest(new Error("MangaTrackerSearchCard(".concat(t.id,", ").concat(e.id,"): search changed")))),[d]);const k=p.useMemo(()=>!!h&&!!D.find(b=>b.remoteId===h),[h,D])&&!S;return n.jsxs(n.Fragment,{children:[n.jsx(bt,{sx:{padding:Je},children:n.jsxs(le,{direction:"row",sx:{gap:"10px",alignItems:"center"},children:[n.jsx(Be,{onClick:a,children:i(n.jsx(Ba,{}),n.jsx(Ya,{}))}),n.jsx(dn,{sx:{width:"100%"},variant:"standard",value:r,onChange:b=>m(b.target.value),onKeyDown:b=>{b.key==="Enter"&&u(r)},onCancel:()=>m(""),InputProps:{startAdornment:t.id===fs.MYANIMELIST&&n.jsx(zt,{position:"start",children:n.jsx(yt,{variant:"popover",popupId:"tracker-search-info",children:b=>n.jsxs(n.Fragment,{children:[n.jsx(Be,{...Ct(b),color:"inherit",children:n.jsx(Ha,{})}),n.jsx(Ua,{...Wa(b),anchorOrigin:{vertical:"bottom",horizontal:"left"},children:n.jsx(Ee,{sx:{padding:1,whiteSpace:"pre-line"},children:o._({id:"4NJZo4"})})})]})})})}})]})}),n.jsxs(at,{dividers:!0,sx:{padding:Je,height:"100vh",...za(g||S,{position:"relative"})},children:[g&&n.jsx(It,{message:o._({id:"RbPhRX"})}),f.loading&&n.jsx(Kt,{}),S&&n.jsx(It,{message:o._({id:"6m5aox"}),messageExtra:Pe(f.error),retry:()=>f.refetch().catch(Ye("TrackerSearch::refetch"))}),n.jsx(Ga,{sx:{padding:0},children:M&&D.map(b=>n.jsx(Dn,{manga:b,selected:b.remoteId===h,onSelect:()=>y(b.remoteId)},b.id))}),k&&n.jsx(xn,{mangaId:e.id,trackerId:t.id,closeSearchMode:a,selectedTrackerRemoteId:h,supportsPrivateTracking:t.supportsPrivateTracking})]})]})};function vn(e){return ye("MuiDatePickerToolbar",e)}Ce("MuiDatePickerToolbar",["root","title"]);const wn=["toolbarFormat","toolbarPlaceholder","className","classes"],kn=e=>he({root:["root"],title:["title"]},vn,e),Pn=B(Ss,{name:"MuiDatePickerToolbar",slot:"Root"})({}),Tn=B(Ee,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),Sn=p.forwardRef(function(t,a){const s=pe({props:t,name:"MuiDatePickerToolbar"}),{toolbarFormat:o,toolbarPlaceholder:c="––",className:i,classes:d}=s,u=se(s,wn),r=te(),{value:m,views:h,orientation:y}=Ps(),f=nt(),D=Ts(),M=kn(d),g=p.useMemo(()=>{if(!r.isValid(m))return c;const S=Mt(r,{format:o,views:h},!0);return r.formatByString(m,S)},[m,o,c,r,h]);return n.jsx(Pn,x({ref:a,toolbarTitle:f.datePickerToolbarTitle,className:de(M.root,i)},u,{children:n.jsx(Tn,{variant:"h4",align:y==="landscape"?"left":"center",ownerState:D,className:M.title,children:g})}))}),We=({props:e,value:t,timezone:a,adapter:s})=>{if(t===null)return null;const{shouldDisableDate:o,shouldDisableMonth:c,shouldDisableYear:i,disablePast:d,disableFuture:u,minDate:r,maxDate:m}=e,h=s.date(void 0,a);switch(!0){case!s.isValid(t):return"invalidDate";case!!(o&&o(t)):return"shouldDisableDate";case!!(c&&c(t)):return"shouldDisableMonth";case!!(i&&i(t)):return"shouldDisableYear";case!!(u&&s.isAfterDay(t,h)):return"disableFuture";case!!(d&&s.isBeforeDay(t,h)):return"disablePast";case!!(r&&s.isBeforeDay(t,r)):return"minDate";case!!(m&&s.isAfterDay(t,m)):return"maxDate";default:return null}};We.valueManager=be;function jn(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return p.useMemo(()=>({valueType:"date",validator:We,internal_valueManager:be,internal_fieldValueManager:As,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:On,internal_useOpenPickerButtonAriaLabel:An}),[t])}function An(e){const t=te(),a=nt();return p.useMemo(()=>{const s=t.isValid(e)?t.format(e,"fullDate"):null;return a.openDatePickerDialogue(s)},[e,a,t])}function On(e){const t=te(),a=ze(e);return p.useMemo(()=>{var s;return x({},e,a,{format:(s=e.format)!=null?s:t.formats.keyboardDate})},[e,a,t])}function ze(e){const t=te(),a=js();return p.useMemo(()=>{var s,o;return{disablePast:(s=e.disablePast)!=null?s:!1,disableFuture:(o=e.disableFuture)!=null?o:!1,minDate:Nt(t,e.minDate,a.minDate),maxDate:Nt(t,e.maxDate,a.maxDate)}},[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,a])}function pa(e,t){const a=pe({props:e,name:t}),s=ze(a),o=p.useMemo(()=>{var c;return((c=a.localeText)==null?void 0:c.toolbarTitle)==null?a.localeText:x({},a.localeText,{datePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return x({},a,s,{localeText:o},Os({views:a.views,openTo:a.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:x({toolbar:Sn},a.slots)})}const _n=e=>{const t=jn(e);return _s({manager:t,props:e})},In=["slots","slotProps"],fa=p.forwardRef(function(t,a){const s=pe({props:t,name:"MuiDateField"}),{slots:o,slotProps:c}=s,i=se(s,In),d=Is({slotProps:c,ref:a,externalForwardedProps:i}),u=_n(d);return n.jsx(Es,{slots:o,slotProps:c,inputRef:i.inputRef,children:n.jsx(Ns,{fieldResponse:u,defaultOpenPickerIcon:Fs})})}),ma=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:a,minDate:s,maxDate:o,disableFuture:c,disablePast:i,timezone:d})=>{const u=te();return p.useCallback(r=>We({adapter:u,value:r,timezone:d,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:a,minDate:s,maxDate:o,disableFuture:c,disablePast:i}})!==null,[u,e,t,a,s,o,c,i,d])},En=(e,t)=>(a,s)=>{switch(s.type){case"setVisibleDate":return x({},a,{slideDirection:s.direction,currentMonth:s.month,isMonthSwitchingAnimating:!t.isSameMonth(s.month,a.currentMonth)&&!e&&!s.skipAnimation,focusedDay:s.focusedDay});case"changeMonthTimezone":{const o=s.newTimezone;if(t.getTimezone(a.currentMonth)===o)return a;let c=t.setTimezone(a.currentMonth,o);return t.getMonth(c)!==t.getMonth(a.currentMonth)&&(c=t.setMonth(c,t.getMonth(a.currentMonth))),x({},a,{currentMonth:c})}case"finishMonthSwitchingAnimation":return x({},a,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},Nn=e=>{const{value:t,referenceDate:a,disableFuture:s,disablePast:o,maxDate:c,minDate:i,onMonthChange:d,onYearChange:u,reduceAnimations:r,shouldDisableDate:m,timezone:h,getCurrentMonthFromVisibleDate:y}=e,f=te(),D=p.useRef(En(!!r,f)).current,M=p.useMemo(()=>be.getInitialReferenceValue({value:t,adapter:f,timezone:h,props:e,referenceDate:a,granularity:vt.day}),[a,h]),[g,S]=p.useReducer(D,{isMonthSwitchingAnimating:!1,focusedDay:M,currentMonth:f.startOfMonth(M),slideDirection:"left"}),k=ma({shouldDisableDate:m,minDate:i,maxDate:c,disableFuture:s,disablePast:o,timezone:h});p.useEffect(()=>{S({type:"changeMonthTimezone",newTimezone:f.getTimezone(M)})},[M,f]);const $=X(({target:b,reason:F})=>{if(F==="cell-interaction"&&g.focusedDay!=null&&f.isSameDay(b,g.focusedDay))return;const H=F==="cell-interaction";let _,O;if(F==="cell-interaction")_=y(b,g.currentMonth),O=b;else if(_=f.isSameMonth(b,g.currentMonth)?g.currentMonth:f.startOfMonth(b),O=b,k(O)){const v=f.startOfMonth(b),W=f.endOfMonth(b);O=He({adapter:f,date:O,minDate:f.isBefore(i,v)?v:i,maxDate:f.isAfter(c,W)?W:c,disablePast:o,disableFuture:s,isDateDisabled:k,timezone:h})}const R=!f.isSameMonth(g.currentMonth,_),Y=!f.isSameYear(g.currentMonth,_);R&&(d==null||d(_)),Y&&(u==null||u(f.startOfYear(_))),S({type:"setVisibleDate",month:_,direction:f.isAfterDay(_,g.currentMonth)?"left":"right",focusedDay:g.focusedDay!=null&&O!=null&&f.isSameDay(O,g.focusedDay)?g.focusedDay:O,skipAnimation:H})}),A=p.useCallback(()=>{S({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:M,calendarState:g,setVisibleDate:$,isDateDisabled:k,onMonthSwitchingAnimationEnd:A}},Fn=e=>ye("MuiPickersFadeTransitionGroup",e);Ce("MuiPickersFadeTransitionGroup",["root"]);const Rn=["children"],$n=e=>he({root:["root"]},Fn,e),Vn=B(Jt,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function ga(e){const t=pe({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:a,reduceAnimations:s,transKey:o,classes:c}=t,{children:i}=t,d=se(t,Rn),u=$n(c),r=Qt();return s?i:n.jsx(Vn,{className:de(u.root,a),ownerState:d,children:n.jsx(Xt,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:r.transitions.duration.enteringScreen,enter:r.transitions.duration.enteringScreen,exit:0},children:i},o)})}function Ln(e){return ye("MuiPickersDay",e)}const Ie=Ce("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function ba(e){const{disabled:t,selected:a,today:s,outsideCurrentMonth:o,day:c,disableMargin:i,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=e,r=te(),{ownerState:m}=Se();return p.useMemo(()=>x({},m,{day:c,isDaySelected:a!=null?a:!1,isDayDisabled:t!=null?t:!1,isDayCurrent:s!=null?s:!1,isDayOutsideMonth:o!=null?o:!1,isDayStartOfWeek:r.isSameDay(c,r.startOfWeek(c)),isDayEndOfWeek:r.isSameDay(c,r.endOfWeek(c)),disableMargin:i!=null?i:!1,disableHighlightToday:d!=null?d:!1,showDaysOutsideCurrentMonth:u!=null?u:!1}),[r,m,c,a,t,s,o,i,d,u])}const Bn=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],Yn=(e,t)=>{const{isDaySelected:a,isDayDisabled:s,isDayCurrent:o,isDayOutsideMonth:c,disableMargin:i,disableHighlightToday:d,showDaysOutsideCurrentMonth:u}=t,r=c&&!u;return he({root:["root",a&&!r&&"selected",s&&"disabled",!i&&"dayWithMargin",!d&&o&&"today",c&&u&&"dayOutsideMonth",r&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Ln,e)},ya=({theme:e})=>x({},e.typography.caption,{width:Ue,height:Ue,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Fe(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Fe(e.palette.primary.main,e.palette.action.focusOpacity),["&.".concat(Ie.selected)]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},["&.".concat(Ie.selected)]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},["&.".concat(Ie.disabled,":not(.").concat(Ie.selected,")")]:{color:(e.vars||e).palette.text.disabled},["&.".concat(Ie.disabled,"&.").concat(Ie.selected)]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:"0 ".concat(ot,"px")}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{["&:not(.".concat(Ie.selected,")")]:{border:"1px solid ".concat((e.vars||e).palette.text.secondary)}}}]}),Ca=(e,t)=>{const{ownerState:a}=e;return[t.root,!a.disableMargin&&t.dayWithMargin,!a.disableHighlightToday&&a.isDayCurrent&&t.today,!a.isDayOutsideMonth&&a.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,a.isDayOutsideMonth&&!a.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Hn=B(Ka,{name:"MuiPickersDay",slot:"Root",overridesResolver:Ca})(ya),Un=B("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Ca})(({theme:e})=>x({},ya({theme:e}),{opacity:0,pointerEvents:"none"})),Le=()=>{},Wn=p.forwardRef(function(t,a){const s=pe({props:t,name:"MuiPickersDay"}),{autoFocus:o=!1,className:c,classes:i,isAnimating:d,onClick:u,onDaySelect:r,onFocus:m=Le,onBlur:h=Le,onKeyDown:y=Le,onMouseDown:f=Le,onMouseEnter:D=Le,children:M,day:g,selected:S,disabled:k,today:$,outsideCurrentMonth:A,disableMargin:b,disableHighlightToday:F,showDaysOutsideCurrentMonth:H}=s,_=se(s,Bn),O=ba({day:g,selected:S,disabled:k,today:$,outsideCurrentMonth:A,disableMargin:b,disableHighlightToday:F,showDaysOutsideCurrentMonth:H}),R=Yn(i,O),Y=te(),v=p.useRef(null),W=Zt(v,a);Dt(()=>{o&&!k&&!d&&!A&&v.current.focus()},[o,k,d,A]);const z=I=>{f(I),A&&I.preventDefault()},E=I=>{I.defaultMuiPrevented=!0,k||r(g),A&&I.currentTarget.focus(),u&&u(I)};return A&&!H?n.jsx(Un,{className:de(R.root,R.hiddenDaySpacingFiller,c),ownerState:O,role:_.role}):n.jsx(Hn,x({className:de(R.root,c),ref:W,centerRipple:!0,disabled:k,tabIndex:S?0:-1,onKeyDown:I=>y(I,g),onFocus:I=>m(I,g),onBlur:I=>h(I,g),onMouseEnter:I=>D(I,g),onClick:E,onMouseDown:z},_,{ownerState:O,children:M!=null?M:Y.format(g,"dayOfMonth")}))}),zn=p.memo(Wn),Gn=e=>ye("MuiPickersSlideTransition",e),ce=Ce("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Kn=["children","className","reduceAnimations","slideDirection","transKey","classes"],qn=(e,t)=>{const{slideDirection:a}=t,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:["slideEnter-".concat(a)],exitActive:["slideExitActiveLeft-".concat(a)]};return he(s,Gn,e)},Qn=B(Jt,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[".".concat(ce["slideEnter-left"])]:t["slideEnter-left"]},{[".".concat(ce["slideEnter-right"])]:t["slideEnter-right"]},{[".".concat(ce.slideEnterActive)]:t.slideEnterActive},{[".".concat(ce.slideExit)]:t.slideExit},{[".".concat(ce["slideExitActiveLeft-left"])]:t["slideExitActiveLeft-left"]},{[".".concat(ce["slideExitActiveLeft-right"])]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},["& .".concat(ce["slideEnter-left"])]:{willChange:"transform",transform:"translate(100%)",zIndex:1},["& .".concat(ce["slideEnter-right"])]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},["& .".concat(ce.slideEnterActive)]:{transform:"translate(0%)",transition:t},["& .".concat(ce.slideExit)]:{transform:"translate(0%)"},["& .".concat(ce["slideExitActiveLeft-left"])]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},["& .".concat(ce["slideExitActiveLeft-right"])]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function Xn(e){const t=pe({props:e,name:"MuiPickersSlideTransition"}),{children:a,className:s,reduceAnimations:o,slideDirection:c,transKey:i,classes:d}=t,u=se(t,Kn),{ownerState:r}=Se(),m=x({},r,{slideDirection:c}),h=qn(d,m),y=Qt();if(o)return n.jsx("div",{className:de(h.root,s),children:a});const f={exit:h.exit,enterActive:h.enterActive,enter:h.enter,exitActive:h.exitActive};return n.jsx(Qn,{className:de(h.root,s),childFactory:D=>p.cloneElement(D,{classNames:f}),role:"presentation",ownerState:m,children:n.jsx(kt,x({mountOnEnter:!0,unmountOnExit:!0,timeout:y.transitions.duration.complex,classNames:f},u,{children:a}),i)})}const Jn=e=>ye("MuiDayCalendar",e);Ce("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Zn=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],eo=["ownerState"],to=e=>he({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Jn,e),Da=(Ue+ot*2)*6,ao=B("div",{name:"MuiDayCalendar",slot:"Root"})({}),so=B("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),no=B(Ee,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),oo=B(Ee,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),ro=B(Ee,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>x({},e.typography.caption,{width:Ue,height:Ue,padding:0,margin:"0 ".concat(ot,"px"),color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),io=B("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Da}),lo=B(Xn,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:Da}),co=B("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),uo=B("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:"".concat(ot,"px 0"),display:"flex",justifyContent:"center"});function ho(e){var z;let{parentProps:t,day:a,focusedDay:s,selectedDays:o,isDateDisabled:c,currentMonthNumber:i,isViewFocused:d}=e,u=se(e,Zn);const{disabled:r,disableHighlightToday:m,isMonthSwitchingAnimating:h,showDaysOutsideCurrentMonth:y,slots:f,slotProps:D,timezone:M}=t,g=te(),S=rt(M),k=s!=null&&g.isSameDay(a,s),$=d&&k,A=o.some(E=>g.isSameDay(E,a)),b=g.isSameDay(a,S),F=p.useMemo(()=>r||c(a),[r,c,a]),H=p.useMemo(()=>g.getMonth(a)!==i,[g,a,i]),_=ba({day:a,selected:A,disabled:F,today:b,outsideCurrentMonth:H,disableMargin:void 0,disableHighlightToday:m,showDaysOutsideCurrentMonth:y}),O=(z=f==null?void 0:f.day)!=null?z:zn,R=Re({elementType:O,externalSlotProps:D==null?void 0:D.day,additionalProps:x({disableHighlightToday:m,showDaysOutsideCurrentMonth:y,role:"gridcell",isAnimating:h,"data-timestamp":g.toJsDate(a).valueOf()},u),ownerState:x({},_,{day:a,isDayDisabled:F,isDaySelected:A})}),Y=se(R,eo),v=p.useMemo(()=>{const E=g.startOfMonth(g.setMonth(a,i));return y?g.isSameDay(a,g.startOfWeek(E)):g.isSameDay(a,E)},[i,a,y,g]),W=p.useMemo(()=>{const E=g.endOfMonth(g.setMonth(a,i));return y?g.isSameDay(a,g.endOfWeek(E)):g.isSameDay(a,E)},[i,a,y,g]);return n.jsx(O,x({},Y,{day:a,disabled:F,autoFocus:!H&&$,today:b,outsideCurrentMonth:H,isFirstVisibleCell:v,isLastVisibleCell:W,selected:A,tabIndex:k?0:-1,"aria-selected":A,"aria-current":b?"date":void 0}))}function po(e){const t=pe({props:e,name:"MuiDayCalendar"}),a=te(),{onFocusedDayChange:s,className:o,classes:c,currentMonth:i,selectedDays:d,focusedDay:u,loading:r,onSelectedDaysChange:m,onMonthSwitchingAnimationEnd:h,readOnly:y,reduceAnimations:f,renderLoading:D=()=>n.jsx("span",{children:"..."}),slideDirection:M,TransitionProps:g,disablePast:S,disableFuture:k,minDate:$,maxDate:A,shouldDisableDate:b,shouldDisableMonth:F,shouldDisableYear:H,dayOfWeekFormatter:_=w=>a.format(w,"weekdayShort").charAt(0).toUpperCase(),hasFocus:O,onFocusedViewChange:R,gridLabelId:Y,displayWeekNumber:v,fixedWeekNumber:W,timezone:z}=t,E=rt(z),I=to(c),C=xt(),ne=ma({shouldDisableDate:b,shouldDisableMonth:F,shouldDisableYear:H,minDate:$,maxDate:A,disablePast:S,disableFuture:k,timezone:z}),U=nt(),ae=X(w=>{y||m(w)}),K=w=>{ne(w)||(s(w),R==null||R(!0))},q=X((w,j)=>{switch(w.key){case"ArrowUp":K(a.addDays(j,-7)),w.preventDefault();break;case"ArrowDown":K(a.addDays(j,7)),w.preventDefault();break;case"ArrowLeft":{const G=a.addDays(j,C?1:-1),J=a.addMonths(j,C?1:-1),T=He({adapter:a,date:G,minDate:C?G:a.startOfMonth(J),maxDate:C?a.endOfMonth(J):G,isDateDisabled:ne,timezone:z});K(T||G),w.preventDefault();break}case"ArrowRight":{const G=a.addDays(j,C?-1:1),J=a.addMonths(j,C?-1:1),T=He({adapter:a,date:G,minDate:C?a.startOfMonth(J):G,maxDate:C?G:a.endOfMonth(J),isDateDisabled:ne,timezone:z});K(T||G),w.preventDefault();break}case"Home":K(a.startOfWeek(j)),w.preventDefault();break;case"End":K(a.endOfWeek(j)),w.preventDefault();break;case"PageUp":K(a.addMonths(j,1)),w.preventDefault();break;case"PageDown":K(a.addMonths(j,-1)),w.preventDefault();break}}),oe=X((w,j)=>K(j)),ie=X((w,j)=>{u!=null&&a.isSameDay(u,j)&&(R==null||R(!1))}),we=a.getMonth(i),je=a.getYear(i),De=p.useMemo(()=>d.filter(w=>!!w).map(w=>a.startOfDay(w)),[a,d]),me="".concat(je,"-").concat(we),Q=p.useMemo(()=>p.createRef(),[me]),Z=p.useMemo(()=>{const w=a.getWeekArray(i);let j=a.addMonths(i,1);for(;W&&w.length<W;){const G=a.getWeekArray(j),J=a.isSameDay(w[w.length-1][0],G[0][0]);G.slice(J?1:0).forEach(T=>{w.length<W&&w.push(T)}),j=a.addMonths(j,1)}return w},[i,W,a]);return n.jsxs(ao,{role:"grid","aria-labelledby":Y,className:I.root,children:[n.jsxs(so,{role:"row",className:I.header,children:[v&&n.jsx(oo,{variant:"caption",role:"columnheader","aria-label":U.calendarWeekNumberHeaderLabel,className:I.weekNumberLabel,children:U.calendarWeekNumberHeaderText}),Rs(a,E).map((w,j)=>n.jsx(no,{variant:"caption",role:"columnheader","aria-label":a.format(w,"weekday"),className:I.weekDayLabel,children:_(w)},j.toString()))]}),r?n.jsx(io,{className:I.loadingContainer,children:D()}):n.jsx(lo,x({transKey:me,onExited:h,reduceAnimations:f,slideDirection:M,className:de(o,I.slideTransition)},g,{nodeRef:Q,children:n.jsx(co,{ref:Q,role:"rowgroup",className:I.monthContainer,children:Z.map((w,j)=>n.jsxs(uo,{role:"row",className:I.weekContainer,"aria-rowindex":j+1,children:[v&&n.jsx(ro,{className:I.weekNumber,role:"rowheader","aria-label":U.calendarWeekNumberAriaLabelText(a.getWeekNumber(w[0])),children:U.calendarWeekNumberText(a.getWeekNumber(w[0]))}),w.map((G,J)=>n.jsx(ho,{parentProps:t,day:G,selectedDays:De,isViewFocused:O,focusedDay:u,onKeyDown:q,onFocus:oe,onBlur:ie,onDaySelect:ae,isDateDisabled:ne,currentMonthNumber:we,"aria-colindex":J+1},G.toString()))]},"week-".concat(w[0])))})}))]})}function xa(e){return ye("MuiMonthCalendar",e)}const qe=Ce("MuiMonthCalendar",["root","button","disabled","selected"]),fo=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],mo=(e,t)=>{const a={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return he(a,xa,e)},go=B("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{["&.".concat(qe.disabled)]:t.disabled},{["&.".concat(qe.selected)]:t.selected}]})(({theme:e})=>x({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},["&.".concat(qe.disabled)]:{color:(e.vars||e).palette.text.secondary},["&.".concat(qe.selected)]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),bo=p.memo(function(t){var A;const{autoFocus:a,classes:s,disabled:o,selected:c,value:i,onClick:d,onKeyDown:u,onFocus:r,onBlur:m,slots:h,slotProps:y}=t,f=se(t,fo),D=p.useRef(null),{ownerState:M}=Se(),g=x({},M,{isMonthDisabled:o,isMonthSelected:c}),S=mo(s,g);Dt(()=>{var b;a&&((b=D.current)==null||b.focus())},[a]);const k=(A=h==null?void 0:h.monthButton)!=null?A:go,$=Re({elementType:k,externalSlotProps:y==null?void 0:y.monthButton,externalForwardedProps:f,additionalProps:{disabled:o,ref:D,type:"button",role:"radio","aria-checked":c,onClick:b=>d(b,i),onKeyDown:b=>u(b,i),onFocus:b=>r(b,i),onBlur:b=>m(b,i)},ownerState:g,className:S.button});return n.jsx(k,x({},$))}),yo=["autoFocus","className","currentMonth","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Co=e=>he({root:["root"]},xa,e);function Do(e,t){var o;const a=pe({props:e,name:t}),s=ze(a);return x({},a,s,{monthsPerRow:(o=a.monthsPerRow)!=null?o:3})}const Lt=(e,t,a,s,o)=>!!(e===t&&s&&o.isSameYear(a,s)),xo=B("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>ta(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:da,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),Mo=p.forwardRef(function(t,a){var J;const s=Do(t,"MuiMonthCalendar"),{autoFocus:o,className:c,currentMonth:i,classes:d,value:u,defaultValue:r,referenceDate:m,disabled:h,disableFuture:y,disablePast:f,maxDate:D,minDate:M,onChange:g,shouldDisableMonth:S,readOnly:k,onMonthFocus:$,hasFocus:A,onFocusedViewChange:b,monthsPerRow:F,timezone:H,gridLabelId:_,slots:O,slotProps:R}=s,Y=se(s,yo),{value:v,handleValueChange:W,timezone:z}=wt({name:"MonthCalendar",timezone:H,value:u,defaultValue:r,referenceDate:m,onChange:g,valueManager:be}),E=rt(z),I=xt(),C=te(),{ownerState:ne}=Se(),U=p.useMemo(()=>be.getInitialReferenceValue({value:v,adapter:C,props:s,timezone:z,referenceDate:m,granularity:vt.month}),[]),ae=Co(d),K=p.useMemo(()=>C.getMonth(E),[C,E]),q=p.useMemo(()=>v!=null?C.getMonth(v):null,[v,C]),[oe,ie]=p.useState(()=>q||C.getMonth(U)),[we,je]=ea({name:"MonthCalendar",state:"hasFocus",controlled:A,default:o!=null?o:!1}),De=X(T=>{je(T),b&&b(T)}),me=p.useCallback(T=>{const N=C.startOfMonth(f&&C.isAfter(E,M)?E:M),re=C.startOfMonth(y&&C.isBefore(E,D)?E:D),ee=C.startOfMonth(T);return C.isBefore(ee,N)||C.isAfter(ee,re)?!0:S?S(ee):!1},[y,f,D,M,E,S,C]),Q=X((T,N)=>{if(k)return;const re=v&&i&&!C.isSameYear(v,i)?C.setYear(v,C.getYear(i)):v,ee=C.setMonth(re!=null?re:U,N);W(ee)}),Z=X(T=>{var N;me(C.setMonth((N=v!=null?v:i)!=null?N:U,T))||(ie(T),De(!0),$&&$(T))});p.useEffect(()=>{ie(T=>q!==null&&T!==q?q:T)},[q]);const w=X((T,N)=>{switch(T.key){case"ArrowUp":Z((12+N-3)%12),T.preventDefault();break;case"ArrowDown":Z((12+N+3)%12),T.preventDefault();break;case"ArrowLeft":Z((12+N+(I?1:-1))%12),T.preventDefault();break;case"ArrowRight":Z((12+N+(I?-1:1))%12),T.preventDefault();break}}),j=X((T,N)=>{Z(N)}),G=X((T,N)=>{oe===N&&De(!1)});return n.jsx(xo,x({ref:a,className:de(ae.root,c),ownerState:ne,role:"radiogroup","aria-labelledby":_,monthsPerRow:F},Y,{children:$s(C,(J=i!=null?i:v)!=null?J:U).map(T=>{const N=C.getMonth(T),re=C.format(T,"monthShort"),ee=C.format(T,"month"),xe=Lt(N,q,T,v,C),P=h||me(T);return n.jsx(bo,{selected:xe,value:N,onClick:Q,onKeyDown:w,autoFocus:we&&N===oe,disabled:P,tabIndex:N===oe&&!P?0:-1,onFocus:j,onBlur:G,"aria-current":Lt(N,K,T,E,C)?"date":void 0,"aria-label":ee,slots:O,slotProps:R,classes:d,children:re},re)})}))});function Ma(e){return ye("MuiYearCalendar",e)}const Qe=Ce("MuiYearCalendar",["root","button","disabled","selected"]),vo=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],wo=(e,t)=>{const a={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return he(a,Ma,e)},ko=B("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{["&.".concat(Qe.disabled)]:t.disabled},{["&.".concat(Qe.selected)]:t.selected}]})(({theme:e})=>x({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Fe(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Fe(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},["&.".concat(Qe.disabled)]:{color:(e.vars||e).palette.text.secondary},["&.".concat(Qe.selected)]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Po=p.memo(function(t){var A;const{autoFocus:a,classes:s,disabled:o,selected:c,value:i,onClick:d,onKeyDown:u,onFocus:r,onBlur:m,slots:h,slotProps:y}=t,f=se(t,vo),D=p.useRef(null),{ownerState:M}=Se(),g=x({},M,{isYearDisabled:o,isYearSelected:c}),S=wo(s,g);Dt(()=>{var b;a&&((b=D.current)==null||b.focus())},[a]);const k=(A=h==null?void 0:h.yearButton)!=null?A:ko,$=Re({elementType:k,externalSlotProps:y==null?void 0:y.yearButton,externalForwardedProps:f,additionalProps:{disabled:o,ref:D,type:"button",role:"radio","aria-checked":c,onClick:b=>d(b,i),onKeyDown:b=>u(b,i),onFocus:b=>r(b,i),onBlur:b=>m(b,i)},ownerState:g,className:S.button});return n.jsx(k,x({},$))}),To=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],So=e=>he({root:["root"]},Ma,e);function jo(e,t){var o,c;const a=pe({props:e,name:t}),s=ze(a);return x({},a,s,{yearsPerRow:(o=a.yearsPerRow)!=null?o:3,yearsOrder:(c=a.yearsOrder)!=null?c:"asc"})}const Ao=B("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>ta(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:da,maxHeight:Vs,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),Oo=B("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),_o=p.forwardRef(function(t,a){const s=jo(t,"MuiYearCalendar"),{autoFocus:o,className:c,classes:i,value:d,defaultValue:u,referenceDate:r,disabled:m,disableFuture:h,disablePast:y,maxDate:f,minDate:D,onChange:M,readOnly:g,shouldDisableYear:S,onYearFocus:k,hasFocus:$,onFocusedViewChange:A,yearsOrder:b,yearsPerRow:F,timezone:H,gridLabelId:_,slots:O,slotProps:R}=s,Y=se(s,To),{value:v,handleValueChange:W,timezone:z}=wt({name:"YearCalendar",timezone:H,value:d,defaultValue:u,referenceDate:r,onChange:M,valueManager:be}),E=rt(z),I=xt(),C=te(),{ownerState:ne}=Se(),U=p.useMemo(()=>be.getInitialReferenceValue({value:v,adapter:C,props:s,timezone:z,referenceDate:r,granularity:vt.year}),[]),ae=So(i),K=p.useMemo(()=>C.getYear(E),[C,E]),q=p.useMemo(()=>v!=null?C.getYear(v):null,[v,C]),[oe,ie]=p.useState(()=>q||C.getYear(U)),[we,je]=ea({name:"YearCalendar",state:"hasFocus",controlled:$,default:o!=null?o:!1}),De=X(P=>{je(P),A&&A(P)}),me=p.useCallback(P=>{if(y&&C.isBeforeYear(P,E)||h&&C.isAfterYear(P,E)||D&&C.isBeforeYear(P,D)||f&&C.isAfterYear(P,f))return!0;if(!S)return!1;const V=C.startOfYear(P);return S(V)},[h,y,f,D,E,S,C]),Q=X((P,V)=>{if(g)return;const ke=C.setYear(v!=null?v:U,V);W(ke)}),Z=X(P=>{me(C.setYear(v!=null?v:U,P))||(ie(P),De(!0),k==null||k(P))});p.useEffect(()=>{ie(P=>q!==null&&P!==q?q:P)},[q]);const w=b!=="desc"?F*1:F*-1,j=I&&b==="asc"||!I&&b==="desc"?-1:1,G=X((P,V)=>{switch(P.key){case"ArrowUp":Z(V-w),P.preventDefault();break;case"ArrowDown":Z(V+w),P.preventDefault();break;case"ArrowLeft":Z(V-j),P.preventDefault();break;case"ArrowRight":Z(V+j),P.preventDefault();break}}),J=X((P,V)=>{Z(V)}),T=X((P,V)=>{oe===V&&De(!1)}),N=p.useRef(null),re=Zt(a,N);p.useEffect(()=>{if(o||N.current===null)return;const P=N.current.querySelector('[tabindex="0"]');if(!P)return;const V=P.offsetHeight,ke=P.offsetTop,Ae=N.current.clientHeight,it=N.current.scrollTop,Ge=ke+V;V>Ae||ke<it||(N.current.scrollTop=Ge-Ae/2-V/2)},[o]);const ee=C.getYearRange([D,f]);b==="desc"&&ee.reverse();let xe=F-ee.length%F;return xe===F&&(xe=0),n.jsxs(Ao,x({ref:re,className:de(ae.root,c),ownerState:ne,role:"radiogroup","aria-labelledby":_,yearsPerRow:F},Y,{children:[ee.map(P=>{const V=C.getYear(P),ke=V===q,Ae=m||me(P);return n.jsx(Po,{selected:ke,value:V,onClick:Q,onKeyDown:G,autoFocus:we&&V===oe,disabled:Ae,tabIndex:V===oe&&!Ae?0:-1,onFocus:J,onBlur:T,"aria-current":K===V?"date":void 0,slots:O,slotProps:R,classes:i,children:C.format(P,"year")},C.format(P,"year"))}),Array.from({length:xe},(P,V)=>n.jsx(Oo,{},V))]}))}),Io=e=>ye("MuiPickersCalendarHeader",e),Eo=Ce("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),No=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],Fo=["ownerState"],Ro=e=>he({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Io,e),$o=B("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Vo=B("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>x({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),Lo=B("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),Bo=B(Be,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[".".concat(Eo.switchViewIcon)]:{transform:"rotate(180deg)"}}}]}),Yo=B(Hs,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),Ho=p.forwardRef(function(t,a){var q,oe;const s=nt(),o=te(),c=pe({props:t,name:"MuiPickersCalendarHeader"}),{slots:i,slotProps:d,currentMonth:u,disabled:r,disableFuture:m,disablePast:h,maxDate:y,minDate:f,onMonthChange:D,onViewChange:M,view:g,reduceAnimations:S,views:k,labelId:$,className:A,classes:b,timezone:F,format:H="".concat(o.formats.month," ").concat(o.formats.year)}=c,_=se(c,No),{ownerState:O}=Se(),R=Ro(b),Y=(q=i==null?void 0:i.switchViewButton)!=null?q:Bo,v=Re({elementType:Y,externalSlotProps:d==null?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(g)},ownerState:x({},O,{view:g}),className:R.switchViewButton}),W=(oe=i==null?void 0:i.switchViewIcon)!=null?oe:Yo,z=Re({elementType:W,externalSlotProps:d==null?void 0:d.switchViewIcon,ownerState:O,className:R.switchViewIcon}),E=se(z,Fo),I=()=>D(o.addMonths(u,1)),C=()=>D(o.addMonths(u,-1)),ne=Ls(u,{disableFuture:m,maxDate:y,timezone:F}),U=Bs(u,{disablePast:h,minDate:f,timezone:F}),ae=()=>{if(!(k.length===1||!M||r))if(k.length===2)M(k.find(ie=>ie!==g)||k[0]);else{const ie=k.indexOf(g)!==0?0:1;M(k[ie])}};if(k.length===1&&k[0]==="year")return null;const K=o.formatByString(u,H);return n.jsxs($o,x({},_,{ownerState:O,className:de(R.root,A),ref:a,children:[n.jsxs(Vo,{role:"presentation",onClick:ae,ownerState:O,"aria-live":"polite",className:R.labelContainer,children:[n.jsx(ga,{reduceAnimations:S,transKey:K,children:n.jsx(Lo,{id:$,ownerState:O,className:R.label,children:K})}),k.length>1&&!r&&n.jsx(Y,x({},v,{children:n.jsx(W,x({},E))}))]}),n.jsx(Xt,{in:g==="day",appear:!S,enter:!S,children:n.jsx(Ys,{slots:i,slotProps:d,onGoToPrevious:C,isPreviousDisabled:U,previousLabel:s.previousMonth,onGoToNext:I,isNextDisabled:ne,nextLabel:s.nextMonth})})]}))}),Uo=e=>ye("MuiDateCalendar",e);Ce("MuiDateCalendar",["root","viewTransitionContainer"]);const Wo=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],zo=e=>he({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Uo,e);function Go(e,t){var c,i,d,u;const a=pe({props:e,name:t}),s=zs(a.reduceAnimations),o=ze(a);return x({},a,o,{loading:(c=a.loading)!=null?c:!1,openTo:(i=a.openTo)!=null?i:"day",views:(d=a.views)!=null?d:["year","day"],reduceAnimations:s,renderLoading:(u=a.renderLoading)!=null?u:()=>n.jsx("span",{children:"..."})})}const Ko=B(Gs,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Ks}),qo=B(ga,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),Qo=p.forwardRef(function(t,a){var St;const s=te(),{ownerState:o}=Se(),c=qa(),i=Go(t,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:r,defaultValue:m,referenceDate:h,disableFuture:y,disablePast:f,onChange:D,onMonthChange:M,reduceAnimations:g,shouldDisableDate:S,shouldDisableMonth:k,shouldDisableYear:$,view:A,views:b,openTo:F,className:H,classes:_,disabled:O,readOnly:R,minDate:Y,maxDate:v,disableHighlightToday:W,focusedView:z,onFocusedViewChange:E,showDaysOutsideCurrentMonth:I,fixedWeekNumber:C,dayOfWeekFormatter:ne,slots:U,slotProps:ae,loading:K,renderLoading:q,displayWeekNumber:oe,yearsOrder:ie,yearsPerRow:we,monthsPerRow:je,timezone:De}=i,me=se(i,Wo),{value:Q,handleValueChange:Z,timezone:w}=wt({name:"DateCalendar",timezone:De,value:r,defaultValue:m,referenceDate:h,onChange:D,valueManager:be}),{view:j,setView:G,focusedView:J,setFocusedView:T,goToNextView:N,setValueAndGoToNextView:re}=Us({view:A,views:b,openTo:F,onChange:Z,onViewChange:u,autoFocus:d,focusedView:z,onFocusedViewChange:E}),{referenceDate:ee,calendarState:xe,setVisibleDate:P,isDateDisabled:V,onMonthSwitchingAnimationEnd:ke}=Nn({value:Q,referenceDate:h,reduceAnimations:g,onMonthChange:M,minDate:Y,maxDate:v,shouldDisableDate:S,disablePast:f,disableFuture:y,timezone:w,getCurrentMonthFromVisibleDate:(L,ge)=>s.isSameMonth(L,ge)?ge:s.startOfMonth(L)}),Ae=O&&Q||Y,it=O&&Q||v,Ge="".concat(c,"-grid-label"),lt=J!==null,Pt=(St=U==null?void 0:U.calendarHeader)!=null?St:Ho,ka=Re({elementType:Pt,externalSlotProps:ae==null?void 0:ae.calendarHeader,additionalProps:{views:b,view:j,currentMonth:xe.currentMonth,onViewChange:G,onMonthChange:L=>P({target:L,reason:"header-navigation"}),minDate:Ae,maxDate:it,disabled:O,disablePast:f,disableFuture:y,reduceAnimations:g,timezone:w,labelId:Ge},ownerState:o}),Pa=X(L=>{const ge=s.startOfMonth(L),$e=s.endOfMonth(L),Oe=V(L)?He({adapter:s,date:L,minDate:s.isBefore(Y,ge)?ge:Y,maxDate:s.isAfter(v,$e)?$e:v,disablePast:f,disableFuture:y,isDateDisabled:V,timezone:w}):L;Oe?(re(Oe,"finish"),P({target:Oe,reason:"cell-interaction"})):(N(),P({target:ge,reason:"cell-interaction"}))}),Ta=X(L=>{const ge=s.startOfYear(L),$e=s.endOfYear(L),Oe=V(L)?He({adapter:s,date:L,minDate:s.isBefore(Y,ge)?ge:Y,maxDate:s.isAfter(v,$e)?$e:v,disablePast:f,disableFuture:y,isDateDisabled:V,timezone:w}):L;Oe?(re(Oe,"finish"),P({target:Oe,reason:"cell-interaction"})):(N(),P({target:ge,reason:"cell-interaction"}))}),Sa=X(L=>Z(L&&Ws(s,L,Q!=null?Q:ee),"finish",j));p.useEffect(()=>{s.isValid(Q)&&P({target:Q,reason:"controlled-value-change"})},[Q]);const Tt=zo(_),ct={disablePast:f,disableFuture:y,maxDate:v,minDate:Y},dt={disableHighlightToday:W,readOnly:R,disabled:O,timezone:w,gridLabelId:Ge,slots:U,slotProps:ae},ut=p.useRef(j);p.useEffect(()=>{ut.current!==j&&(J===ut.current&&T(j,!0),ut.current=j)},[J,T,j]);const ja=p.useMemo(()=>[Q],[Q]);return n.jsxs(Ko,x({ref:a,className:de(Tt.root,H),ownerState:o},me,{children:[n.jsx(Pt,x({},ka,{slots:U,slotProps:ae})),n.jsx(qo,{reduceAnimations:g,className:Tt.viewTransitionContainer,transKey:j,ownerState:o,children:n.jsxs("div",{children:[j==="year"&&n.jsx(_o,x({},ct,dt,{value:Q,onChange:Ta,shouldDisableYear:$,hasFocus:lt,onFocusedViewChange:L=>T("year",L),yearsOrder:ie,yearsPerRow:we,referenceDate:ee})),j==="month"&&n.jsx(Mo,x({},ct,dt,{currentMonth:xe.currentMonth,hasFocus:lt,className:H,value:Q,onChange:Pa,shouldDisableMonth:k,onFocusedViewChange:L=>T("month",L),monthsPerRow:je,referenceDate:ee})),j==="day"&&n.jsx(po,x({},xe,ct,dt,{onMonthSwitchingAnimationEnd:ke,hasFocus:lt,onFocusedDayChange:L=>P({target:L,reason:"cell-interaction"}),reduceAnimations:g,selectedDays:ja,onSelectedDaysChange:Sa,shouldDisableDate:S,shouldDisableMonth:k,shouldDisableYear:$,onFocusedViewChange:L=>T("day",L),showDaysOutsideCurrentMonth:I,fixedWeekNumber:C,dayOfWeekFormatter:ne,displayWeekNumber:oe,loading:K,renderLoading:q}))]})})]}))}),Ne=({view:e,onViewChange:t,views:a,focusedView:s,onFocusedViewChange:o,value:c,defaultValue:i,referenceDate:d,onChange:u,className:r,classes:m,disableFuture:h,disablePast:y,minDate:f,maxDate:D,shouldDisableDate:M,shouldDisableMonth:g,shouldDisableYear:S,reduceAnimations:k,onMonthChange:$,monthsPerRow:A,onYearChange:b,yearsOrder:F,yearsPerRow:H,slots:_,slotProps:O,loading:R,renderLoading:Y,disableHighlightToday:v,readOnly:W,disabled:z,showDaysOutsideCurrentMonth:E,dayOfWeekFormatter:I,sx:C,autoFocus:ne,fixedWeekNumber:U,displayWeekNumber:ae,timezone:K})=>n.jsx(Qo,{view:e,onViewChange:t,views:a.filter(Ft),focusedView:s&&Ft(s)?s:null,onFocusedViewChange:o,value:c,defaultValue:i,referenceDate:d,onChange:u,className:r,classes:m,disableFuture:h,disablePast:y,minDate:f,maxDate:D,shouldDisableDate:M,shouldDisableMonth:g,shouldDisableYear:S,reduceAnimations:k,onMonthChange:$,monthsPerRow:A,onYearChange:b,yearsOrder:F,yearsPerRow:H,slots:_,slotProps:O,loading:R,renderLoading:Y,disableHighlightToday:v,readOnly:W,disabled:z,showDaysOutsideCurrentMonth:E,dayOfWeekFormatter:I,sx:C,autoFocus:ne,fixedWeekNumber:U,displayWeekNumber:ae,timezone:K}),va=p.forwardRef(function(t,a){var u,r,m;const s=te(),o=pa(t,"MuiDesktopDatePicker"),c=x({day:Ne,month:Ne,year:Ne},o.viewRenderers),i=x({},o,{closeOnSelect:(u=o.closeOnSelect)!=null?u:!0,viewRenderers:c,format:Mt(s,o,!1),yearsPerRow:(r=o.yearsPerRow)!=null?r:4,slots:x({field:fa},o.slots),slotProps:x({},o.slotProps,{field:h=>{var y;return x({},aa((y=o.slotProps)==null?void 0:y.field,h),ua(o))},toolbar:x({hidden:!0},(m=o.slotProps)==null?void 0:m.toolbar)})}),{renderPicker:d}=qs({ref:a,props:i,valueManager:be,valueType:"date",validator:We,steps:null});return d()});va.propTypes={autoFocus:l.bool,className:l.string,closeOnSelect:l.bool,dayOfWeekFormatter:l.func,defaultValue:l.object,disabled:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,enableAccessibleFieldDOMStructure:l.any,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:ha,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.object,minDate:l.object,monthsPerRow:l.oneOf([3,4]),name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onSelectedSectionsChange:l.func,onViewChange:l.func,onYearChange:l.func,open:l.bool,openTo:l.oneOf(["day","month","year"]),orientation:l.oneOf(["landscape","portrait"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.object,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number]),shouldDisableDate:l.func,shouldDisableMonth:l.func,shouldDisableYear:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.object,view:l.oneOf(["day","month","year"]),viewRenderers:l.shape({day:l.func,month:l.func,year:l.func}),views:l.arrayOf(l.oneOf(["day","month","year"]).isRequired),yearsOrder:l.oneOf(["asc","desc"]),yearsPerRow:l.oneOf([3,4])};const wa=p.forwardRef(function(t,a){var u;const s=te(),o=pa(t,"MuiMobileDatePicker"),c=x({day:Ne,month:Ne,year:Ne},o.viewRenderers),i=x({},o,{viewRenderers:c,format:Mt(s,o,!1),slots:x({field:fa},o.slots),slotProps:x({},o.slotProps,{field:r=>{var m;return x({},aa((m=o.slotProps)==null?void 0:m.field,r),ua(o))},toolbar:x({hidden:!1},(u=o.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:d}=Qs({ref:a,props:i,valueManager:be,valueType:"date",validator:We,steps:null});return d()});wa.propTypes={autoFocus:l.bool,className:l.string,closeOnSelect:l.bool,dayOfWeekFormatter:l.func,defaultValue:l.object,disabled:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,enableAccessibleFieldDOMStructure:l.any,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:ha,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.object,minDate:l.object,monthsPerRow:l.oneOf([3,4]),name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onSelectedSectionsChange:l.func,onViewChange:l.func,onYearChange:l.func,open:l.bool,openTo:l.oneOf(["day","month","year"]),orientation:l.oneOf(["landscape","portrait"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.object,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number]),shouldDisableDate:l.func,shouldDisableMonth:l.func,shouldDisableYear:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.object,view:l.oneOf(["day","month","year"]),viewRenderers:l.shape({day:l.func,month:l.func,year:l.func}),views:l.arrayOf(l.oneOf(["day","month","year"]).isRequired),yearsOrder:l.oneOf(["asc","desc"]),yearsPerRow:l.oneOf([3,4])};const Xo=["desktopModeMediaQuery"],Jo=p.forwardRef(function(t,a){const s=pe({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:o=Xs}=s,c=se(s,Xo);return Qa(o,{defaultMatches:!0})?n.jsx(va,x({ref:a},c)):n.jsx(wa,x({ref:a},c))}),Bt=({settingName:e,value:t,defaultValue:a,handleChange:s,remove:o})=>{const{i18n:c,_:i}=ue(),[d,u]=p.useState(!1),[r,m]=p.useState(t!=null?t:a);p.useEffect(()=>{t&&m(t)},[t]);const h=p.useCallback(D=>{u(!1),D&&m(t!=null?t:a)},[t]),y=p.useCallback(()=>h(!0),[h]),f=p.useCallback((D,M=!0)=>{M&&h(!1),t!==D&&s(D)},[t,s,h]);return n.jsxs(n.Fragment,{children:[n.jsx(sa,{onClick:()=>u(!0),children:n.jsx(Xa,{primary:e,secondary:t?ht(Number(t)).format("L"):"-",secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),n.jsxs(na,{open:d,onClose:h,children:[n.jsx(bt,{children:e}),n.jsx(at,{children:n.jsx(Js,{dateAdapter:Zs,adapterLocale:ht.locale(),children:n.jsx(Jo,{value:r?ht(Number(r)):null,onChange:D=>{D&&m(D.valueOf().toString())}})})}),n.jsx(oa,{children:n.jsxs(le,{direction:"row",sx:{justifyContent:"space-between",alignItems:"end",width:"100%"},children:[n.jsxs(le,{children:[a!==void 0&&n.jsx(ve,{onClick:()=>{m(a),f(a,!1)},color:"primary",children:c._({id:"Tj36Dr"})}),o&&n.jsx(ve,{onClick:()=>{m(void 0),f(void 0,!1)},color:"primary",children:c._({id:"t/YqKh"})})]}),n.jsxs(le,{direction:"row",children:[n.jsx(ve,{onClick:y,color:"primary",children:c._({id:"dEgA5A"})}),n.jsx(ve,{onClick:()=>{f(r)},color:"primary",children:c._({id:"aP3N/0"})})]})]})})]})]})},Yt=({children:e,url:t})=>n.jsx(ca,{href:t,rel:"noreferrer",target:"_blank",underline:"none",color:"inherit",children:e}),Zo=({trackerRecordId:e,tracker:t,onClick:a,onClose:s})=>{const{i18n:o,_:c}=ue(),[i,d]=p.useState(!1),u=()=>{s(),fe.unbindTracker(e,i).response.then(()=>Te(o._({id:"BbWLs7"}),"success")).catch(r=>Te(o._({id:"YM4gTV"}),"error",Pe(r)))};return n.jsx(yt,{variant:"dialog",popupId:"tracker-active-menu-remove-button-".concat(t.id),children:r=>n.jsxs(n.Fragment,{children:[n.jsx(st,{...Ct(r),onClick:()=>{a(),r.open()},children:o._({id:"t/YqKh"})}),n.jsxs(na,{...es(r),onClose:()=>{s(),r.close()},children:[n.jsx(bt,{children:o._({id:"whJO4r",values:{0:t.name}})}),n.jsxs(at,{dividers:!0,children:[n.jsx(Ee,{children:o._({id:"jGYJGu"})}),t.supportsTrackDeletion&&n.jsx(an,{children:n.jsx(tn,{disabled:!1,label:o._({id:"R7YZoV",values:{0:t.name}}),checked:i,onChange:(m,h)=>d(h)})})]}),n.jsxs(oa,{children:[n.jsx(ve,{autoFocus:!0,onClick:()=>{r.close(),s()},children:o._({id:"dEgA5A"})}),n.jsx(ve,{onClick:()=>{r.close(),s(),u()},children:o._({id:"aP3N/0"})})]})]})]})})},er=({trackRecordId:e,isPrivate:t,closeMenu:a,supportsPrivateTracking:s})=>{const{i18n:o,_:c}=ue();return s?n.jsx(st,{onClick:()=>{fe.updateTrackerBind(e,{private:!t}).response.catch(i=>Te(o._({id:"cBoXe4"}),"error",Pe(i))),a()},children:t?o._({id:"nSFzho"}):o._({id:"Iy3yJp"})}):null},tr=({trackRecord:e,tracker:t,openSearch:a})=>{const{i18n:s,_:o}=ue();return n.jsxs(le,{direction:"row",sx:{alignItems:"stretch",paddingBottom:2},children:[n.jsx(Ja,{badgeContent:e.private?n.jsx(le,{sx:{p:"2px 6px",backgroundColor:"primary.main",borderRadius:100},children:n.jsx(qt,{fontSize:"small",sx:{color:"primary.contrastText"}})}):null,children:n.jsx(Yt,{url:e.remoteUrl,children:n.jsx(ia,{alt:"".concat(t.name),iconUrl:fe.getValidImgUrlFor(t.icon),slots:{avatarProps:{variant:"rounded",sx:{width:64,height:64}},spinnerImageProps:{ignoreQueue:!0}}})})}),n.jsx(sa,{sx:{flexGrow:1},onClick:a,children:n.jsx(tt,{title:e.title,children:n.jsx(Gt,{flexGrow:1,lines:1,children:e.title})})}),n.jsx(le,{sx:{justifyContent:"center"},children:n.jsx(yt,{variant:"popover",popupId:"tracker-active-menu-popup-".concat(t.id),children:c=>n.jsxs(n.Fragment,{children:[n.jsx(Be,{...Ct(c),children:n.jsx(Ds,{})}),n.jsx(xs,{...Za(c),id:"tracker-active-menu-".concat(t.id),children:(i,d)=>[n.jsx(Yt,{url:e.remoteUrl,children:n.jsx(st,{onClick:()=>i(),children:s._({id:"ZdWg0V"})})},"tracker-active-menu-item-browser-".concat(t.id)),n.jsx(Zo,{trackerRecordId:e.id,tracker:t,onClick:()=>d(!0),onClose:i},"tracker-active-menu-item-remove-".concat(t.id)),n.jsx(er,{trackRecordId:e.id,isPrivate:e.private,closeMenu:i,supportsPrivateTracking:t.supportsPrivateTracking})]})]})})})]})},Ht=({children:e})=>n.jsx(le,{direction:"row",sx:{textAlignLast:"center"},children:e}),Ut=e=>!Math.trunc(Number(e)),ar=({trackRecord:e,tracker:t,onClick:a})=>{const{i18n:s,_:o}=ue(),i=Ut(e.displayScore)?t.scores[0]:e.displayScore,d=p.useMemo(()=>t.scores.map(r=>[r,{text:Ut(r)?"-":r}]),[t.scores]),u=r=>{fe.updateTrackerBind(e.id,r).response.catch(m=>Te(s._({id:"cBoXe4"}),"error",Pe(m)))};return n.jsx(Ze,{sx:ra,children:n.jsxs(et,{sx:{padding:0},children:[n.jsx(tr,{trackRecord:e,tracker:t,openSearch:a}),n.jsx(Ze,{sx:{backgroundColor:"background.default"},children:n.jsx(et,{sx:{padding:"0"},children:n.jsxs(gt,{sx:{padding:1},children:[n.jsxs(Ht,{children:[n.jsx(ws,{ListPreferenceTitle:s._({id:"uAQUqI"}),entries:t.statuses.map(r=>r.name),type:"ListPreference",entryValues:t.statuses.map(r=>"".concat(r.value)),ListPreferenceCurrentValue:"".concat(e.status),updateValue:(r,m)=>u({status:Number(m)}),summary:"%s"},"status"),n.jsx(Ke,{orientation:"vertical",flexItem:!0}),n.jsx(ks,{settingTitle:s._({id:"QIei5D"}),dialogTitle:s._({id:"QIei5D"}),settingValue:"".concat(e.lastChapterRead,"/").concat(e.totalChapters),value:e.lastChapterRead,minValue:0,maxValue:Number.MAX_SAFE_INTEGER,valueUnit:"",handleUpdate:r=>u({lastChapterRead:r})}),n.jsx(Ke,{orientation:"vertical",flexItem:!0}),n.jsx(en,{settingName:s._({id:"Eq6YVV"}),value:i,values:d,handleChange:r=>u({scoreString:r})})]}),n.jsx(Ke,{}),n.jsxs(Ht,{children:[n.jsx(Bt,{settingName:s._({id:"WAjFYI"}),value:Me.getDateString(e.startDate),remove:!0,handleChange:r=>u({startDate:r!=null?r:_t})}),n.jsx(Ke,{orientation:"vertical",flexItem:!0}),n.jsx(Bt,{settingName:s._({id:"PWpGu5"}),value:Me.getDateString(e.finishDate),remove:!0,handleChange:r=>u({finishDate:r!=null?r:_t})})]})]})})})]})})};var Xe=function(e){return e[e.UNTRACKED=0]="UNTRACKED",e[e.SEARCH=1]="SEARCH",e[e.INFO=2]="INFO",e}({});const sr=({tracker:e,manga:t,trackRecord:a,mode:s,setSearchMode:o})=>{if(s===0)return n.jsx(un,{tracker:e,onClick:()=>o(e.id)});if(s===1)return n.jsx(Mn,{manga:t,tracker:e,trackedId:a==null?void 0:a.remoteId,closeSearchMode:()=>o(void 0)});if(s===2&&!a)throw new Error('TrackerCard: unable to find track record for tracker "'.concat(e.id,'" of manga "').concat(t.id,'"}'));return n.jsx(ar,{tracker:e,trackRecord:a,onClick:()=>{o(e.id)}})},nr=(e,t,a)=>e===a?Xe.SEARCH:t.includes(e)?Xe.INFO:Xe.UNTRACKED,Or=({manga:e})=>{var $,A,b,F,H;const{i18n:t,_:a}=ue(),s=ts(),[o,c]=p.useState(),i=fe.useGetTrackerList(as,{notifyOnNetworkStatusChange:!0}),d=(A=($=i.data)==null?void 0:$.trackers.nodes)!=null?A:[],u=fe.useGetManga(ss,e.id),r=(F=(b=u.data)==null?void 0:b.manga.trackRecords.nodes)!=null?F:[],m=Me.getLoggedIn(d),h=Me.getLoggedIn(Me.getTrackers(r,d)),y=Me.getIds(h),f=o!==void 0,D=p.useMemo(()=>f?gt:at,[f]),M=i.loading||u.loading,g=(H=i.error)!=null?H:u.error;p.useEffect(()=>{!M&&!g&&!h.length&&!m.length&&s(ns.settings.childRoutes.tracking.path)},[M]);const S=p.useRef(!1);p.useEffect(()=>{!r.length||S.current||(S.current=!0,Promise.all(r.filter(_=>y.includes(_.trackerId)).map(_=>fe.fetchTrackBind(_.id).response)).catch(_=>Te(t._({id:"UfZIOH"}),"error",Pe(_))))},[r]);const k=p.useMemo(()=>m.map(_=>{const O=nr(_.id,y,o),R=Me.getTrackRecordFor(_,r),Y=O===Xe.SEARCH;return f&&!Y?null:n.jsx(sr,{tracker:_,manga:e,trackRecord:R,mode:O,setSearchMode:v=>c(v)},_.id)}),[y,o,r]);return g?n.jsx(os,{message:t._({id:"6m5aox"}),messageExtra:Pe(g),retry:()=>{i.error&&i.refetch().catch(Ye("TrackManga::refetch: trackerList")),u.error&&u.refetch().catch(Ye("TrackManga::refetch: mangaTrackRecordsList"))}}):M?n.jsx(Kt,{}):f?k:n.jsx(D,{sx:{padding:0,".MuiPaper-root .MuiCardContent-root":{paddingBottom:"0"}},children:k})},or=[{title:{id:"zVKKXn"},getCount:()=>1},{title:{id:"zVKKXn"},getCount:()=>5},{title:{id:"zVKKXn"},getCount:()=>10},{title:{id:"zVKKXn"},getCount:()=>25},{title:{id:"HueRea"},getCount:e=>e,onlyUnread:!0,isDownloadAhead:!0},{title:{id:"KuVpz+"},getCount:()=>{},onlyUnread:!0},{title:{id:"N40H+G"},getCount:()=>{},onlyUnread:!1}];var Wt;const rr=async(e,t,a,s)=>{if(e.length>1){Et.performAction("download",e,{downloadAhead:s,onlyUnread:t,size:a}).catch(Ye("ChaptersDownloadActionMenuItems::handleSelect:multiMangaMode"));return}const c=e[0],i=Et.getFromCache(c,ls(Wt||(Wt=At(["\n            ","\n            fragment MangaInLibraryState on MangaType {\n                id\n                meta {\n                    ...MANGA_META_FIELDS\n                }\n            }\n        "])),is),"MangaInLibraryState"),d=Ms(i),u=await fe.getChapters(cs,{condition:{mangaId:Number(c)},order:[{by:us.SourceOrder,byType:ds.Desc}]}).response,r=vs(u.data.chapters.nodes,d);if(s&&_e.removeDuplicates(r.slice(-1)[0],r).slice(-(a!=null?a:0)).every(M=>!_e.isRead(M)&&_e.isDownloaded(M)))return;const h=r.filter(M=>t&&M.isRead?!1:!M.isDownloaded),f=_e.removeDuplicates(h.slice(-1)[0],h).slice(-(a!=null?a:0)),D=_e.addDuplicates(f,h);D.length&&_e.performAction("download",_e.getIds(D),{}).catch(Ye("ChaptersDownloadActionMenuItems::handleSelect::singleMangaMode"))},_r=({mangaIds:e,closeMenu:t})=>{const{settings:{downloadAheadLimit:a}}=rs(),s=(o,c=!0,i=!1)=>{rr(e,c,o,i).catch(d=>Te(pt.t({...sn.download.error,values:{count:o}}),"error",Pe(d))),t==null||t()};return n.jsx(n.Fragment,{children:or.map(({title:o,getCount:c,onlyUnread:i,isDownloadAhead:d})=>n.jsx(st,{onClick:()=>s(c(a),i,d),children:pt.t({...o,values:{count:c(a)}})},pt.t({...o,values:{count:c(a)}})))})},Ir=({children:e,chapterNumber:t,name:a,sourceOrder:s,scanlator:o})=>{const{i18n:c,_:i}=ue(),d=s===1;return n.jsx(tt,{slotProps:{tooltip:{sx:{whiteSpace:"pre-line"}}},title:d?c._({id:"64G4xI",values:{chapterNumber:t,name:a,scanlator:o}}):c._({id:"FVEiRO",values:{chapterNumber:t,name:a,scanlator:o}}),children:e})};export{_r as C,jr as L,dn as S,Or as T,Ar as a,Ir as b};
