!function(){var e=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],t=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],n=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],r=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],a=["enabled","anonymousActionType","store"],o=["connection"],i=["pageIndex","pagesIndex","isPrimaryPage","display","doublePage","position","marginTop","shouldLoad","readingMode","customFilter","pageScaleMode","shouldStretchPage","readerWidth","onLoad","onError","setRef","readerNavBarWidth","isLoaded"],u=["label","description"],l=["readingMode","setReadingMode"],s=["readingDirection","setReadingDirection"],c=["tapZoneLayout","setTapZoneLayout"],d=["tapZoneInvertMode","setTapZoneInvertMode"],f=["pageScaleMode","setPageScaleMode"],g=["asIconButton"],p=["profile","title","updateSetting","isSeriesMode"],v=["profiles","readingMode"];function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function S(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof u?r:u,s=Object.create(l.prototype);return _(s,"_invoke",function(n,r,a){var o,u,l,s=0,c=a||[],d=!1,f={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(t,n){return o=t,u=0,l=e,f.n=n,i}};function g(n,r){for(u=n,l=r,t=0;!d&&s&&!a&&t<c.length;t++){var a,o=c[t],g=f.p,p=o[2];n>3?(a=p===r)&&(l=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=g&&((a=n<2&&g<o[1])?(u=0,f.v=r,f.n=o[1]):g<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,u=0))}if(a||n>1)return i;throw d=!0,r}return function(a,c,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===c&&g(c,p),u=c,l=p;(t=u<2?e:l)||!d;){o||(u?u<3?(u>1&&(f.n=-1),g(u,l)):f.n=l:f.v=l);try{if(s=2,o){if(u||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==i)break}catch(t){o=e,u=1,l=t}finally{s=1}}return{value:t,done:d}}}(n,a,o),!0),s}var i={};function u(){}function l(){}function s(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(_(t={},r,function(){return this}),t),d=s.prototype=u.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,_(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=s,_(d,"constructor",s),_(s,"constructor",l),l.displayName="GeneratorFunction",_(s,a,"GeneratorFunction"),_(d),_(d,a,"Generator"),_(d,r,function(){return this}),_(d,"toString",function(){return"[object Generator]"}),(j=function(){return{w:o,m:f}})()}function _(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}_=function(e,t,n,r){function o(t,n){_(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},_(e,t,n,r)}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)})}}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e,t,n){return(t=M(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,u=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return u}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./index-legacy-BigZ0g0o.js","./TabsMenu-legacy-Dw_h486G.js","./Chapters-legacy-DyhEQhE9.js","./Mangas-legacy-OzJmqMe3.js","./SpinnerImage-legacy-C1nqBh04.js","./Strings-legacy-CzJ32ydF.js","./Tabs-legacy-DFQPELzz.js","./Trans-legacy-A1_eKJDh.js","./Slider-legacy-DzfG8-ao.js","./CheckboxInput-legacy-Dvrt7KUE.js","./ListSubheader-legacy-ORSncVsn.js","./Add-legacy-DgHB0HJZ.js"],function(y,_){"use strict";var w,O,M,I,A,k,R,L,N,F,z,B,V,U,W,H,G,K,Z,X,J,Y,Q,q,$,ee,te,ne,re,ae,oe,ie,ue,le,se,ce,de,fe,ge,pe,ve,he,ye,be,me,xe,Se,je,_e,we,Pe,Oe,Ce,Te,Me,De,Ee,Ie,Ae,ke,Re,Le,Ne,Fe,ze,Be,Ve,Ue,We,He,Ge,Ke,Ze,Xe,Je,Ye,Qe,qe,$e,et,tt,nt,rt,at,ot,it,ut,lt,st,ct,dt,ft,gt,pt,vt,ht,yt,bt,mt,xt,St;return{setters:[function(e){w=e.r,O=e.b,M=e.R,I=e.dF,A=e.Q,k=e.dG,R=e.dH,L=e.dz,N=e.dI,F=e.dJ,z=e.dK,B=e.bJ,V=e.j,U=e.z,W=e.at,H=e.d3,G=e.dr,K=e.dl,Z=e.dn,X=e.am,J=e.cS,Y=e.dL,Q=e.d5,q=e.av,$=e.d6,ee=e.aX,te=e.O,ne=e.ds,re=e.d4,ae=e.bW,oe=e.d2,ie=e.dM,ue=e.dN,le=e.dO,se=e.a,ce=e.dP,de=e.dQ,fe=e.dR,ge=e.cd,pe=e.m,ve=e.g,he=e.as,ye=e.dS,be=e.bd,me=e.d,xe=e.A,Se=e.dT,je=e.f,_e=e.u,we=e.S,Pe=e.T,Oe=e.B,Ce=e.C,Te=e.df,Me=e.dg,De=e.dU,Ee=e.dV,Ie=e.cZ,Ae=e.dd,ke=e.de,Re=e.dc,Le=e.c,Ne=e.I,Fe=e.dW,ze=e.aN,Be=e.dh,Ve=e.cT,Ue=e.dk,We=e.dX,He=e.dY,Ge=e.dZ,Ke=e.d_,Ze=e.d$,Xe=e.e0,Je=e.c$,Ye=e.e1,Qe=e.a1,qe=e.e2,$e=e.i,et=e.k,tt=e.n,nt=e.q,rt=e.a3,at=e.a4,ot=e.dt,it=e.e3,ut=e.e4,lt=e.cR},function(e){st=e.T},function(e){ct=e.C},function(e){dt=e.a,ft=e.F},function(e){gt=e.S},function(e){pt=e.r},function(e){vt=e.T,ht=e.a},function(e){yt=e.T},function(e){bt=e.S},function(e){mt=e.C},function(e){xt=e.L},function(e){St=e.A}],execute:function(){var _,jt=function(e,t,n){var r,a=z(),o=a===B,i=Object.keys(null!==(r=n.meta)&&void 0!==r?r:{}).filter(function(e){var t;return o?1===(null===(t=e.match(/_/g))||void 0===t?void 0:t.length):e.startsWith("".concat(F,"_").concat(a,"_"))}).map(function(e){return N(e)});return Object.fromEntries(Object.entries(t).map(function(t){var n=D(t,2),r=n[0],a=n[1];return k.includes(r)?[r,a]:[r,{value:a,isDefault:"manga"===e&&!i.includes(r)}]}))},_t=function(e){return C(C({},e),{},{tapZoneInvertMode:JSON.stringify(e.tapZoneInvertMode),customFilter:JSON.stringify(e.customFilter),readerWidth:JSON.stringify(e.readerWidth),hotkeys:JSON.stringify(e.hotkeys),autoScroll:JSON.stringify(e.autoScroll)})},wt=jt("global",I,{meta:_t(I)}),Pt=y("a5",function(e,t){var n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return A(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:I,void 0!==r?[r.toString()]:void 0,n)});function Ot(e,t){var n=Pt(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:I,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0);return jt(e,n,t)}y("a3",function(e,t){return function(e,t,n,r){return Ot("manga",C(C({},e),{},{meta:M(e.meta,function(e){return!k.includes(N(e))})}),t,n,r)}(e,t)}),y("a7",function(e){var t=w.useGetGlobalMeta({notifyOnNetworkStatusChange:!0}),n=t.data,r=t.loading,a=O.useMemo(function(){return M(null==n?void 0:n.metas.nodes)},[null==n?void 0:n.metas.nodes]),o=O.useMemo(function(){return{meta:a}},[a]),i=Pt("global",o,void 0,O.useEffect,e),u=O.useMemo(function(){return i},[o,e]);return O.useMemo(function(){return{metadata:a,settings:u,loading:r,request:t}},[a,u,r,t])});var Ct=y("u",function(e){var t=w.useGetGlobalMeta({notifyOnNetworkStatusChange:!0}),n=t.data,r=t.loading,a=O.useMemo(function(){return M(null==n?void 0:n.metas.nodes)},[null==n?void 0:n.metas.nodes]),o=O.useMemo(function(){return{meta:a}},[a]),i=Ot("global",o,void 0,O.useEffect,e),u=O.useMemo(function(){return i},[o,e]);return O.useMemo(function(){return{metadata:a,settings:u,loading:r,request:t}},[a,u,r,t])}),Tt=function(){var e=P(j().m(function e(t,n,r){var a,o=arguments;return j().w(function(e){for(;;)switch(e.n){case 0:if(a=o.length>4?o[4]:void 0,!(o.length>3&&void 0!==o[3]&&o[3]||k.includes(n))){e.n=1;break}return e.a(2,R([[n,_t(T({},n,r))[n]]],void 0!==a?[null==a?void 0:a.toString()]:void 0));case 1:return e.a(2,L(t,[[n,_t(T({},n,r))[n]]],void 0!==a?[null==a?void 0:a.toString()]:void 0))}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),Mt=function(e){return e===G.END?Number.MAX_SAFE_INTEGER:-1},Dt=O.forwardRef(function(e,t){var n,r,a,o,i=e.currentPageIndex,u=e.pages,l=e.transitionPageMode,s=e.imageRefs,c=e.createPage,d=e.slots,f=e.readingMode,g=e.imagePreLoadAmount,p=e.isCurrentChapter,v=e.isPreviousChapter,h=e.isNextChapter,y=e.customFilter,b=e.pageScaleMode,m=e.shouldStretchPage,x=e.readerWidth,j=e.readerNavBarWidth,_=e.resumeMode,w=e.handleAsInitialRender,P=O.useRef(Mt(_));w&&(P.current=Mt(_));var T=O.useMemo(function(){return Cr(i,u,P.current,g,f,p,v,h)},[i,u,g,f,p,v,h]);O.useEffect(function(){p&&(P.current=i)},[T,p]);var M=O.useCallback(function(e,t){s.current[e]=t},[s]);return V.jsx(U,C(C({ref:t},null==d?void 0:d.boxProps),{},{sx:[{width:"fit-content",height:"fit-content"}].concat(S(Array.isArray(null==d||null===(n=d.boxProps)||void 0===n?void 0:n.sx)?null!==(r=null==d||null===(a=d.boxProps)||void 0===a?void 0:a.sx)&&void 0!==r?r:[]:[null==d||null===(o=d.boxProps)||void 0===o?void 0:o.sx]),[W(!Kt(f)&&Tr(l,f),{visibility:"hidden",width:0,height:0,m:0,p:0})]),children:u.map(function(e,t){return c(e,t,T.includes(t),[H.NONE,H.BOTH].includes(l),M,f,y,b,m,x,j)})}))}),Et=O.memo(Dt),It=O.forwardRef(function(t,n){var r=t.onLoad,a=t.onError,o=t.pageLoadStates,i=t.retryFailedPagesKeyPrefix,u=t.isPreloadMode,l=x(t,e),s=l.currentPageIndex,c=l.totalPages;return V.jsx(Et,C(C({ref:n},l),{},{createPage:function(e,t,n,l,d){for(var f=arguments.length,g=new Array(f>5?f-5:0),p=5;p<f;p++)g[p-5]=arguments[p];return Pr.apply(void 0,[e,t,!0,o[e.primary.index].loaded,u,r,a,n,l&&n&&s===e.primary.index,s,c].concat(g,[o[e.primary.index].error?i:void 0]))},slots:{boxProps:{sx:{margin:"auto"}}}}))}),At=O.memo(It),kt=y("g",function(e,t){var n=t.findIndex(function(t){var n=t.primary,r=t.secondary;return[n.index,null==r?void 0:r.index].includes(e)});return C(C({},t[K(n,0,t.length-1)]),{},{pagesIndex:n})}),Rt=y("n",function(e){var t,n;return null!==(t=null===(n=e.secondary)||void 0===n?void 0:n.index)&&void 0!==t?t:e.primary.index}),Lt=(y("m",function(e,t,n){switch(e){case"previous":return Rt(n[Math.max(0,t-1)]);case"next":return Rt(n[Math.min(n.length-1,t+1)]);default:throw new Error('Unexpected offset "'.concat(e,'"'))}}),y("x",function(e,t,n,r,a,o){var i=r?e.clientX:e.clientY,u=getComputedStyle(t),l=u.paddingTop,s=u.paddingBottom,c=u.paddingLeft,d=u.paddingRight,f=t.getBoundingClientRect(),g=r?parseFloat(c)+parseFloat(d):parseFloat(l)+parseFloat(s),p=i-(r?f.left:f.top)-g/2,v=((r?f.width:f.height)-g)/(n.length-Number(!a)),h=Math.floor(p/v),y=p<=(h+(a?1:.5))*v?h:h+1,b=Math.max(0,y),m=Math.min(b,n.length-1);return n[o(m,n.length-1-m)]}),y("f",function(e){var t=e===Z.BOTTOM,n=e===Z.LEFT,r=e===Z.RIGHT;return{isBottom:t,isLeft:n,isRight:r,isHorizontal:t,isVertical:n||r}}),function(e,t,n){var r=n===J.LTR;return"first"===e?"ltr"===t?r?"right":"left":r?"left":"right":"ltr"===t?r?"left":"right":r?"right":"left"}),Nt=O.forwardRef(function(e,n){var r=e.onLoad,a=e.onError,o=e.pageLoadStates,i=e.retryFailedPagesKeyPrefix,u=e.isPreloadMode,l=x(e,t),s=l.currentPageIndex,c=l.pages,d=l.totalPages,f=l.readingDirection,g=l.pageScaleMode,p=X().direction,v=O.useMemo(function(){return kt(s,c)},[s,c]),h=f===J.LTR;return V.jsx(Et,C(C({ref:n},l),{},{createPage:function(e,t,n,l,s){for(var c=e.primary,g=e.secondary,h=Rt(v),y=!!g,b=v.primary.index===c.index,m=!!g&&h===g.index,x=arguments.length,S=new Array(x>5?x-5:0),j=5;j<x;j++)S[j-5]=arguments[j];return V.jsxs(O.Fragment,{children:[Pr.apply(void 0,[e,t,!0,o[c.index].loaded,u,r,a,n,l&&b&&n,v.primary.index,d].concat(S,[o[c.index].error?i:void 0,y?Lt("first",p,f):void 0,y])),y&&Pr.apply(void 0,[C(C({},e),{},{primary:C({},e.secondary)}),t,!1,o[g.index].loaded,u,r,a,n,l&&m&&n,h,d].concat(S,[o[g.index].error?i:void 0,Lt("second",p,f),!0]))]},"".concat(c.url,"_").concat(null==g?void 0:g.url))},slots:{boxProps:{sx:C(C(C({},W(g===Y.ORIGINAL,{margin:"auto"})),{},{width:"100%",minWidth:"fit-content",height:"100%",minHeight:"fit-content",display:"flex",flexDirection:"row",flexWrap:"nowrap"},W("ltr"===p,{flexDirection:h?"row":"row-reverse"})),W("rtl"===p,{flexDirection:h?"row-reverse":"row"}))}}}))}),Ft=O.memo(Nt),zt=O.forwardRef(function(e,t){var r=e.onLoad,a=e.onError,o=e.pageLoadStates,i=e.retryFailedPagesKeyPrefix,u=e.isPreloadMode,l=x(e,n),s=l.currentPageIndex,c=l.totalPages,d=l.readingMode,f=l.pageGap,g=d===Q.WEBTOON?0:f;return V.jsx(Et,C(C({ref:t},l),{},{createPage:function(e,t,n,l,d){for(var f=arguments.length,p=new Array(f>5?f-5:0),v=5;v<f;v++)p[v-5]=arguments[v];return Pr.apply(void 0,[e,t,!0,o[e.primary.index].loaded,u,r,a,n,!u,s,c].concat(p,[o[e.primary.index].error?i:void 0,void 0,void 0,0!==e.primary.index?g:0,d]))},slots:{boxProps:{sx:{margin:"auto"}}}}))}),Bt=O.memo(zt),Vt=O.forwardRef(function(e,t){var n=e.onLoad,a=e.onError,o=e.pageLoadStates,i=e.retryFailedPagesKeyPrefix,u=e.isPreloadMode,l=x(e,r),s=l.currentPageIndex,c=l.totalPages,d=l.pageGap,f=l.readingDirection,g=X().direction,p=f===J.LTR;return V.jsx(Et,C(C({ref:t},l),{},{createPage:function(e,t,r,l,d){for(var f=arguments.length,g=new Array(f>5?f-5:0),p=5;p<f;p++)g[p-5]=arguments[p];return Pr.apply(void 0,[e,t,!0,o[e.primary.index].loaded,u,n,a,r,!u,s,c].concat(g,[o[e.primary.index].error?i:void 0,void 0,void 0,void 0,d]))},slots:{boxProps:{sx:C(C({my:"auto",display:"flex",flexWrap:"nowrap",alignItems:"center",gap:"".concat(d,"px")},W("ltr"===g,{flexDirection:p?"row":"row-reverse",justifyContent:p?"flex-start":"flex-end"})),W("rtl"===g,{flexDirection:p?"row-reverse":"row",justifyContent:p?"flex-end":"flex-start"}))}}}))}),Ut=O.memo(Vt),Wt=y("z",function(e){return e===Q.DOUBLE_PAGE}),Ht=y("Z",function(e){return[Y.WIDTH,Y.SCREEN].includes(e)}),Gt=(y("_",function(e){return[Y.HEIGHT,Y.SCREEN].includes(e)}),y("X",function(e,t){return!(null==e||!e.enabled)&&Ht(t)})),Kt=y("i",function(e){return[Q.CONTINUOUS_VERTICAL,Q.CONTINUOUS_HORIZONTAL,Q.WEBTOON].includes(e)}),Zt=y("N",function(e){return[Q.CONTINUOUS_VERTICAL,Q.WEBTOON].includes(e)}),Xt=(y("a4",function(e,t,n){return t&&n.isDefault&&dt.isLongStripType(e)}),y("U",function(e){switch(e){case Q.SINGLE_PAGE:return At;case Q.DOUBLE_PAGE:return Ft;case Q.CONTINUOUS_VERTICAL:case Q.WEBTOON:return Bt;case Q.CONTINUOUS_HORIZONTAL:return Ut;default:throw new Error('Unexpected "ReadingMode" ('.concat(e,")"))}}),y("y",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e!==Z.AUTO?e:window.innerHeight-n>window.innerWidth-r?t:Z.BOTTOM}),function(e){var t,n=new Set,r=function(e,r){var a="function"==typeof e?e(t):e;if(!Object.is(a,t)){var o=t;t=(null!=r?r:"object"!==m(a)||null===a)?a:Object.assign({},t,a),n.forEach(function(e){return e(t,o)})}},a=function(){return t},o={setState:r,getState:a,getInitialState:function(){return i},subscribe:function(e){return n.add(e),function(){return n.delete(e)}}},i=t=e(r,a,o);return o}),Jt=function(e){return e};var Yt=function(e){var t=function(e){return e?Xt(e):Xt}(e),n=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt,n=q.useSyncExternalStore(e.subscribe,q.useCallback(function(){return t(e.getState())},[e,t]),q.useCallback(function(){return t(e.getInitialState())},[e,t]));return q.useDebugValue(n),n}(t,e)};return Object.assign(n,t),n},Qt={BASE_URL:"./",DEV:!1,LEGACY:!0,MODE:"production",PROD:!0,SSR:!1,VITE_SERVER_URL_DEFAULT:"http://localhost:4567"},qt=new Map,$t=function(e){var t=qt.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(function(e){var t=D(e,2);return[t[0],t[1].getState()]})):{}},en=function(e){var t,n;if(e){var r=e.split("\n"),a=r.findIndex(function(e){return e.includes("api.setState")});if(!(a<0)){var o=(null==(t=r[a+1])?void 0:t.trim())||"";return null==(n=/.+ (.+) .+/.exec(o))?void 0:n[1]}}},tn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,i){var u,l=t.enabled,s=t.anonymousActionType,c=t.store,d=x(t,a);try{u=(null!=l?l:"production"!==(Qt?"production":void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(S){}if(!u)return e(n,r,i);var f=function(e,t,n){if(void 0===e)return{type:"untracked",connection:t.connect(n)};var r=qt.get(n.name);if(r)return C({type:"tracked",store:e},r);var a={connection:t.connect(n),stores:{}};return qt.set(n.name,a),C({type:"tracked",store:e},a)}(c,u,d),g=f.connection,p=x(f,o),v=!0;i.setState=function(e,t,a){var o=n(e,t);if(!v)return o;var u=void 0===a?{type:s||en((new Error).stack)||"anonymous"}:"string"==typeof a?{type:a}:a;return void 0===c?(null==g||g.send(u,r()),o):(null==g||g.send(C(C({},u),{},{type:"".concat(c,"/").concat(u.type)}),C(C({},$t(d.name)),{},T({},c,i.getState()))),o)},i.devtools={cleanup:function(){g&&"function"==typeof g.unsubscribe&&g.unsubscribe(),function(e,t){if(void 0!==t){var n=qt.get(e);n&&(delete n.stores[t],0===Object.keys(n.stores).length&&qt.delete(e))}}(d.name,c)}};var h=function(){var e=v;v=!1,n.apply(void 0,arguments),v=e},y=e(i.setState,r,i);if("untracked"===p.type?null==g||g.init(y):(p.stores[p.store]=i,null==g||g.init(Object.fromEntries(Object.entries(p.stores).map(function(e){var t=D(e,2),n=t[0],r=t[1];return[n,n===p.store?y:r.getState()]})))),i.dispatchFromDevtools&&"function"==typeof i.dispatch){var b=!1,m=i.dispatch;i.dispatch=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"production"===(Qt?"production":void 0)||"__setState"!==t[0].type||b||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),b=!0),m.apply(void 0,t)}}return g.subscribe(function(e){var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):nn(e.payload,function(e){if("__setState"!==e.type)i.dispatchFromDevtools&&"function"==typeof i.dispatch&&i.dispatch(e);else{if(void 0===c)return void h(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');var t=e.state[c];if(null==t)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&h(t)}});case"DISPATCH":switch(e.payload.type){case"RESET":return h(y),void 0===c?null==g?void 0:g.init(i.getState()):null==g?void 0:g.init($t(d.name));case"COMMIT":return void 0===c?void(null==g||g.init(i.getState())):null==g?void 0:g.init($t(d.name));case"ROLLBACK":return nn(e.state,function(e){if(void 0===c)return h(e),void(null==g||g.init(i.getState()));h(e[c]),null==g||g.init($t(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return nn(e.state,function(e){void 0!==c?JSON.stringify(i.getState())!==JSON.stringify(e[c])&&h(e[c]):h(e)});case"IMPORT_STATE":var n=e.payload.nextLiftedState,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return h(void 0===c?r:r[c]),void(null==g||g.send(null,n));case"PAUSE_RECORDING":return v=!v}return}}),y}},nn=function(e,t){var n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}void 0!==n&&t(n)},rn=Symbol.for("immer-nothing"),an=Symbol.for("immer-draftable"),on=Symbol.for("immer-state");function un(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var ln=Object.getPrototypeOf;function sn(e){return!!e&&!!e[on]}function cn(e){var t;return!!e&&(fn(e)||Array.isArray(e)||!!e[an]||!(null===(t=e.constructor)||void 0===t||!t[an])||yn(e)||bn(e))}var dn=Object.prototype.constructor.toString();function fn(e){if(!e||"object"!==m(e))return!1;var t=ln(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===dn}function gn(e,t){0===pn(e)?Reflect.ownKeys(e).forEach(function(n){t(n,e[n],e)}):e.forEach(function(n,r){return t(r,n,e)})}function pn(e){var t=e[on];return t?t.type_:Array.isArray(e)?1:yn(e)?2:bn(e)?3:0}function vn(e,t){return 2===pn(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function hn(e,t,n){var r=pn(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function yn(e){return e instanceof Map}function bn(e){return e instanceof Set}function mn(e){return e.copy_||e.base_}function xn(e,t){if(yn(e))return new Map(e);if(bn(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);var n=fn(e);if(!0===t||"class_only"===t&&!n){var r=Object.getOwnPropertyDescriptors(e);delete r[on];for(var a=Reflect.ownKeys(r),o=0;o<a.length;o++){var i=a[o],u=r[i];!1===u.writable&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[i]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[i]})}return Object.create(ln(e),r)}var l=ln(e);if(null!==l&&n)return C({},e);var s=Object.create(l);return Object.assign(s,e)}function Sn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _n(e)||sn(e)||!cn(e)||(pn(e)>1&&(e.set=e.add=e.clear=e.delete=jn),Object.freeze(e),t&&Object.entries(e).forEach(function(e){var t=D(e,2);t[0];return Sn(t[1],!0)})),e}function jn(){un(2)}function _n(e){return Object.isFrozen(e)}var wn,Pn={};function On(e){var t=Pn[e];return t||un(0),t}function Cn(){return wn}function Tn(e,t){t&&(On("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Mn(e){Dn(e),e.drafts_.forEach(In),e.drafts_=null}function Dn(e){e===wn&&(wn=e.parent_)}function En(e){return wn={drafts_:[],parent_:wn,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function In(e){var t=e[on];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function An(e,t){t.unfinalizedDrafts_=t.drafts_.length;var n=t.drafts_[0];return void 0!==e&&e!==n?(n[on].modified_&&(Mn(t),un(4)),cn(e)&&(e=kn(t,e),t.parent_||Ln(t,e)),t.patches_&&On("Patches").generateReplacementPatches_(n[on].base_,e,t.patches_,t.inversePatches_)):e=kn(t,n,[]),Mn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rn?e:void 0}function kn(e,t,n){if(_n(t))return t;var r=t[on];if(!r)return gn(t,function(a,o){return Rn(e,r,t,a,o,n)}),t;if(r.scope_!==e)return t;if(!r.modified_)return Ln(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;var a=r.copy_,o=a,i=!1;3===r.type_&&(o=new Set(a),a.clear(),i=!0),gn(o,function(t,o){return Rn(e,r,a,t,o,n,i)}),Ln(e,a,!1),n&&e.patches_&&On("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Rn(e,t,n,r,a,o,i){if(sn(a)){var u=kn(e,a,o&&t&&3!==t.type_&&!vn(t.assigned_,r)?o.concat(r):void 0);if(hn(n,r,u),!sn(u))return;e.canAutoFreeze_=!1}else i&&n.add(a);if(cn(a)&&!_n(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;kn(e,a),t&&t.scope_.parent_||"symbol"===m(r)||!Object.prototype.propertyIsEnumerable.call(n,r)||Ln(e,a)}}function Ln(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Sn(t,n)}var Nn={get:function(e,t){if(t===on)return e;var n=mn(e);if(!vn(n,t))return function(e,t,n){var r,a=Bn(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);var r=n[t];return e.finalized_||!cn(r)?r:r===zn(e.base_,t)?(Un(e),e.copy_[t]=Hn(r,e)):r},has:function(e,t){return t in mn(e)},ownKeys:function(e){return Reflect.ownKeys(mn(e))},set:function(e,t,n){var r,a,o=Bn(mn(e),t);if(null!=o&&o.set)return o.set.call(e.draft_,n),!0;if(!e.modified_){var i=zn(mn(e),t),u=null==i?void 0:i[on];if(u&&u.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((r=n)===(a=i)?0!==r||1/r==1/a:r!=r&&a!=a)&&(void 0!==n||vn(e.base_,t)))return!0;Un(e),Vn(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:function(e,t){return void 0!==zn(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Un(e),Vn(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor:function(e,t){var n=mn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){un(11)},getPrototypeOf:function(e){return ln(e.base_)},setPrototypeOf:function(){un(12)}},Fn={};function zn(e,t){var n=e[on];return(n?mn(n):e)[t]}function Bn(e,t){if(t in e)for(var n=ln(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ln(n)}}function Vn(e){e.modified_||(e.modified_=!0,e.parent_&&Vn(e.parent_))}function Un(e){e.copy_||(e.copy_=xn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}gn(Nn,function(e,t){Fn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Fn.deleteProperty=function(e,t){return Fn.set.call(this,e,t,void 0)},Fn.set=function(e,t,n){return Nn.set.call(this,e[0],t,n,e[0])};var Wn=function(){return b(function e(t){var n=this;h(this,e),this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var o=n;return function(){for(var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return o.produce(n,function(n){var r;return(r=t).call.apply(r,[e,n].concat(i))})}}var i;if("function"!=typeof t&&un(6),void 0!==r&&"function"!=typeof r&&un(7),cn(e)){var u=En(n),l=Hn(e,void 0),s=!0;try{i=t(l),s=!1}finally{s?Mn(u):Dn(u)}return Tn(u,r),An(i,u)}if(!e||"object"!==m(e)){if(void 0===(i=t(e))&&(i=e),i===rn&&(i=void 0),n.autoFreeze_&&Sn(i,!0),r){var c=[],d=[];On("Patches").generateReplacementPatches_(e,i,c,d),r(c,d)}return i}un(1)},this.produceWithPatches=function(e,t){return"function"==typeof e?function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return n.produceWithPatches(t,function(t){return e.apply(void 0,[t].concat(a))})}:[n.produce(e,t,function(e,t){r=e,a=t}),r,a];var r,a},"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof(null==t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)},[{key:"createDraft",value:function(e){cn(e)||un(8),sn(e)&&(e=function(e){sn(e)||un(10);return Gn(e)}(e));var t=En(this),n=Hn(e,void 0);return n[on].isManual_=!0,Dn(t),n}},{key:"finishDraft",value:function(e,t){var n=e&&e[on];n&&n.isManual_||un(9);var r=n.scope_;return Tn(r,t),An(void 0,r)}},{key:"setAutoFreeze",value:function(e){this.autoFreeze_=e}},{key:"setUseStrictShallowCopy",value:function(e){this.useStrictShallowCopy_=e}},{key:"applyPatches",value:function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=On("Patches").applyPatches_;return sn(e)?a(e,t):this.produce(e,function(e){return a(e,t)})}}])}();function Hn(e,t){var n=yn(e)?On("MapSet").proxyMap_(e,t):bn(e)?On("MapSet").proxySet_(e,t):function(e,t){var n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Cn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},a=r,o=Nn;n&&(a=[r],o=Fn);var i=Proxy.revocable(a,o),u=i.revoke,l=i.proxy;return r.draft_=l,r.revoke_=u,l}(e,t);return(t?t.scope_:Cn()).drafts_.push(n),n}function Gn(e){if(!cn(e)||_n(e))return e;var t,n=e[on];if(n){if(!n.modified_)return n.base_;n.finalized_=!0,t=xn(e,n.scope_.immer_.useStrictShallowCopy_)}else t=xn(e,!0);return gn(t,function(e,n){hn(t,e,Gn(n))}),n&&(n.finalized_=!1),t}var Kn=new Wn,Zn=Kn.produce;Kn.produceWithPatches.bind(Kn),Kn.setAutoFreeze.bind(Kn),Kn.setUseStrictShallowCopy.bind(Kn),Kn.applyPatches.bind(Kn),Kn.createDraft.bind(Kn),Kn.finishDraft.bind(Kn);var Xn=function(e){return function(t,n,r){return r.setState=function(e,n){for(var r="function"==typeof e?Zn(e):e,a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];return t.apply(void 0,[r,n].concat(o))},e(r.setState,n,r)}},Jn=function(e){return Symbol.iterator in e},Yn=function(e){return"entries"in e},Qn=function(e,t){var n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;var a,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}(n);try{for(o.s();!(a=o.n()).done;){var i=D(a.value,2),u=i[0],l=i[1];if(!r.has(u)||!Object.is(l,r.get(u)))return!1}}catch(s){o.e(s)}finally{o.f()}return!0};function qn(e,t){return!!Object.is(e,t)||"object"===m(e)&&null!==e&&"object"===m(t)&&null!==t&&(Object.getPrototypeOf(e)===Object.getPrototypeOf(t)&&(Jn(e)&&Jn(t)?Yn(e)&&Yn(t)?Qn(e,t):function(e,t){for(var n=e[Symbol.iterator](),r=t[Symbol.iterator](),a=n.next(),o=r.next();!a.done&&!o.done;){if(!Object.is(a.value,o.value))return!1;a=n.next(),o=r.next()}return!!a.done&&!!o.done}(e,t):Qn({entries:function(){return Object.entries(e)}},{entries:function(){return Object.entries(t)}})))}var $n,er={isVisible:!1},tr={isActive:!1,isPaused:!1,start:ee,cancel:ee,toggleActive:ee,pause:ee,resume:ee,invert:!1,direction:$.FORWARD,scrollRef:void 0},nr={isMaximized:!1,isDragging:!1},rr={showPreview:!1},ar=y("Q",{totalPages:0,currentPageIndex:0,pageToScrollToIndex:null,pageUrls:[],pageLoadStates:[{url:"",loaded:!1}],pages:[{name:"1",primary:{index:0,alt:"Page #1",url:"".concat(w.getBaseUrl())}}],transitionPageMode:H.NONE,retryFailedPagesKeyPrefix:""}),or=y("a6",{chapters:{mangaChapters:void 0,chapters:[],chapterForDuplicatesHandling:void 0,initialChapter:void 0,currentChapter:void 0,nextChapter:void 0,previousChapter:void 0,isCurrentChapterReady:!1,visibleChapters:{leading:0,trailing:0,lastLeadingChapterSourceOrder:99999,lastTrailingChapterSourceOrder:-1,isLeadingChapterPreloadMode:!0,isTrailingChapterPreloadMode:!0,scrollIntoView:!1,resumeMode:void 0}}}),ir=function(){function e(){h(this,e)}return b(e,null,[{key:"createActionName",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.slice(0,-1),a=t.slice(-1)[0];return"".concat(r.join(":"),"/").concat(a)}},{key:"createActionNameCreator",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.createActionName;return function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n.apply(void 0,[t].concat(r))}}}])}(),ur=["scrollRef"],lr={manga:void 0,scrollbar:{xSize:0,ySize:0}},sr=($n?Yt($n):Yt)(tn(Xn(function(e,t,n){var r=ir.createActionNameCreator("reader"),a=function(e){return ir.createActionNameCreator(e,r)};return C(C(C(C(C(C(C({},lr),{},{reset:function(){return e(function(){return C(C(C(C(C(C(C(C({},t()),lr),{},{scrollbar:C(C({},t().scrollbar),lr.scrollbar),settings:C(C({},t().settings),wt)},t().overlay.reset()),t().autoScroll.reset()),t().pages.reset()),t().chapters.reset()),t().progressBar.reset()),t().tapZone.reset())},void 0,r("reset"))},setManga:function(t){return e(function(e){e.manga=t},void 0,r("setManga"))},scrollbar:C(C({},lr.scrollbar),{},{setXSize:function(t){return e(function(e){e.scrollbar.xSize=t},void 0,r("scrollbar","setXSize"))},setYSize:function(t){return e(function(e){e.scrollbar.ySize=t},void 0,r("scrollbar","setYSize"))}}),settings:C(C({},wt),{},{setSettings:function(n){return e(function(e){e.settings=C(C({},t().settings),n)},void 0,r("settings","setSettings"))}})},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{overlay:{isVisible:er.isVisible,setIsVisible:function(e){return a(function(t){t.overlay.isVisible=e},void 0,r("setIsVisible"))},reset:function(){return{overlay:C(C({},o().overlay),er)}}}}}(a("overlay"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{autoScroll:C(C({},tr),{},{reset:function(){return{autoScroll:C(C({},o().autoScroll),tr)}},setIsActive:function(e){return a(function(t){t.autoScroll.isActive=e},void 0,r("setIsActive"))},setIsPaused:function(e){return a(function(t){t.autoScroll.isPaused=e},void 0,r("setIsPaused"))},setStart:function(e){return a(function(t){t.autoScroll.start=e},void 0,r("setStart"))},setCancel:function(e){return a(function(t){t.autoScroll.cancel=e},void 0,r("setCancel"))},setToggleActive:function(e){return a(function(t){t.autoScroll.toggleActive=e},void 0,r("setToggleActive"))},setPause:function(e){return a(function(t){t.autoScroll.pause=e},void 0,r("setPause"))},setResume:function(e){return a(function(t){t.autoScroll.resume=e},void 0,r("setResume"))},setInvert:function(e){return a(function(t){t.autoScroll.invert=e},void 0,r("setInvert"))},setDirection:function(e){return a(function(t){t.autoScroll.direction=e},void 0,r("setDirection"))},setScrollRef:function(e){return a(function(t){if(e){var n=O.createRef();n.current=e,t.autoScroll.scrollRef=n}else t.autoScroll.scrollRef=void 0},void 0,r("setScrollRef"))}})}}(a("autoScroll"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{pages:C(C({},ar),{},{reset:function(){return{pages:C(C({},o().pages),ar)}},setCurrentPageIndex:function(e){return a(function(t){t.pages.currentPageIndex=e},void 0,r("setCurrentPageIndex"))},setPageToScrollToIndex:function(e){return a(function(t){t.pages.pageToScrollToIndex=e},void 0,r("setPageToScrollToIndex"))},setTotalPages:function(e){return a(function(t){t.pages.totalPages=e},void 0,r("setTotalPages"))},setPageUrls:function(e){return a(function(t){t.pages.pageUrls=e},void 0,r("setPageUrls"))},setPageLoadStates:function(e){return a(function(t){t.pages.pageLoadStates="function"!=typeof e?e:e(o().pages.pageLoadStates)},void 0,r("setPageLoadStates"))},setPages:function(e){return a(function(t){t.pages.pages=e},void 0,r("setPages"))},setTransitionPageMode:function(e){return a(function(t){t.pages.transitionPageMode=e},void 0,r("setTransitionPageMode"))},setRetryFailedPagesKeyPrefix:function(e){return a(function(t){t.pages.retryFailedPagesKeyPrefix=e},void 0,r("setRetryFailedPagesKeyPrefix"))}})}}(a("pages"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{chapters:C(C({},or.chapters),{},{reset:function(){return{chapters:C(C({},o().chapters),or.chapters)}},setReaderStateChapters:function(e){return a(function(t){t.chapters=C(C({},o().chapters),"function"!=typeof e?e:e(o().chapters))},void 0,r("setReaderStateChapters"))}})}}(a("chapters"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{progressBar:C(C({},nr),{},{setIsMaximized:function(e){return a(function(t){t.progressBar.isMaximized=e},void 0,r("setIsMaximized"))},setIsDragging:function(e){return a(function(t){t.progressBar.isDragging=e},void 0,r("setIsDragging"))},reset:function(){return{progressBar:C(C({},o().progressBar),nr)}}})}}(a("progressBar"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{tapZone:C(C({},rr),{},{setShowPreview:function(e){return a(function(t){t.tapZone.showPreview=e},void 0,r("setShowPreview"))},reset:function(){return{tapZone:C(C({},o().tapZone),rr)}}})}}(a("tapZone"),e,t,n))}),{name:"ReaderStore",anonymousActionType:"reader/action",serialize:{replacer:function(e,t){return ur.includes(e)?null:t}}})),cr=y("B",function(e){return sr(function(e){var t=q.useRef(void 0);return function(n){var r=e(n);return qn(t.current,r)?t.current:t.current=r}}(e))}),dr=y("$",function(){return sr.getState()}),fr=y("c",cr),gr=(y("P",function(){return sr.getState().scrollbar}),y("b",cr)),pr=y("k",function(){return sr.getState().settings}),vr=(y("D",cr),y("h",function(){return sr.getState().overlay}),y("A",cr),y("a2",function(){return sr.getState().autoScroll}),y("d",cr),y("l",function(){return sr.getState().pages}),y("C",cr),y("j",function(){return sr.getState().chapters})),hr=(y("e",cr),y("I",cr)),yr=(y("p",function(){return sr.getState().tapZone}),function(e){return Object.keys(e).map(function(t){var n=t,r=e[n];switch(n){case"brightness":case"contrast":case"saturate":return r.enabled?"".concat(n,"(").concat(r.value/100,")"):"";case"hue":return r.enabled?"hue-rotate(".concat(r.value,"deg)"):"";case"rgba":return"";case"sepia":case"grayscale":case"invert":return r?"".concat(n,"(").concat(Number(r),")"):"";default:throw new Error('Unexpected "CustomFilter" ('.concat(n,")"))}}).join(" ")}),br=O.memo(function(e){var t=e.pageIndex,n=e.pagesIndex,r=e.isPrimaryPage,a=e.display,o=e.doublePage,u=void 0!==o&&o,l=e.position,s=e.marginTop,c=e.shouldLoad,d=e.readingMode,f=e.customFilter,g=e.pageScaleMode,p=e.shouldStretchPage,v=e.readerWidth,h=e.onLoad,y=e.onError,b=e.setRef,m=e.readerNavBarWidth,S=e.isLoaded,j=x(e,i),_=j.src,w=te.useIsTabletWidth(),P=fr(function(e){return e.scrollbar}),T=O.useCallback(function(){return null==h?void 0:h(n,_,r)},[h,n,_,r]),M=O.useCallback(function(){return null==y?void 0:y(t,_)},[y,t,_]),D=O.useCallback(function(e){return null==b?void 0:b(n,e)},[n,b]);return a||c?V.jsx(gt,C(C({},j),{},{onLoad:T,onError:M,shouldLoad:c,shouldDecode:!0,ref:D,spinnerStyle:C(C(C({backgroundColor:"background.paper"},mr(d,p,g,v,m+P.ySize,P.xSize,u,w)),W(!a,{display:"none"})),Sr(u,l)),imgStyle:C(C(C(C(C({},xr(d,p,g,u,v,m+P.ySize,P.xSize)),{},{filter:yr(f),objectFit:"contain",objectPosition:l,userSelect:"none"},Sr(u,l)),W(void 0!==s,{mt:"".concat(s,"px")})),{},{display:"block"},W(!a,{display:"none"})),W(!S,{margin:"unset"})),hideImgStyle:{visibility:"hidden",minWidth:0,minHeight:0,width:0,height:0}})):null}),mr=function(e,t,n,r,a,o,i,u){var l=function(e){return"calc(".concat(e," - ").concat(a,"px)")},s=function(e,t){return l("".concat(K(null!=t?t:e,Math.min(e,null!=t?t:9e3),e),"vw"))},c=function(e,t){if(Gt(e,t))return null==e?void 0:e.value}(r,n),d=l("".concat(Math.min(100,null!=c?c:9e3),"vw")),f="calc(100vh - ".concat(o,"px)"),g=u?d:s(40,c),p=u?f:"85vh",v=C(C({},T(T(T(T(T({},Q.SINGLE_PAGE,{minWidth:g,minHeight:p}),Q.DOUBLE_PAGE,{minWidth:u?"50vw":s(35,c?c/2:void 0),minHeight:p}),Q.CONTINUOUS_VERTICAL,{minWidth:g,minHeight:"100vh"}),Q.CONTINUOUS_HORIZONTAL,{minWidth:g,minHeight:p}),Q.WEBTOON,{minWidth:g,minHeight:"100vh"})[e]),{},{height:"unset"}),h=i?"calc(".concat(l("".concat(null!=c?c:100,"vw"))," / 2)"):d;switch(n){case Y.WIDTH:return C(C({},v),W(t,{minWidth:h}));case Y.HEIGHT:return C(C({},v),W(t,C({minHeight:f},W(Zt(e),{minHeight:"100vh"}))));case Y.SCREEN:return C(C({},v),W(t,C({minWidth:h,minHeight:f},W(Zt(e),{minHeight:"100vh"}))));case Y.ORIGINAL:return C(C({},v),W(Zt(e),{height:void 0}));default:throw new Error('Unexpected "PageScaleMode" ('.concat(n,")"))}},xr=function(e,t,n,r,a,o,i){var u=function(e,t,n){if(Gt(n,e)){var r=n.value;return t?r/100/2:r/100}return t?.5:1}(n,r,a);return function(e,t,n,r,a,o){var i="calc((100vw - ".concat(a,"px) * ").concat(e,")"),u="calc(100vh - ".concat(o,"px)");switch(r){case Y.WIDTH:return C(C(C({minWidth:0},W(Kt(t),{minWidth:"unset"})),W(n,{minWidth:i})),{},{maxWidth:i});case Y.HEIGHT:return C(C(C({minHeight:0},W(Kt(t),{minHeight:"unset"})),W(n,{minHeight:u})),{},{maxHeight:u});case Y.SCREEN:return C(C(C({minWidth:0,minHeight:0},W(Kt(t),{minWidth:"unset",minHeight:"unset"})),W(n,C(C({minWidth:i,minHeight:u},W(t===Q.CONTINUOUS_HORIZONTAL,{minWidth:"unset",minHeight:u})),W(Zt(t),{minWidth:i,minHeight:"unset"})))),{},{maxWidth:i,maxHeight:u});case Y.ORIGINAL:return{};default:throw new Error('Unexpected "PageScaleMode" ('.concat(r,")"))}}(u,e,t,n,o,i)},Sr=function(e,t){return C({m:"auto"},W(e,C(C({},W("right"===t,{mr:"unset "})),W("left"===t,{ml:"unset "}))))},jr=function(e,t){return{index:t,alt:"Page #".concat(t+1),url:"".concat(w.getBaseUrl()).concat(e)}},_r=function(e,t){return{name:"".concat(t+1),primary:jr(e,t)}},wr=(y("L",function(e){return e.map(_r)}),function(e,t,n,r,a){if(!r||a)return Number.MAX_SAFE_INTEGER;var o=n-Math.abs(t-e);return t<e?o-1:o}),Pr=function(e,t,n,r,a,o,i,u,l,s,c,d,f,g,p,v,h,y,b,m,x,S){var j=e.primary,_=j.index,w=j.alt,P=j.url;return V.jsx(br,{setRef:S,pageIndex:_,pagesIndex:t,isPrimaryPage:n,src:P,alt:w,display:l,priority:wr(s,_,c,u,a),position:b,onLoad:o,onError:i,doublePage:m,shouldLoad:u,retryKeyPrefix:y,marginTop:x,isLoaded:r,readingMode:d,customFilter:f,pageScaleMode:g,shouldStretchPage:p,readerWidth:v,readerNavBarWidth:h},P)},Or=function(e,t){var n=e.getBoundingClientRect(),r=n.top,a=n.bottom,o=n.left,i=n.right,u=C({top:0,bottom:0,left:0,right:0},t);return{isLeftInViewport:o>=u.left&&o<=window.innerWidth,isRightInViewport:i>=u.right&&i<=window.innerWidth,isFillingWidthViewportCompletely:o<=0&&i>=window.innerWidth,isTopInViewport:r>=u.top&&r<=window.innerHeight,isBottomInViewport:a>=u.bottom&&a<=window.innerHeight,isFillingHeightViewportCompletely:r<=0&&a>=window.innerHeight}},Cr=(y("q",function(e,t,n){var r=Or(e,n),a=r.isLeftInViewport,o=r.isRightInViewport,i=r.isFillingWidthViewportCompletely,u=r.isTopInViewport,l=r.isBottomInViewport,s=r.isFillingHeightViewportCompletely,c=a||o||i,d=u||l||s;switch(t){case ne.X:return c;case ne.Y:return d;default:throw new Error('unexpected "type" ('.concat(t,")"))}}),y("r",function(e,t,n){var r=Or(e),a=r.isLeftInViewport,o=r.isRightInViewport,i=r.isBottomInViewport;switch(t){case ne.X:return n===J.LTR?o:a;case ne.Y:return i;default:throw new Error('unexpected "type" ('.concat(t,")"))}}),y("T",function(e,t,n,r){var a=[],o=t.map(function(e,n){return n+t.slice(0,n).filter(function(e){return e.isSpread}).length});return e.forEach(function(i,u){var l,s=u+(!(o[u]%2)?1:-1)*(n?-1:1),c=u<s,d=0===u,f=u===e.length-1,g=c&&!f,p=t[u].isSpread,v=!(null===(l=t[s])||void 0===l||!l.isSpread),h=!(p||v)&&!(d&&n);if(c||!h){var y="".concat(u+1).concat(g&&h?"".concat("-").concat(s+1):"");a.push({name:r===J.LTR?y:pt(y,"-"),primary:jr(i,u)})}else{var b=a[a.length-1];a[a.length-1]=C(C({},b),{},{secondary:jr(i,u)})}}),a}),function(e,t,n,r,a,o,i,u){if(!o&&!i&&!u)return[];var l=kt(e,t).pagesIndex,s=function(e,t,n,r){return e?r:t||n?K(1,0,r):0}(o,i,u,r),c=n<=e&&!i?1:-1,d=Math.max(0,l-Math.min(2,s)*c),f=Kt(a)?e:d,g=l+s*c,p=Math.max(1,Math.abs(g-f)+Number(o));return Array(p).fill(1).map(function(e,t){return f+t*c})}),Tr=(y("M",function(e,t,n){return[H.BOTH,e].includes(t)||Kt(n)}),y("o",function(e,t){return e!==H.NONE||Kt(t)})),Mr=(y("K",function(e,t,n){var r=oe[n];return"ltr"===t?(re.PREVIOUS,ae("start","end",r)):(re.PREVIOUS,ae("end","start",r))}),y("J",function(e,t,n){var r=oe[n];return"ltr"===t?ae(0,e.scrollWidth,r):ae(-e.scrollWidth,0,r)}),function(e,t){return void 0===t||t.url!==e}),Dr=y("O",function(e,t,n){return e===G.START?0:e===G.END?n:K(t,0,n)}),Er=y("v",function(e){return ct.getFromCache(e,ie,"CHAPTER_READER_FIELDS")}),Ir=function(e,t,n,r,a,o,i){if(!(!!r.isRead&&!!a))return[];var u=[e].concat(S(n))[a-1];if(!u)return[];var l=(i?ct.addDuplicates([u],t):[u]).map(function(e){var t=e.id;return Er(t)}).filter(function(e){return null!==e}).filter(function(e){return ct.isDeletable(e,o)});return l.length?ct.getIds(l):[]},Ar=function(e,t){var n=(e+1)/t;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:re.NEXT)===re.PREVIOUS?n<.75:n>.25},kr=function(e,t,n,r,a){var o=Er(e.id);if(!o||!t)return[];if(!(!!a&&o.isDownloaded&&Ar(r,o.pageCount)))return[];var i=Er(t.id);return null!=i&&i.isDownloaded?ct.getNonRead(n).map(function(e){return Er(e.id)}).filter(function(e){return!!e}).slice(-a).filter(function(e){return!e.isDownloaded}).map(function(e){return e.id}).filter(function(e){return!ct.isDownloading(e)}):[]},Rr=(y("V",function(e,t,n,r){return function(a,o){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(a>e.length-1)){var u=e[a],l=(i?u.primary:u.secondary).index;if(r===Q.DOUBLE_PAGE){var s=new Image;s.onload=function(){var e,n=(e=s).height/e.width<1;n&&t(function(e){var t=e[l];return void 0===t||t.url!==o||t.isSpread===n?e:e.toSpliced(l,1,{url:o,isSpread:n})})},s.crossOrigin="anonymous",s.src=o}n(function(e){var t=e[l];return Mr(o,t)||t.loaded?e:e.toSpliced(l,1,{url:t.url,loaded:!0})})}}}),y("t",function(e,t){if(e)return t?G.END:G.START}),y("W",function(e){return function(t,n){e(function(e){var r=e[t];return Mr(n,r)?e:e.toSpliced(t,1,C(C({},r),{},{loaded:!1,error:!0}))})}}),y("s",function(e,t,n,r,a,o){var i=t.visibleChapters,u=i.leading,l=i.trailing,s=i.lastLeadingChapterSourceOrder,c=i.lastTrailingChapterSourceOrder,d=e&&n<s,f=!e&&n>c;return C(C({},t),{},{visibleChapters:C(C({},t.visibleChapters),{},{leading:u+Number(d),trailing:l+Number(f),lastLeadingChapterSourceOrder:d?n:s,lastTrailingChapterSourceOrder:f?n:c,isLeadingChapterPreloadMode:void 0!==a?a:t.visibleChapters.isLeadingChapterPreloadMode,isTrailingChapterPreloadMode:void 0!==o?o:t.visibleChapters.isTrailingChapterPreloadMode,scrollIntoView:r,resumeMode:e?G.END:G.START})})})),Lr=(y("a1",function(e,t,n,r,a,o,i,u){if(r){if(a)return K(e,0,t.pageCount-1);if(u.scrollIntoView&&void 0!==u.resumeMode)return Dr(u.resumeMode,0,t.pageCount-1);if(o)return Math.max(0,t.pageCount-1);if(i)return 0}return t.sourceOrder<n.sourceOrder?Math.max(t.pageCount-1,0):0}),y("a0",function(e,t,n,r,a,o){return e&&void 0!==a?a:t?o:n?G.END:G.START}),y("Y",function(e,t,n){var r=!!t[e+1],a=e+1>=t.length-1&&n.isLeadingChapterPreloadMode,o=r&&!a,i=!!t[e-1],u=e-1<=0&&n.isTrailingChapterPreloadMode;return{previous:o,next:i&&!u}}),{ltr:"rtl",rtl:"ltr"}),Nr={ltr:J.LTR,rtl:J.RTL},Fr=function(){function e(){h(this,e)}return b(e,null,[{key:"getOrCreateChapterUpdateQueue",value:function(t){return e.chapterUpdateQueues.has(t)||e.chapterUpdateQueues.set(t,new ue(1)),e.chapterUpdateQueues.get(t)}},{key:"navigateToChapter",value:function(e,t){le.navigate(ct.getReaderUrl(e),{replace:!0,state:t})}},{key:"downloadAhead",value:function(t,n,r,a,o){var i="".concat(t.id,"_").concat(null==n?void 0:n.id,"_").concat(a,"_").concat(o);e.downloadAheadQueue.enqueue(i,P(j().m(function e(){var i;return j().w(function(e){for(;;)switch(e.p=e.n){case 0:if((i=kr(t,n,r,a,o)).length){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,ct.download(i);case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])})))}},{key:"preloadChapter",value:function(e,t,n,r,a,o,i){if(n){var u=i===re.PREVIOUS,l=i===re.NEXT;!(u&&r<=n.sourceOrder||l&&a>=n.sourceOrder)&&Ar(e,t,i)&&o(function(e){return Rr(u,e,n.sourceOrder,!1,!!u||void 0,!!l||void 0)})}}},{key:"useUpdateChapter",value:function(){var t=se().settings,n=t.deleteChaptersWhileReading,r=t.deleteChaptersWithBookmark,a=t.updateProgressAfterReading;return O.useCallback(function(t){var o=dr().manga,i=vr(),u=i.currentChapter,l=i.mangaChapters,s=i.chapters,c=pr().shouldSkipDupChapters;if(o&&u&&l){var d=ct.getNextChapters(u,s,{offset:re.PREVIOUS}),f=function(){var e=P(j().m(function e(){var i,s;return j().w(function(e){for(;;)switch(e.n){case 0:if(i=ct.getIds(c?ct.addDuplicates([u],l):[u]),s=Ir(u,l,d,t,n,r,c),!!s.length||i.some(function(e){var n=Er(e);return!!n&&(void 0!==t.isRead&&t.isRead!==n.isRead||void 0!==t.lastPageRead&&t.lastPageRead!==n.lastPageRead||void 0!==t.isBookmarked&&t.isBookmarked!==n.isBookmarked)})){e.n=1;break}return e.a(2);case 1:return e.n=2,w.updateChapters(i,C(C({},t),{},{chapterIdsToDelete:s,trackProgressMangaId:a&&t.isRead&&o.trackRecords.totalCount?o.id:void 0}),{errorPolicy:"all"}).response.catch(je());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();e.getOrCreateChapterUpdateQueue(u.id).enqueue("".concat(u.id),f)}},[n,r,a])}},{key:"useGetThemeDirection",value:function(){var e=X().direction,t=gr(function(e){return e.settings.readingDirection.value});return Nr[e]===t?e:Lr[e]}},{key:"updateSetting",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,o=dr().manga;if(o&&o.id!==ft.id){var i=ce(e,void 0!==a?[null==a?void 0:a.toString()]:void 0),u=w.graphQLClient.client.cache;if(r||k.includes(e)){var l=u.writeFragment({fragment:de,data:{__typename:"GlobalMetaType",key:i,value:JSON.stringify(t)}});u.modify({fields:{metas:function(e,t){var n=t.readField;return C(C({},e),{},{nodes:fe(i,null==e?void 0:e.nodes,n,function(){return l})})}}})}else{var s=u.writeFragment({fragment:ge,data:{__typename:"MangaMetaType",mangaId:o.id,key:i,value:JSON.stringify(t)}});u.modify({id:u.identify({__typename:"MangaType",id:o.id}),fields:{meta:function(e,t){var n=t.readField;return fe(i,e,n,function(){return s})}}})}n&&Tt(o,e,t,r,a).catch(function(e){return pe(he("reader.settings.error.label.failed_to_save_settings"),"error",ve(e))})}}},{key:"deleteSetting",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=dr().manga;if(r&&r.id!==ft.id){var a=ce(e,void 0!==n?[n]:void 0),o=w.graphQLClient.client.cache,i=t||k.includes(e);i?o.evict({id:o.identify({__typename:"GlobalMetaType",key:a})}):o.evict({id:o.identify({__typename:"MangaMetaType",mangaId:r.id,key:a})});var u=i?function(){return w.deleteGlobalMeta(a).response}:function(){return w.deleteMangaMeta(r.id,a).response};u().catch(function(e){return pe(he("reader.settings.error.label.failed_to_save_settings"),"error",ve(e))})}}},{key:"useOverlayMode",value:function(){var e=te.useIsTouchDevice(),t=gr(function(e){return e.settings.overlayMode}),n=t===ye.AUTO,r=t===ye.DESKTOP||n&&!e,a=t===ye.MOBILE||n&&e;return{mode:r?ye.DESKTOP:ye.MOBILE,isDesktop:r,isMobile:a}}},{key:"useExit",value:function(){var e=gr(function(e){return e.settings.exitMode}),t=be(),n=me(),r=O.useCallback(function(){var e=dr().manga;return e?n(xe.manga.path(e.id)):function(){}},[]);switch(e){case Se.PREVIOUS:return t;case Se.MANGA:return r;default:throw new Error('Unexpected "exitMode" ('.concat(e,")"))}}}])}();T(Fr,"downloadAheadQueue",new ue(1)),T(Fr,"chapterUpdateQueues",new Map),y("a",Fr);var zr=y("S",function(e){var t=e.i18nKey,n=e.value,r=_e().t;return V.jsx(we,{sx:{flexDirection:"row",gap:.25},children:V.jsx(yt,{t:r,i18nKey:t,values:{value:n},components:[V.jsx(Pe,{variant:"caption",sx:{fontSize:"x-small",opacity:.75}})]})})}),Br=function(e){var t=e.value,n=e.values,r=e.defaultValue,a=e.setValue,o=e.valueToDisplayData,i=e.isDefaultable,u=e.onDefault,l=_e().t;return V.jsxs(we,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:[i&&V.jsx(Oe,{onClick:u,variant:void 0===t?"contained":"outlined",children:l("global.label.default")},"default"),n.map(function(e){var n=void 0===t&&e===r,i=o[e].isTitleString?o[e].title:l(o[e].title);return V.jsx(Ce,{title:n?l("reader.settings.active_setting"):"",children:V.jsx(Oe,{onClick:function(){return a(e)},variant:e===t?"contained":"outlined",startIcon:o[e].icon,children:n?V.jsx(zr,{i18nKey:"global.label.footnote",value:i}):i})},e)})]})},Vr=function(e){var t=e.label,n=e.description,r=x(e,u);return V.jsxs(we,{children:[V.jsx(Pe,{children:t}),n&&V.jsx(Pe,{variant:"body2",color:"textDisabled",children:n}),V.jsx(Br,C({},r))]})},Ur=y("F",function(e){var t=e.readingMode,n=e.setReadingMode,r=x(e,l),a=_e().t;return V.jsx(Vr,C(C({},r),{},{label:a("reader.settings.label.reading_mode"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Me,setValue:n,valueToDisplayData:Te}))}),Wr=T(T({},J.LTR,{title:"reader.settings.reading_direction.ltr",icon:V.jsx(Ee,{})}),J.RTL,{title:"reader.settings.reading_direction.rtl",icon:V.jsx(De,{})}),Hr=Object.values(J).filter(function(e){return"number"==typeof e}),Gr=y("G",function(e){var t=e.readingDirection,n=e.setReadingDirection,r=x(e,s),a=_e().t;return V.jsx(Vr,C(C({},r),{},{label:a("reader.settings.label.reading_direction"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Hr,setValue:n,valueToDisplayData:Wr}))}),Kr=T(T(T(T(T({},Ie.EDGE,{title:"reader.settings.tap_zones.edge",icon:null}),Ie.KINDLE,{title:"reader.settings.tap_zones.kindle",icon:null}),Ie.L_SHAPE,{title:"reader.settings.tap_zones.l_shape",icon:null}),Ie.RIGHT_LEFT,{title:"reader.settings.tap_zones.right_left",icon:null}),Ie.DISABLED,{title:"global.label.disabled",icon:null}),Zr=Object.values(Ie).filter(function(e){return"number"==typeof e}),Xr=function(e){var t=e.tapZoneLayout,n=e.setTapZoneLayout,r=x(e,c),a=_e().t;return V.jsx(Vr,C(C({},r),{},{label:a("reader.settings.tap_zones.title"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Zr,setValue:n,valueToDisplayData:Kr}))},Jr=function(e){return e[e.NONE=0]="NONE",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.BOTH=3]="BOTH",e}(Jr||{}),Yr=T(T(T(T({},0,{title:"global.label.none",icon:null}),1,{title:"global.label.horizontal",icon:null}),2,{title:"global.label.vertical",icon:null}),3,{title:"global.label.both",icon:null}),Qr=Object.values(Jr).filter(function(e){return"number"==typeof e}),qr=T(T(T(T({},0,{vertical:!1,horizontal:!1}),1,{vertical:!1,horizontal:!0}),2,{vertical:!0,horizontal:!1}),3,{vertical:!0,horizontal:!0}),$r=function(e){var t,n,r,a=e.tapZoneInvertMode,o=e.setTapZoneInvertMode,i=x(e,d),u=_e().t,l=(t=a.value,n=t.vertical,r=t.horizontal,n&&r?3:n?2:r?1:0);return V.jsx(Vr,C(C({},i),{},{label:u("reader.settings.tap_zones.invert"),value:a.isDefault?void 0:l,defaultValue:a.isDefault?l:void 0,values:Qr,setValue:function(e){return o(qr[e])},valueToDisplayData:Yr}))},ea=function(e){var t=e.pageScaleMode,n=e.setPageScaleMode,r=x(e,f),a=_e().t;return V.jsx(Vr,C(C({},r),{},{label:a("reader.settings.page_scale.title"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:ke,setValue:n,valueToDisplayData:Ae}))},ta=function(e){var t=e.pageScaleMode,n=e.shouldStretchPage,r=e.setShouldStretchPage,a=_e().t;return Re[t]?V.jsx(U,{children:V.jsx(Oe,{onClick:function(){return r(!n)},variant:n?"contained":"outlined",children:a("reader.settings.page_scale.stretch")})}):null},na=Le(V.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"})),ra=function(e){var t=e.asIconButton,n=x(e,g),r=_e().t;return t?V.jsx(Ce,{title:r("global.button.reset"),children:V.jsx(Ne,C(C({color:"inherit"},n),{},{children:V.jsx(na,{})}))}):V.jsx(Oe,C(C({startIcon:V.jsx(na,{})},n),{},{children:r("global.button.reset")}))},aa=function(e){var t,n,r,a=e.label,o=e.value,i=e.onDefault,u=e.slotProps;return V.jsxs(we,{sx:{flexDirection:"row",gap:2,alignItems:"center"},children:[V.jsxs(we,{sx:{flexBasis:"25%"},children:[V.jsx(Pe,C(C({},null==u?void 0:u.label),{},{sx:C({},null==u||null===(t=u.label)||void 0===t?void 0:t.sx),children:a})),V.jsx(Pe,C(C({},null==u?void 0:u.value),{},{sx:C({},null==u||null===(n=u.value)||void 0===n?void 0:n.sx),children:o}))]}),V.jsx(bt,C(C({},null==u?void 0:u.slider),{},{sx:C({flexBasis:"75%"},null==u||null===(r=u.slider)||void 0===r?void 0:r.sx)})),i&&V.jsx(ra,{asIconButton:!0,onClick:i})]})},oa=function(e){var t=e.pageGap,n=e.readingMode,r=e.isDefaultable,a=e.onDefault,o=e.updateSetting,i=_e().t;return n.value!==Q.WEBTOON&&Kt(n.value)?V.jsx(aa,{label:i("reader.settings.label.page_gap"),value:i("global.value",{value:t.value,unit:i("global.unit.px")}),onDefault:r?a:void 0,slotProps:{slider:{defaultValue:I.pageGap,value:t.value,step:Fe.step,min:Fe.min,max:Fe.max,onChange:function(e,t){o(t,!1)},onChangeCommitted:function(e,t){o(t,!0)}}}}):null},ia=function(e){var t=e.readerWidth,n=e.pageScaleMode,r=e.isDefaultable,a=e.onDefault,o=e.updateSetting,i=e.setTransparent,u=_e().t;return Ht(n)?V.jsxs(we,{children:[V.jsxs(we,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[V.jsx(mt,{label:u("reader.settings.label.limit_reader_width"),checked:t.enabled,onChange:function(e,n){return o("readerWidth",C(C({},t),{},{enabled:n}),!0)}}),r&&V.jsx(ra,{onClick:a,variant:"outlined"})]}),t.enabled&&V.jsx(aa,{label:u("reader.settings.label.reader_width"),value:u("global.value",{value:t.value,unit:"%"}),slotProps:{slider:{defaultValue:I.readerWidth.value,value:t.value,step:1,min:10,max:100,onChange:function(e,n){null==i||i(!0),o("readerWidth",C(C({},t),{},{value:n}),!1)},onChangeCommitted:function(e,n){null==i||i(!1),o("readerWidth",C(C({},t),{},{value:n}),!0)}}}})]}):null},ua=y("E",function(e){var t=e.areDefaultSettings,n=_e().t;return!te.useIsTouchDevice()||t?null:V.jsx(we,{sx:{alignItems:"end"},children:V.jsx(Pe,{variant:"caption",children:n("reader.settings.default_setting_footnote")})})}),la=function(e){var t=e.profile,n=e.title,r=e.updateSetting,a=e.isSeriesMode,o=x(e,p),i=Ct(t).settings,u=O.useMemo(function(){return C(C({},i),{},{readingMode:{value:t,isDefault:!0}})},[i,t]);return V.jsxs(we,{sx:{gap:2},children:[a?V.jsx(Pe,{children:n}):V.jsx(xt,{component:"div",id:"".concat(t,"-settings"),children:n}),V.jsx(we,{sx:{px:2*Number(!a)},children:V.jsx(ca,C(C({},o),{},{setShowPreview:function(){},settings:u,updateSetting:function(e,n,a){return r(e,n,a,!0,t)}}))})]})},sa=function(e){var t=e.profiles,n=void 0===t?Me:t,r=e.readingMode,a=x(e,v),o=a.updateSetting,i=a.isSeriesMode,u=_e().t;return V.jsxs(we,{sx:{gap:2,pb:2*Number(!i)},children:[void 0!==r&&V.jsx(we,{sx:{pt:2,px:2},children:V.jsx(Ur,{readingMode:r,setReadingMode:function(e){return o("readingMode",e)}})}),n.map(function(e){return V.jsx(la,C({profile:e,title:u(Te[e].title)},a),e)})]})},ca=function(e){var t=e.setShowPreview,n=e.settings,r=e.updateSetting,a=e.isDefaultable,o=e.onDefault,i=e.isSeriesMode,u=e.setTransparent,l=_e().t;return V.jsxs(we,{sx:{gap:2},children:[V.jsx(ua,{areDefaultSettings:!a}),i&&V.jsxs(V.Fragment,{children:[V.jsx(Pe,{children:l("reader.settings.source_series")}),V.jsx(Ur,{readingMode:n.readingMode,setReadingMode:function(e){return r("readingMode",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("readingMode")}})]}),V.jsx(oa,{pageGap:n.pageGap,readingMode:n.readingMode,isDefaultable:a,onDefault:function(){return null==o?void 0:o("pageGap")},updateSetting:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,["pageGap"].concat(t))}}),V.jsx(Gr,{readingDirection:n.readingDirection,setReadingDirection:function(e){return r("readingDirection",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("readingDirection")}}),V.jsx(Xr,{tapZoneLayout:n.tapZoneLayout,setTapZoneLayout:function(e){t(!0),r("tapZoneLayout",e)},isDefaultable:a,onDefault:function(){t(!0),null==o||o("tapZoneLayout")}}),V.jsx($r,{tapZoneInvertMode:n.tapZoneInvertMode,setTapZoneInvertMode:function(e){t(!0),r("tapZoneInvertMode",e)},isDefaultable:a,onDefault:function(){t(!0),null==o||o("tapZoneInvertMode")}}),V.jsx(ea,{pageScaleMode:n.pageScaleMode,setPageScaleMode:function(e){return r("pageScaleMode",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("pageScaleMode")}}),V.jsx(ta,{pageScaleMode:n.pageScaleMode.value,shouldStretchPage:n.shouldStretchPage.value,setShouldStretchPage:function(e){return r("shouldStretchPage",e)}}),V.jsx(ia,{readerWidth:n.readerWidth.value,pageScaleMode:n.pageScaleMode.value,isDefaultable:a,onDefault:function(){return null==o?void 0:o("readerWidth")},updateSetting:function(){return r.apply(void 0,arguments)},setTransparent:u}),i&&V.jsxs(V.Fragment,{children:[V.jsx(ze,{}),V.jsx(sa,{profiles:[n.readingMode.value],updateSetting:r,isSeriesMode:i,setTransparent:u})]})]})},da=function(){return V.jsx(Be,{children:V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:V.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16"})})})},fa=function(){return V.jsx(Be,{children:V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:V.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16M7 15v-5m10 5v-5M4 9h16"})})})},ga=T(T({},Ve.HIDDEN,{title:"global.label.hidden",icon:V.jsx(da,{})}),Ve.STANDARD,{title:"global.label.standard",icon:V.jsx(fa,{})}),pa=Object.values(Ve).filter(function(e){return"number"==typeof e}),va=function(e){var t=e.overlayMode,n=e.progressBarType,r=e.setProgressBarType,a=_e().t;return t!==ye.DESKTOP?null:V.jsx(Vr,{label:a("reader.settings.progress_bar.style"),value:n,values:pa,setValue:r,valueToDisplayData:ga})},ha=function(e){var t=e.overlayMode,n=e.progressBarType,r=e.progressBarSize,a=e.setProgressBarSize,o=e.onDefault,i=_e().t;return t===ye.DESKTOP&&n===Ve.STANDARD?V.jsx(aa,{label:i("reader.settings.progress_bar.size"),value:i("global.value",{value:r,unit:i("global.unit.px")}),onDefault:o,slotProps:{slider:{defaultValue:I.progressBarSize,value:r,step:Ue.step,min:Ue.min,max:Ue.max,onChange:function(e,t){a(t,!1)},onChangeCommitted:function(e,t){a(t,!0)}}}}):null},ya=Le(V.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),ba=Le(V.jsx("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"})),ma=Le([V.jsx("path",{d:"M19.03 3.56c-1.67-1.39-3.74-2.3-6.03-2.51v2.01c1.73.19 3.31.88 4.61 1.92zM11 3.06V1.05c-2.29.2-4.36 1.12-6.03 2.51l1.42 1.42C7.69 3.94 9.27 3.25 11 3.06M4.98 6.39 3.56 4.97C2.17 6.64 1.26 8.71 1.05 11h2.01c.19-1.73.88-3.31 1.92-4.61M20.94 11h2.01c-.21-2.29-1.12-4.36-2.51-6.03l-1.42 1.42c1.04 1.3 1.73 2.88 1.92 4.61M7 12l3.44 1.56L12 17l1.56-3.44L17 12l-3.44-1.56L12 7l-1.56 3.44z"},"0"),V.jsx("path",{d:"M12 21c-3.11 0-5.85-1.59-7.46-4H7v-2H1v6h2v-2.7c1.99 2.84 5.27 4.7 9 4.7 4.87 0 9-3.17 10.44-7.56l-1.96-.45C19.25 18.48 15.92 21 12 21"},"1")]),xa=T(T(T(T({},Z.AUTO,{title:"global.label.auto",icon:V.jsx(ma,{})}),Z.BOTTOM,{title:"global.label.bottom",icon:V.jsx(ba,{sx:{transform:"rotate(90deg)"}})}),Z.LEFT,{title:"global.label.left",icon:V.jsx(ya,{})}),Z.RIGHT,{title:"global.label.right",icon:V.jsx(ba,{})}),Sa=Object.values(Z).filter(function(e){return"number"==typeof e}),ja=Object.values(We),_a=function(e){var t=e.progressBarPosition,n=e.progressBarPositionAutoVertical,r=e.updateSetting,a=_e().t,o=t===Z.AUTO;return V.jsxs(V.Fragment,{children:[V.jsx(Vr,{label:a("reader.settings.progress_bar.position"),value:t,values:Sa,setValue:function(e){return r("progressBarPosition",e)},valueToDisplayData:xa}),o&&V.jsx(Vr,{label:a("reader.settings.progress_bar.auto_vertical_position.title"),value:n,values:ja,setValue:function(e){return r("progressBarPositionAutoVertical",e)},valueToDisplayData:xa})]})},wa=Le(V.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"})),Pa=Le(V.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"})),Oa=T(T(T({},ye.AUTO,{title:"global.label.auto",icon:V.jsx(ma,{})}),ye.DESKTOP,{title:"global.label.desktop",icon:V.jsx(Pa,{})}),ye.MOBILE,{title:"global.label.mobile",icon:V.jsx(wa,{})}),Ca=Object.values(ye).filter(function(e){return"number"==typeof e}),Ta=function(e){var t=e.overlayMode,n=e.setOverlayMode,r=_e().t;return V.jsx(Vr,{label:r("reader.settings.overlay_mode"),value:t,values:Ca,setValue:n,valueToDisplayData:Oa})},Ma=T(T(T(T({},He.THEME,{title:"settings.appearance.theme.title",icon:null}),He.BLACK,{title:"global.colors.black",icon:null}),He.GRAY,{title:"global.colors.gray",icon:null}),He.WHITE,{title:"global.colors.white",icon:null}),Da=Object.values(He).filter(function(e){return"number"==typeof e}),Ea=function(e){var t=e.backgroundColor,n=e.updateSetting,r=_e().t;return V.jsx(Vr,{label:r("reader.settings.background_color"),value:t,values:Da,setValue:n,valueToDisplayData:Ma})},Ia=function(e){var t=e.overlayMode,n=e.settings,r=e.updateSetting,a=e.onDefault,o=_e().t;return V.jsxs(we,{sx:{gap:2},children:[V.jsx(Ta,{overlayMode:n.overlayMode,setOverlayMode:function(e){return r("overlayMode",e)}}),V.jsx(Ea,{backgroundColor:n.backgroundColor,updateSetting:function(e){return r("backgroundColor",e)}}),V.jsx(va,{overlayMode:t,progressBarType:n.progressBarType,setProgressBarType:function(e){return r("progressBarType",e)}}),V.jsx(ha,{overlayMode:t,progressBarType:n.progressBarType,progressBarSize:n.progressBarSize,setProgressBarSize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,["progressBarSize"].concat(t))},onDefault:function(){return null==a?void 0:a("progressBarSize")}}),V.jsx(_a,{progressBarPosition:n.progressBarPosition,progressBarPositionAutoVertical:n.progressBarPositionAutoVertical,updateSetting:r}),(n.progressBarType===Ve.HIDDEN||t===ye.MOBILE)&&V.jsx(mt,{label:o("reader.settings.label.show_page_number"),checked:n.shouldShowPageNumber,onChange:function(e,t){return r("shouldShowPageNumber",t)}})]})},Aa=function(e){var t=e.brightness,n=e.updateSetting,r=_e().t;return V.jsxs(we,{children:[V.jsx(mt,{label:r("reader.settings.custom_filter.brightness"),checked:t.enabled,onChange:function(e,r){return n("brightness",C(C({},t),{},{enabled:r}),!0)}}),t.enabled&&V.jsx(aa,{label:r("reader.settings.custom_filter.brightness"),value:t.value,onDefault:function(){return n("brightness",C(C({},t),{},{value:I.customFilter.brightness.value}),!0)},slotProps:{slider:{defaultValue:I.customFilter.brightness.value,value:t.value,step:Ge.brightness.step,min:Ge.brightness.min,max:Ge.brightness.max,onChange:function(e,r){n("brightness",C(C({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("brightness",C(C({},t),{},{value:r}),!0)}}}})]})},ka=function(e){var t=e.contrast,n=e.updateSetting,r=_e().t;return V.jsxs(we,{children:[V.jsx(mt,{label:r("reader.settings.custom_filter.contrast"),checked:t.enabled,onChange:function(e,r){return n("contrast",C(C({},t),{},{enabled:r}),!0)}}),t.enabled&&V.jsx(aa,{label:r("reader.settings.custom_filter.contrast"),value:t.value,onDefault:function(){return n("contrast",C(C({},t),{},{value:I.customFilter.contrast.value}),!0)},slotProps:{slider:{defaultValue:I.customFilter.contrast.value,value:t.value,step:Ge.contrast.step,min:Ge.contrast.min,max:Ge.contrast.max,onChange:function(e,r){n("contrast",C(C({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("contrast",C(C({},t),{},{value:r}),!0)}}}})]})},Ra=function(e){var t=e.saturate,n=e.updateSetting,r=_e().t;return V.jsxs(we,{children:[V.jsx(mt,{label:r("reader.settings.custom_filter.saturate"),checked:t.enabled,onChange:function(e,r){return n("saturate",C(C({},t),{},{enabled:r}),!0)}}),t.enabled&&V.jsx(aa,{label:r("reader.settings.custom_filter.saturate"),value:t.value,onDefault:function(){return n("saturate",C(C({},t),{},{value:I.customFilter.saturate.value}),!0)},slotProps:{slider:{defaultValue:I.customFilter.saturate.value,value:t.value,step:Ge.saturate.step,min:Ge.saturate.min,max:Ge.saturate.max,onChange:function(e,r){n("saturate",C(C({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("saturate",C(C({},t),{},{value:r}),!0)}}}})]})},La=function(e){var t=e.hue,n=e.updateSetting,r=_e().t;return V.jsxs(we,{children:[V.jsx(mt,{label:r("reader.settings.custom_filter.hue"),checked:t.enabled,onChange:function(e,r){return n("hue",C(C({},t),{},{enabled:r}),!0)}}),t.enabled&&V.jsx(aa,{label:r("reader.settings.custom_filter.hue"),value:t.value,onDefault:function(){return n("hue",C(C({},t),{},{value:I.customFilter.hue.value}),!0)},slotProps:{slider:{defaultValue:I.customFilter.hue.value,value:t.value,step:Ge.hue.step,min:Ge.hue.min,max:Ge.hue.max,onChange:function(e,r){n("hue",C(C({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("hue",C(C({},t),{},{value:r}),!0)}}}})]})},Na={red:"reader.settings.custom_filter.rgba.red",green:"reader.settings.custom_filter.rgba.green",blue:"reader.settings.custom_filter.rgba.blue",alpha:"reader.settings.custom_filter.rgba.alpha"},Fa=function(e){var t=e.rgba,n=e.updateSetting,r=_e().t;return V.jsxs(we,{children:[V.jsx(mt,{label:r("reader.settings.custom_filter.rgba.title"),checked:t.enabled,onChange:function(e,r){return n("rgba",C(C({},t),{},{enabled:r}),!0)}}),t.enabled&&V.jsxs(we,{sx:{gap:1},children:[Object.entries(t.value).map(function(e){var a=D(e,2),o=a[0],i=a[1];return"blendMode"===o?null:V.jsx(aa,{label:r(Na[o]),value:i,onDefault:function(){return n("rgba",C(C({},t),{},{value:C(C({},t.value),{},T({},o,I.customFilter.rgba.value[o]))}),!0)},slotProps:{slider:{value:i,defaultValue:I.customFilter.rgba.value[o],step:Ge.rgba[o].step,min:Ge.rgba[o].min,max:Ge.rgba[o].max,onChange:function(e,r){n("rgba",C(C({},t),{},{value:C(C({},t.value),{},T({},o,r))}),!1)},onChangeCommitted:function(e,r){n("rgba",C(C({},t),{},{value:C(C({},t.value),{},T({},o,r))}),!0)}}}},o)}),V.jsx(Vr,{label:r("reader.settings.custom_filter.rgba.blend_mode.title"),value:t.value.blendMode,values:Ze,setValue:function(e){return n("rgba",C(C({},t),{},{value:C(C({},t.value),{},{blendMode:e})}),!0)},valueToDisplayData:Ke})]})]})},za=function(e){var t=e.sepia,n=e.updateSetting,r=_e().t;return V.jsx(we,{children:V.jsx(mt,{label:r("reader.settings.custom_filter.sepia"),checked:t,onChange:function(e,t){return n(t)}})})},Ba=function(e){var t=e.grayscale,n=e.updateSetting,r=_e().t;return V.jsx(we,{children:V.jsx(mt,{label:r("reader.settings.custom_filter.grayscale"),checked:t,onChange:function(e,t){return n(t)}})})},Va=function(e){var t=e.invert,n=e.updateSetting,r=_e().t;return V.jsx(we,{children:V.jsx(mt,{label:r("reader.settings.custom_filter.invert"),checked:t,onChange:function(e,t){return n(t)}})})},Ua=function(e){var t=e.settings.customFilter,n=e.updateSetting,r=e.onDefault,a=e.setTransparent,o=function(e,t){n("customFilter",e,t),null==a||a(void 0!==t&&!t)};return V.jsxs(we,{sx:{gap:2},children:[V.jsx(Aa,{brightness:t.brightness,updateSetting:function(e,n,r){return o(C(C({},t),{},T({},e,n)),r)}}),V.jsx(ka,{contrast:t.contrast,updateSetting:function(e,n,r){return o(C(C({},t),{},T({},e,n)),r)}}),V.jsx(Ra,{saturate:t.saturate,updateSetting:function(e,n,r){return o(C(C({},t),{},T({},e,n)),r)}}),V.jsx(La,{hue:t.hue,updateSetting:function(e,n,r){return o(C(C({},t),{},T({},e,n)),r)}}),V.jsx(Fa,{rgba:t.rgba,updateSetting:function(e,n,r){return o(C(C({},t),{},T({},e,n)),r)}}),V.jsx(za,{sepia:t.sepia,updateSetting:function(e){return o(C(C({},t),{},{sepia:e}))}}),V.jsx(Ba,{grayscale:t.grayscale,updateSetting:function(e){return o(C(C({},t),{},{grayscale:e}))}}),V.jsx(Va,{invert:t.invert,updateSetting:function(e){return o(C(C({},t),{},{invert:e}))}}),V.jsx(we,{sx:{alignItems:"end"},children:V.jsx(ra,{onClick:function(){return null==r?void 0:r("customFilter")},variant:"outlined"})})]})},Wa=T(T({},Se.PREVIOUS,{title:"global.label.previous",icon:null}),Se.MANGA,{title:"manga.title_one",icon:null}),Ha=Object.values(Se).filter(function(e){return"number"==typeof e}),Ga=function(e){var t=e.exitMode,n=e.setExitMode,r=_e().t;return V.jsx(Vr,{label:r("reader.settings.exit_mode"),value:t,values:Ha,setValue:n,valueToDisplayData:Wa})},Ka=y("H",function(e){var t=e.autoScroll,n=e.setAutoScroll,r=_e().t;return V.jsxs(V.Fragment,{children:[V.jsx(mt,{label:r("reader.settings.auto_scroll.smooth"),checked:t.smooth,onChange:function(e,r){return n(C(C({},t),{},{smooth:r}),!0)}}),V.jsx(aa,{label:r("reader.settings.auto_scroll.speed"),value:r("global.time.seconds.value",{count:t.value}),onDefault:function(){return n(C(C({},t),{},{value:I.autoScroll.value}),!0)},slotProps:{slider:C(C({defaultValue:I.customFilter.saturate.value,value:t.value},Ue),{},{onChange:function(e,r){n(C(C({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n(C(C({},t),{},{value:r}),!0)}})}})]})}),Za=T(T(T(T({},Je.TINY,{title:"global.label.tiny",icon:null}),Je.SMALL,{title:"global.label.small",icon:null}),Je.MEDIUM,{title:"global.label.medium",icon:null}),Je.LARGE,{title:"global.label.large",icon:null}),Xa=Object.values(Je).filter(function(e){return"number"==typeof e}),Ja=function(e){var t=e.scrollAmount,n=e.setScrollAmount,r=_e().t;return V.jsxs(V.Fragment,{children:[V.jsx(Vr,{label:r("reader.settings.scroll_amount"),value:t,values:Xa,setValue:function(e){return n(e,!0)},valueToDisplayData:Za}),V.jsx(aa,{label:r("reader.settings.label.custom_scroll_amount"),value:r("global.value",{value:t,unit:"%"}),onDefault:function(){return n(I.scrollAmount,!0)},slotProps:{slider:C(C({defaultValue:I.scrollAmount,value:t},Xe),{},{onChange:function(e,t){n(t,!1)},onChangeCommitted:function(e,t){n(t,!0)}})}})]})},Ya=function(e){var t=e.settings,n=e.updateSetting,r=e.onDefault,a=e.isDefaultable,o=_e().t;return V.jsxs(we,{sx:{gap:2},children:[V.jsx(Ga,{exitMode:t.exitMode,setExitMode:function(e){return n("exitMode",e)}}),V.jsx(Ja,{scrollAmount:t.scrollAmount,setScrollAmount:function(e,t){return n("scrollAmount",e,t)}}),V.jsx(mt,{label:o("reader.settings.label.skip_dup_chapters"),checked:t.shouldSkipDupChapters,onChange:function(e,t){return n("shouldSkipDupChapters",t)}}),V.jsx(mt,{label:V.jsxs(U,{children:[V.jsx(Pe,{children:o("reader.settings.label.skip_filtered_chapters")}),a&&V.jsx(Pe,{variant:"body2",color:"textDisabled",children:o("reader.settings.label.unchangeable_in_reader")})]}),checked:t.shouldSkipFilteredChapters,onChange:function(e,t){return n("shouldSkipFilteredChapters",t)},disabled:a}),Wt(t.readingMode.value)&&V.jsx(mt,{label:o("reader.settings.label.offset_double_spread"),checked:t.shouldOffsetDoubleSpreads.value,onChange:function(e,t){return n("shouldOffsetDoubleSpreads",t)}}),V.jsx(mt,{label:V.jsxs(U,{children:[V.jsx(Pe,{children:o("reader.settings.infinite_scroll.title")}),V.jsx(Pe,{variant:"body2",color:"textDisabled",children:o("reader.settings.infinite_scroll.description")})]}),checked:t.shouldUseInfiniteScroll,onChange:function(e,t){return n("shouldUseInfiniteScroll",t)}}),V.jsx(mt,{label:V.jsxs(U,{children:[V.jsx(Pe,{children:o("reader.settings.preview.reading_mode.title")}),V.jsx(Pe,{variant:"body2",color:"textDisabled",children:o("reader.settings.preview.reading_mode.description")})]}),checked:t.shouldShowReadingModePreview,onChange:function(e,t){return n("shouldShowReadingModePreview",t)}}),V.jsx(mt,{label:V.jsxs(U,{children:[V.jsx(Pe,{children:o("reader.settings.preview.tap_zones.title")}),V.jsx(Pe,{variant:"body2",color:"textDisabled",children:o("reader.settings.preview.tap_zones.description")})]}),checked:t.shouldShowTapZoneLayoutPreview,onChange:function(e,t){return n("shouldShowTapZoneLayoutPreview",t)}}),V.jsx(mt,{label:V.jsxs(U,{children:[V.jsx(Pe,{children:o("reader.settings.auto_webtoon_mode.title")}),V.jsx(Pe,{variant:"body2",color:"textDisabled",children:o("reader.settings.auto_webtoon_mode.description")})]}),checked:t.shouldUseAutoWebtoonMode,onChange:function(e,t){return n("shouldUseAutoWebtoonMode",t)}}),V.jsx(mt,{label:o("reader.settings.show_transition_page"),checked:t.shouldShowTransitionPage,onChange:function(e,t){return n("shouldShowTransitionPage",t)}}),V.jsx(mt,{label:o("reader.settings.chapter_transition.warning.missing_chapter"),checked:t.shouldInformAboutMissingChapter,onChange:function(e,t){return n("shouldInformAboutMissingChapter",t)}}),V.jsx(mt,{label:o("reader.settings.chapter_transition.warning.scanlator_change"),checked:t.shouldInformAboutScanlatorChange,onChange:function(e,t){return n("shouldInformAboutScanlatorChange",t)}}),V.jsx(Ka,{autoScroll:t.autoScroll,setAutoScroll:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,["autoScroll"].concat(t))}}),V.jsx(aa,{label:o("reader.settings.image_preload_amount"),value:t.imagePreLoadAmount,onDefault:function(){return null==r?void 0:r("imagePreLoadAmount")},slotProps:{slider:{defaultValue:I.imagePreLoadAmount,value:t.imagePreLoadAmount,step:Ye.step,min:Ye.min,max:Ye.max,onChange:function(e,t){n("imagePreLoadAmount",t,!1)},onChangeCommitted:function(e,t){n("imagePreLoadAmount",t,!0)}}}})]})},Qa=Qe(Pe)(function(e){var t=e.theme;return{display:"inline-block",padding:"0.2em 0.4em",fontSize:"0.85em",lineHeight:"1.4",color:t.palette.text.primary,backgroundColor:t.palette.background.paper,border:"1px solid ".concat(t.palette.divider),borderRadius:"3px",boxShadow:"inset 0 -1px 0 ".concat(t.palette.divider),fontFamily:"monospace, monospace"}}),qa=function(e){var t=e.keys,n=e.removeKey,r=_e().t;return V.jsx(we,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:t.map(function(e,a){return V.jsxs(O.Fragment,{children:[V.jsx(Ce,{title:r("global.button.delete"),hidden:!n,children:V.jsx(we,{sx:{flexDirection:"row",flexWrap:"wrap",gap:.5,cursor:n?"pointer":void 0},onClick:function(){return null==n?void 0:n(e)},children:e.split("+").map(function(e,t,n){return V.jsxs(O.Fragment,{children:[V.jsx(Qa,{children:e}),t===n.length-1?"":"+"]},e)})})}),a===t.length-1?"":","]},e)})})},$a=function(e){var t=e.onClose,n=e.onCreate,r=e.existingKeys,a=_e().t,o=D(qe(),2),i=o[0],u=o[1],l=u.start,s=u.stop,c=u.resetKeys,d=[S(i).join("+")],f=d.some(function(e){return r.map(function(e){return e.toLowerCase()}).includes(e.toLowerCase())});return O.useEffect(function(){return l(),function(){s()}},[]),V.jsxs($e,{open:!0,onClose:t,fullWidth:!0,children:[V.jsx(et,{children:a("hotkeys.create.dialog.title")}),V.jsxs(tt,{children:[V.jsx(we,{sx:{flexDirection:"row",gap:1},children:V.jsx(yt,{i18nKey:"hotkeys.create.dialog.label",components:{Keys:i.size?V.jsx(qa,{keys:d}):V.jsx(Pe,{children:a("hotkeys.create.dialog.placeholder")})},children:"Recorded keys:"})}),f&&V.jsx(Pe,{color:"error",children:a("hotkeys.create.error.exists")})]}),V.jsx(nt,{children:V.jsxs(we,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[V.jsx(Oe,{onClick:c,children:a("global.button.reset")}),V.jsxs(we,{direction:"row",children:[V.jsx(Oe,{onClick:t,children:a("global.button.cancel")}),V.jsx(Oe,{disabled:f,onClick:function(){t(),n(d)},children:a("global.button.create")})]})]})})]})},eo=(T(T(T(T(T(T(T(T(T(T(_={},ot.PREVIOUS_PAGE,"reader.settings.hotkey.previous_page"),ot.NEXT_PAGE,"reader.settings.hotkey.next_page"),ot.SCROLL_BACKWARD,"reader.settings.hotkey.scroll_backward"),ot.SCROLL_FORWARD,"reader.settings.hotkey.scroll_forward"),ot.PREVIOUS_CHAPTER,"reader.settings.hotkey.previous_chapter"),ot.NEXT_CHAPTER,"reader.settings.hotkey.next_chapter"),ot.TOGGLE_MENU,"reader.settings.hotkey.menu"),ot.CYCLE_SCALE_TYPE,"reader.settings.hotkey.scale_type"),ot.STRETCH_IMAGE,"reader.settings.hotkey.stretch_image"),ot.OFFSET_SPREAD_PAGES,"reader.settings.hotkey.offset_spread_pages"),T(T(T(T(T(T(_,ot.CYCLE_READING_MODE,"reader.settings.hotkey.reading_mode"),ot.CYCLE_READING_DIRECTION,"reader.settings.hotkey.reading_direction"),ot.TOGGLE_AUTO_SCROLL,"reader.settings.hotkey.auto_scroll"),ot.AUTO_SCROLL_SPEED_INCREASE,"reader.settings.hotkey.auto_scroll_speed_increase"),ot.AUTO_SCROLL_SPEED_DECREASE,"reader.settings.hotkey.auto_scroll_speed_decrease"),ot.EXIT_READER,"reader.button.exit")),to=function(e){var t=e.hotkey,n=e.keys,r=e.existingKeys,a=e.updateSetting,o=_e().t,i=rt({popupId:"reader-setting-record-hotkey",variant:"dialog"});return V.jsxs(V.Fragment,{children:[V.jsxs(we,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[V.jsx(Pe,{sx:{flexGrow:1},children:o(eo[t])}),V.jsx(qa,{keys:n,removeKey:function(e){return a(n.filter(function(t){return t!==e}))}}),V.jsx(Ce,{title:o("global.button.add"),children:V.jsx(Ne,C(C({},at(i)),{},{color:"inherit",children:V.jsx(St,{})}))}),V.jsx(ra,{asIconButton:!0,onClick:function(){return a(I.hotkeys[t])}})]}),i.isOpen&&V.jsx($a,{onClose:i.close,onCreate:function(e){return a([].concat(S(n),S(e)))},existingKeys:r})]})},no=function(e){var t=e.settings,n=e.updateSetting,r=e.onDefault,a=_e().t;return V.jsxs(we,{sx:{gap:2},children:[V.jsx(we,{sx:{alignItems:"end"},children:V.jsx(Pe,{variant:"caption",children:a("hotkeys.info.delete")})}),it.map(function(e){return V.jsx(to,{hotkey:e,keys:t.hotkeys[e],existingKeys:Object.values(t.hotkeys).flat(),updateSetting:function(r){return n("hotkeys",C(C({},t.hotkeys),{},T({},e,r)))}},e)}),V.jsx(we,{sx:{alignItems:"end"},children:V.jsx(ra,{onClick:function(){return null==r?void 0:r("hotkeys")},variant:"outlined"})})]})},ro=y("w",function(e,t,n){return O.memo(O.forwardRef(function(r,a){var o=t.reduce(function(e,t){return C(C({},e),t(r))},{}),i=Object.fromEntries(Object.entries(o).filter(function(e){var t=D(e,1)[0];return n.includes(t)})),u=C(C({},r),i);return V.jsx(e,C(C({},u),{},{ref:a}))}))});y("R",ro(function(e){var t=e.activeTab,n=e.setActiveTab,r=e.areDefaultSettings,a=e.settings,o=e.updateSetting,i=e.deleteSetting,u=e.mode,l=e.setTransparent,s=_e().t,c=te.useIsTouchDevice(),d=hr(function(e){return e.tapZone.setShowPreview});return V.jsxs(V.Fragment,{children:[V.jsx(st,{value:t,onChange:function(e,t){return n(t)},sx:C(C({},W(!!r,{zIndex:2})),W(!r,{backgroundColor:"background.paper",backgroundImage:"var(--Paper-overlay)"})),children:Object.values(ut).map(function(e){var t=e.id,n=e.label;return!e.supportsTouchDevices&&c?null:V.jsx(vt,{value:t,label:s(n),sx:{flexGrow:1,maxWidth:"unset",textTransform:"none"}},t)})}),V.jsx(U,{sx:{p:r?void 0:2,overflowX:"hidden"},children:Object.values(ut).map(function(e){var n=e.id;if(!e.supportsTouchDevices&&c)return null;switch(n){case lt.LAYOUT:return r?V.jsx(ht,{index:n,currentIndex:t,children:V.jsx(sa,{readingMode:a.readingMode,updateSetting:function(){return o.apply(void 0,arguments)}})},n):V.jsx(ht,{index:n,currentIndex:t,children:V.jsx(ca,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},setShowPreview:d,isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)},isSeriesMode:!0,setTransparent:l})},n);case lt.GENERAL:return V.jsx(ht,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:V.jsx(Ia,{overlayMode:u,settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);case lt.FILTER:return V.jsx(ht,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:V.jsx(Ua,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!0,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)},setTransparent:l})},n);case lt.BEHAVIOUR:return V.jsx(ht,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:V.jsx(Ya,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);case lt.HOTKEYS:return V.jsx(ht,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:V.jsx(no,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!0,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);default:throw new Error('Unexpected "ReaderSettingTab" ('.concat(n,")"))}})})]})},[Fr.useOverlayMode],["mode"]))}}})}();
