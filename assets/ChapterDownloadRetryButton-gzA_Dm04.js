import{j as a,L as m,A as g,S as x,_ as C,u as l,a1 as i,C as d,I as u,r as c,n as p,k as h,H as w,R as f}from"./index-YAtlvmGf.js";import{A as j}from"./Avatar-BjP32HBi.js";import{D}from"./Download-pWaRfNBn.js";import{M as b}from"./MUI.util-CRrI--AY.js";const T=({mangaId:e,mangaTitle:o,thumbnailUrl:t,thumbnailUrlLastFetched:n})=>a.jsx(m,{to:g.manga.path(e),style:{textDecoration:"none"},children:a.jsx(j,{variant:"rounded",sx:{width:56,height:56,flex:"0 0 auto",marginRight:1,background:"transparent"},children:a.jsx(x,{imgStyle:{objectFit:"cover",width:"100%",height:"100%",imageRendering:"pixelated"},spinnerStyle:{small:!0},alt:o,src:C.getThumbnailUrl({thumbnailUrl:t,thumbnailUrlLastFetched:n})})})}),k=({chapterId:e,isDownloaded:o})=>{const{t}=l(),n=i.useDownloadStatusFromCache(e),r=()=>{c.addChapterToDownloadQueue(e).response.catch(s=>p(t("global.error.label.failed_to_save_changes"),"error",h(s)))};return n==null&&o?null:a.jsx(d,{title:t("chapter.action.download.add.label.action"),children:a.jsx(u,{...b.preventRippleProp(),onClick:s=>{s.stopPropagation(),s.preventDefault(),r()},children:a.jsx(D,{})})})},_=({chapterId:e})=>{const{t:o}=l(),t=i.useDownloadStatusFromCache(e),n=async()=>{try{await c.addChapterToDownloadQueue(e).response}catch(r){p(o("download.queue.error.label.failed_to_retry"),"error",h(r))}};return(t==null?void 0:t.state)!==w.Error?null:a.jsx(d,{title:o("global.button.retry"),children:a.jsx(u,{onClick:r=>{r.preventDefault(),r.stopPropagation(),n()},children:a.jsx(f,{})})})};export{T as C,_ as a,k as b};
