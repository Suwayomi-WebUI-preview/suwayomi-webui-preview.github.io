!function(){function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(r)}function r(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(r){n(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}function n(r,t,n){return(t=function(r){var t=function(r,t){if("object"!=e(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var a=n.call(r,t||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==e(t)?t:t+""}(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}System.register(["./index-legacy-cBC7e6Vd.js"],(function(e,r){"use strict";var n,a,o,i,l,s,u,c,d,b,p,g,f,v,h,y,j,m,x,k,U,w,S,O,C,_,E;return{setters:[function(e){n=e.r,a=e.i,o=e.j,i=e.aR,l=e.d,s=e.T,u=e.e,c=e.aC,d=e.O,b=e.aS,p=e.ag,g=e.a8,f=e.u,v=e.f,h=e.N,y=e.c,j=e.l,m=e.E,x=e.m,k=e.aT,U=e.v,w=e.aU,S=e.aK,O=e.az,C=e.aV,_=e.aW,E=e.aM}],execute:function(){e("About",(function(){var e,r,t,n=f().t,a=v.useContext(h),l=a.setTitle,s=a.setAction;v.useLayoutEffect((function(){return l(n("settings.about.title")),s(null),function(){l(""),s(null)}}),[n]);var u=y.useGetAbout({notifyOnNetworkStatusChange:!0}),c=u.data,d=u.loading,b=u.error,p=u.refetch,g=y.useCheckForServerUpdate({notifyOnNetworkStatusChange:!0}),I=g.data,P=g.loading,F=g.refetch,W=g.error,A=y.useCheckForWebUIUpdate({notifyOnNetworkStatusChange:!0}),D=A.data,M=A.loading,z=A.refetch,L=A.error||""===(null==D?void 0:D.checkForWebUIUpdate.tag),N=y.useGetWebUIUpdateStatus().data,G=null!==(e=null==N?void 0:N.getWebUIUpdateStatus)&&void 0!==e?e:{state:i.Idle,progress:0},V=G.state,H=G.progress;if(d)return o.jsx(j,{});if(b)return o.jsx(m,{message:n("global.error.label.failed_to_load_data"),messageExtra:b.message,retry:function(){return p().catch(x())}});var K=c.aboutServer,R=c.aboutWebUI,q=null==I||null===(r=I.checkForServerUpdates)||void 0===r?void 0:r.find((function(e){return e.channel===K.buildType})),B=!(null==q||!q.tag)&&q.tag!==k(K),J=!(null==D||!D.checkForWebUIUpdate.updateAvailable);return o.jsxs(U,{sx:{pt:0},children:[o.jsxs(U,{sx:{padding:0},subheader:o.jsx(w,{component:"div",id:"about-server-info",children:n("settings.server.title.server")}),children:[o.jsx(S,{children:o.jsx(O,{primary:n("settings.server.title.server"),secondary:"".concat(K.name," ").concat(K.buildType)})}),o.jsx(S,{children:o.jsx(O,{primary:n("settings.about.server.label.version"),secondary:o.jsx(T,{version:k(K),isCheckingForUpdate:P,isUpdateAvailable:B,updateCheckError:W,checkForUpdate:F,downloadAsLink:!0,url:null!==(t=null==q?void 0:q.url)&&void 0!==t?t:""})})}),o.jsx(S,{children:o.jsx(O,{primary:n("settings.about.server.label.build_time"),secondary:C(K)})})]}),o.jsx(_,{}),o.jsxs(U,{sx:{padding:0},subheader:o.jsx(w,{component:"div",id:"about-webui-info",children:n("settings.webui.title.webui")}),children:[o.jsx(S,{children:o.jsx(O,{primary:n("settings.about.webui.label.channel"),secondary:R.channel.toLocaleUpperCase()})}),o.jsx(S,{children:o.jsx(O,{primary:n("settings.about.webui.label.version"),secondary:o.jsx(T,{version:R.tag,isCheckingForUpdate:M,isUpdateAvailable:J,updateCheckError:L,checkForUpdate:z,triggerUpdate:function(){return y.updateWebUI().response.catch(x())},progress:H,updateState:V})})})]}),o.jsx(_,{}),o.jsxs(U,{subheader:o.jsx(w,{component:"div",id:"about-links",children:n("global.label.links")}),children:[o.jsx(E,{to:K.github,target:"_blank",rel:"noreferrer",children:o.jsx(O,{primary:n("settings.about.server.label.github"),secondary:K.github})}),o.jsx(E,{to:"https://github.com/Suwayomi/Suwayomi-WebUI",target:"_blank",rel:"noreferrer",children:o.jsx(O,{primary:n("settings.about.webui.label.github"),secondary:"https://github.com/Suwayomi/Suwayomi-WebUI"})}),o.jsx(E,{to:K.discord,target:"_blank",rel:"noreferrer",children:o.jsx(O,{primary:n("global.label.discord"),secondary:K.discord})})]})]})}));var r={},I=a;Object.defineProperty(r,"__esModule",{value:!0});var P=r.default=void 0,F=I(n()),W=o;P=r.default=(0,F.default)((0,W.jsx)("path",{d:"M18.32 4.26C16.84 3.05 15.01 2.25 13 2.05v2.02c1.46.18 2.79.76 3.9 1.62zM19.93 11h2.02c-.2-2.01-1-3.84-2.21-5.32L18.31 7.1c.86 1.11 1.44 2.44 1.62 3.9m-1.62 5.9 1.43 1.43c1.21-1.48 2.01-3.32 2.21-5.32h-2.02c-.18 1.45-.76 2.78-1.62 3.89M13 19.93v2.02c2.01-.2 3.84-1 5.32-2.21l-1.43-1.43c-1.1.86-2.43 1.44-3.89 1.62M13 12V7h-2v5H7l5 5 5-5zm-2 7.93v2.02c-5.05-.5-9-4.76-9-9.95s3.95-9.45 9-9.95v2.02C7.05 4.56 4 7.92 4 12s3.05 7.44 7 7.93"}),"Downloading");var A=function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t===i.Downloading?o.jsx(P,{}):e?o.jsx(c,{size:15}):!r||t===i.Error?o.jsx(d,{}):n?o.jsx(b,{}):o.jsx(p,{})},D=function(e,r,t,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(n===i.Downloading)return g("global.update.label.updating",{progress:a});var o=n===i.Error;return g(o?"global.update.label.update_failure":e?"global.update.label.checking":t?"global.update.label.check_failure":r?"global.update.label.available":"global.update.label.up_to_date")},T=function(e){var r=e.version,n=e.isCheckingForUpdate,a=e.isUpdateAvailable,c=e.updateCheckError,d=e.checkForUpdate,b=e.triggerUpdate,p=e.updateState,g=e.progress,f=e.downloadAsLink,v=e.url,h=p===i.Downloading;return o.jsxs(l,{sx:{alignItems:"start"},children:[o.jsx(s,{component:"span",variant:"body2",children:r}),o.jsx(u,t(t({sx:{marginTop:"5px",backgroundColor:"transparent",pointerEvents:h?"none":"unset"},size:"small",variant:"outlined",startIcon:A(n,a,p,f),onClick:function(){h||(!a||c||p===i.Error?d():a&&(null==b||b()))}},v&&a?{href:v,target:"_blank"}:void 0),{},{children:D(n,a,c,p,g)}))]})}}}}))}();
