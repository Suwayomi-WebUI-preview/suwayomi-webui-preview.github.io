import{u as B,b as g,j as e,aS as R,p as H,i as W,k as X,n as A,b8 as Y,T as M,S as j,bX as _,H as z,q as G,B as m,bY as J,b2 as K,o as P,C as Q,I as U,m as V}from"./index-kzF4ix3O.js";import{D as Z}from"./Delete-CtsLVJFF.js";const $=({handleDelete:o,mutable:r=!0,deletable:c=!0,...n})=>{const{t:b}=B();return e.jsxs(j,{sx:{flexDirection:"row",alignItems:"center"},children:[r?e.jsx(K,{...n,dialogTitle:""}):e.jsx(P,{children:e.jsx(H,{secondary:n.value})}),e.jsx(Q,{title:b("chapter.action.download.delete.label.action"),disabled:!c,children:e.jsx(U,{disabled:!c,onClick:o,children:e.jsx(Z,{})})})]})},E=o=>{var r;return(r=o==null?void 0:o.map(c=>c[0]))!=null?r:[]},ee=({settingName:o,description:r,dialogDisclaimer:c,valueInfos:n,handleChange:b,addItemButtonTitle:u,placeholder:k,allowDuplicates:q=!1,validateItem:x=()=>!0,invalidItemError:D})=>{const{t:p}=B(),i=E(n),[F,f]=g.useState(!1),[l,h]=g.useState(i),[T,w]=g.useState(!1);g.useEffect(()=>{n&&h(i)},[n]);const C=(s=!0)=>{s&&h(i),f(!1)},y=(s,t)=>{if(t===void 0){h(l.toSpliced(s,1));return}if(!(!q&&l.includes(t))&&t!==""){if(!(x!=null&&x(t,l))){V(D!=null?D:p("global.error.label.invalid_input"),"error");return}h(l.toSpliced(s,1,t.trim()))}},N=()=>{C(!0);const s=l.filter(a=>a!==""),t=i.filter(a=>!s.includes(a));b(s,t)};return e.jsxs(e.Fragment,{children:[e.jsx(R,{onClick:()=>f(!0),children:e.jsx(H,{primary:o,secondary:i!=null&&i.length?i==null?void 0:i.join(", "):r,secondaryTypographyProps:{style:{display:"flex",flexDirection:"column",wordBreak:"break-word"}}})}),e.jsxs(W,{open:F,onClose:()=>C(),fullWidth:!0,children:[e.jsx(X,{children:o}),(!!r||!!c)&&e.jsx(A,{children:e.jsxs(Y,{sx:{paddingBottom:"10px"},component:"div",children:[r&&e.jsx(M,{variant:"body1",sx:{whiteSpace:"pre-line"},children:r}),c&&e.jsxs(j,{direction:"row",sx:{alignItems:"center"},children:[e.jsx(_,{color:"warning"}),e.jsx(M,{variant:"body1",sx:{marginLeft:"10px",marginTop:"5px",whiteSpace:"pre-line"},children:c})]})]})}),e.jsx(A,{dividers:!0,sx:{maxHeight:"300px"},children:e.jsx(z,{children:l.map((s,t)=>{var a,S,L,O;return e.jsx($,{settingName:"",placeholder:k,handleChange:d=>y(t,d),handleDelete:()=>y(t,void 0),value:s,mutable:(S=(a=n==null?void 0:n.find(([d])=>d===s))==null?void 0:a[1])==null?void 0:S.mutable,deletable:(O=(L=n==null?void 0:n.find(([d])=>d===s))==null?void 0:L[1])==null?void 0:O.deletable},s)})})}),e.jsx(G,{children:e.jsxs(j,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[e.jsx(m,{onClick:()=>w(!0),children:u!=null?u:p("global.button.add")}),e.jsxs(j,{direction:"row",children:[e.jsx(m,{onClick:()=>C(),children:p("global.button.cancel")}),e.jsx(m,{onClick:()=>N(),children:p("global.button.ok")})]})]})})]}),T&&e.jsx(J,{settingName:"",placeholder:k,handleChange:s=>y(l.length,s),isDialogOpen:T,setIsDialogOpen:w,validate:s=>{var t;return(t=x==null?void 0:x(s,l))!=null?t:!0}})]})};export{ee as M};
