import{u as _,e as v,dr as h,j as a,i as x,g as m,k as f,N as D,ds as s,s as j,v as S,ap as E,aH as M,m as C}from"./index-ChwTeEsl.js";import{M as I}from"./MutableListSetting-C1NwzTLL.js";import{S as A}from"./Select-BiRIFvBo.js";import{E as L}from"./EmptyViewAbsoluteCentered-4lF644jt.js";import{u as P}from"./useAppTitle-xKXAeTff.js";import"./Delete-C5iuW7Iy.js";const $=()=>{const{i18n:t,_:B}=_();P(t._({id:"PEHQTf"}));const{metadata:c,settings:{devices:r},loading:l,request:{error:n,refetch:u}}=v(),{activeDevice:o,setActiveDevice:d}=h(),g=(e,i)=>{if(!c)return;!i.includes(o)&&d(s),M(e,i).catch(p=>C(t._({id:"cBoXe4"}),"error",m(p)))};return l?a.jsx(x,{}):n?a.jsx(L,{message:t._({id:"6m5aox"}),messageExtra:m(n),retry:()=>u().catch(f("DeviceSetting::refetch"))}):a.jsxs(D,{sx:{pt:0},children:[a.jsx(I,{settingName:t._({id:"qavm0B"}),description:t._({id:"oMzFyn"}),handleChange:e=>{g("devices",[...new Set([s,...e].filter(i=>i!==t._({id:"ovBPCi"})))])},valueInfos:r.map(e=>[e===s?t._({id:"ovBPCi"}):e,{mutable:!1,deletable:e!==s}]),addItemButtonTitle:t._({id:"hYgDIe"}),validateItem:e=>e.length<=16&&!!e.match(/^[a-zA-Z0-9\-_]+$/g),placeholder:t._({id:"VWhK64"})}),a.jsxs(j,{children:[a.jsx(S,{primary:t._({id:"Uq3Pue"}),secondary:t._({id:"jMxWG8"})}),a.jsx(A,{value:o,onChange:({target:{value:e}})=>d(e),children:r.map(e=>a.jsx(E,{value:e,children:e===s?t._({id:"ovBPCi"}):e},e))})]})]})};export{$ as DeviceSetting};
