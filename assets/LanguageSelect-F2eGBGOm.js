import{ay as N,ae as h,az as b,aA as u,W as O,u as m,g as E,aB as A,j as a,C as P,I as f,D as j,o as B,p as C,x as G,aC as y,as as R,aD as k,b as D}from"./index-CPG18q5k.js";import{F}from"./FilterList-Bv8vyB6S.js";import{S as M}from"./Switch-mlGw0kfN.js";var n=(e=>(e.UPDATE="UPDATE",e.UNINSTALL="UNINSTALL",e.INSTALL="INSTALL",e))(n||{}),S=(e=>(e.OBSOLETE="OBSOLETE",e.UPDATING="UPDATING",e.UNINSTALLING="UNINSTALLING",e.INSTALLING="INSTALLING",e))(S||{});const o={...n,...S};var i=(e=>(e.INSTALLED="INSTALLED",e.UPDATE_PENDING="UPDATE_PENDING",e.OBSOLETE="OBSOLETE",e))(i||{});const z={[n.UPDATE]:S.UPDATING,[n.UNINSTALL]:S.UNINSTALLING,[n.INSTALL]:S.INSTALLING},q={[n.UPDATE]:n.UNINSTALL,[n.UNINSTALL]:n.INSTALL,[n.INSTALL]:n.UNINSTALL},J={[o.UNINSTALL]:"extension.action.label.uninstall",[o.INSTALL]:"extension.action.label.install",[o.UPDATE]:"extension.action.label.update",[o.OBSOLETE]:"extension.state.label.obsolete",[o.UPDATING]:"extension.state.label.updating",[o.UNINSTALLING]:"extension.state.label.uninstalling",[o.INSTALLING]:"extension.state.label.installing"},Q={[n.UPDATE]:"extension.label.update_failed",[n.INSTALL]:"extension.label.installation_failed",[n.UNINSTALL]:"extension.label.uninstallation_failed"},v={[i.INSTALLED]:"extension.state.label.installed",[i.UPDATE_PENDING]:"extension.state.label.update_pending",[i.OBSOLETE]:"extension.state.label.obsolete",[N.ALL]:"extension.language.all",[N.OTHER]:"extension.language.other",[N.LOCAL_SOURCE]:"extension.language.other"},V=(e,l,L)=>l?o.OBSOLETE:L?o.UPDATE:e?o.UNINSTALL:o.INSTALL,w=e=>[i.INSTALLED,i.UPDATE_PENDING,i.OBSOLETE].includes(e),X=e=>w(e)||[N.ALL,N.OTHER,N.LOCAL_SOURCE].includes(e),H=e=>X(e)?h(v[e]):b(e);function Z(e){const l=Object.groupBy(e,t=>t.isInstalled?t.hasUpdate?i.UPDATE_PENDING:t.isObsolete?i.OBSOLETE:i.INSTALLED:t.lang);return Object.entries(l).toSorted(([t],[s])=>{const r=Object.values(i);return r.includes(t)?-1:r.includes(s)?1:u(t,s)}).map(([t,s])=>[t,(s!=null?s:[]).toSorted((r,I)=>u(r.lang,I.lang))]).filter(([,t])=>!!t.length)}const $=e=>[...new Set(e.map(l=>l.lang))].toSorted(u),ee=(e,l,L,c)=>e.filter(t=>l.includes(t.lang)).filter(t=>L||!t.isNsfw).filter(t=>!c||O(t.name).includes(O(c)));function te(e){const{t:l}=m(),{selectedLanguages:L,setSelectedLanguages:c,languages:t}=e,[s,r]=E.useState(A(L)),[I,d]=E.useState(!1),p=E.useMemo(()=>A([...s.toSorted(u),...t.toSorted(u)]),[t,s]),x=()=>{d(!1),r(A(L))},U=()=>{d(!1),c(A(s))},_=(T,g)=>{r(g?[...s,T]:s.toSpliced(s.indexOf(T),1))};return a.jsxs(a.Fragment,{children:[a.jsx(P,{title:l("settings.title"),children:a.jsx(f,{onClick:()=>d(!0),"aria-label":"display more actions",edge:"end",color:"inherit",children:a.jsx(F,{})})}),a.jsxs(j,{sx:{".MuiDialog-paper":{maxHeight:435,width:"80%"}},maxWidth:"xs",open:I,onClose:x,children:[a.jsx(B,{children:l("global.language.title.enabled_languages")}),a.jsx(C,{dividers:!0,sx:{padding:0},children:a.jsx(G,{children:p.map(T=>a.jsxs(y,{children:[a.jsx(R,{primary:H(T)}),a.jsx(M,{checked:s.includes(T),onChange:g=>_(T,g.target.checked)})]},T))})}),a.jsxs(k,{children:[a.jsx(D,{autoFocus:!0,onClick:x,color:"primary",children:l("global.button.cancel")}),a.jsx(D,{onClick:U,color:"primary",children:l("global.button.ok")})]})]})]})}export{S as E,J as I,te as L,o as a,n as b,z as c,q as d,Q as e,$ as f,V as g,ee as h,Z as i,i as j,H as t};
