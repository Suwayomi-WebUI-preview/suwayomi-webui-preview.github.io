!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t,n=["onCancel","cancelButtonProps"],a=["children","className","component","image","src","style"];function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function s(n,a,r,i){var s=a&&a.prototype instanceof c?a:c,u=Object.create(s.prototype);return o(u,"_invoke",function(n,a,r){var o,i,s,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return o=t,i=0,s=e,f.n=n,l}};function h(n,a){for(i=n,s=a,t=0;!d&&c&&!r&&t<u.length;t++){var r,o=u[t],h=f.p,m=o[2];n>3?(r=m===a)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=h&&((r=n<2&&h<o[1])?(i=0,f.v=a,f.n=o[1]):h<m&&(r=n<3||o[0]>a||a>m)&&(o[4]=n,o[5]=a,f.n=m,i=0))}if(r||n>1)return l;throw d=!0,a}return function(r,u,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,m),i=u,s=m;(t=i<2?e:s)||!d;){o||(i?i<3?(i>1&&(f.n=-1),h(i,s)):f.n=s:f.v=s);try{if(c=2,o){if(i||(r="next"),t=o[r]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=e}else if((t=(d=f.n<0)?s:n.call(a,f))!==l)break}catch(t){o=e,i=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,r,i),!0),u}var l={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][a]?t(t([][a]())):(o(t={},a,function(){return this}),t),h=d.prototype=c.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=d,o(h,"constructor",d),o(d,"constructor",u),u.displayName="GeneratorFunction",o(d,i,"GeneratorFunction"),o(h),o(h,i,"Generator"),o(h,a,function(){return this}),o(h,"toString",function(){return"[object Generator]"}),(r=function(){return{w:s,m:m}})()}function o(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}o=function(e,t,n,a){function i(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},o(e,t,n,a)}function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(e,t,n,a,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(s.push(a.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(t,n,a){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,n||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function h(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}System.register(["./index-legacy-D-lPLVCc.js","./Trackers-legacy-DfsJOIZ_.js","./Card-legacy-DMvmspQn.js","./ListCardContent-legacy-BakzM6V4.js","./Avatar-legacy-prV7Y4-h.js","./VisibilityOff-legacy-CMJzTLRF.js","./EmptyViewAbsoluteCentered-legacy-CYvSjdew.js","./TextField-legacy-VFEd8ZPr.js","./InputAdornment-legacy-CLCHZQbt.js","./CheckCircle-legacy-CQv-wrBj.js","./Metadata-legacy-CwHVSnEY.js","./MUI.util-legacy-D9xMlHDR.js","./CardActionArea-legacy-XH9Bk8ke.js","./Link-legacy-BsIbND1y.js","./useManageMangaLibraryState-legacy-jwyMDhTO.js","./ListPreference-legacy-27xuLHNq.js","./NumberSetting-legacy-CRNftMM8.js","./useMobilePicker-legacy-BG7-3D3h.js","./SelectSetting-legacy-BV2TEflo.js","./CheckboxInput-legacy-BldsPkTk.js","./FormGroup-legacy-BP1h9_2l.js"],function(e,o){"use strict";var c,u,m,p,b,g,v,y,x,D,w,C,M,k,j,P,O,S,T,F,A,N,R,E,V,I,L,z,B,_,W,Y,H,G,U,K,q,$,X,Q,J,Z,ee,te,ne,ae,re,oe,ie,se,le,ce,ue,de,fe,he,me,pe,be,ge,ve,ye,xe,De,we,Ce,Me,ke,je,Pe,Oe,Se,Te,Fe,Ae,Ne,Re,Ee,Ve,Ie,Le,ze,Be,_e,We,Ye,He,Ge,Ue,Ke,qe,$e,Xe,Qe,Je,Ze,et,tt,nt,at,rt,ot,it,st,lt,ct,ut,dt,ft,ht,mt,pt,bt,gt,vt,yt,xt,Dt,wt,Ct,Mt,kt,jt,Pt,Ot,St,Tt,Ft,At,Nt,Rt,Et,Vt,It,Lt,zt,Bt,_t,Wt,Yt,Ht,Gt,Ut,Kt,qt,$t,Xt,Qt,Jt,Zt,en,tn,nn,an,rn,on,sn,ln,cn,un,dn,fn;return{setters:[function(e){c=e.bU,u=e.bV,m=e.bW,p=e.az,b=e.bX,g=e.bY,v=e.c,y=e.j,x=e.I,D=e.u,w=e.S,C=e.r,M=e.B,k=e.ae,j=e.ad,P=e.b,O=e.af,S=e.a1,T=e.ag,F=e.ak,A=e.M,N=e.x,R=e.aq,E=e.ar,V=e.C,I=e.br,L=e.av,z=e.T,B=e.bZ,_=e.k,W=e.b_,Y=e.aJ,H=e.a6,G=e.a4,U=e.bG,K=e.b$,q=e.at,$=e.n,X=e.ax,Q=e.e,J=e.g,Z=e.f,ee=e.F,te=e.m,ne=e.ao,ae=e.c0,re=e.c1,oe=e.c2,ie=e.aU,se=e.aW,le=e.c3,ce=e.aX,ue=e.ay,de=e.aO,fe=e.p,he=e.aY,me=e.i,pe=e.q,be=e.aT,ge=e.c4,ve=e.a8,ye=e.aC,xe=e.an,De=e.d,we=e.c5,Ce=e.c6,Me=e.A,ke=e.aK,je=e.a,Pe=e.c7,Oe=e.$,Se=e.c8,Te=e.c9,Fe=e.a9,Ae=e.bw,Ne=e.ca,Re=e.a2},function(e){Ee=e.C,Ve=e.P,Ie=e.T,Le=e.a,ze=e.D,Be=e.b,_e=e.U},function(e){We=e.C},function(e){Ye=e.C},function(e){He=e.A},function(e){Ge=e.V},function(e){Ue=e.E},function(e){Ke=e.T},function(e){qe=e.I},function(e){$e=e.C},function(e){Xe=e.M},function(e){Qe=e.M},function(e){Je=e.C},function(e){Ze=e.L},function(e){et=e.C,tt=e.l,nt=e.M,at=e.m,rt=e.n},function(e){ot=e.L},function(e){it=e.N},function(e){st=e.h,lt=e.i,ct=e.e,ut=e.f,dt=e.u,ft=e.m,ht=e.b,mt=e.l,pt=e.Y,bt=e._,gt=e.j,vt=e.q,yt=e.s,xt=e.Z,Dt=e.$,wt=e.a,Ct=e.r,Mt=e.d,kt=e.g,jt=e.P,Pt=e.a0,Ot=e.S,St=e.H,Tt=e.a1,Ft=e.t,At=e.F,Nt=e.v,Rt=e.a2,Et=e.a3,Vt=e.y,It=e.a4,Lt=e.G,zt=e.x,Bt=e.a5,_t=e.a6,Wt=e.a7,Yt=e.a8,Ht=e.a9,Gt=e.aa,Ut=e.E,Kt=e.ab,qt=e.z,$t=e.A,Xt=e.ac,Qt=e.ad,Jt=e.D,Zt=e.ae,en=e.af,tn=e.O,nn=e.Q,an=e.R,rn=e.T,on=e.U,sn=e.V,ln=e.W,cn=e.X},function(e){un=e.S},function(e){dn=e.C},function(e){fn=e.F}],execute:function(){function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var hn=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return a=t,void((n=e).classList?n.classList.remove(a):"string"==typeof n.className?n.className=o(n.className,a):n.setAttribute("class",o(n.className&&n.className.baseVal||"",a)));var n,a})},mn=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var a=t.resolveArguments(e,n),r=a[0],o=a[1];t.removeClasses(r,"exit"),t.addClass(r,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var a=t.resolveArguments(e,n),r=a[0],o=a[1]?"appear":"enter";t.addClass(r,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var a=t.resolveArguments(e,n),r=a[0],o=a[1]?"appear":"enter";t.removeClasses(r,o),t.addClass(r,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,a="string"==typeof n,r=a?""+(a&&n?n+"-":"")+e:n[e];return{baseClassName:r,activeClassName:a?r+"-active":n[e+"Active"],doneClassName:a?r+"-done":n[e+"Done"]}},t}c(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var a=this.getClassNames(t)[n+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&r&&(a+=" "+r),"active"===n&&e&&u(e),a&&(this.appliedClasses[t][n]=a,function(e,t){e&&t&&t.split(" ").forEach(function(t){return a=t,void((n=e).classList?n.classList.add(a):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,a)||("string"==typeof n.className?n.className=n.className+" "+a:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+a)));var n,a})}(e,a))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],a=n.base,r=n.active,o=n.done;this.appliedClasses[t]={},a&&hn(e,a),r&&hn(e,r),o&&hn(e,o)},n.render=function(){var e=this.props;e.classNames;var t=m(e,["classNames"]);return p.createElement(b,g({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(p.Component);mn.defaultProps={classNames:""},mn.propTypes={};var pn=v(y.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),bn=e("a",function(e){var t,a,r=e.onCancel,o=e.cancelButtonProps,i=h(e,n);return y.jsx(Ke,d(d({},i),{},{slotProps:{input:d(d({},i.InputProps),{},{sx:{color:"inherit"},endAdornment:null!==(t=null===(a=i.InputProps)||void 0===a?void 0:a.endAdornment)&&void 0!==t?t:y.jsx(qe,{position:"end",children:y.jsx(x,d(d({},o),{},{onClick:function(){return r()},children:y.jsx(pn,{})}))})})}}))}),gn=(e("L",v(y.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"}))),e("S",v(y.jsx("path",{d:"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z"}))),function(e){var t=e.tracker,n=e.onClick,a=D().t;return y.jsx(We,{sx:Ee,children:y.jsx(Ye,{sx:{padding:"0"},children:y.jsxs(w,{direction:"row",sx:{gap:3},children:[y.jsx(He,{alt:"".concat(t.name),src:C.getValidImgUrlFor(t.icon),variant:"rounded",sx:{width:64,height:64}}),y.jsx(M,{sx:{flexGrow:"1"},onClick:n,children:a("tracking.action.button.add_tracking")})]})})})});function vn(e){return k("MuiCardMedia",e)}j("MuiCardMedia",["root","media","img"]);var yn=S("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,a=n.isMediaComponent,r=n.isImageComponent;return[t.root,a&&t.media,r&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),xn=["video","audio","picture","iframe","img"],Dn=["picture","img"],wn=P.forwardRef(function(e,t){var n=O({props:e,name:"MuiCardMedia"}),r=n.children,o=n.className,i=n.component,s=void 0===i?"div":i,l=n.image,c=n.src,u=n.style,f=h(n,a),m=xn.includes(s),p=!m&&l?d({backgroundImage:'url("'.concat(l,'")')},u):u,b=d(d({},n),{},{component:s,isMediaComponent:m,isImageComponent:Dn.includes(s)}),g=function(e){var t=e.classes,n=e.isMediaComponent,a=e.isImageComponent;return F({root:["root",n&&"media",a&&"img"]},vn,t)}(b);return y.jsx(yn,d(d({className:T(g.root,o),as:s,role:!m&&l?"img":void 0,ref:t,style:p,ownerState:b,src:m?l||c:void 0},f),{},{children:r}))}),Cn=function(e){var t=e.title,n=e.selected;return y.jsxs(w,{direction:"row",sx:{gap:"5px",justifyContent:"space-between"},children:[y.jsx(V,{title:t,children:y.jsx(I,{variant:"h5",component:"h1",children:t})}),y.jsx($e,{sx:{visibility:n?"visible":"hidden"},color:"primary"})]})},Mn=function(e){var t=e.summary,n=D().t,a=P.useRef(null),r=l(P.useState(!1),2),o=r[0],i=r[1],s=l(P.useState(!1),2),c=s[0],u=s[1],f=c?50:0;return P.useLayoutEffect(function(){var e,t,n=(null!==(e=null===(t=a.current)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0)>50;u(n),i(!n)},[]),y.jsxs(y.Fragment,{children:[t.length&&y.jsx(L,{collapsedSize:f,in:o,children:y.jsx(z,{ref:a,variant:"body1",component:"p",sx:{whiteSpace:"pre-line"},children:t})}),t.length&&c&&y.jsx(M,d(d({component:"div"},Qe.preventRippleProp()),{},{onClick:function(e){e.stopPropagation(),i(!o)},children:n(o?"global.button.show_less":"global.button.show_more")}))]})},kn=function(e){var t=e.children,n=e.url;return y.jsx(Ze,d(d({},Qe.preventRippleProp()),{},{href:n,rel:"noreferrer",target:"_blank",underline:"none",color:"inherit",onClick:function(e){return e.stopPropagation()},children:t}))},jn=function(e){var t=e.manga,n=e.selected,a=e.onSelect,r=D().t,o=A.useIsMobileWidth();return y.jsx(We,{sx:{backgroundColor:"background.default",marginBottom:2,"&:last-child":{marginBottom:8}},children:y.jsx(Je,{onClick:a,children:y.jsx(Ye,{sx:{padding:"0",borderRadius:"inherit"},children:y.jsxs(N,{sx:{padding:1,border:"3px solid",borderRadius:"inherit",borderColor:n?"primary.main":"transparent"},children:[y.jsxs(w,{direction:"row",sx:{gap:2,marginBottom:2},children:[y.jsx(wn,{sx:{aspectRatio:R,minWidth:"100px",width:"150px",borderRadius:1,overflow:"hidden"},children:y.jsx(kn,{url:t.trackingUrl,children:y.jsx(E,{useFetchApi:!1,disableCors:!0,alt:t.title,src:t.coverUrl,spinnerStyle:{width:"100%",height:"100%"},imgStyle:{width:"100%",height:o?void 0:"100%",maxHeight:"100%",objectFit:"cover"}})})}),y.jsxs(w,{direction:"column",sx:{width:"100%"},children:[y.jsx(kn,{url:t.trackingUrl,children:y.jsx(Cn,{title:t.title,selected:n})}),t.publishingType&&y.jsx(Xe,{title:r("global.label.type"),value:r(Ve[Ie.getPublishingType(t)])}),t.startDate&&y.jsx(Xe,{title:r("global.label.started"),value:t.startDate}),t.publishingStatus&&y.jsx(Xe,{title:r("manga.label.status"),value:r(Le[Ie.getPublishingStatus(t)])}),t.score>0&&y.jsx(Xe,{title:r("tracking.track_record.label.score"),value:t.score}),t.totalChapters>0&&y.jsx(Xe,{title:r("chapter.title_other"),value:t.totalChapters})]})]}),y.jsx(Mn,{summary:t.summary})]})})})})},Pn=function(e){var t=e.mangaId,n=e.selectedTrackerRemoteId,a=e.trackerId,r=e.closeSearchMode,o=e.supportsPrivateTracking,i=D().t,s=l(C.useBindTracker(),2),c=s[0],u=s[1],d=function(e){void 0!==n&&c({variables:{input:{mangaId:t,remoteId:n,trackerId:a,private:e}}}).then(function(){te(i("manga.action.track.add.label.success"),"success"),r()}).catch(function(e){return te(i("manga.action.track.add.label.error"),"error",J(e))})};return y.jsxs(w,{direction:"row",sx:{justifyContent:"center",position:"absolute",left:0,right:0,bottom:0,paddingBottom:ze,gap:2,px:ze},children:[y.jsx(M,{disabled:u.loading,size:"large",variant:"contained",onClick:function(){return d(!1)},sx:{flexBasis:"65%"},children:i("manga.action.track.add.label.action")}),o&&y.jsx(V,{title:i("tracking.action.button.track_privately"),disabled:u.loading,children:y.jsx(et,{disabled:u.loading,sx:{flexBasis:"10%",maxWidth:"100px"},variant:"contained",onClick:function(){return d(!0)},children:y.jsx(Ge,{})})})]})},On=function(e){var t,n,a=e.manga,r=e.tracker,o=e.closeSearchMode,i=e.trackedId,s=D().t,c=B(),u=l(P.useState(a.title),2),f=u[0],h=u[1],m=l(P.useState(f),2),p=m[0],b=m[1],g=l(P.useState(i),2),v=g[0],M=g[1],k=C.useTrackerSearch(r.id,f,{notifyOnNetworkStatusChange:!0}),j=null!==(t=null===(n=k.data)||void 0===n?void 0:n.searchTracker.trackSearches)&&void 0!==t?t:[],O=!!j.length,S=!k.loading&&!k.error&&!O,T=!!k.error&&!k.loading;P.useEffect(function(){return M(i),function(){return k.abortRequest(new Error("MangaTrackerSearchCard(".concat(r.id,", ").concat(a.id,"): search changed")))}},[f]);var F=P.useMemo(function(){return!!v&&!!j.find(function(e){return e.remoteId===v})},[v,j])&&!T;return y.jsxs(y.Fragment,{children:[y.jsx(_,{sx:{padding:ze},children:y.jsxs(w,{direction:"row",sx:{gap:"10px",alignItems:"center"},children:[y.jsx(x,{onClick:o,children:c(y.jsx(W,{}),y.jsx(Y,{}))}),y.jsx(bn,{sx:{width:"100%"},variant:"standard",value:p,onChange:function(e){return b(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&h(p)},onCancel:function(){return b("")},InputProps:{startAdornment:r.id===Be.MYANIMELIST&&y.jsx(qe,{position:"start",children:y.jsx(H,{variant:"popover",popupId:"tracker-search-info",children:function(e){return y.jsxs(y.Fragment,{children:[y.jsx(x,d(d({},G(e)),{},{color:"inherit",children:y.jsx(U,{})})),y.jsx(K,d(d({},q(e)),{},{anchorOrigin:{vertical:"bottom",horizontal:"left"},children:y.jsx(z,{sx:{padding:1,whiteSpace:"pre-line"},children:s("tracking.my_anime_list.search.label.hint")})}))]})}})})}})]})}),y.jsxs($,{dividers:!0,sx:d({padding:ze,height:"100vh"},X(S||T,{position:"relative"})),children:[S&&y.jsx(Ue,{message:s("manga.error.label.no_mangas_found")}),k.loading&&y.jsx(Q,{}),T&&y.jsx(Ue,{message:s("global.error.label.failed_to_load_data"),messageExtra:J(k.error),retry:function(){return k.refetch().catch(Z())}}),y.jsx(ee,{sx:{padding:0},children:O&&j.map(function(e){return y.jsx(jn,{manga:e,selected:e.remoteId===v,onSelect:function(){return M(e.remoteId)}},e.id)})}),F&&y.jsx(Pn,{mangaId:a.id,trackerId:r.id,closeSearchMode:o,selectedTrackerRemoteId:v,supportsPrivateTracking:r.supportsPrivateTracking})]})]})};function Sn(e){return st("MuiDatePickerToolbar",e)}lt("MuiDatePickerToolbar",["root","title"]);var Tn=["toolbarFormat","toolbarPlaceholder","className","classes"],Fn=S(vt,{name:"MuiDatePickerToolbar",slot:"Root"})({}),An=S(z,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),Nn=P.forwardRef(function(e,t){var n=ct({props:e,name:"MuiDatePickerToolbar"}),a=n.toolbarFormat,r=n.toolbarPlaceholder,o=void 0===r?"––":r,i=n.className,s=n.classes,l=ut(n,Tn),c=dt(),u=ft(),d=u.value,f=u.views,h=u.orientation,m=ht(),p=mt(),b=function(e){return gt({root:["root"],title:["title"]},Sn,e)}(s),g=P.useMemo(function(){if(!c.isValid(d))return o;var e=pt(c,{format:a,views:f},!0);return c.formatByString(d,e)},[d,a,o,c,f]);return y.jsx(Fn,bt({ref:t,toolbarTitle:m.datePickerToolbarTitle,className:T(b.root,i)},l,{children:y.jsx(An,{variant:"h4",align:"landscape"===h?"left":"center",ownerState:p,className:b.title,children:g})}))}),Rn=function(e){var t=e.props,n=e.value,a=e.timezone,r=e.adapter;if(null===n)return null;var o=t.shouldDisableDate,i=t.shouldDisableMonth,s=t.shouldDisableYear,l=t.disablePast,c=t.disableFuture,u=t.minDate,d=t.maxDate,f=r.date(void 0,a);switch(!0){case!r.isValid(n):return"invalidDate";case Boolean(o&&o(n)):return"shouldDisableDate";case Boolean(i&&i(n)):return"shouldDisableMonth";case Boolean(s&&s(n)):return"shouldDisableYear";case Boolean(c&&r.isAfterDay(n,f)):return"disableFuture";case Boolean(l&&r.isBeforeDay(n,f)):return"disablePast";case Boolean(u&&r.isBeforeDay(n,u)):return"minDate";case Boolean(d&&r.isAfterDay(n,d)):return"maxDate";default:return null}};function En(e){var t=dt(),n=ht();return P.useMemo(function(){var a=t.isValid(e)?t.format(e,"fullDate"):null;return n.openDatePickerDialogue(a)},[e,n,t])}function Vn(e){var t=dt(),n=In(e);return P.useMemo(function(){var a;return bt({},e,n,{format:null!==(a=e.format)&&void 0!==a?a:t.formats.keyboardDate})},[e,n,t])}function In(e){var t=dt(),n=xt();return P.useMemo(function(){var a,r;return{disablePast:null!==(a=e.disablePast)&&void 0!==a&&a,disableFuture:null!==(r=e.disableFuture)&&void 0!==r&&r,minDate:Dt(t,e.minDate,n.minDate),maxDate:Dt(t,e.maxDate,n.maxDate)}},[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,n])}function Ln(e,t){var n=ct({props:e,name:t}),a=In(n),r=P.useMemo(function(){var e;return null==(null===(e=n.localeText)||void 0===e?void 0:e.toolbarTitle)?n.localeText:bt({},n.localeText,{datePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return bt({},n,a,{localeText:r},Ct({views:n.views,openTo:n.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:bt({toolbar:Nn},n.slots)})}Rn.valueManager=yt;var zn=function(e){var t=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).enableAccessibleFieldDOMStructure,t=void 0===e||e;return P.useMemo(function(){return{valueType:"date",validator:Rn,internal_valueManager:yt,internal_fieldValueManager:wt,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:Vn,internal_useOpenPickerButtonAriaLabel:En}},[t])}(e);return Mt({manager:t,props:e})},Bn=["slots","slotProps"],_n=P.forwardRef(function(e,t){var n=ct({props:e,name:"MuiDateField"}),a=n.slots,r=n.slotProps,o=ut(n,Bn),i=kt({slotProps:r,ref:t,externalForwardedProps:o}),s=zn(i);return y.jsx(jt,{slots:a,slotProps:r,fieldResponse:s,defaultOpenPickerIcon:Pt})}),Wn=function(e){var t=e.shouldDisableDate,n=e.shouldDisableMonth,a=e.shouldDisableYear,r=e.minDate,o=e.maxDate,i=e.disableFuture,s=e.disablePast,l=e.timezone,c=dt();return P.useCallback(function(e){return null!==Rn({adapter:c,value:e,timezone:l,props:{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:a,minDate:r,maxDate:o,disableFuture:i,disablePast:s}})},[c,t,n,a,r,o,i,s,l])},Yn=function(e){var t=e.value,n=e.referenceDate,a=e.disableFuture,r=e.disablePast,o=e.maxDate,i=e.minDate,s=e.onMonthChange,c=e.onYearChange,u=e.reduceAnimations,d=e.shouldDisableDate,f=e.timezone,h=e.getCurrentMonthFromVisibleDate,m=dt(),p=P.useRef(function(e,t){return function(n,a){switch(a.type){case"setVisibleDate":return bt({},n,{slideDirection:a.direction,currentMonth:a.month,isMonthSwitchingAnimating:!t.isSameMonth(a.month,n.currentMonth)&&!e&&!a.skipAnimation,focusedDay:a.focusedDay});case"changeMonthTimezone":var r=a.newTimezone;if(t.getTimezone(n.currentMonth)===r)return n;var o=t.setTimezone(n.currentMonth,r);return t.getMonth(o)!==t.getMonth(n.currentMonth)&&(o=t.setMonth(o,t.getMonth(n.currentMonth))),bt({},n,{currentMonth:o});case"finishMonthSwitchingAnimation":return bt({},n,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}}}(Boolean(u),m)).current,b=P.useMemo(function(){return yt.getInitialReferenceValue({value:t,adapter:m,timezone:f,props:e,referenceDate:n,granularity:Ot.day})},[n,f]),g=l(P.useReducer(p,{isMonthSwitchingAnimating:!1,focusedDay:b,currentMonth:m.startOfMonth(b),slideDirection:"left"}),2),v=g[0],y=g[1],x=Wn({shouldDisableDate:d,minDate:i,maxDate:o,disableFuture:a,disablePast:r,timezone:f});P.useEffect(function(){y({type:"changeMonthTimezone",newTimezone:m.getTimezone(b)})},[b,m]);var D=St(function(e){var t=e.target,n=e.reason;if("cell-interaction"!==n||null==v.focusedDay||!m.isSameDay(t,v.focusedDay)){var l,u,d="cell-interaction"===n;if("cell-interaction"===n)l=h(t,v.currentMonth),u=t;else if(l=m.isSameMonth(t,v.currentMonth)?v.currentMonth:m.startOfMonth(t),x(u=t)){var p=m.startOfMonth(t),b=m.endOfMonth(t);u=Tt({adapter:m,date:u,minDate:m.isBefore(i,p)?p:i,maxDate:m.isAfter(o,b)?b:o,disablePast:r,disableFuture:a,isDateDisabled:x,timezone:f})}var g=!m.isSameMonth(v.currentMonth,l),D=!m.isSameYear(v.currentMonth,l);g&&(null==s||s(l)),D&&(null==c||c(m.startOfYear(l))),y({type:"setVisibleDate",month:l,direction:m.isAfterDay(l,v.currentMonth)?"left":"right",focusedDay:null!=v.focusedDay&&null!=u&&m.isSameDay(u,v.focusedDay)?v.focusedDay:u,skipAnimation:d})}}),w=P.useCallback(function(){y({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:b,calendarState:v,setVisibleDate:D,isDateDisabled:x,onMonthSwitchingAnimationEnd:w}},Hn=function(e){return st("MuiPickersFadeTransitionGroup",e)};lt("MuiPickersFadeTransitionGroup",["root"]);var Gn=["children"],Un=S(re,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function Kn(e){var t=ct({props:e,name:"MuiPickersFadeTransitionGroup"}),n=t.className,a=t.reduceAnimations,r=t.transKey,o=t.classes,i=t.children,s=ut(t,Gn),l=function(e){return gt({root:["root"]},Hn,e)}(o),c=ne();return a?i:y.jsx(Un,{className:T(l.root,n),ownerState:s,children:y.jsx(ae,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:c.transitions.duration.enteringScreen,enter:c.transitions.duration.enteringScreen,exit:0},children:i},r)})}function qn(e){return st("MuiPickersDay",e)}var $n=lt("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function Xn(e){var t=e.disabled,n=e.selected,a=e.today,r=e.outsideCurrentMonth,o=e.day,i=e.disableMargin,s=e.disableHighlightToday,l=e.showDaysOutsideCurrentMonth,c=dt(),u=Ft().ownerState;return P.useMemo(function(){return bt({},u,{day:o,isDaySelected:null!=n&&n,isDayDisabled:null!=t&&t,isDayCurrent:null!=a&&a,isDayOutsideMonth:null!=r&&r,isDayStartOfWeek:c.isSameDay(o,c.startOfWeek(o)),isDayEndOfWeek:c.isSameDay(o,c.endOfWeek(o)),disableMargin:null!=i&&i,disableHighlightToday:null!=s&&s,showDaysOutsideCurrentMonth:null!=l&&l})},[c,u,o,n,t,a,r,i,s,l])}var Qn=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],Jn=function(e){var t=e.theme;return bt({},t.typography.caption,f(f(f(f({width:Et,height:Et,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):ie(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":f({backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):ie(t.palette.primary.main,t.palette.action.focusOpacity)},"&.".concat($n.selected),{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark})},"&.".concat($n.selected),{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}}),"&.".concat($n.disabled,":not(.").concat($n.selected,")"),{color:(t.vars||t).palette.text.disabled}),"&.".concat($n.disabled,"&.").concat($n.selected),{opacity:.6}),"variants",[{props:{disableMargin:!1},style:{margin:"0 ".concat(Rt,"px")}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:f({},"&:not(.".concat($n.selected,")"),{border:"1px solid ".concat((t.vars||t).palette.text.secondary)})}]))},Zn=function(e,t){var n=e.ownerState;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.isDayCurrent&&t.today,!n.isDayOutsideMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.isDayOutsideMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},ea=S(oe,{name:"MuiPickersDay",slot:"Root",overridesResolver:Zn})(Jn),ta=S("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Zn})(function(e){var t=e.theme;return bt({},Jn({theme:t}),{opacity:0,pointerEvents:"none"})}),na=function(){},aa=P.forwardRef(function(e,t){var n=ct({props:e,name:"MuiPickersDay"}),a=n.autoFocus,r=void 0!==a&&a,o=n.className,i=n.classes,s=n.isAnimating,l=n.onClick,c=n.onDaySelect,u=n.onFocus,d=void 0===u?na:u,f=n.onBlur,h=void 0===f?na:f,m=n.onKeyDown,p=void 0===m?na:m,b=n.onMouseDown,g=void 0===b?na:b,v=n.onMouseEnter,x=void 0===v?na:v,D=n.children,w=n.day,C=n.selected,M=n.disabled,k=n.today,j=n.outsideCurrentMonth,O=n.disableMargin,S=n.disableHighlightToday,F=n.showDaysOutsideCurrentMonth,A=ut(n,Qn),N=Xn({day:w,selected:C,disabled:M,today:k,outsideCurrentMonth:j,disableMargin:O,disableHighlightToday:S,showDaysOutsideCurrentMonth:F}),R=function(e,t){var n=t.isDaySelected,a=t.isDayDisabled,r=t.isDayCurrent,o=t.isDayOutsideMonth,i=t.disableMargin,s=t.disableHighlightToday,l=t.showDaysOutsideCurrentMonth,c=o&&!l;return gt({root:["root",n&&!c&&"selected",a&&"disabled",!i&&"dayWithMargin",!s&&r&&"today",o&&l&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},qn,e)}(i,N),E=dt(),V=P.useRef(null),I=At(V,t);Nt(function(){!r||M||s||j||V.current.focus()},[r,M,s,j]);return j&&!F?y.jsx(ta,{className:T(R.root,R.hiddenDaySpacingFiller,o),ownerState:N,role:A.role}):y.jsx(ea,bt({className:T(R.root,o),ref:I,centerRipple:!0,disabled:M,tabIndex:C?0:-1,onKeyDown:function(e){return p(e,w)},onFocus:function(e){return d(e,w)},onBlur:function(e){return h(e,w)},onMouseEnter:function(e){return x(e,w)},onClick:function(e){e.defaultMuiPrevented=!0,M||c(w),j&&e.currentTarget.focus(),l&&l(e)},onMouseDown:function(e){g(e),j&&e.preventDefault()}},A,{ownerState:N,children:null!=D?D:E.format(w,"dayOfMonth")}))}),ra=P.memo(aa),oa=function(e){return st("MuiPickersSlideTransition",e)},ia=lt("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),sa=["children","className","reduceAnimations","slideDirection","transKey","classes"],la=S(re,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:function(e,t){return[t.root,f({},".".concat(ia["slideEnter-left"]),t["slideEnter-left"]),f({},".".concat(ia["slideEnter-right"]),t["slideEnter-right"]),f({},".".concat(ia.slideEnterActive),t.slideEnterActive),f({},".".concat(ia.slideExit),t.slideExit),f({},".".concat(ia["slideExitActiveLeft-left"]),t["slideExitActiveLeft-left"]),f({},".".concat(ia["slideExitActiveLeft-right"]),t["slideExitActiveLeft-right"])]}})(function(e){var t=e.theme,n=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return f(f(f(f(f(f({display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0}},"& .".concat(ia["slideEnter-left"]),{willChange:"transform",transform:"translate(100%)",zIndex:1}),"& .".concat(ia["slideEnter-right"]),{willChange:"transform",transform:"translate(-100%)",zIndex:1}),"& .".concat(ia.slideEnterActive),{transform:"translate(0%)",transition:n}),"& .".concat(ia.slideExit),{transform:"translate(0%)"}),"& .".concat(ia["slideExitActiveLeft-left"]),{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0}),"& .".concat(ia["slideExitActiveLeft-right"]),{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0})});var ca=function(e){return st("MuiDayCalendar",e)};lt("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);var ua=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],da=["ownerState"],fa=6*(Et+2*Rt),ha=S("div",{name:"MuiDayCalendar",slot:"Root"})({}),ma=S("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),pa=S(z,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(function(e){var t=e.theme;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary}}),ba=S(z,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(function(e){var t=e.theme;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.disabled}}),ga=S(z,{name:"MuiDayCalendar",slot:"WeekNumber"})(function(e){var t=e.theme;return bt({},t.typography.caption,{width:Et,height:Et,padding:0,margin:"0 ".concat(Rt,"px"),color:(t.vars||t).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})}),va=S("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:fa}),ya=S(function(e){var t=ct({props:e,name:"MuiPickersSlideTransition"}),n=t.children,a=t.className,r=t.reduceAnimations,o=t.slideDirection,i=t.transKey,s=t.classes,l=ut(t,sa),c=Ft().ownerState,u=bt({},c,{slideDirection:o}),d=function(e,t){var n=t.slideDirection,a={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:["slideEnter-".concat(n)],exitActive:["slideExitActiveLeft-".concat(n)]};return gt(a,oa,e)}(s,u),f=ne();if(r)return y.jsx("div",{className:T(d.root,a),children:n});var h={exit:d.exit,enterActive:d.enterActive,enter:d.enter,exitActive:d.exitActive};return y.jsx(la,{className:T(d.root,a),childFactory:function(e){return P.cloneElement(e,{classNames:h})},role:"presentation",ownerState:u,children:y.jsx(mn,bt({mountOnEnter:!0,unmountOnExit:!0,timeout:f.transitions.duration.complex,classNames:h},l,{children:n}),i)})},{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:fa}),xa=S("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),Da=S("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:"".concat(Rt,"px 0"),display:"flex",justifyContent:"center"});function wa(e){var t,n=e.parentProps,a=e.day,r=e.focusedDay,o=e.selectedDays,i=e.isDateDisabled,s=e.currentMonthNumber,l=e.isViewFocused,c=ut(e,ua),u=n.disabled,d=n.disableHighlightToday,f=n.isMonthSwitchingAnimating,h=n.showDaysOutsideCurrentMonth,m=n.slots,p=n.slotProps,b=n.timezone,g=dt(),v=Vt(b),x=null!=r&&g.isSameDay(a,r),D=l&&x,w=o.some(function(e){return g.isSameDay(e,a)}),C=g.isSameDay(a,v),M=P.useMemo(function(){return u||i(a)},[u,i,a]),k=P.useMemo(function(){return g.getMonth(a)!==s},[g,a,s]),j=Xn({day:a,selected:w,disabled:M,today:C,outsideCurrentMonth:k,disableMargin:void 0,disableHighlightToday:d,showDaysOutsideCurrentMonth:h}),O=null!==(t=null==m?void 0:m.day)&&void 0!==t?t:ra,S=Lt({elementType:O,externalSlotProps:null==p?void 0:p.day,additionalProps:bt({disableHighlightToday:d,showDaysOutsideCurrentMonth:h,role:"gridcell",isAnimating:f,"data-timestamp":g.toJsDate(a).valueOf()},c),ownerState:bt({},j,{day:a,isDayDisabled:M,isDaySelected:w})}),T=ut(S,da),F=P.useMemo(function(){var e=g.startOfMonth(g.setMonth(a,s));return h?g.isSameDay(a,g.startOfWeek(e)):g.isSameDay(a,e)},[s,a,h,g]),A=P.useMemo(function(){var e=g.endOfMonth(g.setMonth(a,s));return h?g.isSameDay(a,g.endOfWeek(e)):g.isSameDay(a,e)},[s,a,h,g]);return y.jsx(O,bt({},T,{day:a,disabled:M,autoFocus:!k&&D,today:C,outsideCurrentMonth:k,isFirstVisibleCell:F,isLastVisibleCell:A,selected:w,tabIndex:x?0:-1,"aria-selected":w,"aria-current":C?"date":void 0}))}function Ca(e){var t=ct({props:e,name:"MuiDayCalendar"}),n=dt(),a=t.onFocusedDayChange,r=t.className,o=t.classes,i=t.currentMonth,s=t.selectedDays,l=t.focusedDay,c=t.loading,u=t.onSelectedDaysChange,d=t.onMonthSwitchingAnimationEnd,f=t.readOnly,h=t.reduceAnimations,m=t.renderLoading,p=void 0===m?function(){return y.jsx("span",{children:"..."})}:m,b=t.slideDirection,g=t.TransitionProps,v=t.disablePast,x=t.disableFuture,D=t.minDate,w=t.maxDate,C=t.shouldDisableDate,M=t.shouldDisableMonth,k=t.shouldDisableYear,j=t.dayOfWeekFormatter,O=void 0===j?function(e){return n.format(e,"weekdayShort").charAt(0).toUpperCase()}:j,S=t.hasFocus,F=t.onFocusedViewChange,A=t.gridLabelId,N=t.displayWeekNumber,R=t.fixedWeekNumber,E=t.timezone,V=Vt(E),I=function(e){return gt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},ca,e)}(o),L=se(),z=Wn({shouldDisableDate:C,shouldDisableMonth:M,shouldDisableYear:k,minDate:D,maxDate:w,disablePast:v,disableFuture:x,timezone:E}),B=ht(),_=St(function(e){f||u(e)}),W=function(e){z(e)||(a(e),null==F||F(!0))},Y=St(function(e,t){switch(e.key){case"ArrowUp":W(n.addDays(t,-7)),e.preventDefault();break;case"ArrowDown":W(n.addDays(t,7)),e.preventDefault();break;case"ArrowLeft":var a=n.addDays(t,L?1:-1),r=n.addMonths(t,L?1:-1),o=Tt({adapter:n,date:a,minDate:L?a:n.startOfMonth(r),maxDate:L?n.endOfMonth(r):a,isDateDisabled:z,timezone:E});W(o||a),e.preventDefault();break;case"ArrowRight":var i=n.addDays(t,L?-1:1),s=n.addMonths(t,L?-1:1),l=Tt({adapter:n,date:i,minDate:L?n.startOfMonth(s):i,maxDate:L?i:n.endOfMonth(s),isDateDisabled:z,timezone:E});W(l||i),e.preventDefault();break;case"Home":W(n.startOfWeek(t)),e.preventDefault();break;case"End":W(n.endOfWeek(t)),e.preventDefault();break;case"PageUp":W(n.addMonths(t,1)),e.preventDefault();break;case"PageDown":W(n.addMonths(t,-1)),e.preventDefault()}}),H=St(function(e,t){return W(t)}),G=St(function(e,t){null!=l&&n.isSameDay(l,t)&&(null==F||F(!1))}),U=n.getMonth(i),K=n.getYear(i),q=P.useMemo(function(){return s.filter(function(e){return!!e}).map(function(e){return n.startOfDay(e)})},[n,s]),$="".concat(K,"-").concat(U),X=P.useMemo(function(){return P.createRef()},[$]),Q=P.useMemo(function(){for(var e=n.getWeekArray(i),t=n.addMonths(i,1);R&&e.length<R;){var a=n.getWeekArray(t),r=n.isSameDay(e[e.length-1][0],a[0][0]);a.slice(r?1:0).forEach(function(t){e.length<R&&e.push(t)}),t=n.addMonths(t,1)}return e},[i,R,n]);return y.jsxs(ha,{role:"grid","aria-labelledby":A,className:I.root,children:[y.jsxs(ma,{role:"row",className:I.header,children:[N&&y.jsx(ba,{variant:"caption",role:"columnheader","aria-label":B.calendarWeekNumberHeaderLabel,className:I.weekNumberLabel,children:B.calendarWeekNumberHeaderText}),It(n,V).map(function(e,t){return y.jsx(pa,{variant:"caption",role:"columnheader","aria-label":n.format(e,"weekday"),className:I.weekDayLabel,children:O(e)},t.toString())})]}),c?y.jsx(va,{className:I.loadingContainer,children:p()}):y.jsx(ya,bt({transKey:$,onExited:d,reduceAnimations:h,slideDirection:b,className:T(r,I.slideTransition)},g,{nodeRef:X,children:y.jsx(xa,{ref:X,role:"rowgroup",className:I.monthContainer,children:Q.map(function(e,a){return y.jsxs(Da,{role:"row",className:I.weekContainer,"aria-rowindex":a+1,children:[N&&y.jsx(ga,{className:I.weekNumber,role:"rowheader","aria-label":B.calendarWeekNumberAriaLabelText(n.getWeekNumber(e[0])),children:B.calendarWeekNumberText(n.getWeekNumber(e[0]))}),e.map(function(e,n){return y.jsx(wa,{parentProps:t,day:e,selectedDays:q,isViewFocused:S,focusedDay:l,onKeyDown:Y,onFocus:H,onBlur:G,onDaySelect:_,isDateDisabled:z,currentMonthNumber:U,"aria-colindex":n+1},e.toString())})]},"week-".concat(e[0]))})})}))]})}function Ma(e){return st("MuiMonthCalendar",e)}var ka=lt("MuiMonthCalendar",["root","button","disabled","selected"]),ja=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Pa=S("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:function(e,t){return[t.button,f({},"&.".concat(ka.disabled),t.disabled),f({},"&.".concat(ka.selected),t.selected)]}})(function(e){var t=e.theme;return bt({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,f(f({height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):ie(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):ie(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"}},"&.".concat(ka.disabled),{color:(t.vars||t).palette.text.secondary}),"&.".concat(ka.selected),{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}))}),Oa=P.memo(function(e){var t,n=e.autoFocus,a=e.classes,r=e.disabled,o=e.selected,i=e.value,s=e.onClick,l=e.onKeyDown,c=e.onFocus,u=e.onBlur,d=e.slots,f=e.slotProps,h=ut(e,ja),m=P.useRef(null),p=Ft().ownerState,b=bt({},p,{isMonthDisabled:r,isMonthSelected:o}),g=function(e,t){var n={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return gt(n,Ma,e)}(a,b);Nt(function(){var e;n&&(null===(e=m.current)||void 0===e||e.focus())},[n]);var v=null!==(t=null==d?void 0:d.monthButton)&&void 0!==t?t:Pa,x=Lt({elementType:v,externalSlotProps:null==f?void 0:f.monthButton,externalForwardedProps:h,additionalProps:{disabled:r,ref:m,type:"button",role:"radio","aria-checked":o,onClick:function(e){return s(e,i)},onKeyDown:function(e){return l(e,i)},onFocus:function(e){return c(e,i)},onBlur:function(e){return u(e,i)}},ownerState:b,className:g.button});return y.jsx(v,bt({},x))}),Sa=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"];var Ta=S("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:function(e){return le(e)&&"monthsPerRow"!==e}})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:Wt,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),Fa=P.forwardRef(function(e,t){var n=function(e,t){var n,a=ct({props:e,name:t}),r=In(a);return bt({},a,r,{monthsPerRow:null!==(n=a.monthsPerRow)&&void 0!==n?n:3})}(e,"MuiMonthCalendar"),a=n.autoFocus,r=n.className,o=n.classes,i=n.value,s=n.defaultValue,c=n.referenceDate,u=n.disabled,d=n.disableFuture,f=n.disablePast,h=n.maxDate,m=n.minDate,p=n.onChange,b=n.shouldDisableMonth,g=n.readOnly,v=n.onMonthFocus,x=n.hasFocus,D=n.onFocusedViewChange,w=n.monthsPerRow,C=n.timezone,M=n.gridLabelId,k=n.slots,j=n.slotProps,O=ut(n,Sa),S=zt({name:"MonthCalendar",timezone:C,value:i,defaultValue:s,referenceDate:c,onChange:p,valueManager:yt}),F=S.value,A=S.handleValueChange,N=S.timezone,R=Vt(N),E=se(),V=dt(),I=Ft().ownerState,L=P.useMemo(function(){return yt.getInitialReferenceValue({value:F,adapter:V,props:n,timezone:N,referenceDate:c,granularity:Ot.month})},[]),z=function(e){return gt({root:["root"]},Ma,e)}(o),B=P.useMemo(function(){return V.getMonth(R)},[V,R]),_=P.useMemo(function(){return null!=F?V.getMonth(F):null},[F,V]),W=l(P.useState(function(){return _||V.getMonth(L)}),2),Y=W[0],H=W[1],G=l(Bt({name:"MonthCalendar",state:"hasFocus",controlled:x,default:null!=a&&a}),2),U=G[0],K=G[1],q=St(function(e){K(e),D&&D(e)}),$=P.useCallback(function(e){var t=V.startOfMonth(f&&V.isAfter(R,m)?R:m),n=V.startOfMonth(d&&V.isBefore(R,h)?R:h),a=V.startOfMonth(e);return!!V.isBefore(a,t)||(!!V.isAfter(a,n)||!!b&&b(a))},[d,f,h,m,R,b,V]),X=St(function(e,t){if(!g){var n=V.setMonth(null!=F?F:L,t);A(n)}}),Q=St(function(e){$(V.setMonth(null!=F?F:L,e))||(H(e),q(!0),v&&v(e))});P.useEffect(function(){H(function(e){return null!==_&&e!==_?_:e})},[_]);var J=St(function(e,t){var n=12;switch(e.key){case"ArrowUp":Q((n+t-3)%n),e.preventDefault();break;case"ArrowDown":Q((n+t+3)%n),e.preventDefault();break;case"ArrowLeft":Q((n+t+(E?1:-1))%n),e.preventDefault();break;case"ArrowRight":Q((n+t+(E?-1:1))%n),e.preventDefault()}}),Z=St(function(e,t){Q(t)}),ee=St(function(e,t){Y===t&&q(!1)});return y.jsx(Ta,bt({ref:t,className:T(z.root,r),ownerState:I,role:"radiogroup","aria-labelledby":M,monthsPerRow:w},O,{children:_t(V,null!=F?F:L).map(function(e){var t=V.getMonth(e),n=V.format(e,"monthShort"),a=V.format(e,"month"),r=t===_,i=u||$(e);return y.jsx(Oa,{selected:r,value:t,onClick:X,onKeyDown:J,autoFocus:U&&t===Y,disabled:i,tabIndex:t!==Y||i?-1:0,onFocus:Z,onBlur:ee,"aria-current":B===t?"date":void 0,"aria-label":a,slots:k,slotProps:j,classes:o,children:n},n)})}))});function Aa(e){return st("MuiYearCalendar",e)}var Na=lt("MuiYearCalendar",["root","button","disabled","selected"]),Ra=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Ea=S("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:function(e,t){return[t.button,f({},"&.".concat(Na.disabled),t.disabled),f({},"&.".concat(Na.selected),t.selected)]}})(function(e){var t=e.theme;return bt({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,f(f({height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):ie(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):ie(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"}},"&.".concat(Na.disabled),{color:(t.vars||t).palette.text.secondary}),"&.".concat(Na.selected),{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}))}),Va=P.memo(function(e){var t,n=e.autoFocus,a=e.classes,r=e.disabled,o=e.selected,i=e.value,s=e.onClick,l=e.onKeyDown,c=e.onFocus,u=e.onBlur,d=e.slots,f=e.slotProps,h=ut(e,Ra),m=P.useRef(null),p=Ft().ownerState,b=bt({},p,{isYearDisabled:r,isYearSelected:o}),g=function(e,t){var n={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return gt(n,Aa,e)}(a,b);Nt(function(){var e;n&&(null===(e=m.current)||void 0===e||e.focus())},[n]);var v=null!==(t=null==d?void 0:d.yearButton)&&void 0!==t?t:Ea,x=Lt({elementType:v,externalSlotProps:null==f?void 0:f.yearButton,externalForwardedProps:h,additionalProps:{disabled:r,ref:m,type:"button",role:"radio","aria-checked":o,onClick:function(e){return s(e,i)},onKeyDown:function(e){return l(e,i)},onFocus:function(e){return c(e,i)},onBlur:function(e){return u(e,i)}},ownerState:b,className:g.button});return y.jsx(v,bt({},x))}),Ia=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"];var La=S("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:function(e){return le(e)&&"yearsPerRow"!==e}})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:Wt,maxHeight:Yt,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),za=S("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),Ba=P.forwardRef(function(e,t){var n=function(e,t){var n,a,r=ct({props:e,name:t}),o=In(r);return bt({},r,o,{yearsPerRow:null!==(n=r.yearsPerRow)&&void 0!==n?n:3,yearsOrder:null!==(a=r.yearsOrder)&&void 0!==a?a:"asc"})}(e,"MuiYearCalendar"),a=n.autoFocus,r=n.className,o=n.classes,i=n.value,s=n.defaultValue,c=n.referenceDate,u=n.disabled,d=n.disableFuture,f=n.disablePast,h=n.maxDate,m=n.minDate,p=n.onChange,b=n.readOnly,g=n.shouldDisableYear,v=n.onYearFocus,x=n.hasFocus,D=n.onFocusedViewChange,w=n.yearsOrder,C=n.yearsPerRow,M=n.timezone,k=n.gridLabelId,j=n.slots,O=n.slotProps,S=ut(n,Ia),F=zt({name:"YearCalendar",timezone:M,value:i,defaultValue:s,referenceDate:c,onChange:p,valueManager:yt}),A=F.value,N=F.handleValueChange,R=F.timezone,E=Vt(R),V=se(),I=dt(),L=Ft().ownerState,z=P.useMemo(function(){return yt.getInitialReferenceValue({value:A,adapter:I,props:n,timezone:R,referenceDate:c,granularity:Ot.year})},[]),B=function(e){return gt({root:["root"]},Aa,e)}(o),_=P.useMemo(function(){return I.getYear(E)},[I,E]),W=P.useMemo(function(){return null!=A?I.getYear(A):null},[A,I]),Y=l(P.useState(function(){return W||I.getYear(z)}),2),H=Y[0],G=Y[1],U=l(Bt({name:"YearCalendar",state:"hasFocus",controlled:x,default:null!=a&&a}),2),K=U[0],q=U[1],$=St(function(e){q(e),D&&D(e)}),X=P.useCallback(function(e){if(f&&I.isBeforeYear(e,E))return!0;if(d&&I.isAfterYear(e,E))return!0;if(m&&I.isBeforeYear(e,m))return!0;if(h&&I.isAfterYear(e,h))return!0;if(!g)return!1;var t=I.startOfYear(e);return g(t)},[d,f,h,m,E,g,I]),Q=St(function(e,t){if(!b){var n=I.setYear(null!=A?A:z,t);N(n)}}),J=St(function(e){X(I.setYear(null!=A?A:z,e))||(G(e),$(!0),null==v||v(e))});P.useEffect(function(){G(function(e){return null!==W&&e!==W?W:e})},[W]);var Z="desc"!==w?1*C:-1*C,ee=V&&"asc"===w||!V&&"desc"===w?-1:1,te=St(function(e,t){switch(e.key){case"ArrowUp":J(t-Z),e.preventDefault();break;case"ArrowDown":J(t+Z),e.preventDefault();break;case"ArrowLeft":J(t-ee),e.preventDefault();break;case"ArrowRight":J(t+ee),e.preventDefault()}}),ne=St(function(e,t){J(t)}),ae=St(function(e,t){H===t&&$(!1)}),re=P.useRef(null),oe=At(t,re);P.useEffect(function(){if(!a&&null!==re.current){var e=re.current.querySelector('[tabindex="0"]');if(e){var t=e.offsetHeight,n=e.offsetTop,r=re.current.clientHeight,o=re.current.scrollTop,i=n+t;t>r||n<o||(re.current.scrollTop=i-r/2-t/2)}}},[a]);var ie=I.getYearRange([m,h]);"desc"===w&&ie.reverse();var le=C-ie.length%C;return le===C&&(le=0),y.jsxs(La,bt({ref:oe,className:T(B.root,r),ownerState:L,role:"radiogroup","aria-labelledby":k,yearsPerRow:C},S,{children:[ie.map(function(e){var t=I.getYear(e),n=t===W,a=u||X(e);return y.jsx(Va,{selected:n,value:t,onClick:Q,onKeyDown:te,autoFocus:K&&t===H,disabled:a,tabIndex:t!==H||a?-1:0,onFocus:ne,onBlur:ae,"aria-current":_===t?"date":void 0,slots:j,slotProps:O,classes:o,children:I.format(e,"year")},I.format(e,"year"))}),Array.from({length:le},function(e,t){return y.jsx(za,{},t)})]}))}),_a=function(e){return st("MuiPickersCalendarHeader",e)},Wa=lt("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),Ya=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],Ha=["ownerState"],Ga=S("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Ua=S("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(function(e){var t=e.theme;return bt({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})}),Ka=S("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),qa=S(x,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:f({},".".concat(Wa.switchViewIcon),{transform:"rotate(180deg)"})}]}),$a=S(Kt,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(function(e){return{willChange:"transform",transition:e.theme.transitions.create("transform"),transform:"rotate(0deg)"}}),Xa=P.forwardRef(function(e,t){var n,a,r=ht(),o=dt(),i=ct({props:e,name:"MuiPickersCalendarHeader"}),s=i.slots,l=i.slotProps,c=i.currentMonth,u=i.disabled,d=i.disableFuture,f=i.disablePast,h=i.maxDate,m=i.minDate,p=i.onMonthChange,b=i.onViewChange,g=i.view,v=i.reduceAnimations,x=i.views,D=i.labelId,w=i.className,C=i.classes,M=i.timezone,k=i.format,j=void 0===k?"".concat(o.formats.month," ").concat(o.formats.year):k,P=ut(i,Ya),O=Ft().ownerState,S=function(e){return gt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},_a,e)}(C),F=null!==(n=null==s?void 0:s.switchViewButton)&&void 0!==n?n:qa,A=Lt({elementType:F,externalSlotProps:null==l?void 0:l.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(g)},ownerState:bt({},O,{view:g}),className:S.switchViewButton}),N=null!==(a=null==s?void 0:s.switchViewIcon)&&void 0!==a?a:$a,R=Lt({elementType:N,externalSlotProps:null==l?void 0:l.switchViewIcon,ownerState:O,className:S.switchViewIcon}),E=ut(R,Ha),V=Ht(c,{disableFuture:d,maxDate:h,timezone:M}),I=Gt(c,{disablePast:f,minDate:m,timezone:M});if(1===x.length&&"year"===x[0])return null;var L=o.formatByString(c,j);return y.jsxs(Ga,bt({},P,{ownerState:O,className:T(S.root,w),ref:t,children:[y.jsxs(Ua,{role:"presentation",onClick:function(){if(1!==x.length&&b&&!u)if(2===x.length)b(x.find(function(e){return e!==g})||x[0]);else{var e=0!==x.indexOf(g)?0:1;b(x[e])}},ownerState:O,"aria-live":"polite",className:S.labelContainer,children:[y.jsx(Kn,{reduceAnimations:v,transKey:L,children:y.jsx(Ka,{id:D,ownerState:O,className:S.label,children:L})}),x.length>1&&!u&&y.jsx(F,bt({},A,{children:y.jsx(N,bt({},E))}))]}),y.jsx(ae,{in:"day"===g,appear:!v,enter:!v,children:y.jsx(Ut,{slots:s,slotProps:l,onGoToPrevious:function(){return p(o.addMonths(c,-1))},isPreviousDisabled:I,previousLabel:r.previousMonth,onGoToNext:function(){return p(o.addMonths(c,1))},isNextDisabled:V,nextLabel:r.nextMonth})})]}))}),Qa=function(e){return st("MuiDateCalendar",e)};lt("MuiDateCalendar",["root","viewTransitionContainer"]);var Ja=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"];var Za=S(Jt,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Zt}),er=S(Kn,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),tr=P.forwardRef(function(e,t){var n,a=dt(),r=Ft().ownerState,o=qt(),i=function(e,t){var n,a,r,o,i=ct({props:e,name:t}),s=Qt(i.reduceAnimations),l=In(i);return bt({},i,l,{loading:null!==(n=i.loading)&&void 0!==n&&n,openTo:null!==(a=i.openTo)&&void 0!==a?a:"day",views:null!==(r=i.views)&&void 0!==r?r:["year","day"],reduceAnimations:s,renderLoading:null!==(o=i.renderLoading)&&void 0!==o?o:function(){return y.jsx("span",{children:"..."})}})}(e,"MuiDateCalendar"),s=i.autoFocus,l=i.onViewChange,c=i.value,u=i.defaultValue,d=i.referenceDate,f=i.disableFuture,h=i.disablePast,m=i.onChange,p=i.onMonthChange,b=i.reduceAnimations,g=i.shouldDisableDate,v=i.shouldDisableMonth,x=i.shouldDisableYear,D=i.view,w=i.views,C=i.openTo,M=i.className,k=i.classes,j=i.disabled,O=i.readOnly,S=i.minDate,F=i.maxDate,A=i.disableHighlightToday,N=i.focusedView,R=i.onFocusedViewChange,E=i.showDaysOutsideCurrentMonth,V=i.fixedWeekNumber,I=i.dayOfWeekFormatter,L=i.slots,z=i.slotProps,B=i.loading,_=i.renderLoading,W=i.displayWeekNumber,Y=i.yearsOrder,H=i.yearsPerRow,G=i.monthsPerRow,U=i.timezone,K=ut(i,Ja),q=zt({name:"DateCalendar",timezone:U,value:c,defaultValue:u,referenceDate:d,onChange:m,valueManager:yt}),$=q.value,X=q.handleValueChange,Q=q.timezone,J=$t({view:D,views:w,openTo:C,onChange:X,onViewChange:l,autoFocus:s,focusedView:N,onFocusedViewChange:R}),Z=J.view,ee=J.setView,te=J.focusedView,ne=J.setFocusedView,ae=J.goToNextView,re=J.setValueAndGoToNextView,oe=Yn({value:$,referenceDate:d,reduceAnimations:b,onMonthChange:p,minDate:S,maxDate:F,shouldDisableDate:g,disablePast:h,disableFuture:f,timezone:Q,getCurrentMonthFromVisibleDate:function(e,t){return a.isSameMonth(e,t)?t:a.startOfMonth(e)}}),ie=oe.referenceDate,se=oe.calendarState,le=oe.setVisibleDate,ce=oe.isDateDisabled,ue=oe.onMonthSwitchingAnimationEnd,de=j&&$||S,fe=j&&$||F,he="".concat(o,"-grid-label"),me=null!==te,pe=null!==(n=null==L?void 0:L.calendarHeader)&&void 0!==n?n:Xa,be=Lt({elementType:pe,externalSlotProps:null==z?void 0:z.calendarHeader,additionalProps:{views:w,view:Z,currentMonth:se.currentMonth,onViewChange:ee,onMonthChange:function(e){return le({target:e,reason:"header-navigation"})},minDate:de,maxDate:fe,disabled:j,disablePast:h,disableFuture:f,reduceAnimations:b,timezone:Q,labelId:he},ownerState:r}),ge=St(function(e){var t=a.startOfMonth(e),n=a.endOfMonth(e),r=ce(e)?Tt({adapter:a,date:e,minDate:a.isBefore(S,t)?t:S,maxDate:a.isAfter(F,n)?n:F,disablePast:h,disableFuture:f,isDateDisabled:ce,timezone:Q}):e;r?(re(r,"finish"),le({target:r,reason:"cell-interaction"})):(ae(),le({target:t,reason:"cell-interaction"}))}),ve=St(function(e){var t=a.startOfYear(e),n=a.endOfYear(e),r=ce(e)?Tt({adapter:a,date:e,minDate:a.isBefore(S,t)?t:S,maxDate:a.isAfter(F,n)?n:F,disablePast:h,disableFuture:f,isDateDisabled:ce,timezone:Q}):e;r?(re(r,"finish"),le({target:r,reason:"cell-interaction"})):(ae(),le({target:t,reason:"cell-interaction"}))}),ye=St(function(e){return X(e?Xt(a,e,null!=$?$:ie):e,"finish",Z)});P.useEffect(function(){a.isValid($)&&le({target:$,reason:"controlled-value-change"})},[$]);var xe=function(e){return gt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Qa,e)}(k),De={disablePast:h,disableFuture:f,maxDate:F,minDate:S},we={disableHighlightToday:A,readOnly:O,disabled:j,timezone:Q,gridLabelId:he,slots:L,slotProps:z},Ce=P.useRef(Z);P.useEffect(function(){Ce.current!==Z&&(te===Ce.current&&ne(Z,!0),Ce.current=Z)},[te,ne,Z]);var Me=P.useMemo(function(){return[$]},[$]);return y.jsxs(Za,bt({ref:t,className:T(xe.root,M),ownerState:r},K,{children:[y.jsx(pe,bt({},be,{slots:L,slotProps:z})),y.jsx(er,{reduceAnimations:b,className:xe.viewTransitionContainer,transKey:Z,ownerState:r,children:y.jsxs("div",{children:["year"===Z&&y.jsx(Ba,bt({},De,we,{value:$,onChange:ve,shouldDisableYear:x,hasFocus:me,onFocusedViewChange:function(e){return ne("year",e)},yearsOrder:Y,yearsPerRow:H,referenceDate:ie})),"month"===Z&&y.jsx(Fa,bt({},De,we,{hasFocus:me,className:M,value:$,onChange:ge,shouldDisableMonth:v,onFocusedViewChange:function(e){return ne("month",e)},monthsPerRow:G,referenceDate:ie})),"day"===Z&&y.jsx(Ca,bt({},se,De,we,{onMonthSwitchingAnimationEnd:ue,hasFocus:me,onFocusedDayChange:function(e){return le({target:e,reason:"cell-interaction"})},reduceAnimations:b,selectedDays:Me,onSelectedDaysChange:ye,shouldDisableDate:g,shouldDisableMonth:v,shouldDisableYear:x,onFocusedViewChange:function(e){return ne("day",e)},showDaysOutsideCurrentMonth:E,fixedWeekNumber:V,dayOfWeekFormatter:I,displayWeekNumber:W,loading:B,renderLoading:_}))]})})]}))}),nr=function(e){var t=e.view,n=e.onViewChange,a=e.views,r=e.focusedView,o=e.onFocusedViewChange,i=e.value,s=e.defaultValue,l=e.referenceDate,c=e.onChange,u=e.className,d=e.classes,f=e.disableFuture,h=e.disablePast,m=e.minDate,p=e.maxDate,b=e.shouldDisableDate,g=e.shouldDisableMonth,v=e.shouldDisableYear,x=e.reduceAnimations,D=e.onMonthChange,w=e.monthsPerRow,C=e.onYearChange,M=e.yearsOrder,k=e.yearsPerRow,j=e.slots,P=e.slotProps,O=e.loading,S=e.renderLoading,T=e.disableHighlightToday,F=e.readOnly,A=e.disabled,N=e.showDaysOutsideCurrentMonth,R=e.dayOfWeekFormatter,E=e.sx,V=e.autoFocus,I=e.fixedWeekNumber,L=e.displayWeekNumber,z=e.timezone;return y.jsx(tr,{view:t,onViewChange:n,views:a.filter(en),focusedView:r&&en(r)?r:null,onFocusedViewChange:o,value:i,defaultValue:s,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:f,disablePast:h,minDate:m,maxDate:p,shouldDisableDate:b,shouldDisableMonth:g,shouldDisableYear:v,reduceAnimations:x,onMonthChange:D,monthsPerRow:w,onYearChange:C,yearsOrder:M,yearsPerRow:k,slots:j,slotProps:P,loading:O,renderLoading:S,disableHighlightToday:T,readOnly:F,disabled:A,showDaysOutsideCurrentMonth:N,dayOfWeekFormatter:R,sx:E,autoFocus:V,fixedWeekNumber:I,displayWeekNumber:L,timezone:z})},ar=P.forwardRef(function(e,t){var n,a,r,o=dt(),i=Ln(e,"MuiDesktopDatePicker"),s=bt({day:nr,month:nr,year:nr},i.viewRenderers),l=bt({},i,{closeOnSelect:null===(n=i.closeOnSelect)||void 0===n||n,viewRenderers:s,format:pt(o,i,!1),yearsPerRow:null!==(a=i.yearsPerRow)&&void 0!==a?a:4,slots:bt({field:_n},i.slots),slotProps:bt({},i.slotProps,{field:function(e){var t;return bt({},tn(null===(t=i.slotProps)||void 0===t?void 0:t.field,e),nn(i))},toolbar:bt({hidden:!0},null===(r=i.slotProps)||void 0===r?void 0:r.toolbar)})});return(0,an({ref:t,props:l,valueManager:yt,valueType:"date",validator:Rn,steps:null}).renderPicker)()});ar.propTypes={autoFocus:ce.bool,className:ce.string,closeOnSelect:ce.bool,dayOfWeekFormatter:ce.func,defaultValue:ce.object,disabled:ce.bool,disableFuture:ce.bool,disableHighlightToday:ce.bool,disableOpenPicker:ce.bool,disablePast:ce.bool,displayWeekNumber:ce.bool,enableAccessibleFieldDOMStructure:ce.any,fixedWeekNumber:ce.number,format:ce.string,formatDensity:ce.oneOf(["dense","spacious"]),inputRef:rn,label:ce.node,loading:ce.bool,localeText:ce.object,maxDate:ce.object,minDate:ce.object,monthsPerRow:ce.oneOf([3,4]),name:ce.string,onAccept:ce.func,onChange:ce.func,onClose:ce.func,onError:ce.func,onMonthChange:ce.func,onOpen:ce.func,onSelectedSectionsChange:ce.func,onViewChange:ce.func,onYearChange:ce.func,open:ce.bool,openTo:ce.oneOf(["day","month","year"]),orientation:ce.oneOf(["landscape","portrait"]),readOnly:ce.bool,reduceAnimations:ce.bool,referenceDate:ce.object,renderLoading:ce.func,selectedSections:ce.oneOfType([ce.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ce.number]),shouldDisableDate:ce.func,shouldDisableMonth:ce.func,shouldDisableYear:ce.func,showDaysOutsideCurrentMonth:ce.bool,slotProps:ce.object,slots:ce.object,sx:ce.oneOfType([ce.arrayOf(ce.oneOfType([ce.func,ce.object,ce.bool])),ce.func,ce.object]),timezone:ce.string,value:ce.object,view:ce.oneOf(["day","month","year"]),viewRenderers:ce.shape({day:ce.func,month:ce.func,year:ce.func}),views:ce.arrayOf(ce.oneOf(["day","month","year"]).isRequired),yearsOrder:ce.oneOf(["asc","desc"]),yearsPerRow:ce.oneOf([3,4])};var rr=P.forwardRef(function(e,t){var n,a=dt(),r=Ln(e,"MuiMobileDatePicker"),o=bt({day:nr,month:nr,year:nr},r.viewRenderers),i=bt({},r,{viewRenderers:o,format:pt(a,r,!1),slots:bt({field:_n},r.slots),slotProps:bt({},r.slotProps,{field:function(e){var t;return bt({},tn(null===(t=r.slotProps)||void 0===t?void 0:t.field,e),nn(r))},toolbar:bt({hidden:!1},null===(n=r.slotProps)||void 0===n?void 0:n.toolbar)})});return(0,on({ref:t,props:i,valueManager:yt,valueType:"date",validator:Rn,steps:null}).renderPicker)()});rr.propTypes={autoFocus:ce.bool,className:ce.string,closeOnSelect:ce.bool,dayOfWeekFormatter:ce.func,defaultValue:ce.object,disabled:ce.bool,disableFuture:ce.bool,disableHighlightToday:ce.bool,disableOpenPicker:ce.bool,disablePast:ce.bool,displayWeekNumber:ce.bool,enableAccessibleFieldDOMStructure:ce.any,fixedWeekNumber:ce.number,format:ce.string,formatDensity:ce.oneOf(["dense","spacious"]),inputRef:rn,label:ce.node,loading:ce.bool,localeText:ce.object,maxDate:ce.object,minDate:ce.object,monthsPerRow:ce.oneOf([3,4]),name:ce.string,onAccept:ce.func,onChange:ce.func,onClose:ce.func,onError:ce.func,onMonthChange:ce.func,onOpen:ce.func,onSelectedSectionsChange:ce.func,onViewChange:ce.func,onYearChange:ce.func,open:ce.bool,openTo:ce.oneOf(["day","month","year"]),orientation:ce.oneOf(["landscape","portrait"]),readOnly:ce.bool,reduceAnimations:ce.bool,referenceDate:ce.object,renderLoading:ce.func,selectedSections:ce.oneOfType([ce.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ce.number]),shouldDisableDate:ce.func,shouldDisableMonth:ce.func,shouldDisableYear:ce.func,showDaysOutsideCurrentMonth:ce.bool,slotProps:ce.object,slots:ce.object,sx:ce.oneOfType([ce.arrayOf(ce.oneOfType([ce.func,ce.object,ce.bool])),ce.func,ce.object]),timezone:ce.string,value:ce.object,view:ce.oneOf(["day","month","year"]),viewRenderers:ce.shape({day:ce.func,month:ce.func,year:ce.func}),views:ce.arrayOf(ce.oneOf(["day","month","year"]).isRequired),yearsOrder:ce.oneOf(["asc","desc"]),yearsPerRow:ce.oneOf([3,4])};var or=["desktopModeMediaQuery"],ir=P.forwardRef(function(e,t){var n=ct({props:e,name:"MuiDatePicker"}),a=n.desktopModeMediaQuery,r=void 0===a?sn:a,o=ut(n,or);return ue(r,{defaultMatches:!0})?y.jsx(ar,bt({ref:t},o)):y.jsx(rr,bt({ref:t},o))}),sr=function(e){var t=e.settingName,n=e.value,a=e.defaultValue,r=e.handleChange,o=e.remove,i=D().t,s=l(P.useState(!1),2),c=s[0],u=s[1],d=l(P.useState(null!=n?n:a),2),f=d[0],h=d[1];P.useEffect(function(){n&&h(n)},[n]);var m=P.useCallback(function(e){u(!1),e&&h(null!=n?n:a)},[n]),p=P.useCallback(function(){return m(!0)},[m]),b=P.useCallback(function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&m(!1),n!==e&&r(e)},[n,r,m]);return y.jsxs(y.Fragment,{children:[y.jsx(de,{onClick:function(){return u(!0)},children:y.jsx(fe,{primary:t,secondary:n?he(Number(n)).format("L"):"-",secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),y.jsxs(me,{open:c,onClose:m,children:[y.jsx(_,{children:t}),y.jsx($,{children:y.jsx(ln,{dateAdapter:cn,adapterLocale:he.locale(),children:y.jsx(ir,{value:f?he(Number(f)):null,onChange:function(e){e&&h(e.valueOf().toString())}})})}),y.jsx(pe,{children:y.jsxs(w,{direction:"row",sx:{justifyContent:"space-between",alignItems:"end",width:"100%"},children:[y.jsxs(w,{children:[void 0!==a&&y.jsx(M,{onClick:function(){h(a),b(a,!1)},color:"primary",children:i("global.button.reset_to_default")}),o&&y.jsx(M,{onClick:function(){h(void 0),b(void 0,!1)},color:"primary",children:i("global.button.remove")})]}),y.jsxs(w,{direction:"row",children:[y.jsx(M,{onClick:p,color:"primary",children:i("global.button.cancel")}),y.jsx(M,{onClick:function(){b(f)},color:"primary",children:i("global.button.ok")})]})]})})]})]})},lr=function(e){var t=e.children,n=e.url;return y.jsx(Ze,{href:n,rel:"noreferrer",target:"_blank",underline:"none",color:"inherit",children:t})},cr=function(e){var t=e.trackerRecordId,n=e.tracker,a=e.onClick,r=e.onClose,o=D().t,i=l(P.useState(!1),2),s=i[0],c=i[1];return y.jsx(H,{variant:"dialog",popupId:"tracker-active-menu-remove-button-".concat(n.id),children:function(e){return y.jsxs(y.Fragment,{children:[y.jsx(ye,d(d({},G(e)),{},{onClick:function(){a(),e.open()},children:o("global.button.remove")})),y.jsxs(me,d(d({},xe(e)),{},{onClose:function(){r(),e.close()},children:[y.jsx(_,{children:o("manga.action.track.remove.dialog.label.title",{tracker:n.name})}),y.jsxs($,{dividers:!0,children:[y.jsx(z,{children:o("manga.action.track.remove.dialog.label.description")}),n.supportsTrackDeletion&&y.jsx(fn,{children:y.jsx(dn,{disabled:!1,label:o("manga.action.track.remove.dialog.label.delete_remote_track",{tracker:n.name}),checked:s,onChange:function(e,t){return c(t)}})})]}),y.jsxs(pe,{children:[y.jsx(M,{autoFocus:!0,onClick:function(){e.close(),r()},children:o("global.button.cancel")}),y.jsx(M,{onClick:function(){e.close(),r(),r(),C.unbindTracker(t,s).response.then(function(){return te(o("manga.action.track.remove.label.success"),"success")}).catch(function(e){return te(o("manga.action.track.remove.label.error"),"error",J(e))})},children:o("global.button.ok")})]})]}))]})}})},ur=function(e){var t=e.trackRecordId,n=e.isPrivate,a=e.closeMenu,r=e.supportsPrivateTracking,o=D().t;return r?y.jsx(ye,{onClick:function(){C.updateTrackerBind(t,{private:!n}).response.catch(function(e){return te(o("global.error.label.failed_to_save_changes"),"error",J(e))}),a()},children:o(n?"tracking.action.button.track_publicly":"tracking.action.button.track_privately")}):null},dr=function(e){var t=e.trackRecord,n=e.tracker,a=e.openSearch,r=D().t;return y.jsxs(w,{direction:"row",sx:{alignItems:"stretch",paddingBottom:2},children:[y.jsx(ge,{badgeContent:t.private?y.jsx(w,{sx:{p:"2px 6px",backgroundColor:"primary.main",borderRadius:100},children:y.jsx(Ge,{fontSize:"small",sx:{color:"primary.contrastText"}})}):null,children:y.jsx(lr,{url:t.remoteUrl,children:y.jsx(He,{alt:"".concat(n.name),src:C.getValidImgUrlFor(n.icon),variant:"rounded",sx:{width:64,height:64}})})}),y.jsx(de,{sx:{flexGrow:1},onClick:a,children:y.jsx(V,{title:t.title,children:y.jsx(I,{flexGrow:1,lines:1,children:t.title})})}),y.jsx(w,{sx:{justifyContent:"center"},children:y.jsx(H,{variant:"popover",popupId:"tracker-active-menu-popup-".concat(n.id),children:function(e){return y.jsxs(y.Fragment,{children:[y.jsx(x,d(d({},G(e)),{},{children:y.jsx(tt,{})})),y.jsx(nt,d(d({},ve(e)),{},{id:"tracker-active-menu-".concat(n.id),children:function(e,a){return[y.jsx(lr,{url:t.remoteUrl,children:y.jsx(ye,{onClick:function(){return e()},children:r("global.label.open_in_browser")})},"tracker-active-menu-item-browser-".concat(n.id)),y.jsx(cr,{trackerRecordId:t.id,tracker:n,onClick:function(){return a(!0)},onClose:e},"tracker-active-menu-item-remove-".concat(n.id)),y.jsx(ur,{trackRecordId:t.id,isPrivate:t.private,closeMenu:e,supportsPrivateTracking:n.supportsPrivateTracking})]}}))]})}})})]})},fr=function(e){var t=e.children;return y.jsx(w,{direction:"row",sx:{textAlignLast:"center"},children:t})},hr=function(e){return!Math.trunc(Number(e))},mr=function(e){var t=e.trackRecord,n=e.tracker,a=e.onClick,r=D().t,o=hr(t.displayScore)?n.scores[0]:t.displayScore,i=P.useMemo(function(){return n.scores.map(function(e){return[e,{text:hr(e)?"-":e}]})},[n.scores]),s=function(e){C.updateTrackerBind(t.id,e).response.catch(function(e){return te(r("global.error.label.failed_to_save_changes"),"error",J(e))})};return y.jsx(We,{sx:Ee,children:y.jsxs(Ye,{sx:{padding:0},children:[y.jsx(dr,{trackRecord:t,tracker:n,openSearch:a}),y.jsx(We,{sx:{backgroundColor:"background.default"},children:y.jsx(Ye,{sx:{padding:"0"},children:y.jsxs(N,{sx:{padding:1},children:[y.jsxs(fr,{children:[y.jsx(ot,{ListPreferenceTitle:r("manga.label.status"),entries:n.statuses.map(function(e){return e.name}),type:"ListPreference",entryValues:n.statuses.map(function(e){return"".concat(e.value)}),ListPreferenceCurrentValue:"".concat(t.status),updateValue:function(e,t){return s({status:Number(t)})},summary:"%s"},"status"),y.jsx(be,{orientation:"vertical",flexItem:!0}),y.jsx(it,{settingTitle:r("chapter.title_other"),dialogTitle:r("chapter.title_other"),settingValue:"".concat(t.lastChapterRead,"/").concat(t.totalChapters),value:t.lastChapterRead,minValue:0,maxValue:Number.MAX_SAFE_INTEGER,valueUnit:"",handleUpdate:function(e){return s({lastChapterRead:e})}}),y.jsx(be,{orientation:"vertical",flexItem:!0}),y.jsx(un,{settingName:r("tracking.track_record.label.score"),value:o,values:i,handleChange:function(e){return s({scoreString:e})}})]}),y.jsx(be,{}),y.jsxs(fr,{children:[y.jsx(sr,{settingName:r("tracking.track_record.label.start_date"),value:Ie.getDateString(t.startDate),remove:!0,handleChange:function(e){return s({startDate:null!=e?e:_e})}}),y.jsx(be,{orientation:"vertical",flexItem:!0}),y.jsx(sr,{settingName:r("tracking.track_record.label.finish_date"),value:Ie.getDateString(t.finishDate),remove:!0,handleChange:function(e){return s({finishDate:null!=e?e:_e})}})]})]})})})]})})},pr=function(e){return e[e.UNTRACKED=0]="UNTRACKED",e[e.SEARCH=1]="SEARCH",e[e.INFO=2]="INFO",e}(pr||{}),br=function(e){var t=e.tracker,n=e.manga,a=e.trackRecord,r=e.mode,o=e.setSearchMode;if(0===r)return y.jsx(gn,{tracker:t,onClick:function(){return o(t.id)}});if(1===r)return y.jsx(On,{manga:n,tracker:t,trackedId:null==a?void 0:a.remoteId,closeSearchMode:function(){return o(void 0)}});if(2===r&&!a)throw new Error('TrackerCard: unable to find track record for tracker "'.concat(t.id,'" of manga "').concat(n.id,'"}'));return y.jsx(mr,{tracker:t,trackRecord:a,onClick:function(){o(t.id)}})},gr=(e("T",function(e){var t,n,a,r,o,i=e.manga,s=D().t,c=De(),u=l(P.useState(),2),d=u[0],f=u[1],h=C.useGetTrackerList(we,{notifyOnNetworkStatusChange:!0}),m=null!==(t=null===(n=h.data)||void 0===n?void 0:n.trackers.nodes)&&void 0!==t?t:[],p=C.useGetManga(Ce,i.id),b=null!==(a=null===(r=p.data)||void 0===r?void 0:r.manga.trackRecords.nodes)&&void 0!==a?a:[],g=Ie.getLoggedIn(m),v=Ie.getLoggedIn(Ie.getTrackers(b,m)),x=Ie.getIds(v),w=void 0!==d,M=P.useMemo(function(){return w?N:$},[w]),k=h.loading||p.loading,j=null!==(o=h.error)&&void 0!==o?o:p.error;P.useEffect(function(){k||j||v.length||g.length||c(Me.settings.childRoutes.tracking.path)},[k]);var O=P.useRef(!1);P.useEffect(function(){b.length&&!O.current&&(O.current=!0,Promise.all(b.filter(function(e){return x.includes(e.trackerId)}).map(function(e){return C.fetchTrackBind(e.id).response})).catch(function(e){return te(s("tracking.error.label.could_not_fetch_track_info"),"error",J(e))}))},[b]);var S=P.useMemo(function(){return g.map(function(e){var t=function(e,t,n){return e===n?pr.SEARCH:t.includes(e)?pr.INFO:pr.UNTRACKED}(e.id,x,d),n=Ie.getTrackRecordFor(e,b),a=t===pr.SEARCH;return w&&!a?null:y.jsx(br,{tracker:e,manga:i,trackRecord:n,mode:t,setSearchMode:function(e){return f(e)}},e.id)})},[x,d,b]);return j?y.jsx(ke,{message:s("global.error.label.failed_to_load_data"),messageExtra:J(j),retry:function(){h.error&&h.refetch().catch(Z()),p.error&&p.refetch().catch(Z())}}):k?y.jsx(Q,{}):w?S:y.jsx(M,{sx:{padding:0,".MuiPaper-root .MuiCardContent-root":{paddingBottom:"0"}},children:S})}),[{title:"chapter.action.download.add.label.next",getCount:function(){return 1}},{title:"chapter.action.download.add.label.next",getCount:function(){return 5}},{title:"chapter.action.download.add.label.next",getCount:function(){return 10}},{title:"chapter.action.download.add.label.next",getCount:function(){return 25}},{title:"chapter.action.download.add.label.ahead",getCount:function(e){return e},onlyUnread:!0,isDownloadAhead:!0},{title:"chapter.action.download.add.label.unread",getCount:function(){},onlyUnread:!0},{title:"chapter.action.download.add.label.all",getCount:function(){},onlyUnread:!1}]),vr=function(){var e,n=(e=r().m(function e(n,a,o,s){var l,c,u,d,f,h,m,p,b;return r().w(function(e){for(;;)switch(e.n){case 0:if(!(n.length>1)){e.n=1;break}return Oe.performAction("download",n,{downloadAhead:s,onlyUnread:a,size:o}).catch(Z()),e.a(2);case 1:return l=n[0],c=Oe.getFromCache(l,Te(t||(t=i(["\n            ","\n            fragment MangaInLibraryState on MangaType {\n                id\n                meta {\n                    ...MANGA_META_FIELDS\n                }\n            }\n        "])),Se),"MangaInLibraryState"),u=at(c),e.n=2,C.getChapters(Fe,{condition:{mangaId:Number(l)},order:[{by:Ne.SourceOrder,byType:Ae.Desc}]}).response;case 2:if(d=e.v,f=rt(d.data.chapters.nodes,u),!s||!Re.removeDuplicates(f.slice(-1)[0],f).slice(-(null!=o?o:0)).every(function(e){return!Re.isRead(e)&&Re.isDownloaded(e)})){e.n=3;break}return e.a(2);case 3:if(h=f.filter(function(e){return!(a&&e.isRead||e.isDownloaded)}),m=Re.removeDuplicates(h.slice(-1)[0],h),p=m.slice(-(null!=o?o:0)),(b=Re.addDuplicates(p,h)).length){e.n=4;break}return e.a(2);case 4:Re.performAction("download",Re.getIds(b),{}).catch(Z());case 5:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){s(o,a,r,i,l,"next",e)}function l(e){s(o,a,r,i,l,"throw",e)}i(void 0)})});return function(e,t,a,r){return n.apply(this,arguments)}}();e("C",function(e){var t=e.mangaIds,n=e.closeMenu,a=D().t,r=je().settings.downloadAheadLimit;return y.jsx(y.Fragment,{children:gr.map(function(e){var o=e.title,i=e.getCount,s=e.onlyUnread,l=e.isDownloadAhead;return y.jsx(ye,{onClick:function(){return function(e){vr(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e,arguments.length>2&&void 0!==arguments[2]&&arguments[2]).catch(function(t){return te(a(Pe.download.error,{count:e}),"error",J(t))}),null==n||n()}(i(r),s,l)},children:a(o,{count:i(r)})},a(o,{count:i(r)}))})})})}}})}();
