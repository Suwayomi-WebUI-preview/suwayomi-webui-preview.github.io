!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,t,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.toStringTag||"@@toStringTag";function c(e,a,i,o){var c=a&&a.prototype instanceof s?a:s,l=Object.create(c.prototype);return r(l,"_invoke",function(e,r,a){var i,o,c,s=0,l=a||[],d=!1,f={p:0,n:0,v:n,a:g,f:g.bind(n,4),d:function(e,r){return i=e,o=0,c=n,f.n=r,u}};function g(e,r){for(o=e,c=r,t=0;!d&&s&&!a&&t<l.length;t++){var a,i=l[t],g=f.p,p=i[2];e>3?(a=p===r)&&(c=i[(o=i[4])?5:(o=3,3)],i[4]=i[5]=n):i[0]<=g&&((a=e<2&&g<i[1])?(o=0,f.v=r,f.n=i[1]):g<p&&(a=e<3||i[0]>r||r>p)&&(i[4]=e,i[5]=r,f.n=p,o=0))}if(a||e>1)return u;throw d=!0,r}return function(a,l,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&g(l,p),o=l,c=p;(t=o<2?n:c)||!d;){i||(o?o<3?(o>1&&(f.n=-1),g(o,c)):f.n=c:f.v=c);try{if(s=2,i){if(o||(a="next"),t=i[a]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,o<2&&(o=0)}else 1===o&&(t=i.return)&&t.call(i),o<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),o=1);i=n}else if((t=(d=f.n<0)?c:e.call(r,f))!==u)break}catch(t){i=n,o=1,c=t}finally{s=1}}return{value:t,done:d}}}(e,i,o),!0),l}var u={};function s(){}function l(){}function d(){}t=Object.getPrototypeOf;var f=[][i]?t(t([][i]())):(r(t={},i,function(){return this}),t),g=d.prototype=s.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,r(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e}return l.prototype=d,r(g,"constructor",d),r(d,"constructor",l),l.displayName="GeneratorFunction",r(d,o,"GeneratorFunction"),r(g),r(g,o,"Generator"),r(g,i,function(){return this}),r(g,"toString",function(){return"[object Generator]"}),(e=function(){return{w:c,m:p}})()}function r(e,n,t,a){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}r=function(e,n,t,a){function o(n,t){r(e,n,function(e){return this._invoke(n,t,e)})}n?i?i(e,n,{value:t,enumerable:!a,configurable:!a,writable:!a}):e[n]=t:(o("next",0),o("throw",1),o("return",2))},r(e,n,t,a)}function n(e,r,n,t,a,i,o){try{var c=e[i](o),u=c.value}catch(e){return void n(e)}c.done?r(u):Promise.resolve(u).then(t,a)}function t(e){return function(){var r=this,t=arguments;return new Promise(function(a,i){var o=e.apply(r,t);function c(e){n(o,a,i,c,u,"next",e)}function u(e){n(o,a,i,c,u,"throw",e)}c(void 0)})}}System.register(["./index-legacy-Bn54ljrW.js","./EmptyViewAbsoluteCentered-legacy-BNcXomnx.js","./Trackers-legacy-CfAoco_b.js","./AvatarSpinner-legacy-boNyAYeO.js","./LoginDialog-legacy-C3s7xpTD.js","./ListItemAvatar-legacy-Dlte_G_K.js","./Chip-legacy-DNxGPKTB.js","./useAppTitle-legacy-BlL6OrIF.js","./Switch-legacy-CZZnYfnO.js","./ListSubheader-legacy-BJyH_llz.js","./SpinnerImage-legacy-DrJn6crw.js","./Refresh-legacy-CqWjkCJZ.js","./Image-legacy-D4MdxlNF.js","./SwitchBase-legacy-CRt7C56U.js"],function(r,n){"use strict";var a,i,o,c,u,s,l,d,f,g,p,h,v,m,y,j,k,w,x,b,_,S,L,I,T;return{setters:[function(e){a=e.u,i=e.j,o=e.av,c=e.r,u=e.v,s=e.dt,l=e.bG,d=e.m,f=e.g,g=e.e,p=e.cl,h=e.k,v=e.i,m=e.N,y=e.s,j=e.F},function(e){k=e.E},function(e){w=e.T},function(e){x=e.A},function(e){b=e.C},function(e){_=e.L},function(e){S=e.C},function(e){L=e.u},function(e){I=e.S},function(e){T=e.L},null,null,null,null],execute:function(){var n=function(r){var n=r.tracker,g=a(),p=g.i18n,h=(g._,!n.isLoggedIn&&!!n.authUrl),v=function(){var r=t(e().m(function r(){var t;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,c.logoutFromTracker(n.id).response;case 1:e.n=3;break;case 2:e.p=2,t=e.v,d(p._({id:"cM90Xp",values:{0:n.name}}),"error",f(t));case 3:return e.a(2)}},r,null,[[0,2]])}));return function(){return r.apply(this,arguments)}}(),m=function(){var r=t(e().m(function r(t,a){var i,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!h){e.n=1;break}return i={redirectUrl:"".concat(window.location.origin,"/tracker/login/oauth"),clientName:"Suwayomi-WebUI",trackerId:n.id,trackerName:n.name},window.open("".concat(n.authUrl,"&state=").concat(JSON.stringify(i)),"_self"),e.a(2);case 1:return e.p=1,e.n=2,c.loginTrackerCredentials(n.id,t,a).response;case 2:e.n=4;break;case 3:e.p=3,o=e.v,d(p._({id:"o2GrG0",values:{0:n.name}}),"error",f(o));case 4:return e.a(2)}},r,null,[[1,3]])}));return function(e,n){return r.apply(this,arguments)}}(),y=function(){var r=t(e().m(function r(a,i){var o,c;return e().w(function(r){for(;;)switch(r.n){case 0:if(!h){r.n=1;break}return o={redirectUrl:"".concat(window.location.origin,"/tracker/login/oauth"),clientName:"Suwayomi-WebUI",trackerId:n.id,trackerName:n.name},window.open("".concat(n.authUrl,"&state=").concat(JSON.stringify(o)),"_self"),r.a(2);case 1:return c=b.showControlled({title:w.isLoggedIn(n)?p._({id:"X27vYx",values:{0:n.name}}):p._({id:"HW0+hI",values:{0:n.name}}),isLoading:!1,isLoggedIn:w.isLoggedIn(n),username:a,password:i,loginLogout:function(){var r=t(e().m(function r(t,a){var i,o,u;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(c.update({isLoading:!0,loginLogout:l}),!w.isLoggedIn(n)){e.n=5;break}return e.p=1,e.n=2,v();case 2:c.submit(),e.n=4;break;case 3:e.p=3,o=e.v,d(p._({id:"cM90Xp",values:{0:n.name}}),"error",f(o));case 4:return e.a(2);case 5:return e.p=5,e.n=6,m(t,a);case 6:c.submit(),e.n=9;break;case 7:return e.p=7,u=e.v,d(p._({id:"o2GrG0",values:{0:n.name}}),"error",f(u)),i="__retry__",e.n=8,Promise.race([c.promise,Promise.resolve(i)]);case 8:e.v===i&&y(t,a);case 9:return e.a(2)}},r,null,[[5,7],[1,3]])}));return function(e,n){return r.apply(this,arguments)}}()},{id:"tracker-login-dialog"}),r.n=2,c.promise;case 2:return r.a(2)}},r)}));return function(e,n){return r.apply(this,arguments)}}();return i.jsxs(o,{onClick:function(){return y()},children:[i.jsx(_,{sx:{paddingRight:"20px"},children:i.jsx(x,{alt:"".concat(n.name),iconUrl:c.getValidImgUrlFor(n.icon),slots:{avatarProps:{variant:"rounded",sx:{width:64,height:64}},spinnerImageProps:{ignoreQueue:!0}}})}),i.jsx(u,{primary:n.name}),w.isLoggedIn(n)&&i.jsx(s,{children:i.jsx(S,{label:p._({id:"UTVOJ/"}),color:"success"})})]})};r("TrackingSettings",function(){var e,r=a(),t=r.i18n;r._;L(t._({id:"U0HZma"}));var o=g(),s=o.settings,l=s.updateProgressAfterReading,w=s.updateProgressManualMarkRead,x=o.loading,b=o.request,_=b.error,S=b.refetch,G=j(function(e){return d(t._({id:"cBoXe4"}),"error",f(e))}),O=c.useGetTrackerList(p,{notifyOnNetworkStatusChange:!0}),P=O.data,U=O.loading,C=O.error,N=O.refetch,A=null!==(e=null==P?void 0:P.trackers.nodes)&&void 0!==e?e:[],F=x||U,M=null!=_?_:C;return M?i.jsx(k,{message:t._({id:"6m5aox"}),messageExtra:f(M),retry:function(){_&&S().catch(h("TrackingSettings::refetchMetadataServerSettings")),C&&N().catch(h("TrackingSettings::refetchTrackersList"))}}):F?i.jsx(v,{}):i.jsxs(i.Fragment,{children:[i.jsxs(m,{sx:{pt:0},children:[i.jsxs(y,{children:[i.jsx(u,{primary:t._({id:"iuHV1g"})}),i.jsx(I,{edge:"end",checked:l,onChange:function(e){return G("updateProgressAfterReading",e.target.checked)}})]}),i.jsxs(y,{children:[i.jsx(u,{primary:t._({id:"9UwLZL"}),secondary:t._({id:"xGavjG"})}),i.jsx(I,{edge:"end",checked:w,onChange:function(e){return G("updateProgressManualMarkRead",e.target.checked)}})]})]}),i.jsx(m,{subheader:i.jsx(T,{component:"div",id:"tracking-trackers",children:t._({id:"KwWe8w"})}),children:A.map(function(e){return i.jsx(n,{tracker:e},e.id)})})]})})}}})}();
