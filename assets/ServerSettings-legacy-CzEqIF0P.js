!function(){function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(r)}function r(r,s,t){return(s=function(r){var s=function(r,s){if("object"!=e(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var l=t.call(r,s||"default");if("object"!=e(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(r)}(r,"string");return"symbol"==e(s)?s:s+""}(s))in r?Object.defineProperty(r,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[s]=t,r}function s(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var t,l,n,a,o=[],i=!0,c=!1;try{if(n=(s=s.call(e)).next,0===r){if(Object(s)!==s)return;i=!1}else for(;!(i=(t=n.call(s)).done)&&(o.push(t.value),o.length!==r);i=!0);}catch(e){c=!0,l=e}finally{try{if(!i&&null!=s.return&&(a=s.return(),Object(a)!==a))return}finally{if(c)throw l}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var s={}.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var s=0,t=Array(r);s<r;s++)t[s]=e[s];return t}System.register(["./index-legacy-CuhBHvnX.js","./TextSetting-legacy-nSAmK5G2.js","./NumberSetting-legacy-DcXJz9YE.js","./SelectSetting-legacy-CcO7OuWD.js","./EmptyViewAbsoluteCentered-legacy-DxglMSuX.js","./useAppTitle-legacy-DeHdZzHF.js","./Switch-legacy-Dwey7odA.js","./ListSubheader-legacy-SufLlpvB.js","./Trans-legacy-DV61f-A4.js","./Link-legacy-DDhpxulY.js","./PasswordTextField-legacy-BgyWp2kS.js","./TextField-legacy-B01o9U4s.js","./useFormControl-legacy-B3HEFv9D.js","./formControlState-legacy-CX958IUm.js","./InputAdornment-legacy-C6i5pNTd.js","./Slider-legacy-DivxCswN.js","./Select-legacy--Md9-DgL.js","./SwitchBase-legacy-Ce41GG3M.js"],(function(e,t){"use strict";var l,n,a,o,i,c,u,d,g,f,v,b,h,m,x,y,p,S,j,k,P,_,w,A;return{setters:[function(e){l=e.u,n=e.d,a=e.r,o=e.a,i=e.e,c=e.j,u=e.x,d=e.aF,g=e.as,f=e.s,v=e.h,b=e.g,h=e.i,m=e.m,x=e.ak},function(e){y=e.T},function(e){p=e.N},function(e){S=e.S},function(e){j=e.E},function(e){k=e.u},function(e){P=e.S},function(e){_=e.L},function(e){w=e.T},function(e){A=e.L},null,null,null,null,null,null,null,null],execute:function(){var t=function(e){return 0===e?x("global.label.never"):x("settings.server.misc.log_files.file_cleanup.value",{days:e,count:e})};e("ServerSettings",(function(){var e=l().t;k(e("settings.server.title.server"));var x=n(),T=x.settings.serverInformAvailableUpdate,E=x.loading,F=x.request,U=F.error,C=F.refetch,L=f((function(r){return m(e("global.error.label.failed_to_save_changes"),"error",b(r))})),N=a.useGetServerSettings({notifyOnNetworkStatusChange:!0}),V=N.data,z=N.loading,B=N.error,I=N.refetch,R=s(a.useUpdateServerSettings(),1)[0],D=s(o("serverBaseURL",window.location.origin),2),O=D[0],H=D[1],M=function(e){var r=e.replaceAll(/(\/)+$/g,"");H(r),a.reset()},$=function(s,t){R({variables:{input:{settings:r({},s,t)}}}).catch((function(r){return m(e("global.error.label.failed_to_save_changes"),"error",b(r))}))},G=i.useMemo((function(){return c.jsxs(u,{subheader:c.jsx(_,{component:"div",id:"server-settings-client",children:e("global.label.client")}),children:[c.jsx(y,{settingName:e("settings.about.server.label.address"),handleChange:M,value:O,placeholder:"http://localhost:4567"}),c.jsxs(d,{children:[c.jsx(g,{primary:e("global.update.settings.inform.label.title"),secondary:e("global.update.settings.inform.label.description")}),c.jsx(P,{edge:"end",checked:T,onChange:function(e){return L("serverInformAvailableUpdate",e.target.checked)}})]})]})}),[O,T]);if(E||z)return c.jsxs(c.Fragment,{children:[G,c.jsx(v,{})]});var K=null!=U?U:B;if(K)return c.jsxs(c.Fragment,{children:[G,c.jsx(j,{message:e("global.error.label.failed_to_load_data"),messageExtra:b(K),retry:function(){U&&C().catch(h()),B&&I().catch(h())}})]});var q,Q={ip:(q=V.settings).ip,port:q.port,socksProxyEnabled:q.socksProxyEnabled,socksProxyVersion:q.socksProxyVersion,socksProxyHost:q.socksProxyHost,socksProxyPort:q.socksProxyPort,socksProxyUsername:q.socksProxyUsername,socksProxyPassword:q.socksProxyPassword,debugLogsEnabled:q.debugLogsEnabled,systemTrayEnabled:q.systemTrayEnabled,maxLogFiles:q.maxLogFiles,maxLogFileSize:q.maxLogFileSize,maxLogFolderSize:q.maxLogFolderSize,basicAuthEnabled:q.basicAuthEnabled,basicAuthUsername:q.basicAuthUsername,basicAuthPassword:q.basicAuthPassword,flareSolverrEnabled:q.flareSolverrEnabled,flareSolverrTimeout:q.flareSolverrTimeout,flareSolverrUrl:q.flareSolverrUrl,flareSolverrSessionName:q.flareSolverrSessionName,flareSolverrSessionTtl:q.flareSolverrSessionTtl,flareSolverrAsResponseFallback:q.flareSolverrAsResponseFallback};return c.jsxs(u,{sx:{pt:0},children:[G,c.jsxs(u,{subheader:c.jsx(_,{component:"div",id:"server-settings-server-address",children:e("settings.server.address.server.title")}),children:[c.jsx(y,{settingName:e("settings.server.address.server.label.ip"),handleChange:function(e){return $("ip",e)},value:Q.ip,placeholder:"0.0.0.0"}),c.jsx(p,{settingTitle:e("settings.server.address.server.label.port"),settingValue:Q.port.toString(),handleUpdate:function(e){return $("port",e)},value:Q.port,defaultValue:4567,valueUnit:e("settings.server.address.server.label.port")})]}),c.jsxs(u,{subheader:c.jsx(_,{component:"div",id:"server-settings-socks-proxy",children:e("settings.server.socks_proxy.title")}),children:[c.jsxs(d,{children:[c.jsx(g,{primary:e("settings.server.socks_proxy.label.enable")}),c.jsx(P,{edge:"end",checked:Q.socksProxyEnabled,onChange:function(e){return $("socksProxyEnabled",e.target.checked)}})]}),c.jsx(S,{settingName:e("settings.server.socks_proxy.label.version"),value:Q.socksProxyVersion,values:[[4,{text:"4"}],[5,{text:"5"}]],handleChange:function(e){return $("socksProxyVersion",e)}}),c.jsx(y,{settingName:e("settings.server.socks_proxy.label.host"),value:Q.socksProxyHost,handleChange:function(e){return $("socksProxyHost",e)}}),c.jsx(y,{settingName:e("settings.server.socks_proxy.label.port"),value:Q.socksProxyPort,handleChange:function(e){return $("socksProxyPort",e)}}),c.jsx(y,{settingName:e("settings.server.socks_proxy.label.username"),value:Q.socksProxyUsername,handleChange:function(e){return $("socksProxyUsername",e)}}),c.jsx(y,{settingName:e("settings.server.socks_proxy.label.password"),value:Q.socksProxyPassword,handleChange:function(e){return $("socksProxyPassword",e)},isPassword:!0})]}),c.jsxs(u,{subheader:c.jsx(_,{component:"div",id:"server-settings-auth",children:e("settings.server.auth.title")}),children:[c.jsxs(d,{children:[c.jsx(g,{primary:e("settings.server.auth.basic.label.enable")}),c.jsx(P,{edge:"end",checked:Q.basicAuthEnabled,onChange:function(e){return $("basicAuthEnabled",e.target.checked)}})]}),c.jsx(y,{settingName:e("settings.server.auth.basic.label.username"),value:Q.basicAuthUsername,handleChange:function(e){return $("basicAuthUsername",e)}}),c.jsx(y,{settingName:e("settings.server.auth.basic.label.password"),value:Q.basicAuthPassword,isPassword:!0,handleChange:function(e){return $("basicAuthPassword",e)}})]}),c.jsxs(u,{subheader:c.jsx(_,{component:"div",id:"server-settings-clouadflare-bypass",children:e("settings.server.cloudflare.title")}),children:[c.jsxs(d,{children:[c.jsx(g,{primary:e("settings.server.cloudflare.flaresolverr.enabled.label.title"),secondary:c.jsxs(w,{i18nKey:"settings.server.cloudflare.flaresolverr.enabled.label.description",children:["See"," ",c.jsx(A,{href:"https://github.com/FlareSolverr/FlareSolverr?tab=readme-ov-file#installation",target:"_blank",rel:"noreferrer",children:"FlareSolverr"})," ","for information on how to set it up"]})}),c.jsx(P,{edge:"end",checked:Q.flareSolverrEnabled,onChange:function(e){return $("flareSolverrEnabled",e.target.checked)}})]}),c.jsx(y,{settingName:e("settings.server.cloudflare.flaresolverr.url.label.title"),dialogDescription:e("settings.server.cloudflare.flaresolverr.url.label.description"),value:Q.flareSolverrUrl,handleChange:function(e){return $("flareSolverrUrl",e)}}),c.jsx(p,{settingTitle:e("settings.server.cloudflare.flaresolverr.timeout.label.title"),settingValue:e("global.time.seconds.value",{count:Q.flareSolverrTimeout}),dialogDescription:e("settings.server.cloudflare.flaresolverr.timeout.label.description"),value:Q.flareSolverrTimeout,defaultValue:60,minValue:20,maxValue:300,stepSize:1,showSlider:!0,valueUnit:e("global.time.seconds.second_other"),handleUpdate:function(e){return $("flareSolverrTimeout",e)}}),c.jsx(y,{settingName:e("settings.server.cloudflare.flaresolverr.session.name.label.title"),value:Q.flareSolverrSessionName,handleChange:function(e){return $("flareSolverrSessionName",e)}}),c.jsx(p,{settingTitle:e("settings.server.cloudflare.flaresolverr.session.ttl.label.title"),settingValue:e("global.time.minutes.value",{count:Q.flareSolverrSessionTtl}),dialogDescription:e("settings.server.cloudflare.flaresolverr.session.ttl.label.description"),value:Q.flareSolverrSessionTtl,defaultValue:15,minValue:1,maxValue:60,stepSize:1,showSlider:!0,valueUnit:e("global.time.minutes.minute_other"),handleUpdate:function(e){return $("flareSolverrSessionTtl",e)}}),c.jsxs(d,{children:[c.jsx(g,{primary:e("settings.server.cloudflare.flaresolverr.response_fallback.label.title"),secondary:e("settings.server.cloudflare.flaresolverr.response_fallback.label.description")}),c.jsx(P,{edge:"end",checked:Q.flareSolverrAsResponseFallback,onChange:function(e){return $("flareSolverrAsResponseFallback",e.target.checked)}})]})]}),c.jsxs(u,{subheader:c.jsx(_,{component:"div",id:"server-settings-misc",children:e("settings.server.misc.title")}),children:[c.jsxs(d,{children:[c.jsx(g,{primary:e("settings.server.misc.log_level.label.server")}),c.jsx(P,{edge:"end",checked:Q.debugLogsEnabled,onChange:function(e){return $("debugLogsEnabled",e.target.checked)}})]}),c.jsxs(d,{children:[c.jsx(g,{primary:e("settings.server.misc.tray_icon.label.title"),secondary:e("settings.server.misc.tray_icon.label.description")}),c.jsx(P,{edge:"end",checked:Q.systemTrayEnabled,onChange:function(e){return $("systemTrayEnabled",e.target.checked)}})]}),c.jsx(p,{settingTitle:e("settings.server.misc.log_files.file_cleanup.title"),settingValue:t(Q.maxLogFiles),value:Q.maxLogFiles,valueUnit:e("global.date.label.day_one"),handleUpdate:function(e){return $("maxLogFiles",e)}}),c.jsx(y,{settingName:e("settings.server.misc.log_files.file_size.title"),value:Q.maxLogFileSize,dialogDescription:e("settings.server.misc.log_files.file_size.description"),validate:function(e){return!!e.match(/^[0-9]+(|kb|KB|mb|MB|gb|GB)$/g)},handleChange:function(e){return $("maxLogFileSize",e)}}),c.jsx(y,{settingName:e("settings.server.misc.log_files.total_size.title"),value:Q.maxLogFolderSize,dialogDescription:e("settings.server.misc.log_files.total_size.description"),validate:function(e){return!!e.match(/^[0-9]+(|kb|KB|mb|MB|gb|GB)$/g)},handleChange:function(e){return $("maxLogFolderSize",e)}})]})]})}))}}}))}();
