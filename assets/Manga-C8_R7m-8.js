import{r as A,i as E,j as e,u as v,L as G,a5 as V,f as u,k as C,I as x,a6 as Fe,a7 as R,a0 as M,d as p,a8 as q,V as Le,p as Ae,M as ae,z as he,c as T,a9 as Ee,aa as Ne,l as pe,E as L,m as Oe,T as U,ab as se,ac as Be,ad as fe,ae as K,af as Pe,ag as ge,ah as ze,B as xe,ai as De,aj as He,ak as Ge,h as Ve,P as We,al as Q,am as qe,an as Ue,n as W,q as Ke,ao as Qe,ap as Ye,aq as be,ar as Je,S as ne,as as Xe,at as Ze,g as et,au as tt,av as rt,K as oe,aw as B,ax as P,ay as z,N as at,az as st,aA as nt,aB as ot,aC as lt}from"./index-DRWD9G8c.js";import{d as it}from"./PlayArrow-D57ckROf.js";import{S as ct,D as dt}from"./StyledFab-Bx7G5OCX.js";import{d as ut}from"./FilterList-CdfyDlsk.js";import{S as ht,R as le}from"./SortRadioInput-C85qKKJR.js";import{T as D}from"./ThreeStateCheckboxInput-Drv1S1E4.js";import{O as pt,a as ft,S as gt,d as xt}from"./SelectionFAB-BAYtyQln.js";import{R as bt}from"./ListPreference-155wKoVt.js";import{u as mt,C as jt,T as Ct,a as vt,d as _t,M as yt,b as kt,c as St,e as ie,f as ce}from"./useManageMangaLibraryState-q8e5B3c2.js";import{M as $,s as wt,a as Mt}from"./Mangas-7OuaE1oU.js";import{d as Tt,a as It,b as Rt}from"./ExpandMore-1imPh_44.js";import{d as $t}from"./Sync-CW3vqsIp.js";import{T as H}from"./Trackers-D4pSmk7a.js";import{C as Ft}from"./Chip-BLl8XjRH.js";import"./Avatar-DX3kVIjh.js";import"./CheckCircle-DHyA1f8R.js";import"./NumberSetting-BEaQNnSt.js";import"./useMobilePicker-XlKtJs1z.js";import"./SelectSetting-CNEHrFtR.js";var Y={},Lt=E;Object.defineProperty(Y,"__esModule",{value:!0});var me=Y.default=void 0,At=Lt(A()),Et=e;me=Y.default=(0,At.default)((0,Et.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");function Nt({chapter:t}){const{t:r}=v(),{sourceOrder:a}=t;return e.jsxs(ct,{component:G,variant:"extended",color:"primary",to:V.getReaderUrl(t),state:{resumeMode:V.getReaderResumeMode(t)},children:[e.jsx(it,{}),r(a===1?"global.button.start":"global.button.resume")]})}function Ot(t,{isRead:r}){switch(t){case!0:return!r;case!1:return r;default:return!0}}function Bt(t,{isDownloaded:r}){switch(t){case!0:return r;case!1:return!r;default:return!0}}function Pt(t,{isBookmarked:r}){switch(t){case!0:return r;case!1:return!r;default:return!0}}const zt=(t,{sortBy:r,reverse:a})=>{const s=[...t];switch(r){case"source":s.sort((n,i)=>n.sourceOrder-i.sourceOrder);break;case"fetchedAt":s.sort((n,i)=>{var o,d;return Number((o=n.fetchedAt)!=null?o:0)-Number((d=i.fetchedAt)!=null?d:0)});break;case"chapterNumber":s.sort((n,i)=>n.chapterNumber-i.chapterNumber);break;case"uploadedAt":s.sort((n,i)=>{var o,d;return Number((o=n.uploadDate)!=null?o:0)-Number((d=i.uploadDate)!=null?d:0)});break}return a&&s.reverse(),s};function Dt(t,r){const a=r.active?t.filter(s=>Ot(r.unread,s)&&Bt(r.downloaded,s)&&Pt(r.bookmarked,s)):[...t];return zt(a,r)}const Ht=t=>{const{unread:r,downloaded:a,bookmarked:s}=t;return r!=null||a!=null||s!=null},Gt={active:!1,unread:void 0,downloaded:void 0,bookmarked:void 0,reverse:!0,sortBy:"source",showChapterNumber:!1},Vt={source:"global.sort.label.by_source",chapterNumber:"global.sort.label.by_chapter_number",uploadedAt:"global.sort.label.by_upload_date",fetchedAt:"global.sort.label.by_fetch_date"},Wt={filter:"global.label.filter",sort:"global.label.sort",display:"global.label.display"},qt=({open:t,onClose:r,options:a,optionsDispatch:s})=>{const{t:n}=v();return e.jsx(pt,{open:t,onClose:r,minHeight:150,tabs:["filter","sort","display"],tabTitle:i=>n(Wt[i]),tabContent:i=>i==="filter"?e.jsxs(e.Fragment,{children:[e.jsx(D,{label:n("global.filter.label.unread"),checked:a.unread,onChange:o=>s({type:"filter",filterType:"unread",filterValue:o})}),e.jsx(D,{label:n("global.filter.label.downloaded"),checked:a.downloaded,onChange:o=>s({type:"filter",filterType:"downloaded",filterValue:o})}),e.jsx(D,{label:n("global.filter.label.bookmarked"),checked:a.bookmarked,onChange:o=>s({type:"filter",filterType:"bookmarked",filterValue:o})})]}):i==="sort"?Object.entries(Vt).map(([o,d])=>e.jsx(ht,{label:n(d),checked:a.sortBy===o,sortDescending:a.reverse,onClick:()=>o!==a.sortBy?s({type:"sortBy",sortBy:o}):s({type:"sortReverse"})},o)):i==="display"?e.jsxs(bt,{onChange:()=>s({type:"showChapterNumber"}),value:a.showChapterNumber,children:[e.jsx(le,{label:n("chapter.option.display.label.source_title"),value:!1}),e.jsx(le,{label:n("chapter.option.display.label.chapter_number"),value:!0})]}):null})},Ut=({options:t,optionsDispatch:r})=>{const{t:a}=v(),[s,n]=u.useState(!1),i=Ht(t);return e.jsxs(e.Fragment,{children:[e.jsx(C,{title:a("settings.title"),children:e.jsx(x,{onClick:()=>n(!0),children:e.jsx(ut,{color:i?"warning":void 0})})}),e.jsx(qt,{open:s,onClose:()=>n(!1),options:t,optionsDispatch:r})]})};function Kt(t,r){switch(r.type){case"filter":return{...t,active:t.unread!==!1&&t.downloaded!==!1&&t.bookmarked!==!1,[r.filterType]:r.filterValue};case"sortBy":return{...t,sortBy:r.sortBy};case"sortReverse":return{...t,reverse:!t.reverse};case"showChapterNumber":return{...t,showChapterNumber:!t.showChapterNumber};default:throw Error(R("global.error.label.invalid_action"))}}const Qt=t=>Fe(Kt,"".concat(t,"filterOptions"),Gt),Yt=M(p,{shouldForwardProp:q(["scrollbarWidth"])})(({theme:t,scrollbarWidth:r})=>({padding:t.spacing(1),paddingRight:"calc(".concat(r,"px + ").concat(t.spacing(1),")"),paddingBottom:0,[t.breakpoints.down("md")]:{paddingRight:t.spacing(1)}})),Jt=M(Le,{shouldForwardProp:q(["topOffset"])})(({theme:t,topOffset:r})=>({listStyle:"none",padding:0,[t.breakpoints.up("md")]:{height:"calc(100vh - ".concat(r,"px)"),margin:0}})),Xt=({manga:t,isRefreshing:r})=>{var re;const{t:a}=v(),{appBarHeight:s}=Ae(),n=ae.useIsBelowWidth("md"),[i,o]=u.useState(50),[d,f]=u.useState(null);he(d,u.useCallback(()=>{var c;return o((c=d==null?void 0:d.offsetHeight)!=null?c:0)},[d]));const g=ae.useGetScrollbarSize("width"),{data:h}=T.useGetDownloadStatus(),l=(re=h==null?void 0:h.downloadStatus.queue)!=null?re:[],[b,S]=Qt(t.id),{data:_,loading:y,error:m,refetch:_e}=T.useGetMangaChapters(Ee,t.id,{notifyOnNetworkStatusChange:!0}),k=u.useMemo(()=>{var c;return(c=_==null?void 0:_.chapters.nodes)!=null?c:[]},[_==null?void 0:_.chapters.nodes]),ye=u.useMemo(()=>k.map(c=>c.id),[k]),{areNoItemsSelected:ee,areAllItemsSelected:ke,selectedItemIds:te,handleSelectAll:Se,handleSelection:we}=mt(k.length,{itemIds:ye,currentKey:"default"}),w=u.useMemo(()=>Dt(k,b),[k,b]),Me=$.isFullyRead(t),Te=$.isFullyDownloaded(t),N=k.length===0,Ie=!N&&w.length===0,I=u.useMemo(()=>w.map(c=>{const j=l==null?void 0:l.find($e=>$e.chapter.id===c.id),O=ee?null:te.includes(c.id);return{chapter:c,downloadChapter:j,selected:O}}),[l,te,w]),Re=u.useMemo(()=>{const c=I.filter(j=>j.selected);return c.length?e.jsx(ft,{selectedItemsCount:c.length,title:"chapter.title_one",children:j=>e.jsx(Ne,{selectedChapters:c,onClose:j})}):t.firstUnreadChapter?e.jsx(Nt,{chapter:t.firstUnreadChapter}):null},[I]);return y||N&&r?e.jsx(p,{sx:{justifyContent:"center",alignItems:"center",position:"relative",flexGrow:1},children:e.jsx(pe,{})}):m?e.jsx(p,{sx:{justifyContent:"center",position:"relative",flexGrow:1},children:e.jsx(L,{message:a("global.error.label.failed_to_load_data"),messageExtra:m.message,retry:()=>_e().catch(Oe())})}):e.jsxs(e.Fragment,{children:[e.jsxs(p,{direction:"column",sx:{position:"relative",flexBasis:"60%"},children:[e.jsxs(Yt,{ref:f,direction:"row",alignItems:"center",justifyContent:"space-between",scrollbarWidth:g,children:[e.jsx(U,{variant:"h5",component:"h3",children:"".concat(w.length," ").concat(a("chapter.title_one",{count:w.length}))}),e.jsxs(p,{direction:"row",children:[e.jsx(C,{title:a("chapter.action.mark_as_read.add.label.action.current"),children:e.jsx(x,{disabled:Me,onClick:()=>V.markAsRead(se.getChapters(se.getNonRead(I)),!0,t.id),children:e.jsx(Be,{})})}),e.jsx(fe,{variant:"popover",popupId:"chapterlist-download-button",children:c=>e.jsxs(e.Fragment,{children:[e.jsx(C,{title:a("chapter.action.download.add.label.action"),children:e.jsx(x,{disabled:Te,...K(c),children:e.jsx(Pe,{})})}),c.isOpen&&e.jsx(ge,{...ze(c),children:e.jsx(jt,{mangaIds:[t.id],closeMenu:c.close})})]})}),e.jsx(Ut,{options:b,optionsDispatch:S}),e.jsx(gt,{areAllItemsSelected:ke,areNoItemsSelected:ee,onChange:c=>Se(c,c?k.map(j=>j.id):[])})]})]}),N&&e.jsx(L,{message:a("chapter.error.label.no_chapter_found")}),Ie&&e.jsx(L,{message:a("chapter.error.label.no_matches")}),e.jsx(Jt,{topOffset:s+i,style:{height:"undefined"},components:{Footer:()=>e.jsx(xe,{sx:{paddingBottom:dt}})},totalCount:w.length,computeItemKey:c=>w[c].id,itemContent:c=>e.jsx(De,{...I[c],allChapters:k,showChapterNumber:b.showChapterNumber,onSelect:(j,O)=>we(I[c].chapter.id,j,{selectRange:O})}),useWindowScroll:n,overscan:window.innerHeight*.5})]}),Re]})},Zt=t=>{const[r,a]=u.useState(!1),[s,n]=u.useState(null);return[u.useCallback(async()=>{a(!0),n(null),await Promise.all([T.getMangaFetch(t,{awaitRefetchQueries:!0}).response,T.getMangaChaptersFetch(t,{awaitRefetchQueries:!0}).response]).catch(o=>{o instanceof He&&Ge(o.message)==="no chapters found"||n(o)}).finally(()=>a(!1))},[t]),{loading:r,error:s}]};var J={},er=E;Object.defineProperty(J,"__esModule",{value:!0});var je=J.default=void 0,tr=er(A()),rr=e;je=J.default=(0,tr.default)((0,rr.jsx)("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull");var X={},ar=E;Object.defineProperty(X,"__esModule",{value:!0});var Ce=X.default=void 0,sr=ar(A()),nr=e;Ce=X.default=(0,sr.default)((0,nr.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");var Z={},or=E;Object.defineProperty(Z,"__esModule",{value:!0});var ve=Z.default=void 0,lr=or(A()),ir=e;ve=Z.default=(0,lr.default)((0,ir.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");const cr=({manga:t})=>{var g,h;const{t:r}=v(),a=Ve(),s=T.useGetTrackerList(We),n=(h=(g=s.data)==null?void 0:g.trackers.nodes)!=null?h:[],i=t.trackRecords.nodes,o=H.getLoggedIn(n),d=H.getLoggedIn(H.getTrackers(i,n)),f=l=>{if(s.error){W(r("tracking.error.label.could_not_load_track_info"),"error");return}if(!o.length){a("/settings/trackingSettings");return}l()};return e.jsx(fe,{variant:"dialog",popupId:"manga-track-modal",children:l=>e.jsxs(e.Fragment,{children:[e.jsxs(Q,{...K(l),size:"medium",disabled:s.loading||!!s.error,onClick:()=>f(l.open),onTouchStart:()=>f(l.open),variant:d.length?"contained":"outlined",children:[d.length?e.jsx(ve,{}):e.jsx($t,{}),d.length?r("manga.button.track.active",{count:d.length}):r("manga.button.track.start")]}),e.jsx(qe,{...Ue(l),maxWidth:"md",fullWidth:!0,scroll:"paper",children:e.jsx(Ct,{manga:t})})]})})},dr=M("div")(({theme:t})=>({display:"flex",flexDirection:"column",gap:t.spacing(2),padding:t.spacing(1),[t.breakpoints.up("md")]:{flexBasis:"40%",height:"calc(100vh - 64px)",overflowY:"auto"}})),ur=M("div",{shouldForwardProp:q(["url","mangaThumbnailBackdrop"])})(({theme:t,url:r,mangaThumbnailBackdrop:a})=>({position:"relative",backgroundImage:a?"url(".concat(r,")"):void 0,backgroundRepeat:a?"no-repeat":void 0,backgroundSize:a?"cover":void 0,borderRadius:a?t.shape.borderRadius:void 0,"&::before":a&&{position:"absolute",display:"inline-block",content:'""',top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(to top, ".concat(t.palette.background.default,", transparent 100%, transparent 1px),linear-gradient(to right, ").concat(t.palette.background.default,", transparent 50%, transparent 1px),linear-gradient(to bottom, ").concat(t.palette.background.default,", transparent 50%, transparent 1px),linear-gradient(to left, ").concat(t.palette.background.default,", transparent 50%, transparent 1px)"),backdropFilter:"blur(4.5px) brightness(0.75)"}})),hr=M("div")(({theme:t})=>({display:"flex",paddingBottom:t.spacing(1)})),pr=M("div")(({theme:t})=>({zIndex:1,marginLeft:t.spacing(1)})),F=t=>e.jsx(yt,{...t}),fr=M("div")(({theme:t})=>({display:"flex",gap:t.spacing(1)})),gr=({url:t})=>{const{t:r}=v();return e.jsx(C,{title:r("global.button.open_site"),children:e.jsx(Q,{size:"medium",disabled:!t,component:Qe,href:t!=null?t:void 0,target:"_blank",rel:"noreferrer",variant:"outlined",children:e.jsx(Ye,{})})})};function xr(t){var a;return t?Number(t.id)===0?R("source.local_source.title"):(a=t.displayName)!=null?a:t.id:R("global.label.unknown")}function de(t){return t!=null?t:R("global.label.unknown")}const br=({manga:t})=>{const r=be(),a=Je({variant:"popover",popupId:"manga-thumbnail-fullscreen"}),[s,n]=u.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(p,{sx:{position:"relative",borderRadius:1,overflow:"hidden",backgroundColor:"background.paper",width:"150px",maxHeight:"fit-content",aspectRatio:Mt,flexShrink:0,flexGrow:0,[r.breakpoints.up("lg")]:{width:"200px"},[r.breakpoints.up("xl")]:{width:"300px"}},children:[e.jsx(ne,{src:$.getThumbnailUrl(t),alt:"Manga Thumbnail",onLoad:()=>n(!0),imgStyle:{width:"100%",height:"100%",objectFit:"cover"}}),s&&e.jsx(p,{...K(a),sx:{position:"absolute",top:0,bottom:0,width:"100%",justifyContent:"center",alignItems:"center",opacity:0,"&:hover":{background:"rgba(0, 0, 0, 0.4)",cursor:"pointer",opacity:1}},children:e.jsx(je,{fontSize:"large",color:"primary"})})]}),e.jsx(Xe,{...Ze(a),sx:{outline:0},children:e.jsx(p,{onClick:()=>a.close(),sx:{height:"100vh",p:2,outline:0,justifyContent:"center",alignItems:"center"},children:e.jsx(ne,{src:$.getThumbnailUrl(t),alt:"Manga Thumbnail",imgStyle:{height:"100%",width:"100%",objectFit:"contain"}})})})]})},ue=75,mr=({manga:{description:t,genre:r}})=>{const[a,s]=u.useState(null),[n,i]=u.useState();he(a,u.useCallback(()=>i(a==null?void 0:a.clientHeight),[a]));const[o,d]=et("isDescriptionGenreCollapsed",!0),f=t?Math.min(ue,n!=null?n:ue):0,g=u.useMemo(()=>r.filter(Boolean),[r]);return e.jsxs(e.Fragment,{children:[t&&e.jsxs(p,{sx:{position:"relative"},children:[e.jsx(kt,{collapsedSize:f,in:!o,children:e.jsx(U,{ref:s,style:{whiteSpace:"pre-line",textAlign:"justify",textJustify:"inter-word"},children:t})}),e.jsx(p,{onClick:()=>d(!o),sx:{pt:1,alignItems:"center",cursor:"pointer",position:o?"absolute":null,width:"100%",bottom:0,background:h=>"linear-gradient(transparent 1px, ".concat(h.palette.background.default,")")},children:e.jsx(x,{sx:{color:h=>h.palette.mode==="light"?"black":"text"},children:o?e.jsx(It,{}):e.jsx(Rt,{})})})]}),e.jsx(p,{sx:{flexDirection:"row",flexWrap:o?"no-wrap":"wrap",gap:1,overflowX:o?"auto":null},children:g.map(h=>e.jsx(Ft,{label:h,variant:"outlined"},h))})]})},jr=({manga:t})=>{const{t:r}=v(),{settings:{mangaThumbnailBackdrop:a}}=Ke();u.useEffect(()=>{t.source||W(R("source.error.label.source_not_found"),"error")},[t.source]);const{CategorySelectComponent:s,updateLibraryState:n}=vt(t),i=async()=>{try{await navigator.clipboard.writeText(t.title),W(r("global.label.copied_clipboard"),"info")}catch(o){}};return e.jsxs(e.Fragment,{children:[e.jsxs(dr,{children:[e.jsxs(ur,{url:$.getThumbnailUrl(t),mangaThumbnailBackdrop:a,children:[e.jsxs(hr,{children:[e.jsx(br,{manga:t}),e.jsxs(pr,{children:[e.jsxs(p,{sx:{flexDirection:"row",gap:1,alignItems:"flex-start",mb:1},children:[e.jsx(U,{variant:"h5",component:"h2",sx:{wordBreak:"break-word"},children:t.title}),e.jsx(C,{title:r("global.button.copy"),children:e.jsx(x,{onClick:i,color:"inherit",children:e.jsx(Ce,{fontSize:"small"})})})]}),e.jsx(F,{title:r("manga.label.author"),value:de(t.author)}),e.jsx(F,{title:r("manga.label.artist"),value:de(t.artist)}),e.jsx(F,{title:r("manga.label.status"),value:r(wt[t.status])}),e.jsx(F,{title:r("source.title_one"),value:xr(t.source)})]})]}),e.jsxs(fr,{children:[e.jsxs(Q,{size:"medium",onClick:n,variant:t.inLibrary?"contained":"outlined",children:[t.inLibrary?e.jsx(Tt,{}):e.jsx(_t,{}),t.inLibrary?r("manga.button.in_library"):r("manga.button.add_to_library")]}),e.jsx(cr,{manga:t}),e.jsx(gr,{url:t.realUrl})]})]}),e.jsx(mr,{manga:t})]}),s]})},Cr=({manga:t,onRefresh:r,refreshing:a})=>{const{t:s}=v(),n=be(),i=tt(n.breakpoints.up("sm")),[o,d]=rt.useState(null),f=!!o,g=()=>{d(null)},{openCategorySelect:h,CategorySelectComponent:l}=St({mangaId:t.id});return e.jsxs(e.Fragment,{children:[i&&e.jsxs(e.Fragment,{children:[e.jsx(C,{title:s("manga.label.reload_from_source"),children:e.jsx(x,{onClick:()=>{r()},disabled:a,color:"inherit",children:e.jsx(oe,{})})}),t.inLibrary&&e.jsxs(e.Fragment,{children:[e.jsx(C,{title:s("global.button.migrate"),children:e.jsx(G,{to:"/migrate/source/".concat(t.sourceId,"/manga/").concat(t.id,"/search?query=").concat(t.title),state:{mangaTitle:t.title},style:{textDecoration:"none",color:"inherit"},children:e.jsx(x,{color:"inherit",children:e.jsx(ie,{})})})}),e.jsx(C,{title:s("manga.label.edit_categories"),children:e.jsx(x,{onClick:()=>{h(!0)},color:"inherit",children:e.jsx(ce,{})})})]})]}),!i&&e.jsxs(e.Fragment,{children:[e.jsx(x,{id:"chaptersMenuButton","aria-controls":f?"chaptersMenu":void 0,"aria-haspopup":"true","aria-expanded":f?"true":void 0,onClick:b=>d(b.currentTarget),color:"inherit",children:e.jsx(xt,{})}),e.jsxs(ge,{id:"chaptersMenu",anchorEl:o,open:f,onClose:g,MenuListProps:{"aria-labelledby":"chaptersMenuButton"},children:[e.jsxs(B,{onClick:()=>{r(),g()},disabled:a,children:[e.jsx(P,{children:e.jsx(oe,{fontSize:"small"})}),e.jsx(z,{children:s("manga.label.reload_from_source")})]}),t.inLibrary&&[e.jsxs(B,{component:G,to:"/migrate/source/".concat(t.sourceId,"/manga/").concat(t.id,"/search?query=").concat(t.title),state:{mangaTitle:t.title},style:{textDecoration:"none",color:"inherit"},children:[e.jsx(P,{children:e.jsx(ie,{fontSize:"small"})}),e.jsx(z,{children:s("migrate.title")})]},"migrate"),e.jsxs(B,{onClick:()=>{h(!0),g()},children:[e.jsx(P,{children:e.jsx(ce,{fontSize:"small"})}),e.jsx(z,{children:s("manga.label.edit_categories")})]},"categories")]]})]}),l]})},zr=()=>{const{t}=v(),{setTitle:r,setAction:a}=u.useContext(at),{id:s}=st(),n=u.useRef(!1),{data:i,error:o,loading:d,networkStatus:f,refetch:g}=T.useGetManga(nt,s),h=lt(f),l=i==null?void 0:i.manga,[b,{loading:S,error:_}]=Zt(s),y=o!=null?o:_;return u.useEffect(()=>{if(l==null)return;!n.current&&!l.initialized&&(n.current=!0,b())},[l]),u.useLayoutEffect(()=>{var m;return r((m=l==null?void 0:l.title)!=null?m:t("manga.title_one")),a(null),()=>{r(""),a(null)}},[t,l==null?void 0:l.title]),u.useLayoutEffect(()=>{var m;return a(e.jsxs(p,{direction:"row",sx:{alignItems:"center"},children:[y&&!h&&!S&&e.jsx(C,{title:e.jsxs(e.Fragment,{children:[t("manga.error.label.request_failure"),e.jsx("br",{}),(m=y.message)!=null?m:y]}),children:e.jsx(x,{onClick:()=>g(),children:e.jsx(me,{color:"error"})})}),l&&(S||h)&&e.jsx(x,{disabled:!0,children:e.jsx(ot,{size:16})}),l&&e.jsx(Cr,{manga:l,onRefresh:b,refreshing:S})]})),()=>{a(null)}},[t,y,h,S,l,b]),y&&!l?e.jsx(L,{message:t("manga.error.label.request_failure"),messageExtra:y.message}):e.jsxs(xe,{sx:{display:{md:"flex"},overflow:"hidden"},children:[d&&e.jsx(pe,{}),l&&e.jsx(jr,{manga:l}),l&&e.jsx(Xt,{manga:l,isRefreshing:S})]})};export{zr as Manga};
