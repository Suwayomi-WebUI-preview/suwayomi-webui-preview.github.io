!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?t(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw a}}return i}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./index-legacy-CS_m1mBk.js","./AppbarSearch-legacy-BZnRJen_.js","./Favorite-legacy-t8Qwck1q.js","./FilterList-legacy-B4bpUBYq.js","./GridLayouts-legacy-CfG4CNNq.js","./Delete-legacy-CiHO5vWH.js","./SortRadioInput-legacy-D9iNPjLl.js","./CheckboxInput-legacy-Cboc3JMF.js","./TextField-legacy-CWbr9VQs.js","./ExpandMore-legacy-CuJs9KD6.js","./useDebounce-legacy-DSoTMB8q.js","./InputAdornment-legacy-CbDshSw0.js","./ThreeStateCheckboxInput-legacy-Ch9_Df_A.js","./StyledFab-legacy-DUXlp6tJ.js","./Chip-legacy-Cr2VR8u6.js","./BaseMangaGrid-legacy-4br2WBJf.js","./MangaGrid-legacy-DebbdGdK.js","./Sources-legacy-B5i89SNr.js","./EmptyViewAbsoluteCentered-legacy-CZ6Dnndi.js","./useAppTitleAndAction-legacy-CavLyeC5.js","./Virtuoso.util-legacy-Ch_XIO_X.js","./Link-legacy-DPgJDYH_.js","./ChaptersDownloadActionMenuItems-legacy-BCZVzO_2.js","./Trackers-legacy-BqPfAnKV.js","./Card-legacy-DXrMi3P_.js","./ListCardContent-legacy-BEpFtyjh.js","./Avatar-legacy-FlZwV4P7.js","./CheckCircle-legacy-JowTeXdn.js","./Metadata-legacy-mwyt14zq.js","./MUI.util-legacy-C7LH2u7d.js","./CardActionArea-legacy-DnG4_Gvu.js","./useManageMangaLibraryState-legacy-BJ-p02-0.js","./FormGroup-legacy-CIhtblPv.js","./useFormControl-legacy-C2Ak2PZR.js","./formControlState-legacy-CX958IUm.js","./ListPreference-legacy-C0ROk4RF.js","./Checkbox-legacy-BiK3DXyP.js","./SwitchBase-legacy-BprulQ29.js","./NumberSetting-legacy-BkaMQxvU.js","./Slider-legacy-CU1MO30P.js","./useMobilePicker-legacy-Bh2ExEiG.js","./SelectSetting-legacy-KAomsSAx.js","./Select-legacy-FSVlbhVv.js","./Download-legacy-Db9EK3MS.js","./Sync-legacy-BBy35kxF.js","./use-merged-ref-legacy-CLX-z3CW.js","./ListCardAvatar-legacy-DaAuK1Av.js","./PlayArrow-legacy-DqbnfE2j.js","./index-legacy-DZplbio4.js","./useAppTitle-legacy-BtOhFHrg.js","./useAppAction-legacy-B3aK4lBC.js"],(function(e,t){"use strict";var l,i,u,c,s,d,f,g,p,h,j,x,y,v,m,b,S,C,F,k,w,A,I,O,E,L,P,T,V,M,_,D,U,R,G,B,N,H,q,z,W,J,Q,Y,$,K,X,Z,ee,te,ne,re,ae,oe,le,ie,ue,ce,se,de,fe,ge,pe,he,je,xe,ye,ve,me,be,Se,Ce,Fe,ke,we,Ae,Ie,Oe;return{setters:[function(e){l=e.am,i=e.W,u=e.j,c=e.c,s=e.ar,d=e.T,f=e.au,g=e.w,p=e.aG,h=e.p,j=e.an,x=e.S,y=e.b,v=e.b5,m=e.aL,b=e.u,S=e.B,C=e.a7,F=e.C,k=e.I,w=e.a5,A=e.i,I=e.af,O=e.k,E=e.n,L=e.q,P=e.b6,T=e.f,V=e.x,M=e.aw,_=e.b7,D=e.d,U=e.ax,R=e.a,G=e.b8,B=e.r,N=e.b9,H=e.V,q=e.s,z=e.A,W=e.aC,J=e.a0,Q=e.ba,Y=e.g,$=e.bb,K=e.m},function(e){X=e.a,Z=e.u,ee=e.A,te=e.S},function(e){ne=e.F},function(e){re=e.F},function(e){ae=e.G},function(e){oe=e.D},function(e){le=e.S,ie=e.O},function(e){ue=e.C},function(e){ce=e.a,se=e.I,de=e.S,fe=e.b,ge=e.T},function(e){pe=e.a,he=e.E},function(e){je=e.u},function(e){xe=e.I},function(e){ye=e.T},function(e){ve=e.S},function(e){me=e.C},function(e){be=e.B},function(e){Se=e.b},function(e){Ce=e.u,Fe=e.c,ke=e.S},function(e){we=e.E},function(e){Ae=e.u},function(e){Ie=e.V},function(e){Oe=e.L},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){function t(){var e=o(l("source-grid-layout",i.Compact),2),t=e[0],n=e[1];return u.jsx(ae,{gridLayout:t,onChange:n})}e("SourceMangas",(function(){var e,a,c,s,d,f,g=b().t,p=V().appBarHeight,h=M().sourceId,j=o(_(),2),x=j[0],v=j[1],m=D(),S=U(),C=S.key,w=S.state,A=null!==(e=U().state)&&void 0!==e?e:{},I=A.contentType,O=void 0===I?0:I,E=A.clearCache,L=void 0!==E&&E,P=R().settings.hideLibraryEntries,J=o(l("source-grid-layout",i.Compact),1)[0],X=o(Z("query",te),1)[0],ae=o(G("source-mangas-".concat(h,"-filters"),[]),2),oe=ae[0],le=ae[1],ie=o(G("source-mangas-location-".concat(C,"-").concat(h,"-filters"),null!=oe?oe:[]),2),ue=ie[0],ce=ie[1],se=o(y.useState(ue),2),de=se[0],fe=se[1],ge=o(G("source-mangas-".concat(h,"-content-type"),O),2),pe=ge[0],he=ge[1],je=o(G("source-mangas-location-".concat(C,"-").concat(h,"-content-type"),X?2:pe),2),xe=je[0],ye=je[1],ve=Ie.usePersistState(Se),me=ve.key,Ee=ve.deleteState,Le=y.useCallback((function(){Ee(),window.scrollTo(0,0)}),[me]),Pe=y.useRef(X),Te=y.useRef((function(){}));Pe.current!==X&&2===xe&&(Pe.current=X,Te.current(new Error("SourceMangas(".concat(h,"): search string changed"))),Le());y.useEffect((function(){return function(){le(void 0),he(void 0)}}),[h]);var Ve=function(e){le(e),ce(e),Le()},Me=function(e){he(e),ye(e)},_e="".concat(xe).concat(JSON.stringify(ue)).concat(X),De=o(Qe(h,xe,X,ue,1,P),2),Ue=De[0],Re=De[1],Ge=Re.data,We=Re.error,Ye=Re.isLoading,$e=Re.size,Ke=Re.abortRequest,Xe=Re.filteredOutAllItemsOfFetchedPage;Te.current=Ke;var Ze=Ye||Xe,et=null!==(a=null==Ge||null===(c=Ge.fetchSourceManga)||void 0===c?void 0:c.mangas)&&void 0!==a?a:[],tt=!(null==Ge||null===(s=Ge.fetchSourceManga)||void 0===s||!s.hasNextPage),nt=B.useGetSource(N,h).data,rt=null==nt?void 0:nt.source,at=null!==(d=null==rt?void 0:rt.filters)&&void 0!==d?d:[],ot=Ce(null!=rt?rt:Ne).savedSearches,lt=void 0===ot?{}:ot,it=Fe(null!=rt?rt:{id:"-1"},(function(e){return K(g("global.error.label.failed_to_save_changes"),"error",Y(e))})),ut=y.useCallback((function(e){var t=lt[e],n=t.query,r=t.filters;r&&(fe(r),Ve(r)),n&&(x.set("query",n),v(x))}),[lt,w]),ct=y.useCallback((function(e,t){if("delete"===t){var a=n({},lt);return delete a[e],void it("savedSearches",a)}var o=n(n({},lt),{},r({},e,{query:null!=X?X:void 0,filters:de}));it("savedSearches",o)}),[lt,X,de]),st=Ze?void 0:g(Je[xe]),dt=h===ke.LOCAL_SOURCE_ID?u.jsxs(u.Fragment,{children:[u.jsxs("span",{children:[g("source.local_source.label.checkout")," "]}),u.jsx(Oe,{href:"https://github.com/Suwayomi/Suwayomi-Server/wiki/Local-Source",target:"_blank",rel:"noreferrer",children:g("source.local_source.label.guide")})]}):void 0,ft=y.useCallback((function(e,t){Me(e),Le(),X&&!t&&m({pathname:""},{state:n(n({},w),{},{contentType:e})})}),[Me,X,Le]);X&&2!==xe&&ft(2,X);var gt=y.useCallback((function(){tt&&Ue($e+1)}),[$e,tt,xe]);y.useEffect((function(){H("lastUsedSourceId",h).catch(T())}),[h]),y.useEffect((function(){Xe&&tt&&!Ye&&Ue($e+1)}),[Xe,Ye]),y.useEffect((function(){L&&($.REVALIDATION.includes(h)&&B.clearBrowseCacheFor(h))}),[L]),Ae(null!==(f=null==rt?void 0:rt.displayName)&&void 0!==f?f:g("source.title_one"),u.jsxs(u.Fragment,{children:[u.jsx(ee,{}),u.jsx(t,{}),(null==rt?void 0:rt.isConfigurable)&&u.jsx(F,{title:g("settings.title"),children:u.jsx(k,{onClick:function(){return m(z.sources.childRoutes.configure.path(h))},"aria-label":"display more actions",edge:"end",color:"inherit",children:u.jsx(q,{})})})]}),[rt]);var pt=et.length?W:we;return u.jsxs(ze,{children:[u.jsxs(He,{sx:{top:"".concat(p,"px")},children:[u.jsx(qe,{variant:0===xe?"contained":"outlined",startIcon:u.jsx(ne,{}),onClick:function(){return ft(0)},children:g("global.button.popular")}),void 0===(null==rt?void 0:rt.supportsLatest)||rt.supportsLatest?u.jsx(qe,{disabled:!(null!=rt&&rt.supportsLatest),variant:1===xe?"contained":"outlined",startIcon:u.jsx(Q,{}),onClick:function(){return ft(1)},children:g("global.button.latest")}):null,u.jsx(qe,{variant:2===xe?"contained":"outlined",startIcon:u.jsx(re,{}),onClick:function(){return ft(2,X)},children:g("global.button.filter")})]}),(Ze||!We||!!We&&!!et.length)&&u.jsx(be,{gridWrapperProps:{sx:{px:1,pb:1}},mangas:et,hasNextPage:tt,loadMore:gt,message:st,messageExtra:dt,isLoading:Ze,gridLayout:J,mode:"source",inLibraryIndicator:!0},_e),We&&u.jsx(pt,{message:g("global.error.label.failed_to_load_data"),messageExtra:Y(We),retry:function(){return Ue($e).catch(T())}}),2===xe&&u.jsx(Be,{savedSearches:lt,selectSavedSearch:ut,updateSavedSearches:ct,sourceFilter:at,updateFilterValue:fe,setTriggerUpdate:function(){Ve(de)},resetFilterValue:function(){fe([]),Ve([])},update:de})]})}));var Ee=c(u.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),Le=function(e){var t=e.state,n=e.name,r=e.position,l=e.group,i=e.updateFilterValue,c=e.update,d=o(s.useState(t),2),f=d[0],g=d[1];return void 0!==t?u.jsx(ue,{label:n,checked:f,onChange:function(e){g(e.target.checked);var t=c.filter((function(e){return!(r===e.position&&l===e.group)}));i([].concat(a(t),[{type:"checkBoxState",position:r,state:e.target.checked,group:l}]))}}):null},Pe=function(e){var t=e.name;return u.jsx(d,{sx:{mt:2},variant:"subtitle2",children:t},t)};var Te=function(e){return function(e,t,n,r,l,i,c){var d=o(s.useState(n),2),g=d[0],p=d[1];if(e){var h=e.map((function(e){return u.jsx(f,{value:e,children:e},"".concat(t," ").concat(e))}));return u.jsxs(ce,{sx:{my:1},variant:"standard",children:[u.jsx(se,{children:t}),u.jsx(de,{name:t,value:e[g],label:t,onChange:function(t){var n=e.indexOf("".concat(t.target.value));p(n);var o=i.filter((function(e){return!(r===e.position&&c===e.group)}));l([].concat(a(o),[{type:"selectState",position:r,state:n,group:c}]))},children:h})]})}return null}(e.values,e.name,e.state,e.position,e.updateFilterValue,e.update,e.group)},Ve=function(e){var t=e.values,n=e.name,r=e.state,l=e.position,i=e.group,c=e.updateFilterValue,d=e.update,f=o(s.useState(r),2),y=f[0],v=f[1],m=o(s.useState(!1),2),b=m[0],S=m[1];if(t){return u.jsxs(g,{sx:{mx:-2},children:[u.jsxs(p,{onClick:function(){S(!b)},children:[u.jsx(h,{primary:n}),b?u.jsx(pe,{}):u.jsx(he,{})]}),u.jsx(j,{in:b,children:u.jsx(x,{sx:{mx:4},children:t.map((function(e,t){return u.jsx(le,{label:e,checked:y.index===t,sortDescending:!y.ascending,onClick:function(){return function(e){var t=y;t.index===e?t.ascending=!t.ascending:t.ascending=!0,t.index=e,v(t);var n=d.filter((function(e){return!(l===e.position&&i===e.group)}));c([].concat(a(n),[{type:"sortState",position:l,state:t,group:i}]))}(t)}},"".concat(n," ").concat(e))}))})})]})}return null},Me=function(e){var t=e.state,n=e.name,r=e.position,l=e.group,i=e.updateFilterValue,c=e.update,d=o(s.useState(t||""),2),f=d[0],g=d[1],p=je(f,500);return y.useEffect((function(){var e=c.filter((function(e){return!(r===e.position&&l===e.group)}));i([].concat(a(e),[{type:"textState",position:r,state:p,group:l}]))}),[p]),void 0!==t?u.jsxs(ce,{sx:{my:1},variant:"standard",children:[u.jsx(se,{children:n}),u.jsx(fe,{name:n,value:f,onChange:function(e){var t=e.target.value;return g(t)},endAdornment:u.jsx(xe,{position:"end",children:u.jsx(X,{})})})]}):null},_e=function(e){switch(e){case 0:return v.Ignore;case 1:return v.Include;case 2:return v.Exclude;default:throw new Error("Unexpected state number ".concat(e))}},De=function(e){var t=e.state,n=e.name,r=e.position,l=e.group,i=e.updateFilterValue,c=e.update,d=o(s.useState(function(e){switch(e){case v.Ignore:return 0;case v.Include:return 1;case v.Exclude:return 2;default:throw new Error("Unexpected TriState ".concat(e))}}(t)),2),f=d[0],g=d[1];return void 0!==t?u.jsx(ye,{label:n,checked:[void 0,!0,!1][f],onChange:function(e){return function(e){var t=void 0===e?0:e?1:2;g(t);var n=c.filter((function(e){return!(r===e.position&&l===e.group)}));i([].concat(a(n),[{type:"triState",position:r,state:_e(t),group:l}]))}(e)}}):null},Ue=function(e){var t=e.state,n=e.name,r=e.position,a=e.updateFilterValue,l=e.update,i=o(s.useState(!1),2),c=i[0],d=i[1];return u.jsxs(g,{sx:{mx:-2},children:[u.jsxs(p,{onClick:function(){return d(!c)},children:[u.jsx(h,{primary:n}),c?u.jsx(pe,{}):u.jsx(he,{})]}),u.jsx(j,{in:c,children:u.jsx(x,{sx:{mx:4},children:u.jsx(Ge,{sourceFilter:t,group:r,updateFilterValue:a,update:l})})})]})},Re=function(e){var t=e.name;return u.jsx(m,{sx:{my:1},textAlign:"center",children:t},t)};function Ge(e){var t=e.sourceFilter,n=e.group,r=e.updateFilterValue,a=e.update;return u.jsx(x,{children:t.map((function(e,t){var o,l,i=a.find((function(e){return e.group===n&&e.position===t}));switch(i=i?i.state:i,e.type){case"CheckBoxFilter":return u.jsx(Le,{name:e.name,state:null!=i?i:e.CheckBoxFilterDefault,position:t,group:n,updateFilterValue:r,update:a},"filters ".concat(e.name));case"GroupFilter":return u.jsx(Ue,{name:e.name,state:e.filters,position:t,updateFilterValue:r,update:a},"filters ".concat(e.name));case"HeaderFilter":return u.jsx(Pe,{name:e.name},"filters ".concat(e.name));case"SelectFilter":return u.jsx(Te,{name:e.name,values:e.values,state:null!=i?parseInt(i,10):e.SelectFilterDefault,position:t,group:n,updateFilterValue:r,update:a},"filters ".concat(e.name));case"SeparatorFilter":return u.jsx(Re,{name:e.name},"filters ".concat(e.name));case"SortFilter":return u.jsx(Ve,{name:e.name,values:e.values,state:null!=i?i:{ascending:null===(o=e.SortFilterDefault)||void 0===o?void 0:o.ascending,index:null===(l=e.SortFilterDefault)||void 0===l?void 0:l.index},position:t,group:n,updateFilterValue:r,update:a},"filters ".concat(e.name));case"TextFilter":return u.jsx(Me,{name:e.name,state:null!=i?i:e.TextFilterDefault,position:t,group:n,updateFilterValue:r,update:a},"filters ".concat(e.name));case"TriStateFilter":return u.jsx(De,{name:e.name,state:null!=i?i:e.TriStateFilterDefault,position:t,group:n,updateFilterValue:r,update:a},"filters ".concat(e.name));default:throw new Error('Unknown source filter "'.concat(e,'"'))}}))},"filters ".concat(n))}function Be(e){var t=e.savedSearches,r=void 0===t?{}:t,a=e.selectSavedSearch,l=e.updateSavedSearches,i=e.sourceFilter,c=e.updateFilterValue,s=e.resetFilterValue,f=e.setTriggerUpdate,p=e.update,h=b().t,j=o(y.useState(!1),2),v=j[0],m=j[1],V=o(y.useState(""),2),M=V[0],_=V[1],D=Object.keys(r),U=!!D.length;return u.jsxs(u.Fragment,{children:[u.jsxs(ve,{onClick:function(){return m(!v)},variant:"extended",color:"primary",children:[u.jsx(re,{}),h("global.button.filter")]}),u.jsxs(ie,{open:v,onClose:function(){return m(!1)},children:[u.jsxs(g,{sx:{p:2,pb:U?void 0:0},children:[u.jsxs(g,{sx:{display:"flex",pb:1},children:[u.jsx(S,{onClick:function(){s(0),m(!1)},children:h("global.button.reset")}),u.jsx(C,{variant:"dialog",popupId:"source-browse-save-search",children:function(e){return u.jsxs(u.Fragment,{children:[u.jsx(F,{title:h("source.filter.save_search.label.save"),children:u.jsx(k,n(n({sx:{marginLeft:"auto"}},w(e)),{},{children:u.jsx(Ee,{})}))}),u.jsxs(A,n(n({},I(e)),{},{maxWidth:"xs",fullWidth:!0,children:[u.jsx(O,{children:h("source.filter.save_search.dialog.label.title")}),u.jsx(E,{children:u.jsx(ge,{sx:{width:"100%"},value:M,onChange:function(e){return _(e.target.value)},slotProps:{htmlInput:{maxLength:50}}})}),u.jsxs(L,{children:[u.jsx(S,{onClick:function(){_(""),e.close()},children:h("global.button.cancel")}),u.jsx(S,{onClick:function(){l(M,"create"),_(""),e.close()},children:h("global.button.ok")})]})]}))]})}}),u.jsx(S,{variant:"contained",onClick:function(){f(0),m(!1)},children:h("global.button.submit")})]}),U&&u.jsxs(u.Fragment,{children:[u.jsx(d,{sx:{pb:1},children:"Saved searches"}),u.jsx(x,{sx:{flexDirection:"row"},children:D.map((function(e){return u.jsx(me,{label:e,onClick:function(){m(!1),a(e)},onDelete:function(){P({title:h("global.label.are_you_sure"),message:h("source.filter.save_search.dialog.label.delete",{name:e}),actions:{confirm:{title:h("global.button.delete")}}}).then((function(){return l(e,"delete")})).catch(T())},deleteIcon:u.jsx(F,{title:h("source.filter.save_search.label.delete"),children:u.jsx(oe,{})}),variant:"outlined"})}))})]})]}),u.jsx(g,{sx:{pb:2,mx:2},children:u.jsx(Ge,{sourceFilter:i,updateFilterValue:c,group:void 0,update:p})})]})]})}var Ne={id:"-1"},He=J("div")((function(e){var t=e.theme;return{display:"flex",position:"sticky",width:"100%",zIndex:1,padding:t.spacing(1),gap:t.spacing(1),backgroundColor:t.palette.background.default}})),qe=J(S)((function(){return{}})),ze=J(g)((function(){return{minHeight:"100%",position:"relative"}})),We=e("SourceContentType",function(e){return e[e.POPULAR=0]="POPULAR",e[e.LATEST=1]="LATEST",e[e.SEARCH=2]="SEARCH",e}(We||{})),Je=r(r(r({},0,"manga.error.label.no_mangas_found"),1,"manga.error.label.no_mangas_found"),2,"manga.error.label.no_matches"),Qe=function(e,t,o,l,i,u){var c,s;switch(t){case 0:s=B.useGetSourcePopularMangas(e,i);break;case 1:s=B.useGetSourceLatestMangas(e,i);break;case 2:s=B.useSourceSearch(e,null!=o?o:"",l.map((function(e){var t=e.position,n=e.state,a=e.group;return void 0!==a?{position:a,groupChange:r({position:t},e.type,n)}:r({position:t},e.type,n)})),i);break;default:throw new Error('Unknown ContentType "'.concat(t,'"'))}var d=s[1],f=d.findLastIndex((function(e){var t;return!(null===(t=e.data)||void 0===t||!t.fetchSourceManga)})),g=d[f],p=d.slice(-1)[0].isLoading,h=!p,j=y.useMemo((function(){var e=[];return d.forEach((function(t,n){var r,o,l,i,c,s=null!==(r=null===(o=t.data)||void 0===o||null===(o=o.fetchSourceManga)||void 0===o?void 0:o.mangas)&&void 0!==r?r:[],f=s.filter((function(e){return!u||!e.inLibrary})),g=(l=[].concat(a(e),a(f)),i={},c=[],l.forEach((function(e){i[e.id]||(i[e.id]=e,c.push(e))})),c),j=!p&&d.length===n+1;h=j&&!f.length&&!!s.length,e=g})),e}),[d,u]);return-1===f?[s[0],n(n({},s[1][s[1].length-1]),{},{filteredOutAllItemsOfFetchedPage:h})]:[s[0],n(n({},d[d.length-1]),{},{data:n(n({},g.data),{},{fetchSourceManga:n(n({},g.data.fetchSourceManga),{},{hasNextPage:!(d.length>f+1)&&!(null===(c=g.data.fetchSourceManga)||void 0===c||!c.hasNextPage),mangas:j})}),filteredOutAllItemsOfFetchedPage:h})]}}}}))}();
