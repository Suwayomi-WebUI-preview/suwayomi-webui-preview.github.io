var St=Object.freeze,Sa=Object.defineProperty;var Tt=(e,t)=>St(Sa(e,"raw",{value:St(t||e.slice())}));import{bT as Ta,bU as ja,bV as Aa,ao as jt,bW as Oa,bX as Ea,c as ht,j as n,I as $e,u as me,S as ie,r as pe,B as xe,aJ as ge,aK as be,b as h,bF as Fa,a0 as B,aL as le,aM as ce,M as Ia,w as pt,af as Na,ag as Ra,C as Ht,bS as Wt,ak as _a,T as Oe,bY as La,k as ft,bZ as Va,ay as $a,a5 as mt,a3 as gt,bD as Ba,b_ as Ya,ai as Ha,n as Je,am as Wa,e as Ut,g as je,f as Be,E as Ua,m as Ae,aR as Q,ad as zt,b$ as Gt,c0 as Kt,aP as qt,aN as bt,c1 as za,aS as Ne,aU as yt,aQ as Re,c2 as Qt,c3 as Xt,aO as Ga,aV as Zt,aW as i,an as Ka,aD as Jt,p as qa,aX as lt,i as ea,q as ta,aI as Ge,a7 as Qa,ar as Ct,ac as Xa,d as Za,c4 as Ja,c5 as es,A as ts,az as as,a as ss,c6 as ns,_ as At,c7 as os,c8 as rs,a8 as is,bt as ls,c9 as cs,a1 as Ke}from"./index-G46Fdggo.js";import{C as aa,P as ds,T as De,a as us,D as ct,b as hs,U as Ot}from"./Trackers-COtG7wmP.js";import{C as Xe}from"./Card-DanTl0nA.js";import{C as Ze}from"./ListCardContent-Pa215Vat.js";import{A as sa}from"./Avatar-DUmUcl_c.js";import{E as Et}from"./EmptyViewAbsoluteCentered-CovG7djH.js";import{T as ps}from"./TextField-BRgOKGna.js";import{I as na}from"./InputAdornment-BS64HwSB.js";import{C as fs}from"./CheckCircle-D3a999rX.js";import{M as dt}from"./Metadata-DOmjq81n.js";import{M as oa}from"./MUI.util-CYBuX_Wz.js";import{C as ms}from"./CardActionArea-OGaoKLza.js";import{L as ra}from"./Link-Ctw05YYq.js";import{k as gs,M as bs,l as ys,m as Cs}from"./useManageMangaLibraryState-CXKmNnsM.js";import{L as Ds}from"./ListPreference-BhYC9fD9.js";import{N as xs}from"./NumberSetting-CnP08o-H.js";import{e as de,f as ae,u as ee,j as ws,b as et,i as Ms,N as Dt,_ as C,n as vs,s as fe,O as ks,Q as Ft,a as Ps,o as Ss,d as Ts,g as js,P as As,R as Os,S as xt,T as Ye,p as ke,U as tt,V as He,t as at,W as Es,r as wt,X as Fs,Y as ia,Z as Is,$ as Ns,a0 as Rs,y as _s,a1 as Ls,v as Vs,a2 as $s,a3 as Bs,x as Ys,a4 as Hs,a5 as It,F as la,G as Ws,H as ca,I as Us,J as zs,L as Gs,K as Ks}from"./useMobilePicker-oWkqoc7c.js";import{S as qs}from"./SelectSetting-ChFryBwm.js";import{C as Qs}from"./CheckboxInput-CR2fS89x.js";import{F as Xs}from"./FormGroup-BwKYwlqA.js";function Zs(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Js(e,t){e.classList?e.classList.add(t):Zs(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Nt(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function en(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Nt(e.className,t):e.setAttribute("class",Nt(e.className&&e.className.baseVal||"",t))}var tn=function(t,a){return t&&a&&a.split(" ").forEach(function(s){return Js(t,s)})},ut=function(t,a){return t&&a&&a.split(" ").forEach(function(s){return en(t,s)})},Mt=function(e){Ta(t,e);function t(){for(var s,o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];return s=e.call.apply(e,[this].concat(c))||this,s.appliedClasses={appear:{},enter:{},exit:{}},s.onEnter=function(l,r){var u=s.resolveArguments(l,r),p=u[0],b=u[1];s.removeClasses(p,"exit"),s.addClass(p,b?"appear":"enter","base"),s.props.onEnter&&s.props.onEnter(l,r)},s.onEntering=function(l,r){var u=s.resolveArguments(l,r),p=u[0],b=u[1],g=b?"appear":"enter";s.addClass(p,g,"active"),s.props.onEntering&&s.props.onEntering(l,r)},s.onEntered=function(l,r){var u=s.resolveArguments(l,r),p=u[0],b=u[1],g=b?"appear":"enter";s.removeClasses(p,g),s.addClass(p,g,"done"),s.props.onEntered&&s.props.onEntered(l,r)},s.onExit=function(l){var r=s.resolveArguments(l),u=r[0];s.removeClasses(u,"appear"),s.removeClasses(u,"enter"),s.addClass(u,"exit","base"),s.props.onExit&&s.props.onExit(l)},s.onExiting=function(l){var r=s.resolveArguments(l),u=r[0];s.addClass(u,"exit","active"),s.props.onExiting&&s.props.onExiting(l)},s.onExited=function(l){var r=s.resolveArguments(l),u=r[0];s.removeClasses(u,"exit"),s.addClass(u,"exit","done"),s.props.onExited&&s.props.onExited(l)},s.resolveArguments=function(l,r){return s.props.nodeRef?[s.props.nodeRef.current,l]:[l,r]},s.getClassNames=function(l){var r=s.props.classNames,u=typeof r=="string",p=u&&r?r+"-":"",b=u?""+p+l:r[l],g=u?b+"-active":r[l+"Active"],f=u?b+"-done":r[l+"Done"];return{baseClassName:b,activeClassName:g,doneClassName:f}},s}var a=t.prototype;return a.addClass=function(o,c,d){var l=this.getClassNames(c)[d+"ClassName"],r=this.getClassNames("enter"),u=r.doneClassName;c==="appear"&&d==="done"&&u&&(l+=" "+u),d==="active"&&o&&ja(o),l&&(this.appliedClasses[c][d]=l,tn(o,l))},a.removeClasses=function(o,c){var d=this.appliedClasses[c],l=d.base,r=d.active,u=d.done;this.appliedClasses[c]={},l&&ut(o,l),r&&ut(o,r),u&&ut(o,u)},a.render=function(){var o=this.props;o.classNames;var c=Aa(o,["classNames"]);return jt.createElement(Oa,Ea({},c,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(jt.Component);Mt.defaultProps={classNames:""};Mt.propTypes={};const an=ht(n.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),sn=({onCancel:e,cancelButtonProps:t,...a})=>{var s,o;return n.jsx(ps,{...a,slotProps:{input:{...a.InputProps,sx:{color:"inherit"},endAdornment:(o=(s=a.InputProps)==null?void 0:s.endAdornment)!=null?o:n.jsx(na,{position:"end",children:n.jsx($e,{...t,onClick:()=>e(),children:n.jsx(an,{})})})}}})},Dr=ht(n.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"})),xr=ht(n.jsx("path",{d:"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z"})),nn=({tracker:e,onClick:t})=>{const{t:a}=me();return n.jsx(Xe,{sx:aa,children:n.jsx(Ze,{sx:{padding:"0"},children:n.jsxs(ie,{direction:"row",sx:{gap:3},children:[n.jsx(sa,{alt:"".concat(e.name),src:pe.getValidImgUrlFor(e.icon),variant:"rounded",sx:{width:64,height:64}}),n.jsx(xe,{sx:{flexGrow:"1"},onClick:t,children:a("tracking.action.button.add_tracking")})]})})})};function on(e){return ge("MuiCardMedia",e)}be("MuiCardMedia",["root","media","img"]);const rn=e=>{const{classes:t,isMediaComponent:a,isImageComponent:s}=e;return ce({root:["root",a&&"media",s&&"img"]},on,t)},ln=B("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e,{isMediaComponent:s,isImageComponent:o}=a;return[t.root,s&&t.media,o&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),cn=["video","audio","picture","iframe","img"],dn=["picture","img"],un=h.forwardRef(function(t,a){const s=Fa({props:t,name:"MuiCardMedia"}),{children:o,className:c,component:d="div",image:l,src:r,style:u,...p}=s,b=cn.includes(d),g=!b&&l?{backgroundImage:'url("'.concat(l,'")'),...u}:u,f={...s,component:d,isMediaComponent:b,isImageComponent:dn.includes(d)},x=rn(f);return n.jsx(ln,{className:le(x.root,c),as:d,role:!b&&l?"img":void 0,ref:a,style:g,ownerState:f,src:b?l||r:void 0,...p,children:o})}),hn=({title:e,selected:t})=>n.jsxs(ie,{direction:"row",sx:{gap:"5px",justifyContent:"space-between"},children:[n.jsx(Ht,{title:e,children:n.jsx(Wt,{variant:"h5",component:"h1",children:e})}),n.jsx(fs,{sx:{visibility:t?"visible":"hidden"},color:"primary"})]}),Rt=50,pn=({summary:e})=>{const{t}=me(),a=h.useRef(null),[s,o]=h.useState(!1),[c,d]=h.useState(!1),l=c?Rt:0;return h.useLayoutEffect(()=>{var u,p;const r=((p=(u=a.current)==null?void 0:u.clientHeight)!=null?p:0)>Rt;d(r),o(!r)},[]),n.jsxs(n.Fragment,{children:[e.length&&n.jsx(_a,{collapsedSize:l,in:s,children:n.jsx(Oe,{ref:a,variant:"body1",component:"p",sx:{whiteSpace:"pre-line"},children:e})}),e.length&&c&&n.jsx(xe,{component:"div",...oa.preventRippleProp(),onClick:r=>{r.stopPropagation(),o(!s)},children:t(s?"global.button.show_less":"global.button.show_more")})]})},_t=({children:e,url:t})=>n.jsx(ra,{...oa.preventRippleProp(),href:t,rel:"noreferrer",target:"_blank",underline:"none",color:"inherit",onClick:a=>a.stopPropagation(),children:e}),fn=({manga:e,selected:t,onSelect:a})=>{const{t:s}=me(),o=Ia.useIsMobileWidth();return n.jsx(Xe,{sx:{backgroundColor:"background.default",marginBottom:2,"&:last-child":{marginBottom:8}},children:n.jsx(ms,{onClick:a,children:n.jsx(Ze,{sx:{padding:"0",borderRadius:"inherit"},children:n.jsxs(pt,{sx:{padding:1,border:"3px solid",borderRadius:"inherit",borderColor:t?"primary.main":"transparent"},children:[n.jsxs(ie,{direction:"row",sx:{gap:2,marginBottom:2},children:[n.jsx(un,{sx:{aspectRatio:Na,minWidth:"100px",width:"150px",borderRadius:1,overflow:"hidden"},children:n.jsx(_t,{url:e.trackingUrl,children:n.jsx(Ra,{useFetchApi:!1,disableCors:!0,alt:e.title,src:e.coverUrl,spinnerStyle:{width:"100%",height:"100%"},imgStyle:{width:"100%",height:o?void 0:"100%",maxHeight:"100%",objectFit:"cover"}})})}),n.jsxs(ie,{direction:"column",sx:{width:"100%"},children:[n.jsx(_t,{url:e.trackingUrl,children:n.jsx(hn,{title:e.title,selected:t})}),e.publishingType&&n.jsx(dt,{title:s("global.label.type"),value:s(ds[De.getPublishingType(e)])}),e.startDate&&n.jsx(dt,{title:s("global.label.started"),value:e.startDate}),e.publishingStatus&&n.jsx(dt,{title:s("manga.label.status"),value:s(us[De.getPublishingStatus(e)])})]})]}),n.jsx(pn,{summary:e.summary})]})})})})},mn=({manga:e,tracker:t,closeSearchMode:a,trackedId:s})=>{var y,R;const{t:o}=me(),c=La(),[d,l]=h.useState(e.title),[r,u]=h.useState(d),[p,b]=h.useState(s),g=pe.useTrackerSearch(t.id,d,{notifyOnNetworkStatusChange:!0}),f=(R=(y=g.data)==null?void 0:y.searchTracker.trackSearches)!=null?R:[],x=!!f.length,S=!g.loading&&!g.error&&!x,m=!!g.error&&!g.loading;h.useEffect(()=>(b(s),()=>g.abortRequest(new Error("MangaTrackerSearchCard(".concat(t.id,", ").concat(e.id,"): search changed")))),[d]);const[O,v]=pe.useBindTracker(),Y=h.useMemo(()=>!!p&&!!f.find(w=>w.remoteId===p),[p,f])&&!m,j=()=>{p!==void 0&&O({variables:{mangaId:e.id,remoteId:p,trackerId:t.id}}).then(()=>{Ae(o("manga.action.track.add.label.success"),"success"),a()}).catch(w=>Ae(o("manga.action.track.add.label.error"),"error",je(w)))};return n.jsxs(n.Fragment,{children:[n.jsx(ft,{sx:{padding:ct},children:n.jsxs(ie,{direction:"row",sx:{gap:"10px",alignItems:"center"},children:[n.jsx($e,{onClick:a,children:c(n.jsx(Va,{}),n.jsx($a,{}))}),n.jsx(sn,{sx:{width:"100%"},variant:"standard",value:r,onChange:w=>u(w.target.value),onKeyDown:w=>{w.key==="Enter"&&l(r)},onCancel:()=>u(""),InputProps:{startAdornment:t.id===hs.MYANIMELIST&&n.jsx(na,{position:"start",children:n.jsx(mt,{variant:"popover",popupId:"tracker-search-info",children:w=>n.jsxs(n.Fragment,{children:[n.jsx($e,{...gt(w),color:"inherit",children:n.jsx(Ba,{})}),n.jsx(Ya,{...Ha(w),anchorOrigin:{vertical:"bottom",horizontal:"left"},children:n.jsx(Oe,{sx:{padding:1,whiteSpace:"pre-line"},children:o("tracking.my_anime_list.search.label.hint")})})]})})})}})]})}),n.jsxs(Je,{dividers:!0,sx:{padding:ct,height:"100vh",...Wa(S||m,{position:"relative"})},children:[S&&n.jsx(Et,{message:o("manga.error.label.no_mangas_found")}),g.loading&&n.jsx(Ut,{}),m&&n.jsx(Et,{message:o("global.error.label.failed_to_load_data"),messageExtra:je(g.error),retry:()=>g.refetch().catch(Be())}),n.jsx(Ua,{sx:{padding:0},children:x&&f.map(w=>n.jsx(fn,{manga:w,selected:w.remoteId===p,onSelect:()=>b(w.remoteId)},w.id))}),Y&&n.jsx(ie,{direction:"row",sx:{justifyContent:"center",position:"absolute",left:0,right:0,bottom:0,paddingBottom:ct},children:n.jsx(xe,{disabled:v.loading,size:"large",variant:"contained",onClick:j,sx:{width:"75%"},children:o("manga.action.track.add.label.action")})})]})]})};function gn(e){return ge("MuiDatePickerToolbar",e)}be("MuiDatePickerToolbar",["root","title"]);const bn=["toolbarFormat","toolbarPlaceholder","className","classes"],yn=e=>ce({root:["root"],title:["title"]},gn,e),Cn=B(vs,{name:"MuiDatePickerToolbar",slot:"Root"})({}),Dn=B(Oe,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),xn=h.forwardRef(function(t,a){const s=de({props:t,name:"MuiDatePickerToolbar"}),{toolbarFormat:o,toolbarPlaceholder:c="––",className:d,classes:l}=s,r=ae(s,bn),u=ee(),{value:p,views:b,orientation:g}=ws(),f=et(),x=Ms(),S=yn(l),m=h.useMemo(()=>{if(!u.isValid(p))return c;const O=Dt(u,{format:o,views:b},!0);return u.formatByString(p,O)},[p,o,c,u,b]);return n.jsx(Cn,C({ref:a,toolbarTitle:f.datePickerToolbarTitle,className:le(S.root,d)},r,{children:n.jsx(Dn,{variant:"h4",align:g==="landscape"?"left":"center",ownerState:x,className:S.title,children:m})}))}),We=({props:e,value:t,timezone:a,adapter:s})=>{if(t===null)return null;const{shouldDisableDate:o,shouldDisableMonth:c,shouldDisableYear:d,disablePast:l,disableFuture:r,minDate:u,maxDate:p}=e,b=s.date(void 0,a);switch(!0){case!s.isValid(t):return"invalidDate";case!!(o&&o(t)):return"shouldDisableDate";case!!(c&&c(t)):return"shouldDisableMonth";case!!(d&&d(t)):return"shouldDisableYear";case!!(r&&s.isAfterDay(t,b)):return"disableFuture";case!!(l&&s.isBeforeDay(t,b)):return"disablePast";case!!(u&&s.isBeforeDay(t,u)):return"minDate";case!!(p&&s.isAfterDay(t,p)):return"maxDate";default:return null}};We.valueManager=fe;function wn(e={}){const{enableAccessibleFieldDOMStructure:t=!0}=e;return h.useMemo(()=>({valueType:"date",validator:We,internal_valueManager:fe,internal_fieldValueManager:Ps,internal_enableAccessibleFieldDOMStructure:t,internal_useApplyDefaultValuesToFieldInternalProps:vn,internal_useOpenPickerButtonAriaLabel:Mn}),[t])}function Mn(e){const t=ee(),a=et();return h.useMemo(()=>{const s=t.isValid(e)?t.format(e,"fullDate"):null;return a.openDatePickerDialogue(s)},[e,a,t])}function vn(e){const t=ee(),a=Ue(e);return h.useMemo(()=>{var s;return C({},e,a,{format:(s=e.format)!=null?s:t.formats.keyboardDate})},[e,a,t])}function Ue(e){const t=ee(),a=ks();return h.useMemo(()=>{var s,o;return{disablePast:(s=e.disablePast)!=null?s:!1,disableFuture:(o=e.disableFuture)!=null?o:!1,minDate:Ft(t,e.minDate,a.minDate),maxDate:Ft(t,e.maxDate,a.maxDate)}},[e.minDate,e.maxDate,e.disableFuture,e.disablePast,t,a])}function da(e,t){const a=de({props:e,name:t}),s=Ue(a),o=h.useMemo(()=>{var c;return((c=a.localeText)==null?void 0:c.toolbarTitle)==null?a.localeText:C({},a.localeText,{datePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return C({},a,s,{localeText:o},Ss({views:a.views,openTo:a.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:C({toolbar:xn},a.slots)})}const kn=e=>{const t=wn(e);return Ts({manager:t,props:e})},Pn=["slots","slotProps"],ua=h.forwardRef(function(t,a){const s=de({props:t,name:"MuiDateField"}),{slots:o,slotProps:c}=s,d=ae(s,Pn),l=js({slotProps:c,ref:a,externalForwardedProps:d}),r=kn(l);return n.jsx(As,{slots:o,slotProps:c,fieldResponse:r,defaultOpenPickerIcon:Os})}),ha=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:a,minDate:s,maxDate:o,disableFuture:c,disablePast:d,timezone:l})=>{const r=ee();return h.useCallback(u=>We({adapter:r,value:u,timezone:l,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:a,minDate:s,maxDate:o,disableFuture:c,disablePast:d}})!==null,[r,e,t,a,s,o,c,d,l])},Sn=(e,t)=>(a,s)=>{switch(s.type){case"setVisibleDate":return C({},a,{slideDirection:s.direction,currentMonth:s.month,isMonthSwitchingAnimating:!t.isSameMonth(s.month,a.currentMonth)&&!e&&!s.skipAnimation,focusedDay:s.focusedDay});case"changeMonthTimezone":{const o=s.newTimezone;if(t.getTimezone(a.currentMonth)===o)return a;let c=t.setTimezone(a.currentMonth,o);return t.getMonth(c)!==t.getMonth(a.currentMonth)&&(c=t.setMonth(c,t.getMonth(a.currentMonth))),C({},a,{currentMonth:c})}case"finishMonthSwitchingAnimation":return C({},a,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},Tn=e=>{const{value:t,referenceDate:a,disableFuture:s,disablePast:o,maxDate:c,minDate:d,onMonthChange:l,onYearChange:r,reduceAnimations:u,shouldDisableDate:p,timezone:b,getCurrentMonthFromVisibleDate:g}=e,f=ee(),x=h.useRef(Sn(!!u,f)).current,S=h.useMemo(()=>fe.getInitialReferenceValue({value:t,adapter:f,timezone:b,props:e,referenceDate:a,granularity:xt.day}),[a,b]),[m,O]=h.useReducer(x,{isMonthSwitchingAnimating:!1,focusedDay:S,currentMonth:f.startOfMonth(S),slideDirection:"left"}),v=ha({shouldDisableDate:p,minDate:d,maxDate:c,disableFuture:s,disablePast:o,timezone:b});h.useEffect(()=>{O({type:"changeMonthTimezone",newTimezone:f.getTimezone(S)})},[S,f]);const Y=Q(({target:y,reason:R})=>{if(R==="cell-interaction"&&m.focusedDay!=null&&f.isSameDay(y,m.focusedDay))return;const w=R==="cell-interaction";let V,E;if(R==="cell-interaction")V=g(y,m.currentMonth),E=y;else if(V=f.isSameMonth(y,m.currentMonth)?m.currentMonth:f.startOfMonth(y),E=y,v(E)){const F=f.startOfMonth(y),G=f.endOfMonth(y);E=Ye({adapter:f,date:E,minDate:f.isBefore(d,F)?F:d,maxDate:f.isAfter(c,G)?G:c,disablePast:o,disableFuture:s,isDateDisabled:v,timezone:b})}const _=!f.isSameMonth(m.currentMonth,V),A=!f.isSameYear(m.currentMonth,V);_&&(l==null||l(V)),A&&(r==null||r(f.startOfYear(V))),O({type:"setVisibleDate",month:V,direction:f.isAfterDay(V,m.currentMonth)?"left":"right",focusedDay:m.focusedDay!=null&&E!=null&&f.isSameDay(E,m.focusedDay)?m.focusedDay:E,skipAnimation:w})}),j=h.useCallback(()=>{O({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:S,calendarState:m,setVisibleDate:Y,isDateDisabled:v,onMonthSwitchingAnimationEnd:j}},jn=e=>ge("MuiPickersFadeTransitionGroup",e);be("MuiPickersFadeTransitionGroup",["root"]);const An=["children"],On=e=>ce({root:["root"]},jn,e),En=B(Kt,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function pa(e){const t=de({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:a,reduceAnimations:s,transKey:o,classes:c}=t,{children:d}=t,l=ae(t,An),r=On(c),u=zt();return s?d:n.jsx(En,{className:le(r.root,a),ownerState:l,children:n.jsx(Gt,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:u.transitions.duration.enteringScreen,enter:u.transitions.duration.enteringScreen,exit:0},children:d},o)})}function Fn(e){return ge("MuiPickersDay",e)}const Te=be("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function fa(e){const{disabled:t,selected:a,today:s,outsideCurrentMonth:o,day:c,disableMargin:d,disableHighlightToday:l,showDaysOutsideCurrentMonth:r}=e,u=ee(),{ownerState:p}=ke();return h.useMemo(()=>C({},p,{day:c,isDaySelected:a!=null?a:!1,isDayDisabled:t!=null?t:!1,isDayCurrent:s!=null?s:!1,isDayOutsideMonth:o!=null?o:!1,isDayStartOfWeek:u.isSameDay(c,u.startOfWeek(c)),isDayEndOfWeek:u.isSameDay(c,u.endOfWeek(c)),disableMargin:d!=null?d:!1,disableHighlightToday:l!=null?l:!1,showDaysOutsideCurrentMonth:r!=null?r:!1}),[u,p,c,a,t,s,o,d,l,r])}const In=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],Nn=(e,t)=>{const{isDaySelected:a,isDayDisabled:s,isDayCurrent:o,isDayOutsideMonth:c,disableMargin:d,disableHighlightToday:l,showDaysOutsideCurrentMonth:r}=t,u=c&&!r;return ce({root:["root",a&&!u&&"selected",s&&"disabled",!d&&"dayWithMargin",!l&&o&&"today",c&&r&&"dayOutsideMonth",u&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Fn,e)},ma=({theme:e})=>C({},e.typography.caption,{width:He,height:He,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ne(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ne(e.palette.primary.main,e.palette.action.focusOpacity),["&.".concat(Te.selected)]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},["&.".concat(Te.selected)]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},["&.".concat(Te.disabled,":not(.").concat(Te.selected,")")]:{color:(e.vars||e).palette.text.disabled},["&.".concat(Te.disabled,"&.").concat(Te.selected)]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:"0 ".concat(tt,"px")}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{["&:not(.".concat(Te.selected,")")]:{border:"1px solid ".concat((e.vars||e).palette.text.secondary)}}}]}),ga=(e,t)=>{const{ownerState:a}=e;return[t.root,!a.disableMargin&&t.dayWithMargin,!a.disableHighlightToday&&a.isDayCurrent&&t.today,!a.isDayOutsideMonth&&a.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,a.isDayOutsideMonth&&!a.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Rn=B(za,{name:"MuiPickersDay",slot:"Root",overridesResolver:ga})(ma),_n=B("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:ga})(({theme:e})=>C({},ma({theme:e}),{opacity:0,pointerEvents:"none"})),Le=()=>{},Ln=h.forwardRef(function(t,a){const s=de({props:t,name:"MuiPickersDay"}),{autoFocus:o=!1,className:c,classes:d,isAnimating:l,onClick:r,onDaySelect:u,onFocus:p=Le,onBlur:b=Le,onKeyDown:g=Le,onMouseDown:f=Le,onMouseEnter:x=Le,children:S,day:m,selected:O,disabled:v,today:Y,outsideCurrentMonth:j,disableMargin:y,disableHighlightToday:R,showDaysOutsideCurrentMonth:w}=s,V=ae(s,In),E=fa({day:m,selected:O,disabled:v,today:Y,outsideCurrentMonth:j,disableMargin:y,disableHighlightToday:R,showDaysOutsideCurrentMonth:w}),_=Nn(d,E),A=ee(),F=h.useRef(null),G=qt(F,a);bt(()=>{o&&!v&&!l&&!j&&F.current.focus()},[o,v,l,j]);const H=D=>{f(D),j&&D.preventDefault()},W=D=>{v||u(m),j&&D.currentTarget.focus(),r&&r(D)};return j&&!w?n.jsx(_n,{className:le(_.root,_.hiddenDaySpacingFiller,c),ownerState:E,role:V.role}):n.jsx(Rn,C({className:le(_.root,c),ref:G,centerRipple:!0,disabled:v,tabIndex:O?0:-1,onKeyDown:D=>g(D,m),onFocus:D=>p(D,m),onBlur:D=>b(D,m),onMouseEnter:D=>x(D,m),onClick:W,onMouseDown:H},V,{ownerState:E,children:S!=null?S:A.format(m,"dayOfMonth")}))}),Vn=h.memo(Ln),$n=e=>ge("MuiPickersSlideTransition",e),re=be("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Bn=["children","className","reduceAnimations","slideDirection","transKey","classes"],Yn=(e,t)=>{const{slideDirection:a}=t,s={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:["slideEnter-".concat(a)],exitActive:["slideExitActiveLeft-".concat(a)]};return ce(s,$n,e)},Hn=B(Kt,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[".".concat(re["slideEnter-left"])]:t["slideEnter-left"]},{[".".concat(re["slideEnter-right"])]:t["slideEnter-right"]},{[".".concat(re.slideEnterActive)]:t.slideEnterActive},{[".".concat(re.slideExit)]:t.slideExit},{[".".concat(re["slideExitActiveLeft-left"])]:t["slideExitActiveLeft-left"]},{[".".concat(re["slideExitActiveLeft-right"])]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},["& .".concat(re["slideEnter-left"])]:{willChange:"transform",transform:"translate(100%)",zIndex:1},["& .".concat(re["slideEnter-right"])]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},["& .".concat(re.slideEnterActive)]:{transform:"translate(0%)",transition:t},["& .".concat(re.slideExit)]:{transform:"translate(0%)"},["& .".concat(re["slideExitActiveLeft-left"])]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},["& .".concat(re["slideExitActiveLeft-right"])]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function Wn(e){const t=de({props:e,name:"MuiPickersSlideTransition"}),{children:a,className:s,reduceAnimations:o,slideDirection:c,transKey:d,classes:l}=t,r=ae(t,Bn),{ownerState:u}=ke(),p=C({},u,{slideDirection:c}),b=Yn(l,p),g=zt();if(o)return n.jsx("div",{className:le(b.root,s),children:a});const f={exit:b.exit,enterActive:b.enterActive,enter:b.enter,exitActive:b.exitActive};return n.jsx(Hn,{className:le(b.root,s),childFactory:x=>h.cloneElement(x,{classNames:f}),role:"presentation",ownerState:p,children:n.jsx(Mt,C({mountOnEnter:!0,unmountOnExit:!0,timeout:g.transitions.duration.complex,classNames:f},r,{children:a}),d)})}const Un=e=>ge("MuiDayCalendar",e);be("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const zn=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Gn=["ownerState"],Kn=e=>ce({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Un,e),ba=(He+tt*2)*6,qn=B("div",{name:"MuiDayCalendar",slot:"Root"})({}),Qn=B("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),Xn=B(Oe,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),Zn=B(Oe,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),Jn=B(Oe,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>C({},e.typography.caption,{width:He,height:He,padding:0,margin:"0 ".concat(tt,"px"),color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),eo=B("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:ba}),to=B(Wn,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:ba}),ao=B("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),so=B("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:"".concat(tt,"px 0"),display:"flex",justifyContent:"center"});function no(e){var H;let{parentProps:t,day:a,focusedDay:s,selectedDays:o,isDateDisabled:c,currentMonthNumber:d,isViewFocused:l}=e,r=ae(e,zn);const{disabled:u,disableHighlightToday:p,isMonthSwitchingAnimating:b,showDaysOutsideCurrentMonth:g,slots:f,slotProps:x,timezone:S}=t,m=ee(),O=at(S),v=s!=null&&m.isSameDay(a,s),Y=l&&v,j=o.some(W=>m.isSameDay(W,a)),y=m.isSameDay(a,O),R=h.useMemo(()=>u||c(a),[u,c,a]),w=h.useMemo(()=>m.getMonth(a)!==d,[m,a,d]),V=fa({day:a,selected:j,disabled:R,today:y,outsideCurrentMonth:w,disableMargin:void 0,disableHighlightToday:p,showDaysOutsideCurrentMonth:g}),E=(H=f==null?void 0:f.day)!=null?H:Vn,_=Re({elementType:E,externalSlotProps:x==null?void 0:x.day,additionalProps:C({disableHighlightToday:p,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:b,"data-timestamp":m.toJsDate(a).valueOf()},r),ownerState:C({},V,{day:a,isDayDisabled:R,isDaySelected:j})}),A=ae(_,Gn),F=h.useMemo(()=>{const W=m.startOfMonth(m.setMonth(a,d));return g?m.isSameDay(a,m.startOfWeek(W)):m.isSameDay(a,W)},[d,a,g,m]),G=h.useMemo(()=>{const W=m.endOfMonth(m.setMonth(a,d));return g?m.isSameDay(a,m.endOfWeek(W)):m.isSameDay(a,W)},[d,a,g,m]);return n.jsx(E,C({},A,{day:a,disabled:R,autoFocus:!w&&Y,today:y,outsideCurrentMonth:w,isFirstVisibleCell:F,isLastVisibleCell:G,selected:j,tabIndex:v?0:-1,"aria-selected":j,"aria-current":y?"date":void 0}))}function oo(e){const t=de({props:e,name:"MuiDayCalendar"}),a=ee(),{onFocusedDayChange:s,className:o,classes:c,currentMonth:d,selectedDays:l,focusedDay:r,loading:u,onSelectedDaysChange:p,onMonthSwitchingAnimationEnd:b,readOnly:g,reduceAnimations:f,renderLoading:x=()=>n.jsx("span",{children:"..."}),slideDirection:S,TransitionProps:m,disablePast:O,disableFuture:v,minDate:Y,maxDate:j,shouldDisableDate:y,shouldDisableMonth:R,shouldDisableYear:w,dayOfWeekFormatter:V=M=>a.format(M,"weekdayShort").charAt(0).toUpperCase(),hasFocus:E,onFocusedViewChange:_,gridLabelId:A,displayWeekNumber:F,fixedWeekNumber:G,timezone:H}=t,W=at(H),D=Kn(c),I=yt(),X=ha({shouldDisableDate:y,shouldDisableMonth:R,shouldDisableYear:w,minDate:Y,maxDate:j,disablePast:O,disableFuture:v,timezone:H}),q=et(),te=Q(M=>{g||p(M)}),U=M=>{X(M)||(s(M),_==null||_(!0))},Z=Q((M,T)=>{switch(M.key){case"ArrowUp":U(a.addDays(T,-7)),M.preventDefault();break;case"ArrowDown":U(a.addDays(T,7)),M.preventDefault();break;case"ArrowLeft":{const k=a.addDays(T,I?1:-1),N=a.addMonths(T,I?1:-1),K=Ye({adapter:a,date:k,minDate:I?k:a.startOfMonth(N),maxDate:I?a.endOfMonth(N):k,isDateDisabled:X,timezone:H});U(K||k),M.preventDefault();break}case"ArrowRight":{const k=a.addDays(T,I?-1:1),N=a.addMonths(T,I?-1:1),K=Ye({adapter:a,date:k,minDate:I?a.startOfMonth(N):k,maxDate:I?k:a.endOfMonth(N),isDateDisabled:X,timezone:H});U(K||k),M.preventDefault();break}case"Home":U(a.startOfWeek(T)),M.preventDefault();break;case"End":U(a.endOfWeek(T)),M.preventDefault();break;case"PageUp":U(a.addMonths(T,1)),M.preventDefault();break;case"PageDown":U(a.addMonths(T,-1)),M.preventDefault();break}}),se=Q((M,T)=>U(T)),oe=Q((M,T)=>{r!=null&&a.isSameDay(r,T)&&(_==null||_(!1))}),we=a.getMonth(d),Me=a.getYear(d),ye=h.useMemo(()=>l.filter(M=>!!M).map(M=>a.startOfDay(M)),[a,l]),Ce="".concat(Me,"-").concat(we),z=h.useMemo(()=>h.createRef(),[Ce]),ne=h.useMemo(()=>{const M=a.getWeekArray(d);let T=a.addMonths(d,1);for(;G&&M.length<G;){const k=a.getWeekArray(T),N=a.isSameDay(M[M.length-1][0],k[0][0]);k.slice(N?1:0).forEach(K=>{M.length<G&&M.push(K)}),T=a.addMonths(T,1)}return M},[d,G,a]);return n.jsxs(qn,{role:"grid","aria-labelledby":A,className:D.root,children:[n.jsxs(Qn,{role:"row",className:D.header,children:[F&&n.jsx(Zn,{variant:"caption",role:"columnheader","aria-label":q.calendarWeekNumberHeaderLabel,className:D.weekNumberLabel,children:q.calendarWeekNumberHeaderText}),Es(a,W).map((M,T)=>n.jsx(Xn,{variant:"caption",role:"columnheader","aria-label":a.format(M,"weekday"),className:D.weekDayLabel,children:V(M)},T.toString()))]}),u?n.jsx(eo,{className:D.loadingContainer,children:x()}):n.jsx(to,C({transKey:Ce,onExited:b,reduceAnimations:f,slideDirection:S,className:le(o,D.slideTransition)},m,{nodeRef:z,children:n.jsx(ao,{ref:z,role:"rowgroup",className:D.monthContainer,children:ne.map((M,T)=>n.jsxs(so,{role:"row",className:D.weekContainer,"aria-rowindex":T+1,children:[F&&n.jsx(Jn,{className:D.weekNumber,role:"rowheader","aria-label":q.calendarWeekNumberAriaLabelText(a.getWeekNumber(M[0])),children:q.calendarWeekNumberText(a.getWeekNumber(M[0]))}),M.map((k,N)=>n.jsx(no,{parentProps:t,day:k,selectedDays:ye,isViewFocused:E,focusedDay:r,onKeyDown:Z,onFocus:se,onBlur:oe,onDaySelect:te,isDateDisabled:X,currentMonthNumber:we,"aria-colindex":N+1},k.toString()))]},"week-".concat(M[0])))})}))]})}function ya(e){return ge("MuiMonthCalendar",e)}const qe=be("MuiMonthCalendar",["root","button","disabled","selected"]),ro=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],io=(e,t)=>{const a={button:["button",t.isMonthDisabled&&"disabled",t.isMonthSelected&&"selected"]};return ce(a,ya,e)},lo=B("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{["&.".concat(qe.disabled)]:t.disabled},{["&.".concat(qe.selected)]:t.selected}]})(({theme:e})=>C({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ne(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ne(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},["&.".concat(qe.disabled)]:{color:(e.vars||e).palette.text.secondary},["&.".concat(qe.selected)]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),co=h.memo(function(t){var j;const{autoFocus:a,classes:s,disabled:o,selected:c,value:d,onClick:l,onKeyDown:r,onFocus:u,onBlur:p,slots:b,slotProps:g}=t,f=ae(t,ro),x=h.useRef(null),{ownerState:S}=ke(),m=C({},S,{isMonthDisabled:o,isMonthSelected:c}),O=io(s,m);bt(()=>{var y;a&&((y=x.current)==null||y.focus())},[a]);const v=(j=b==null?void 0:b.monthButton)!=null?j:lo,Y=Re({elementType:v,externalSlotProps:g==null?void 0:g.monthButton,externalForwardedProps:f,additionalProps:{disabled:o,ref:x,type:"button",role:"radio","aria-checked":c,onClick:y=>l(y,d),onKeyDown:y=>r(y,d),onFocus:y=>u(y,d),onBlur:y=>p(y,d)},ownerState:m,className:O.button});return n.jsx(v,C({},Y))}),uo=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],ho=e=>ce({root:["root"]},ya,e);function po(e,t){var o;const a=de({props:e,name:t}),s=Ue(a);return C({},a,s,{monthsPerRow:(o=a.monthsPerRow)!=null?o:3})}const fo=B("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>Xt(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:ia,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),mo=h.forwardRef(function(t,a){const s=po(t,"MuiMonthCalendar"),{autoFocus:o,className:c,classes:d,value:l,defaultValue:r,referenceDate:u,disabled:p,disableFuture:b,disablePast:g,maxDate:f,minDate:x,onChange:S,shouldDisableMonth:m,readOnly:O,onMonthFocus:v,hasFocus:Y,onFocusedViewChange:j,monthsPerRow:y,timezone:R,gridLabelId:w,slots:V,slotProps:E}=s,_=ae(s,uo),{value:A,handleValueChange:F,timezone:G}=wt({name:"MonthCalendar",timezone:R,value:l,defaultValue:r,referenceDate:u,onChange:S,valueManager:fe}),H=at(G),W=yt(),D=ee(),{ownerState:I}=ke(),X=h.useMemo(()=>fe.getInitialReferenceValue({value:A,adapter:D,props:s,timezone:G,referenceDate:u,granularity:xt.month}),[]),q=ho(d),te=h.useMemo(()=>D.getMonth(H),[D,H]),U=h.useMemo(()=>A!=null?D.getMonth(A):null,[A,D]),[Z,se]=h.useState(()=>U||D.getMonth(X)),[oe,we]=Qt({name:"MonthCalendar",state:"hasFocus",controlled:Y,default:o!=null?o:!1}),Me=Q(k=>{we(k),j&&j(k)}),ye=h.useCallback(k=>{const N=D.startOfMonth(g&&D.isAfter(H,x)?H:x),K=D.startOfMonth(b&&D.isBefore(H,f)?H:f),J=D.startOfMonth(k);return D.isBefore(J,N)||D.isAfter(J,K)?!0:m?m(J):!1},[b,g,f,x,H,m,D]),Ce=Q((k,N)=>{if(O)return;const K=D.setMonth(A!=null?A:X,N);F(K)}),z=Q(k=>{ye(D.setMonth(A!=null?A:X,k))||(se(k),Me(!0),v&&v(k))});h.useEffect(()=>{se(k=>U!==null&&k!==U?U:k)},[U]);const ne=Q((k,N)=>{switch(k.key){case"ArrowUp":z((12+N-3)%12),k.preventDefault();break;case"ArrowDown":z((12+N+3)%12),k.preventDefault();break;case"ArrowLeft":z((12+N+(W?1:-1))%12),k.preventDefault();break;case"ArrowRight":z((12+N+(W?-1:1))%12),k.preventDefault();break}}),M=Q((k,N)=>{z(N)}),T=Q((k,N)=>{Z===N&&Me(!1)});return n.jsx(fo,C({ref:a,className:le(q.root,c),ownerState:I,role:"radiogroup","aria-labelledby":w,monthsPerRow:y},_,{children:Fs(D,A!=null?A:X).map(k=>{const N=D.getMonth(k),K=D.format(k,"monthShort"),J=D.format(k,"month"),Ee=N===U,ue=p||ye(k);return n.jsx(co,{selected:Ee,value:N,onClick:Ce,onKeyDown:ne,autoFocus:oe&&N===Z,disabled:ue,tabIndex:N===Z&&!ue?0:-1,onFocus:M,onBlur:T,"aria-current":te===N?"date":void 0,"aria-label":J,slots:V,slotProps:E,classes:d,children:K},K)})}))});function Ca(e){return ge("MuiYearCalendar",e)}const Qe=be("MuiYearCalendar",["root","button","disabled","selected"]),go=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],bo=(e,t)=>{const a={button:["button",t.isYearDisabled&&"disabled",t.isYearSelected&&"selected"]};return ce(a,Ca,e)},yo=B("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,t)=>[t.button,{["&.".concat(Qe.disabled)]:t.disabled},{["&.".concat(Qe.selected)]:t.selected}]})(({theme:e})=>C({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ne(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ne(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},["&.".concat(Qe.disabled)]:{color:(e.vars||e).palette.text.secondary},["&.".concat(Qe.selected)]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Co=h.memo(function(t){var j;const{autoFocus:a,classes:s,disabled:o,selected:c,value:d,onClick:l,onKeyDown:r,onFocus:u,onBlur:p,slots:b,slotProps:g}=t,f=ae(t,go),x=h.useRef(null),{ownerState:S}=ke(),m=C({},S,{isYearDisabled:o,isYearSelected:c}),O=bo(s,m);bt(()=>{var y;a&&((y=x.current)==null||y.focus())},[a]);const v=(j=b==null?void 0:b.yearButton)!=null?j:yo,Y=Re({elementType:v,externalSlotProps:g==null?void 0:g.yearButton,externalForwardedProps:f,additionalProps:{disabled:o,ref:x,type:"button",role:"radio","aria-checked":c,onClick:y=>l(y,d),onKeyDown:y=>r(y,d),onFocus:y=>u(y,d),onBlur:y=>p(y,d)},ownerState:m,className:O.button});return n.jsx(v,C({},Y))}),Do=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],xo=e=>ce({root:["root"]},Ca,e);function wo(e,t){var o,c;const a=de({props:e,name:t}),s=Ue(a);return C({},a,s,{yearsPerRow:(o=a.yearsPerRow)!=null?o:3,yearsOrder:(c=a.yearsOrder)!=null?c:"asc"})}const Mo=B("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>Xt(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:ia,maxHeight:Is,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),vo=B("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),ko=h.forwardRef(function(t,a){const s=wo(t,"MuiYearCalendar"),{autoFocus:o,className:c,classes:d,value:l,defaultValue:r,referenceDate:u,disabled:p,disableFuture:b,disablePast:g,maxDate:f,minDate:x,onChange:S,readOnly:m,shouldDisableYear:O,onYearFocus:v,hasFocus:Y,onFocusedViewChange:j,yearsOrder:y,yearsPerRow:R,timezone:w,gridLabelId:V,slots:E,slotProps:_}=s,A=ae(s,Do),{value:F,handleValueChange:G,timezone:H}=wt({name:"YearCalendar",timezone:w,value:l,defaultValue:r,referenceDate:u,onChange:S,valueManager:fe}),W=at(H),D=yt(),I=ee(),{ownerState:X}=ke(),q=h.useMemo(()=>fe.getInitialReferenceValue({value:F,adapter:I,props:s,timezone:H,referenceDate:u,granularity:xt.year}),[]),te=xo(d),U=h.useMemo(()=>I.getYear(W),[I,W]),Z=h.useMemo(()=>F!=null?I.getYear(F):null,[F,I]),[se,oe]=h.useState(()=>Z||I.getYear(q)),[we,Me]=Qt({name:"YearCalendar",state:"hasFocus",controlled:Y,default:o!=null?o:!1}),ye=Q(P=>{Me(P),j&&j(P)}),Ce=h.useCallback(P=>{if(g&&I.isBeforeYear(P,W)||b&&I.isAfterYear(P,W)||x&&I.isBeforeYear(P,x)||f&&I.isAfterYear(P,f))return!0;if(!O)return!1;const L=I.startOfYear(P);return O(L)},[b,g,f,x,W,O,I]),z=Q((P,L)=>{if(m)return;const ve=I.setYear(F!=null?F:q,L);G(ve)}),ne=Q(P=>{Ce(I.setYear(F!=null?F:q,P))||(oe(P),ye(!0),v==null||v(P))});h.useEffect(()=>{oe(P=>Z!==null&&P!==Z?Z:P)},[Z]);const M=y!=="desc"?R*1:R*-1,T=D&&y==="asc"||!D&&y==="desc"?-1:1,k=Q((P,L)=>{switch(P.key){case"ArrowUp":ne(L-M),P.preventDefault();break;case"ArrowDown":ne(L+M),P.preventDefault();break;case"ArrowLeft":ne(L-T),P.preventDefault();break;case"ArrowRight":ne(L+T),P.preventDefault();break}}),N=Q((P,L)=>{ne(L)}),K=Q((P,L)=>{se===L&&ye(!1)}),J=h.useRef(null),Ee=qt(a,J);h.useEffect(()=>{if(o||J.current===null)return;const P=J.current.querySelector('[tabindex="0"]');if(!P)return;const L=P.offsetHeight,ve=P.offsetTop,Pe=J.current.clientHeight,st=J.current.scrollTop,ze=ve+L;L>Pe||ve<st||(J.current.scrollTop=ze-Pe/2-L/2)},[o]);const ue=I.getYearRange([x,f]);y==="desc"&&ue.reverse();let Fe=R-ue.length%R;return Fe===R&&(Fe=0),n.jsxs(Mo,C({ref:Ee,className:le(te.root,c),ownerState:X,role:"radiogroup","aria-labelledby":V,yearsPerRow:R},A,{children:[ue.map(P=>{const L=I.getYear(P),ve=L===Z,Pe=p||Ce(P);return n.jsx(Co,{selected:ve,value:L,onClick:z,onKeyDown:k,autoFocus:we&&L===se,disabled:Pe,tabIndex:L===se&&!Pe?0:-1,onFocus:N,onBlur:K,"aria-current":U===L?"date":void 0,slots:E,slotProps:_,classes:d,children:I.format(P,"year")},I.format(P,"year"))}),Array.from({length:Fe},(P,L)=>n.jsx(vo,{},L))]}))}),Po=e=>ge("MuiPickersCalendarHeader",e),So=be("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),To=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],jo=["ownerState"],Ao=e=>ce({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Po,e),Oo=B("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Eo=B("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>C({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),Fo=B("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),Io=B($e,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[".".concat(So.switchViewIcon)]:{transform:"rotate(180deg)"}}}]}),No=B(Ls,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),Ro=h.forwardRef(function(t,a){var Z,se;const s=et(),o=ee(),c=de({props:t,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:l,currentMonth:r,disabled:u,disableFuture:p,disablePast:b,maxDate:g,minDate:f,onMonthChange:x,onViewChange:S,view:m,reduceAnimations:O,views:v,labelId:Y,className:j,classes:y,timezone:R,format:w="".concat(o.formats.month," ").concat(o.formats.year)}=c,V=ae(c,To),{ownerState:E}=ke(),_=Ao(y),A=(Z=d==null?void 0:d.switchViewButton)!=null?Z:Io,F=Re({elementType:A,externalSlotProps:l==null?void 0:l.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(m)},ownerState:C({},E,{view:m}),className:_.switchViewButton}),G=(se=d==null?void 0:d.switchViewIcon)!=null?se:No,H=Re({elementType:G,externalSlotProps:l==null?void 0:l.switchViewIcon,ownerState:E,className:_.switchViewIcon}),W=ae(H,jo),D=()=>x(o.addMonths(r,1)),I=()=>x(o.addMonths(r,-1)),X=Ns(r,{disableFuture:p,maxDate:g,timezone:R}),q=Rs(r,{disablePast:b,minDate:f,timezone:R}),te=()=>{if(!(v.length===1||!S||u))if(v.length===2)S(v.find(oe=>oe!==m)||v[0]);else{const oe=v.indexOf(m)!==0?0:1;S(v[oe])}};if(v.length===1&&v[0]==="year")return null;const U=o.formatByString(r,w);return n.jsxs(Oo,C({},V,{ownerState:E,className:le(_.root,j),ref:a,children:[n.jsxs(Eo,{role:"presentation",onClick:te,ownerState:E,"aria-live":"polite",className:_.labelContainer,children:[n.jsx(pa,{reduceAnimations:O,transKey:U,children:n.jsx(Fo,{id:Y,ownerState:E,className:_.label,children:U})}),v.length>1&&!u&&n.jsx(A,C({},F,{children:n.jsx(G,C({},W))}))]}),n.jsx(Gt,{in:m==="day",appear:!O,enter:!O,children:n.jsx(_s,{slots:d,slotProps:l,onGoToPrevious:I,isPreviousDisabled:q,previousLabel:s.previousMonth,onGoToNext:D,isNextDisabled:X,nextLabel:s.nextMonth})})]}))}),_o=e=>ge("MuiDateCalendar",e);be("MuiDateCalendar",["root","viewTransitionContainer"]);const Lo=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],Vo=e=>ce({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},_o,e);function $o(e,t){var c,d,l,r;const a=de({props:e,name:t}),s=Bs(a.reduceAnimations),o=Ue(a);return C({},a,o,{loading:(c=a.loading)!=null?c:!1,openTo:(d=a.openTo)!=null?d:"day",views:(l=a.views)!=null?l:["year","day"],reduceAnimations:s,renderLoading:(r=a.renderLoading)!=null?r:()=>n.jsx("span",{children:"..."})})}const Bo=B(Ys,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:Hs}),Yo=B(pa,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),Ho=h.forwardRef(function(t,a){var Pt;const s=ee(),{ownerState:o}=ke(),c=Ga(),d=$o(t,"MuiDateCalendar"),{autoFocus:l,onViewChange:r,value:u,defaultValue:p,referenceDate:b,disableFuture:g,disablePast:f,onChange:x,onMonthChange:S,reduceAnimations:m,shouldDisableDate:O,shouldDisableMonth:v,shouldDisableYear:Y,view:j,views:y,openTo:R,className:w,classes:V,disabled:E,readOnly:_,minDate:A,maxDate:F,disableHighlightToday:G,focusedView:H,onFocusedViewChange:W,showDaysOutsideCurrentMonth:D,fixedWeekNumber:I,dayOfWeekFormatter:X,slots:q,slotProps:te,loading:U,renderLoading:Z,displayWeekNumber:se,yearsOrder:oe,yearsPerRow:we,monthsPerRow:Me,timezone:ye}=d,Ce=ae(d,Lo),{value:z,handleValueChange:ne,timezone:M}=wt({name:"DateCalendar",timezone:ye,value:u,defaultValue:p,referenceDate:b,onChange:x,valueManager:fe}),{view:T,setView:k,focusedView:N,setFocusedView:K,goToNextView:J,setValueAndGoToNextView:Ee}=Vs({view:j,views:y,openTo:R,onChange:ne,onViewChange:r,autoFocus:l,focusedView:H,onFocusedViewChange:W}),{referenceDate:ue,calendarState:Fe,setVisibleDate:P,isDateDisabled:L,onMonthSwitchingAnimationEnd:ve}=Tn({value:z,referenceDate:b,reduceAnimations:m,onMonthChange:S,minDate:A,maxDate:F,shouldDisableDate:O,disablePast:f,disableFuture:g,timezone:M,getCurrentMonthFromVisibleDate:($,he)=>s.isSameMonth($,he)?he:s.startOfMonth($)}),Pe=E&&z||A,st=E&&z||F,ze="".concat(c,"-grid-label"),nt=N!==null,vt=(Pt=q==null?void 0:q.calendarHeader)!=null?Pt:Ro,wa=Re({elementType:vt,externalSlotProps:te==null?void 0:te.calendarHeader,additionalProps:{views:y,view:T,currentMonth:Fe.currentMonth,onViewChange:k,onMonthChange:$=>P({target:$,reason:"header-navigation"}),minDate:Pe,maxDate:st,disabled:E,disablePast:f,disableFuture:g,reduceAnimations:m,timezone:M,labelId:ze},ownerState:o}),Ma=Q($=>{const he=s.startOfMonth($),_e=s.endOfMonth($),Se=L($)?Ye({adapter:s,date:$,minDate:s.isBefore(A,he)?he:A,maxDate:s.isAfter(F,_e)?_e:F,disablePast:f,disableFuture:g,isDateDisabled:L,timezone:M}):$;Se?(Ee(Se,"finish"),P({target:Se,reason:"cell-interaction"})):(J(),P({target:he,reason:"cell-interaction"}))}),va=Q($=>{const he=s.startOfYear($),_e=s.endOfYear($),Se=L($)?Ye({adapter:s,date:$,minDate:s.isBefore(A,he)?he:A,maxDate:s.isAfter(F,_e)?_e:F,disablePast:f,disableFuture:g,isDateDisabled:L,timezone:M}):$;Se?(Ee(Se,"finish"),P({target:Se,reason:"cell-interaction"})):(J(),P({target:he,reason:"cell-interaction"}))}),ka=Q($=>ne($&&$s(s,$,z!=null?z:ue),"finish",T));h.useEffect(()=>{s.isValid(z)&&P({target:z,reason:"controlled-value-change"})},[z]);const kt=Vo(V),ot={disablePast:f,disableFuture:g,maxDate:F,minDate:A},rt={disableHighlightToday:G,readOnly:_,disabled:E,timezone:M,gridLabelId:ze,slots:q,slotProps:te},it=h.useRef(T);h.useEffect(()=>{it.current!==T&&(N===it.current&&K(T,!0),it.current=T)},[N,K,T]);const Pa=h.useMemo(()=>[z],[z]);return n.jsxs(Bo,C({ref:a,className:le(kt.root,w),ownerState:o},Ce,{children:[n.jsx(vt,C({},wa,{slots:q,slotProps:te})),n.jsx(Yo,{reduceAnimations:m,className:kt.viewTransitionContainer,transKey:T,ownerState:o,children:n.jsxs("div",{children:[T==="year"&&n.jsx(ko,C({},ot,rt,{value:z,onChange:va,shouldDisableYear:Y,hasFocus:nt,onFocusedViewChange:$=>K("year",$),yearsOrder:oe,yearsPerRow:we,referenceDate:ue})),T==="month"&&n.jsx(mo,C({},ot,rt,{hasFocus:nt,className:w,value:z,onChange:Ma,shouldDisableMonth:v,onFocusedViewChange:$=>K("month",$),monthsPerRow:Me,referenceDate:ue})),T==="day"&&n.jsx(oo,C({},Fe,ot,rt,{onMonthSwitchingAnimationEnd:ve,hasFocus:nt,onFocusedDayChange:$=>P({target:$,reason:"cell-interaction"}),reduceAnimations:m,selectedDays:Pa,onSelectedDaysChange:ka,shouldDisableDate:O,shouldDisableMonth:v,shouldDisableYear:Y,onFocusedViewChange:$=>K("day",$),showDaysOutsideCurrentMonth:D,fixedWeekNumber:I,dayOfWeekFormatter:X,displayWeekNumber:se,loading:U,renderLoading:Z}))]})})]}))}),Ie=({view:e,onViewChange:t,views:a,focusedView:s,onFocusedViewChange:o,value:c,defaultValue:d,referenceDate:l,onChange:r,className:u,classes:p,disableFuture:b,disablePast:g,minDate:f,maxDate:x,shouldDisableDate:S,shouldDisableMonth:m,shouldDisableYear:O,reduceAnimations:v,onMonthChange:Y,monthsPerRow:j,onYearChange:y,yearsOrder:R,yearsPerRow:w,slots:V,slotProps:E,loading:_,renderLoading:A,disableHighlightToday:F,readOnly:G,disabled:H,showDaysOutsideCurrentMonth:W,dayOfWeekFormatter:D,sx:I,autoFocus:X,fixedWeekNumber:q,displayWeekNumber:te,timezone:U})=>n.jsx(Ho,{view:e,onViewChange:t,views:a.filter(It),focusedView:s&&It(s)?s:null,onFocusedViewChange:o,value:c,defaultValue:d,referenceDate:l,onChange:r,className:u,classes:p,disableFuture:b,disablePast:g,minDate:f,maxDate:x,shouldDisableDate:S,shouldDisableMonth:m,shouldDisableYear:O,reduceAnimations:v,onMonthChange:Y,monthsPerRow:j,onYearChange:y,yearsOrder:R,yearsPerRow:w,slots:V,slotProps:E,loading:_,renderLoading:A,disableHighlightToday:F,readOnly:G,disabled:H,showDaysOutsideCurrentMonth:W,dayOfWeekFormatter:D,sx:I,autoFocus:X,fixedWeekNumber:q,displayWeekNumber:te,timezone:U}),Da=h.forwardRef(function(t,a){var r,u,p;const s=ee(),o=da(t,"MuiDesktopDatePicker"),c=C({day:Ie,month:Ie,year:Ie},o.viewRenderers),d=C({},o,{closeOnSelect:(r=o.closeOnSelect)!=null?r:!0,viewRenderers:c,format:Dt(s,o,!1),yearsPerRow:(u=o.yearsPerRow)!=null?u:4,slots:C({field:ua},o.slots),slotProps:C({},o.slotProps,{field:b=>{var g;return C({},Zt((g=o.slotProps)==null?void 0:g.field,b),la(o))},toolbar:C({hidden:!0},(p=o.slotProps)==null?void 0:p.toolbar)})}),{renderPicker:l}=Ws({ref:a,props:d,valueManager:fe,valueType:"date",validator:We,steps:null});return l()});Da.propTypes={autoFocus:i.bool,className:i.string,closeOnSelect:i.bool,dayOfWeekFormatter:i.func,defaultValue:i.object,disabled:i.bool,disableFuture:i.bool,disableHighlightToday:i.bool,disableOpenPicker:i.bool,disablePast:i.bool,displayWeekNumber:i.bool,enableAccessibleFieldDOMStructure:i.any,fixedWeekNumber:i.number,format:i.string,formatDensity:i.oneOf(["dense","spacious"]),inputRef:ca,label:i.node,loading:i.bool,localeText:i.object,maxDate:i.object,minDate:i.object,monthsPerRow:i.oneOf([3,4]),name:i.string,onAccept:i.func,onChange:i.func,onClose:i.func,onError:i.func,onMonthChange:i.func,onOpen:i.func,onSelectedSectionsChange:i.func,onViewChange:i.func,onYearChange:i.func,open:i.bool,openTo:i.oneOf(["day","month","year"]),orientation:i.oneOf(["landscape","portrait"]),readOnly:i.bool,reduceAnimations:i.bool,referenceDate:i.object,renderLoading:i.func,selectedSections:i.oneOfType([i.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),i.number]),shouldDisableDate:i.func,shouldDisableMonth:i.func,shouldDisableYear:i.func,showDaysOutsideCurrentMonth:i.bool,slotProps:i.object,slots:i.object,sx:i.oneOfType([i.arrayOf(i.oneOfType([i.func,i.object,i.bool])),i.func,i.object]),timezone:i.string,value:i.object,view:i.oneOf(["day","month","year"]),viewRenderers:i.shape({day:i.func,month:i.func,year:i.func}),views:i.arrayOf(i.oneOf(["day","month","year"]).isRequired),yearsOrder:i.oneOf(["asc","desc"]),yearsPerRow:i.oneOf([3,4])};const xa=h.forwardRef(function(t,a){var r;const s=ee(),o=da(t,"MuiMobileDatePicker"),c=C({day:Ie,month:Ie,year:Ie},o.viewRenderers),d=C({},o,{viewRenderers:c,format:Dt(s,o,!1),slots:C({field:ua},o.slots),slotProps:C({},o.slotProps,{field:u=>{var p;return C({},Zt((p=o.slotProps)==null?void 0:p.field,u),la(o))},toolbar:C({hidden:!1},(r=o.slotProps)==null?void 0:r.toolbar)})}),{renderPicker:l}=Us({ref:a,props:d,valueManager:fe,valueType:"date",validator:We,steps:null});return l()});xa.propTypes={autoFocus:i.bool,className:i.string,closeOnSelect:i.bool,dayOfWeekFormatter:i.func,defaultValue:i.object,disabled:i.bool,disableFuture:i.bool,disableHighlightToday:i.bool,disableOpenPicker:i.bool,disablePast:i.bool,displayWeekNumber:i.bool,enableAccessibleFieldDOMStructure:i.any,fixedWeekNumber:i.number,format:i.string,formatDensity:i.oneOf(["dense","spacious"]),inputRef:ca,label:i.node,loading:i.bool,localeText:i.object,maxDate:i.object,minDate:i.object,monthsPerRow:i.oneOf([3,4]),name:i.string,onAccept:i.func,onChange:i.func,onClose:i.func,onError:i.func,onMonthChange:i.func,onOpen:i.func,onSelectedSectionsChange:i.func,onViewChange:i.func,onYearChange:i.func,open:i.bool,openTo:i.oneOf(["day","month","year"]),orientation:i.oneOf(["landscape","portrait"]),readOnly:i.bool,reduceAnimations:i.bool,referenceDate:i.object,renderLoading:i.func,selectedSections:i.oneOfType([i.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),i.number]),shouldDisableDate:i.func,shouldDisableMonth:i.func,shouldDisableYear:i.func,showDaysOutsideCurrentMonth:i.bool,slotProps:i.object,slots:i.object,sx:i.oneOfType([i.arrayOf(i.oneOfType([i.func,i.object,i.bool])),i.func,i.object]),timezone:i.string,value:i.object,view:i.oneOf(["day","month","year"]),viewRenderers:i.shape({day:i.func,month:i.func,year:i.func}),views:i.arrayOf(i.oneOf(["day","month","year"]).isRequired),yearsOrder:i.oneOf(["asc","desc"]),yearsPerRow:i.oneOf([3,4])};const Wo=["desktopModeMediaQuery"],Uo=h.forwardRef(function(t,a){const s=de({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:o=zs}=s,c=ae(s,Wo);return Ka(o,{defaultMatches:!0})?n.jsx(Da,C({ref:a},c)):n.jsx(xa,C({ref:a},c))}),Lt=({settingName:e,value:t,defaultValue:a,handleChange:s,remove:o})=>{const{t:c}=me(),[d,l]=h.useState(!1),[r,u]=h.useState(t!=null?t:a);h.useEffect(()=>{t&&u(t)},[t]);const p=h.useCallback(f=>{l(!1),f&&u(t!=null?t:a)},[t]),b=h.useCallback(()=>p(!0),[p]),g=h.useCallback((f,x=!0)=>{x&&p(!1),t!==f&&s(f)},[t,s,p]);return n.jsxs(n.Fragment,{children:[n.jsx(Jt,{onClick:()=>l(!0),children:n.jsx(qa,{primary:e,secondary:t?lt(Number(t)).format("L"):"-",secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),n.jsxs(ea,{open:d,onClose:p,children:[n.jsxs(Je,{children:[n.jsx(ft,{sx:{paddingLeft:0},children:e}),n.jsx(Gs,{dateAdapter:Ks,adapterLocale:lt.locale(),children:n.jsx(Uo,{value:r?lt(Number(r)):null,onChange:f=>{f&&u(f.valueOf().toString())}})})]}),n.jsx(ta,{children:n.jsxs(ie,{direction:"row",sx:{justifyContent:"space-between",alignItems:"end",width:"100%"},children:[n.jsxs(ie,{children:[a!==void 0&&n.jsx(xe,{onClick:()=>{u(a),g(a,!1)},color:"primary",children:c("global.button.reset_to_default")}),o&&n.jsx(xe,{onClick:()=>{u(void 0),g(void 0,!1)},color:"primary",children:c("global.button.remove")})]}),n.jsxs(ie,{direction:"row",children:[n.jsx(xe,{onClick:b,color:"primary",children:c("global.button.cancel")}),n.jsx(xe,{onClick:()=>{g(r)},color:"primary",children:c("global.button.ok")})]})]})})]})]})},Vt=({children:e,url:t})=>n.jsx(ra,{href:t,rel:"noreferrer",target:"_blank",underline:"none",color:"inherit",children:e}),zo=({trackerRecordId:e,tracker:t,onClick:a,onClose:s})=>{const{t:o}=me(),[c,d]=h.useState(!1),l=()=>{s(),pe.unbindTracker(e,c).response.then(()=>Ae(o("manga.action.track.remove.label.success"),"success")).catch(r=>Ae(o("manga.action.track.remove.label.error"),"error",je(r)))};return n.jsx(mt,{variant:"dialog",popupId:"tracker-active-menu-remove-button-".concat(t.id),children:r=>n.jsxs(n.Fragment,{children:[n.jsx(Ct,{...gt(r),onClick:()=>{a(),r.open()},children:o("global.button.remove")}),n.jsxs(ea,{...Xa(r),onClose:()=>{s(),r.close()},children:[n.jsx(ft,{children:o("manga.action.track.remove.dialog.label.title",{tracker:t.name})}),n.jsxs(Je,{dividers:!0,children:[n.jsx(Oe,{children:o("manga.action.track.remove.dialog.label.description")}),t.supportsTrackDeletion&&n.jsx(Xs,{children:n.jsx(Qs,{disabled:!1,label:o("manga.action.track.remove.dialog.label.delete_remote_track",{tracker:t.name}),checked:c,onChange:(u,p)=>d(p)})})]}),n.jsxs(ta,{children:[n.jsx(xe,{autoFocus:!0,onClick:()=>{r.close(),s()},children:o("global.button.cancel")}),n.jsx(xe,{onClick:()=>{r.close(),s(),l()},children:o("global.button.ok")})]})]})]})})},Go=({trackRecord:e,tracker:t,openSearch:a})=>{const{t:s}=me();return n.jsxs(ie,{direction:"row",sx:{alignItems:"stretch",paddingBottom:2},children:[n.jsx(Vt,{url:e.remoteUrl,children:n.jsx(sa,{alt:"".concat(t.name),src:pe.getValidImgUrlFor(t.icon),variant:"rounded",sx:{width:64,height:64}})}),n.jsx(Jt,{sx:{flexGrow:1},onClick:a,children:n.jsx(Ht,{title:e.title,children:n.jsx(Wt,{flexGrow:1,lines:1,children:e.title})})}),n.jsx(ie,{sx:{justifyContent:"center"},children:n.jsx(mt,{variant:"popover",popupId:"tracker-active-menu-popup-".concat(t.id),children:o=>n.jsxs(n.Fragment,{children:[n.jsx($e,{...gt(o),children:n.jsx(gs,{})}),n.jsx(bs,{...Qa(o),id:"tracker-active-menu-".concat(t.id),children:(c,d)=>[n.jsx(Vt,{url:e.remoteUrl,children:n.jsx(Ct,{onClick:()=>c(),children:s("global.label.open_in_browser")})},"tracker-active-menu-item-browser-".concat(t.id)),n.jsx(zo,{trackerRecordId:e.id,tracker:t,onClick:()=>d(!0),onClose:c},"tracker-active-menu-item-remove-".concat(t.id))]})]})})})]})},$t=({children:e})=>n.jsx(ie,{direction:"row",sx:{textAlignLast:"center"},children:e}),Bt=e=>!Math.trunc(Number(e)),Ko=({trackRecord:e,tracker:t,onClick:a})=>{const{t:s}=me(),c=Bt(e.displayScore)?t.scores[0]:e.displayScore,d=h.useMemo(()=>t.scores.map(r=>[r,{text:Bt(r)?"-":r}]),[t.scores]),l=r=>{pe.updateTrackerBind(e.id,r).response.catch(u=>Ae(s("global.error.label.failed_to_save_changes"),"error",je(u)))};return n.jsx(Xe,{sx:aa,children:n.jsxs(Ze,{sx:{padding:0},children:[n.jsx(Go,{trackRecord:e,tracker:t,openSearch:a}),n.jsx(Xe,{sx:{backgroundColor:"background.default"},children:n.jsx(Ze,{sx:{padding:"0"},children:n.jsxs(pt,{sx:{padding:1},children:[n.jsxs($t,{children:[n.jsx(Ds,{ListPreferenceTitle:s("manga.label.status"),entries:t.statuses.map(r=>r.name),type:"ListPreference",entryValues:t.statuses.map(r=>"".concat(r.value)),ListPreferenceCurrentValue:"".concat(e.status),updateValue:(r,u)=>l({status:Number(u)}),summary:"%s"},"status"),n.jsx(Ge,{orientation:"vertical",flexItem:!0}),n.jsx(xs,{settingTitle:s("chapter.title_other"),dialogTitle:s("chapter.title_other"),settingValue:"".concat(e.lastChapterRead,"/").concat(e.totalChapters),value:e.lastChapterRead,minValue:0,maxValue:Number.MAX_SAFE_INTEGER,valueUnit:"",handleUpdate:r=>l({lastChapterRead:r})}),n.jsx(Ge,{orientation:"vertical",flexItem:!0}),n.jsx(qs,{settingName:s("tracking.track_record.label.score"),value:c,values:d,handleChange:r=>l({scoreString:r})})]}),n.jsx(Ge,{}),n.jsxs($t,{children:[n.jsx(Lt,{settingName:s("tracking.track_record.label.start_date"),value:De.getDateString(e.startDate),remove:!0,handleChange:r=>l({startDate:r!=null?r:Ot})}),n.jsx(Ge,{orientation:"vertical",flexItem:!0}),n.jsx(Lt,{settingName:s("tracking.track_record.label.finish_date"),value:De.getDateString(e.finishDate),remove:!0,handleChange:r=>l({finishDate:r!=null?r:Ot})})]})]})})})]})})};var Ve=(e=>(e[e.UNTRACKED=0]="UNTRACKED",e[e.SEARCH=1]="SEARCH",e[e.INFO=2]="INFO",e))(Ve||{});const qo=({tracker:e,manga:t,trackRecord:a,mode:s,setSearchMode:o})=>{if(s===0)return n.jsx(nn,{tracker:e,onClick:()=>o(e.id)});if(s===1)return n.jsx(mn,{manga:t,tracker:e,trackedId:a==null?void 0:a.remoteId,closeSearchMode:()=>o(void 0)});if(s===2&&!a)throw new Error('TrackerCard: unable to find track record for tracker "'.concat(e.id,'" of manga "').concat(t.id,'"}'));return n.jsx(Ko,{tracker:e,trackRecord:a,onClick:()=>{o(e.id)}})},Qo=(e,t,a)=>e===a?Ve.SEARCH:t.includes(e)?Ve.INFO:Ve.UNTRACKED,wr=({manga:e})=>{var v,Y,j,y,R;const{t}=me(),a=Za(),[s,o]=h.useState(),c=pe.useGetTrackerList(Ja,{notifyOnNetworkStatusChange:!0}),d=(Y=(v=c.data)==null?void 0:v.trackers.nodes)!=null?Y:[],l=pe.useGetManga(es,e.id),r=(y=(j=l.data)==null?void 0:j.manga.trackRecords.nodes)!=null?y:[],u=De.getLoggedIn(d),p=De.getLoggedIn(De.getTrackers(r,d)),b=De.getIds(p),g=s!==void 0,f=h.useMemo(()=>g?pt:Je,[g]),x=c.loading||l.loading,S=(R=c.error)!=null?R:l.error;h.useEffect(()=>{!x&&!S&&!p.length&&!u.length&&a(ts.tracker.path)},[x]);const m=h.useRef(!1);h.useEffect(()=>{!r.length||m.current||(m.current=!0,Promise.all(r.filter(w=>b.includes(w.trackerId)).map(w=>pe.fetchTrackBind(w.id).response)).catch(w=>Ae(t("tracking.error.label.could_not_fetch_track_info"),"error",je(w))))},[r]);const O=h.useMemo(()=>u.map(w=>{const V=Qo(w.id,b,s),E=De.getTrackRecordFor(w,r),_=V===Ve.SEARCH;return g&&!_?null:n.jsx(qo,{tracker:w,manga:e,trackRecord:E,mode:V,setSearchMode:A=>o(A)},w.id)}),[b,s,r]);return S?n.jsx(as,{message:t("global.error.label.failed_to_load_data"),messageExtra:je(S),retry:()=>{c.error&&c.refetch().catch(Be()),l.error&&l.refetch().catch(Be())}}):x?n.jsx(Ut,{}):g?O:n.jsx(f,{sx:{padding:0,".MuiPaper-root .MuiCardContent-root":{paddingBottom:"0"}},children:O})},Xo=[{title:"chapter.action.download.add.label.next",getCount:()=>1},{title:"chapter.action.download.add.label.next",getCount:()=>5},{title:"chapter.action.download.add.label.next",getCount:()=>10},{title:"chapter.action.download.add.label.next",getCount:()=>25},{title:"chapter.action.download.add.label.ahead",getCount:e=>e,onlyUnread:!0},{title:"chapter.action.download.add.label.unread",getCount:()=>{},onlyUnread:!0},{title:"chapter.action.download.add.label.all",getCount:()=>{},onlyUnread:!1}];var Yt;const Zo=async(e,t,a,s)=>{if(e.length>1){At.performAction("download",e,{downloadAhead:s,onlyUnread:t,size:a}).catch(Be());return}const c=e[0],d=At.getFromCache(c,rs(Yt||(Yt=Tt(["\n            ","\n            fragment MangaInLibraryState on MangaType {\n                id\n                meta {\n                    ...MANGA_META_FIELDS\n                }\n            }\n        "])),os),"MangaInLibraryState"),l=ys(d),r=await pe.getChapters(is,{condition:{mangaId:Number(c)},order:[{by:cs.SourceOrder,byType:ls.Desc}]}).response,p=Cs(r.data.chapters.nodes,l).filter(x=>t&&x.isRead?!1:!x.isDownloaded),g=Ke.removeDuplicates(p.slice(-1)[0],p).slice(-(a!=null?a:0)),f=Ke.addDuplicates(g,p);f.length&&Ke.performAction("download",Ke.getIds(f),{}).catch(Be())},Mr=({mangaIds:e,closeMenu:t})=>{const{t:a}=me(),{settings:{downloadAheadLimit:s}}=ss(),o=(c,d=!0,l=!1)=>{Zo(e,d,c,l).catch(r=>Ae(a(ns.download.error,{count:c}),"error",je(r))),t==null||t()};return n.jsx(n.Fragment,{children:Xo.map(({title:c,getCount:d,onlyUnread:l})=>n.jsx(Ct,{onClick:()=>o(d(s),l),children:a(c,{count:d(s)})},a(c,{count:d(s)})))})};export{Mr as C,Dr as L,xr as S,wr as T,sn as a};
