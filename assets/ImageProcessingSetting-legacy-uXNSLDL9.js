!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}var n=["id","mode","searchParams"],t=["id"];function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",u=t.toStringTag||"@@toStringTag";function l(t,r,o,u){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return i(s,"_invoke",function(t,r,i){var o,u,l,c=0,s=i||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(n,t){return o=n,u=0,l=e,f.n=t,a}};function m(t,r){for(u=t,l=r,n=0;!d&&c&&!i&&n<s.length;n++){var i,o=s[n],m=f.p,p=o[2];t>3?(i=p===r)&&(l=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=m&&((i=t<2&&m<o[1])?(u=0,f.v=r,f.n=o[1]):m<p&&(i=t<3||o[0]>r||r>p)&&(o[4]=t,o[5]=r,f.n=p,u=0))}if(i||t>1)return a;throw d=!0,r}return function(i,s,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),u=s,l=p;(n=u<2?e:l)||!d;){o||(u?u<3?(u>1&&(f.n=-1),m(u,l)):f.n=l:f.v=l);try{if(c=2,o){if(u||(i="next"),n=o[i]){if(!(n=n.call(o,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,u<2&&(u=0)}else 1===u&&(n=o.return)&&n.call(o),u<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=e}else if((n=(d=f.n<0)?l:t.call(r,f))!==a)break}catch(n){o=e,u=1,l=n}finally{c=1}}return{value:n,done:d}}}(t,o,u),!0),s}var a={};function c(){}function s(){}function d(){}n=Object.getPrototypeOf;var f=[][o]?n(n([][o]())):(i(n={},o,function(){return this}),n),m=d.prototype=c.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,u,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=d,i(m,"constructor",d),i(d,"constructor",s),s.displayName="GeneratorFunction",i(d,u,"GeneratorFunction"),i(m),i(m,u,"Generator"),i(m,o,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),(r=function(){return{w:l,m:p}})()}function i(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,n,t,r){function u(n,t){i(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(u("next",0),u("throw",1),u("return",2))},i(e,n,t,r)}function o(e,n,t,r,i,o,u){try{var l=e[o](u),a=l.value}catch(e){return void t(e)}l.done?n(a):Promise.resolve(a).then(r,i)}function u(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){c(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function c(n,t,r){return(t=function(n){var t=function(n,t){if("object"!=e(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var i=r.call(n,t||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==e(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,u,l=[],a=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;a=!1}else for(;!(a=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);a=!0);}catch(e){c=!0,i=e}finally{try{if(!a&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(c)throw i}}return l}}(e,n)||f(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,n){if(e){if("string"==typeof e)return m(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,n):void 0}}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./index-legacy-RhUnPd9L.js","./EmptyViewAbsoluteCentered-legacy-BihSaxZt.js","./Asserts-legacy-CWE3_MKu.js","./useAppTitle-legacy-C4S0AVWc.js","./Delete-legacy-C5A0ZKb2.js","./Select-legacy-CIBwGK7s.js","./use-resize-observer-legacy-C8hiZDlO.js"],function(e,i){"use strict";var l,f,m,p,v,h,g,y,b,x,j,S,w,O,T,P,_,D,C,A,I,E,k,G,L,U,F,M,N,W,K,z,Y,B,Z,q,R,H,X,$,Q;return{setters:[function(e){l=e.cX,f=e.cY,m=e.cZ,p=e.c_,v=e.bP,h=e.cE,g=e.c$,y=e.d0,b=e.cF,x=e.d1,j=e.u,S=e.a6,w=e.j,O=e.b,T=e.aC,P=e.d2,_=e.C,D=e.I,C=e.au,A=e.T,I=e.B,E=e.aw,k=e.f,G=e.aY,L=e.aq,U=e.ar,F=e.d3,M=e.ap,N=e.d4,W=e.r,K=e.i,z=e.g,Y=e.k,B=e.d5,Z=e.m},function(e){q=e.E},function(e){R=e.a},function(e){H=e.u},function(e){X=e.D},function(e){$=e.S},function(e){Q=e.u}],execute:function(){var i=0,V=function(e){return e.replace(m,"")},J=function(e){return V(e.toLowerCase().trim())===l},ee=function(e,n,t){var r;return null!==(r=null==t?void 0:t.slice(0,n).some(function(n){return n.name===e}))&&void 0!==r&&r},ne=function(e){var n;return null!==(n=null==e?void 0:e.some(function(n,t){return ee(n.name,t,e)}))&&void 0!==n&&n},te=function(e,n,t){return t.slice(0,n).some(function(n){return n.mimeType===e})},re=function(e){return""!==e&&!!e.match(/^https?:\/\/.+/)},ie=function(e,n,t){return null==e||e>=n&&e<=t},oe=function(e){return ie(e?b(e).seconds.inWholeSeconds:null,y.min,y.max)},ue=function(e){return ie(e?b(e).seconds.inWholeSeconds:null,x.min,x.max)},le=function(e){return ie(e,g.min,g.max)},ae=function(e){return e.some(function(n,t){var r=n.mimeType,i=n.compressionLevel,o=n.target,u=n.callTimeout,l=n.connectTimeout,a=n.headers,c=n.searchParams,s=n.mode;return function(e,n){return""===e&&""===n}(r,o)||function(e,n,t){return!(J(t)&&!e||n!==f.URL||re(e))}(o,s,r)||!le(i)||!oe(u)||!ue(l)||te(r,t,e)||ne(a)||ne(c)})},ce=function(e){return e.map(function(e){var n;return a({id:null!==(n=e.id)&&void 0!==n?n:i++},e)})},se=function(e){return e.map(function(e){var n,t,r,o,u,l;return a(a({id:null!==(n=e.id)&&void 0!==n?n:i++},e),{},{mode:(u=V(e.target),l=V(u),l===p?f.DISABLED:re(l)?f.URL:f.IMAGE),headers:e.headers?ce(e.headers):null,searchParams:ce((t=e.target,o=v.asUrl(t),d((null!==(r=null==o?void 0:o.searchParams)&&void 0!==r?r:[]).entries()).map(function(e){var n,t=s(e,2),r=t[0],i=t[1];return{name:String(r),value:null!==(n=h(i))&&void 0!==n?n:i}})))})})},de=function(e){return e.map(function(e){return a(a({},e),{},{mimeType:V(e.mimeType),target:V(e.target)})})},fe=function(e){return e.filter(function(e){var n=e.mimeType,t=e.target;return!!n&&!!t}).map(function(e){e.id,e.mode,e.searchParams;var r,i,o,c=u(e,n);return a(a({},c),{},{mimeType:(o=c.mimeType,J(o)?l:"".concat(m).concat(o)),target:re(c.target)?c.target:"".concat(m).concat(c.target),headers:null!==(r=null===(i=c.headers)||void 0===i?void 0:i.map(function(e){e.id;return u(e,t)}))&&void 0!==r?r:null})})},me=function(e){var n=e.some(function(e){var n=e.mimeType;return J(n)});return[].concat(d(n?[]:[{id:-1,mode:f.IMAGE,mimeType:l,target:"",compressionLevel:null,headers:null,callTimeout:null,connectTimeout:null}]),d(e))},pe=function(e){return null==e?void 0:e.filter(function(e){return""!==e.name})},ve=function(e){var n=e.id,t=e.name,r=e.value,i=e.onChange,o=e.isDuplicate,u=j(),l=u.i18n,a=(u._,S());return w.jsxs(O,{sx:{gap:1,flexDirection:"row",flexWrap:"nowrap",alignItems:"center"},children:[w.jsxs(O,{sx:c({flexDirection:"row",gap:2},a.breakpoints.down("md"),{flexDirection:"column",width:"100%"}),children:[w.jsx(T,{autoFocus:!0,sx:{width:P},label:l._({id:"6YtxFj"}),value:t,error:o,helperText:o&&l._({id:"UeOiKl"}),onChange:function(e){return i({id:n,name:e.target.value,value:r})}}),w.jsx(T,{sx:{width:P},label:l._({id:"wMHvYH"}),value:r,onChange:function(e){return i({id:n,name:t,value:e.target.value})}})]}),w.jsx(_,{disabled:!1,title:l._({id:"cnGeoo"}),children:w.jsx(D,{onClick:function(){i(null)},children:w.jsx(X,{})})})]})},he=function(e){var n=e.title,t=e.open,r=e.items,i=e.onChange,o=j(),u=o.i18n;o._;return w.jsx(C,{in:t,children:w.jsxs(O,{sx:{justifyContent:"start",gap:2,pt:2},children:[w.jsx(A,{children:n}),null==r?void 0:r.map(function(e,n){return w.jsx(ve,a(a({},e),{},{isDuplicate:ee(e.name,n,r),onChange:function(e){i(null==e?null==r?void 0:r.toSpliced(n,1):(null!=r?r:[]).toSpliced(n,1,e))}}),e.id)}),w.jsx(I,{onClick:function(){return i([].concat(d(null!=r?r:[]),d(ce([{name:"",value:""}]))))},variant:"contained",sx:{width:"fit-content"},children:u._({id:"m16xKo"})})]})})},ge=function(e){var n=e.shouldAutoFocus,t=e.isDefault,r=e.isDuplicate,i=e.label,o=e.value,u=e.onUpdate,l=e.mode,a=j(),c=a.i18n,s=(a._,l===f.IMAGE),d=!o.length||re(o),p=!r&&(s||d);return w.jsx(T,{sx:{width:P},autoFocus:n,label:i,value:o,disabled:t,error:!p,helperText:!p&&c._({id:"UeOiKl"}),slotProps:{input:{startAdornment:w.jsx(E,{position:"start",children:s?m:null})}},onChange:function(e){return u(e.target.value.trim())}})},ye=function(e){var n,t,r=e.conversion,i=e.conversion,o=i.mode,u=i.mimeType,l=i.target,m=i.compressionLevel,h=i.headers,C=i.searchParams,A=i.callTimeout,N=i.connectTimeout,W=e.onChange,K=e.isDuplicate,z=j(),Y=z.i18n,B=(z._,S()),Z=Q(),q=Z.ref,R=Z.height,H=s(k.useState(!0),2),V=H[0],ee=H[1],ne=s(k.useState(!0),2),te=ne[0],ie=ne[1],ae=o===f.DISABLED,se=o===f.IMAGE,de=o===f.URL,fe=oe(A),me=ue(N),pe=le(m),ve=J(u)&&!K,ye=ve&&!l&&null==m;return w.jsxs(O,{children:[w.jsxs(O,{sx:{gap:1,flexDirection:"row",flexWrap:"nowrap",alignItems:"center",pt:1},children:[w.jsxs(O,{sx:c({gap:1,flexDirection:"row",alignItems:"baseline",flexWrap:"wrap"},B.breakpoints.down("md"),{flexDirection:"column",width:"100%"}),children:[w.jsx(ge,{mode:f.IMAGE,shouldAutoFocus:!0,isDefault:ve,isDuplicate:K,label:Y._({id:"nM8r7D"}),value:u,onUpdate:function(e){W(a(a({},r),{},{mimeType:e}))}}),w.jsx(G,{sx:c({},B.breakpoints.up("md"),{mx:1}),children:"â†’"}),w.jsxs(L,{sx:{minWidth:"100px"},children:[w.jsx(U,{id:"image-conversion-target-mode-label",children:Y._({id:"mGEsqp"})}),w.jsx($,{ref:q,id:"image-conversion-target-mode",labelId:"image-conversion-target-mode-label",label:Y._({id:"mGEsqp"}),value:o,onChange:function(e){de||(ee(!0),ie(!0)),W(a(a({},r),{},{mode:e.target.value,target:e.target.value===f.DISABLED?p:"",headers:de?h:null,searchParams:de?C:null}))},children:F.map(function(e){var n=s(e,2),t=n[0],r=n[1].text;return w.jsx(M,{value:t,children:Y._(r)},t)})})]}),!ae&&w.jsx(ge,{mode:o,shouldAutoFocus:!1,isDefault:!1,isDuplicate:!1,label:Y._({id:"ti+Zcg"}),value:l,onUpdate:function(e){var n,t,i,o,u,l;W(a(a({},r),{},{target:e,searchParams:se?null:(n=e,t=C,u=v.asUrl(n),l=d(null!==(i=null==u||null===(o=u.searchParams)||void 0===o?void 0:o.entries())&&void 0!==i?i:[]).map(function(e){var n=s(e,2);return{name:n[0],value:n[1]}}).map(function(e){var n=null==t?void 0:t.find(function(n){return n.name===e.name});return a({id:null==n?void 0:n.id},e)}),ce(l))}))}}),ae?null:se?w.jsx(T,{sx:{width:P},label:Y._({id:"Latl0z"}),value:null!=m?m:"",type:"number",error:!pe,helperText:pe?"":Y._({id:"UeOiKl"}),slotProps:{input:{inputProps:g}},onChange:function(e){W(a(a({},r),{},{compressionLevel:e.target.value?Number(e.target.value):null}))}}):w.jsxs(w.Fragment,{children:[w.jsx(T,{sx:{width:P},label:Y._({id:"TtozhQ"}),value:A?b(A).seconds.inWholeSeconds:"",type:"number",error:!fe,helperText:fe?"":Y._({id:"UeOiKl"}),slotProps:{input:{inputProps:y,endAdornment:w.jsx(E,{position:"end",children:Y._({id:"ku//5b"})})}},onChange:function(e){W(a(a({},r),{},{callTimeout:e.target.value?b(Number(e.target.value)).seconds.toISOString():null}))}}),w.jsx(T,{sx:{width:P},label:Y._({id:"FfbL/S"}),value:N?b(N).seconds.inWholeSeconds:"",type:"number",error:!me,helperText:me?"":Y._({id:"UeOiKl"}),slotProps:{input:{inputProps:x,endAdornment:w.jsx(E,{position:"end",children:Y._({id:"ku//5b"})})}},onChange:function(e){W(a(a({},r),{},{connectTimeout:e.target.value?b(Number(e.target.value)).seconds.toISOString():null}))}}),w.jsx(I,{disabled:!re(l),onClick:function(){return ee(!V)},variant:V?"outlined":"contained",sx:{height:R},children:Y._({id:"fvcqzg",values:{0:null!==(n=null==C?void 0:C.length)&&void 0!==n?n:0}})}),w.jsx(I,{onClick:function(){return ie(!te)},variant:te?"outlined":"contained",sx:{height:R},children:Y._({id:"fFttez",values:{0:null!==(t=null==h?void 0:h.length)&&void 0!==t?t:0}})})]})]}),w.jsx(_,{disabled:ye,title:Y._({id:"cnGeoo"}),children:w.jsx(D,{disabled:ye,onClick:function(){W(null)},children:w.jsx(X,{})})})]}),w.jsx(he,{title:Y._({id:"NP8rZC"}),open:de&&!V,items:C,onChange:function(e){var n,t,i=null!==(n=null==l?void 0:l.split("?")[0])&&void 0!==n?n:"",o=Object.fromEntries(null!==(t=null==e?void 0:e.map(function(e){return[e.name,e.value]}))&&void 0!==t?t:[]);W(a(a({},r),{},{target:v.addParams(i,o),searchParams:e}))}}),w.jsx(he,{title:Y._({id:"ZIgY2y"}),open:de&&!te,items:h,onChange:function(e){return W(a(a({},r),{},{headers:e}))}})]})};e("ImageProcessingSetting",function(e){var n,t,i=e.type,u=j(),l=u.i18n;u._;H(l._(N[i]));var a=W.useGetServerSettings({notifyOnNetworkStatusChange:!0}),f=a.data,m=a.loading,p=a.error,v=a.refetch,h=s(W.useUpdateServerSettings(),1)[0];if(m)return w.jsx(K,{});if(p)return w.jsx(q,{message:l._({id:"6m5aox"}),messageExtra:z(p),retry:function(){return v().catch(Y("ImageProcessingSetting::refetch"))}});var g=B[i];R(null==f||null===(n=f.settings)||void 0===n?void 0:n[g]);var y=null==f||null===(t=f.settings)||void 0===t?void 0:t[g],b=s(k.useState(de(me(se(y)))),2),x=b[0],S=b[1],T=ae(x),P=function(e,n){return e.length!==n.length||e.some(function(e,t){var r,i,o=e.mimeType,u=e.target,l=e.compressionLevel,a=e.callTimeout,c=e.connectTimeout,s=e.headers,d=n[t],f=pe(s),m=pe(d.headers);return V(o)!==d.mimeType||V(u)!==d.target||l!==d.compressionLevel||a!==d.callTimeout||c!==d.connectTimeout||(null!==(r=null==f?void 0:f.length)&&void 0!==r?r:0)!==(null!==(i=null==m?void 0:m.length)&&void 0!==i?i:0)||!(null==f||!f.some(function(e,n){var t,r;return e.name!==(null==m||null===(t=m[n])||void 0===t?void 0:t.name)||e.value!==(null==m||null===(r=m[n])||void 0===r?void 0:r.value)}))})}(de(me(se(y))),x),_=function(e){var n=h({variables:{input:{settings:c({},g,e)}}});return n.catch(function(e){return Z(l._({id:"cBoXe4"}),"error",z(e))}),n},D=function(){var e,n=(e=r().m(function e(){return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,_(fe(x));case 1:e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}),function(){var n=this,t=arguments;return new Promise(function(r,i){var u=e.apply(n,t);function l(e){o(u,r,i,l,a,"next",e)}function a(e){o(u,r,i,l,a,"throw",e)}l(void 0)})});return function(){return n.apply(this,arguments)}}();return w.jsxs(O,{sx:{p:2,gap:5},children:[w.jsx(A,{children:l._({id:"xbZI3U"})}),w.jsx(O,{sx:{flexDirection:"column",gap:5},children:x.map(function(e,n){var t=e.mimeType,r=te(t,n,x);return w.jsx(ye,{conversion:e,isDuplicate:r,onChange:function(e){S(function(t){return me(t.toSpliced.apply(t,[n,1].concat(d(e?[e]:[]))))})}},e.id)})}),w.jsxs(O,{direction:"row",sx:{gap:1},children:[w.jsx(I,{variant:"outlined",onClick:function(){S(function(e){return[].concat(d(e),d(se([{mimeType:"",target:"",compressionLevel:null,headers:null,callTimeout:null,connectTimeout:null}])))})},children:l._({id:"m16xKo"})}),w.jsx(I,{variant:"contained",disabled:T||!P,onClick:D,children:l._({id:"tfDRzk"})})]})]})})}}})}();
