!function(){var e=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],t=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],n=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],r=["onLoad","onError","pageLoadStates","retryFailedPagesKeyPrefix","isPreloadMode"],a=["enabled","anonymousActionType","store"],o=["connection"],i=["pageIndex","pagesIndex","isPrimaryPage","display","doublePage","position","marginTop","shouldLoad","readingMode","customFilter","pageScaleMode","shouldStretchPage","readerWidth","onLoad","onError","setRef","readerNavBarWidth","isLoaded"],u=["label","description"],l=["readingMode","setReadingMode"],s=["readingDirection","setReadingDirection"],c=["tapZoneLayout","setTapZoneLayout"],d=["tapZoneInvertMode","setTapZoneInvertMode"],f=["pageScaleMode","setPageScaleMode"],g=["asIconButton"],p=["profile","title","updateSetting","isSeriesMode"],v=["profiles","readingMode"],h=["ref"];function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function m(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function j(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof u?r:u,s=Object.create(l.prototype);return w(s,"_invoke",function(n,r,a){var o,u,l,s=0,c=a||[],d=!1,f={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(t,n){return o=t,u=0,l=e,f.n=n,i}};function g(n,r){for(u=n,l=r,t=0;!d&&s&&!a&&t<c.length;t++){var a,o=c[t],g=f.p,p=o[2];n>3?(a=p===r)&&(l=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=g&&((a=n<2&&g<o[1])?(u=0,f.v=r,f.n=o[1]):g<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,u=0))}if(a||n>1)return i;throw d=!0,r}return function(a,c,p){if(s>1)throw TypeError("Generator is already running");for(d&&1===c&&g(c,p),u=c,l=p;(t=u<2?e:l)||!d;){o||(u?u<3?(u>1&&(f.n=-1),g(u,l)):f.n=l:f.v=l);try{if(s=2,o){if(u||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==i)break}catch(t){o=e,u=1,l=t}finally{s=1}}return{value:t,done:d}}}(n,a,o),!0),s}var i={};function u(){}function l(){}function s(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(w(t={},r,function(){return this}),t),d=s.prototype=u.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,w(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=s,w(d,"constructor",s),w(s,"constructor",l),l.displayName="GeneratorFunction",w(s,a,"GeneratorFunction"),w(d),w(d,a,"Generator"),w(d,r,function(){return this}),w(d,"toString",function(){return"[object Generator]"}),(_=function(){return{w:o,m:f}})()}function w(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}w=function(e,t,n,r){function o(t,n){w(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},w(e,t,n,r)}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)})}}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,u=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return u}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./index-legacy-CBfCVs2F.js","./TabsMenu-legacy-CbsrDluc.js","./Chapters-legacy-DkIbZ9TT.js","./Mangas-legacy-BoW0Inp7.js","./SpinnerImage-legacy-BkS68cTi.js","./Strings-legacy-CzJ32ydF.js","./Tabs-legacy-C2jESsUx.js","./Trans-legacy-Bi-9t0Tt.js","./Slider-legacy-CHZbkfjL.js","./CheckboxInput-legacy-DFyhwNA6.js","./ListSubheader-legacy-R4KmMa-Q.js","./Add-legacy-Cp-gkuNJ.js"],function(b,w){"use strict";var P,C,D,A,k,L,R,N,F,z,B,V,U,W,H,G,K,Z,X,J,Y,Q,q,$,ee,te,ne,re,ae,oe,ie,ue,le,se,ce,de,fe,ge,pe,ve,he,ye,be,me,xe,Se,je,_e,we,Pe,Oe,Ce,Te,Me,De,Ee,Ie,Ae,ke,Le,Re,Ne,Fe,ze,Be,Ve,Ue,We,He,Ge,Ke,Ze,Xe,Je,Ye,Qe,qe,$e,et,tt,nt,rt,at,ot,it,ut,lt,st,ct,dt,ft,gt,pt,vt,ht,yt,bt,mt,xt,St,jt;return{setters:[function(e){P=e.r,C=e.b,D=e.R,A=e.dF,k=e.Q,L=e.dG,R=e.dH,N=e.dz,F=e.dI,z=e.dJ,B=e.dK,V=e.bJ,U=e.j,W=e.z,H=e.at,G=e.d3,K=e.dr,Z=e.dl,X=e.dn,J=e.am,Y=e.cS,Q=e.dL,q=e.d5,$=e.av,ee=e.d6,te=e.aX,ne=e.O,re=e.ds,ae=e.d4,oe=e.bW,ie=e.d2,ue=e.dM,le=e.dN,se=e.dO,ce=e.a,de=e.dP,fe=e.dQ,ge=e.dR,pe=e.cd,ve=e.m,he=e.g,ye=e.as,be=e.dS,me=e.bd,xe=e.d,Se=e.A,je=e.dT,_e=e.f,we=e.u,Pe=e.S,Oe=e.T,Ce=e.B,Te=e.C,Me=e.df,De=e.dg,Ee=e.dU,Ie=e.dV,Ae=e.cZ,ke=e.dd,Le=e.de,Re=e.dc,Ne=e.c,Fe=e.I,ze=e.dW,Be=e.aN,Ve=e.dh,Ue=e.cT,We=e.dk,He=e.dX,Ge=e.dY,Ke=e.dZ,Ze=e.d_,Xe=e.d$,Je=e.e0,Ye=e.c$,Qe=e.e1,qe=e.a1,$e=e.e2,et=e.i,tt=e.k,nt=e.n,rt=e.q,at=e.a3,ot=e.a4,it=e.dt,ut=e.e3,lt=e.e4,st=e.cR},function(e){ct=e.T},function(e){dt=e.C},function(e){ft=e.a,gt=e.F},function(e){pt=e.S},function(e){vt=e.r},function(e){ht=e.T,yt=e.a},function(e){bt=e.T},function(e){mt=e.S},function(e){xt=e.C},function(e){St=e.L},function(e){jt=e.A}],execute:function(){var w,_t=function(e,t,n){var r,a=B(),o=a===V,i=Object.keys(null!==(r=n.meta)&&void 0!==r?r:{}).filter(function(e){var t;return o?1===(null===(t=e.match(/_/g))||void 0===t?void 0:t.length):e.startsWith("".concat(z,"_").concat(a,"_"))}).map(function(e){return F(e)});return Object.fromEntries(Object.entries(t).map(function(t){var n=E(t,2),r=n[0],a=n[1];return L.includes(r)?[r,a]:[r,{value:a,isDefault:"manga"===e&&!i.includes(r)}]}))},wt=function(e){return T(T({},e),{},{tapZoneInvertMode:JSON.stringify(e.tapZoneInvertMode),customFilter:JSON.stringify(e.customFilter),readerWidth:JSON.stringify(e.readerWidth),hotkeys:JSON.stringify(e.hotkeys),autoScroll:JSON.stringify(e.autoScroll)})},Pt=_t("global",A,{meta:wt(A)}),Ot=b("a5",function(e,t){var n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return k(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:A,void 0!==r?[r.toString()]:void 0,n)});function Ct(e,t){var n=Ot(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:A,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0);return _t(e,n,t)}b("a3",function(e,t){return function(e,t,n,r){return Ct("manga",T(T({},e),{},{meta:D(e.meta,function(e){return!L.includes(F(e))})}),t,n,r)}(e,t)}),b("a7",function(e){var t=P.useGetGlobalMeta({notifyOnNetworkStatusChange:!0}),n=t.data,r=t.loading,a=C.useMemo(function(){return D(null==n?void 0:n.metas.nodes)},[null==n?void 0:n.metas.nodes]),o=C.useMemo(function(){return{meta:a}},[a]),i=Ot("global",o,void 0,C.useEffect,e),u=C.useMemo(function(){return i},[o,e]);return C.useMemo(function(){return{metadata:a,settings:u,loading:r,request:t}},[a,u,r,t])});var Tt=b("u",function(e){var t=P.useGetGlobalMeta({notifyOnNetworkStatusChange:!0}),n=t.data,r=t.loading,a=C.useMemo(function(){return D(null==n?void 0:n.metas.nodes)},[null==n?void 0:n.metas.nodes]),o=C.useMemo(function(){return{meta:a}},[a]),i=Ct("global",o,void 0,C.useEffect,e),u=C.useMemo(function(){return i},[o,e]);return C.useMemo(function(){return{metadata:a,settings:u,loading:r,request:t}},[a,u,r,t])}),Mt=function(){var e=O(_().m(function e(t,n,r){var a,o=arguments;return _().w(function(e){for(;;)switch(e.n){case 0:if(a=o.length>4?o[4]:void 0,!(o.length>3&&void 0!==o[3]&&o[3]||L.includes(n))){e.n=1;break}return e.a(2,R([[n,wt(M({},n,r))[n]]],void 0!==a?[null==a?void 0:a.toString()]:void 0));case 1:return e.a(2,N(t,[[n,wt(M({},n,r))[n]]],void 0!==a?[null==a?void 0:a.toString()]:void 0))}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),Dt=function(e){return e===K.END?Number.MAX_SAFE_INTEGER:-1},Et=C.memo(function(e){var t,n,r,a,o=e.currentPageIndex,i=e.pages,u=e.transitionPageMode,l=e.imageRefs,s=e.createPage,c=e.slots,d=e.readingMode,f=e.imagePreLoadAmount,g=e.isCurrentChapter,p=e.isPreviousChapter,v=e.isNextChapter,h=e.customFilter,y=e.pageScaleMode,b=e.shouldStretchPage,m=e.readerWidth,x=e.readerNavBarWidth,S=e.resumeMode,_=e.handleAsInitialRender,w=e.ref,P=C.useRef(Dt(S));_&&(P.current=Dt(S));var O=C.useMemo(function(){return _r(o,i,P.current,f,d,g,p,v)},[o,i,f,d,g,p,v]);C.useEffect(function(){g&&(P.current=o)},[O,g]);var M=C.useCallback(function(e,t){l.current[e]=t},[l]);return U.jsx(W,T(T({ref:w},null==c?void 0:c.boxProps),{},{sx:[{width:"fit-content",height:"fit-content"}].concat(j(Array.isArray(null==c||null===(t=c.boxProps)||void 0===t?void 0:t.sx)?null!==(n=null==c||null===(r=c.boxProps)||void 0===r?void 0:r.sx)&&void 0!==n?n:[]:[null==c||null===(a=c.boxProps)||void 0===a?void 0:a.sx]),[H(!Ut(d)&&wr(u,d),{visibility:"hidden",width:0,height:0,m:0,p:0})]),children:i.map(function(e,t){return s(e,t,O.includes(t),[G.NONE,G.BOTH].includes(u),M,d,h,y,b,m,x)})}))}),It=C.memo(function(t){var n=t.onLoad,r=t.onError,a=t.pageLoadStates,o=t.retryFailedPagesKeyPrefix,i=t.isPreloadMode,u=S(t,e),l=u.currentPageIndex,s=u.totalPages;return U.jsx(Et,T(T({},u),{},{createPage:function(e,t,u,c,d){for(var f=arguments.length,g=new Array(f>5?f-5:0),p=5;p<f;p++)g[p-5]=arguments[p];return Sr.apply(void 0,[e,t,!0,a[e.primary.index].loaded,i,n,r,u,c&&u&&l===e.primary.index,l,s].concat(g,[a[e.primary.index].error?o:void 0]))},slots:{boxProps:{sx:{margin:"auto"}}}}))}),At=b("g",function(e,t){var n=t.findIndex(function(t){var n=t.primary,r=t.secondary;return[n.index,null==r?void 0:r.index].includes(e)});return T(T({},t[Z(n,0,t.length-1)]),{},{pagesIndex:n})}),kt=b("n",function(e){var t,n;return null!==(t=null===(n=e.secondary)||void 0===n?void 0:n.index)&&void 0!==t?t:e.primary.index}),Lt=(b("m",function(e,t,n){switch(e){case"previous":return kt(n[Math.max(0,t-1)]);case"next":return kt(n[Math.min(n.length-1,t+1)]);default:throw new Error('Unexpected offset "'.concat(e,'"'))}}),b("x",function(e,t,n,r,a,o){var i=r?e.clientX:e.clientY,u=getComputedStyle(t),l=u.paddingTop,s=u.paddingBottom,c=u.paddingLeft,d=u.paddingRight,f=t.getBoundingClientRect(),g=r?parseFloat(c)+parseFloat(d):parseFloat(l)+parseFloat(s),p=i-(r?f.left:f.top)-g/2,v=((r?f.width:f.height)-g)/(n.length-Number(!a)),h=Math.floor(p/v),y=p<=(h+(a?1:.5))*v?h:h+1,b=Math.max(0,y),m=Math.min(b,n.length-1);return n[o(m,n.length-1-m)]}),b("f",function(e){var t=e===X.BOTTOM,n=e===X.LEFT,r=e===X.RIGHT;return{isBottom:t,isLeft:n,isRight:r,isHorizontal:t,isVertical:n||r}}),function(e,t,n){var r=n===Y.LTR;return"first"===e?"ltr"===t?r?"right":"left":r?"left":"right":"ltr"===t?r?"left":"right":r?"right":"left"}),Rt=C.memo(function(e){var n=e.onLoad,r=e.onError,a=e.pageLoadStates,o=e.retryFailedPagesKeyPrefix,i=e.isPreloadMode,u=S(e,t),l=u.currentPageIndex,s=u.pages,c=u.totalPages,d=u.readingDirection,f=u.pageScaleMode,g=J().direction,p=C.useMemo(function(){return At(l,s)},[l,s]),v=d===Y.LTR;return U.jsx(Et,T(T({},u),{},{createPage:function(e,t,u,l,s){for(var f=e.primary,v=e.secondary,h=kt(p),y=!!v,b=p.primary.index===f.index,m=!!v&&h===v.index,x=arguments.length,S=new Array(x>5?x-5:0),j=5;j<x;j++)S[j-5]=arguments[j];return U.jsxs(C.Fragment,{children:[Sr.apply(void 0,[e,t,!0,a[f.index].loaded,i,n,r,u,l&&b&&u,p.primary.index,c].concat(S,[a[f.index].error?o:void 0,y?Lt("first",g,d):void 0,y])),y&&Sr.apply(void 0,[T(T({},e),{},{primary:T({},e.secondary)}),t,!1,a[v.index].loaded,i,n,r,u,l&&m&&u,h,c].concat(S,[a[v.index].error?o:void 0,Lt("second",g,d),!0]))]},"".concat(f.url,"_").concat(null==v?void 0:v.url))},slots:{boxProps:{sx:T(T(T({},H(f===Q.ORIGINAL,{margin:"auto"})),{},{width:"100%",minWidth:"fit-content",height:"100%",minHeight:"fit-content",display:"flex",flexDirection:"row",flexWrap:"nowrap"},H("ltr"===g,{flexDirection:v?"row":"row-reverse"})),H("rtl"===g,{flexDirection:v?"row-reverse":"row"}))}}}))}),Nt=C.memo(function(e){var t=e.onLoad,r=e.onError,a=e.pageLoadStates,o=e.retryFailedPagesKeyPrefix,i=e.isPreloadMode,u=S(e,n),l=u.currentPageIndex,s=u.totalPages,c=u.readingMode,d=u.pageGap,f=c===q.WEBTOON?0:d;return U.jsx(Et,T(T({},u),{},{createPage:function(e,n,u,c,d){for(var g=arguments.length,p=new Array(g>5?g-5:0),v=5;v<g;v++)p[v-5]=arguments[v];return Sr.apply(void 0,[e,n,!0,a[e.primary.index].loaded,i,t,r,u,!i,l,s].concat(p,[a[e.primary.index].error?o:void 0,void 0,void 0,0!==e.primary.index?f:0,d]))},slots:{boxProps:{sx:{margin:"auto"}}}}))}),Ft=C.memo(function(e){var t=e.onLoad,n=e.onError,a=e.pageLoadStates,o=e.retryFailedPagesKeyPrefix,i=e.isPreloadMode,u=S(e,r),l=u.currentPageIndex,s=u.totalPages,c=u.pageGap,d=u.readingDirection,f=J().direction,g=d===Y.LTR;return U.jsx(Et,T(T({},u),{},{createPage:function(e,r,u,c,d){for(var f=arguments.length,g=new Array(f>5?f-5:0),p=5;p<f;p++)g[p-5]=arguments[p];return Sr.apply(void 0,[e,r,!0,a[e.primary.index].loaded,i,t,n,u,!i,l,s].concat(g,[a[e.primary.index].error?o:void 0,void 0,void 0,void 0,d]))},slots:{boxProps:{sx:T(T({my:"auto",display:"flex",flexWrap:"nowrap",alignItems:"center",gap:"".concat(c,"px")},H("ltr"===f,{flexDirection:g?"row":"row-reverse",justifyContent:g?"flex-start":"flex-end"})),H("rtl"===f,{flexDirection:g?"row-reverse":"row",justifyContent:g?"flex-end":"flex-start"}))}}}))}),zt=b("z",function(e){return e===q.DOUBLE_PAGE}),Bt=b("Z",function(e){return[Q.WIDTH,Q.SCREEN].includes(e)}),Vt=(b("_",function(e){return[Q.HEIGHT,Q.SCREEN].includes(e)}),b("X",function(e,t){return!(null==e||!e.enabled)&&Bt(t)})),Ut=b("i",function(e){return[q.CONTINUOUS_VERTICAL,q.CONTINUOUS_HORIZONTAL,q.WEBTOON].includes(e)}),Wt=b("N",function(e){return[q.CONTINUOUS_VERTICAL,q.WEBTOON].includes(e)}),Ht=(b("a4",function(e,t,n){return t&&n.isDefault&&ft.isLongStripType(e)}),b("U",function(e){switch(e){case q.SINGLE_PAGE:return It;case q.DOUBLE_PAGE:return Rt;case q.CONTINUOUS_VERTICAL:case q.WEBTOON:return Nt;case q.CONTINUOUS_HORIZONTAL:return Ft;default:throw new Error('Unexpected "ReadingMode" ('.concat(e,")"))}}),b("y",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e!==X.AUTO?e:window.innerHeight-n>window.innerWidth-r?t:X.BOTTOM}),function(e){var t,n=new Set,r=function(e,r){var a="function"==typeof e?e(t):e;if(!Object.is(a,t)){var o=t;t=(null!=r?r:"object"!==x(a)||null===a)?a:Object.assign({},t,a),n.forEach(function(e){return e(t,o)})}},a=function(){return t},o={setState:r,getState:a,getInitialState:function(){return i},subscribe:function(e){return n.add(e),function(){return n.delete(e)}}},i=t=e(r,a,o);return o}),Gt=function(e){return e};var Kt=function(e){var t=function(e){return e?Ht(e):Ht}(e),n=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt,n=$.useSyncExternalStore(e.subscribe,$.useCallback(function(){return t(e.getState())},[e,t]),$.useCallback(function(){return t(e.getInitialState())},[e,t]));return $.useDebugValue(n),n}(t,e)};return Object.assign(n,t),n},Zt={BASE_URL:"./",DEV:!1,LEGACY:!0,MODE:"production",PROD:!0,SSR:!1,VITE_SERVER_URL_DEFAULT:"http://localhost:4567"},Xt=new Map,Jt=function(e){var t=Xt.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(function(e){var t=E(e,2);return[t[0],t[1].getState()]})):{}},Yt=function(e){var t,n;if(e){var r=e.split("\n"),a=r.findIndex(function(e){return e.includes("api.setState")});if(!(a<0)){var o=(null==(t=r[a+1])?void 0:t.trim())||"";return null==(n=/.+ (.+) .+/.exec(o))?void 0:n[1]}}},Qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,i){var u,l=t.enabled,s=t.anonymousActionType,c=t.store,d=S(t,a);try{u=(null!=l?l:"production"!==(Zt?"production":void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(x){}if(!u)return e(n,r,i);var f=function(e,t,n){if(void 0===e)return{type:"untracked",connection:t.connect(n)};var r=Xt.get(n.name);if(r)return T({type:"tracked",store:e},r);var a={connection:t.connect(n),stores:{}};return Xt.set(n.name,a),T({type:"tracked",store:e},a)}(c,u,d),g=f.connection,p=S(f,o),v=!0;i.setState=function(e,t,a){var o=n(e,t);if(!v)return o;var u=void 0===a?{type:s||Yt((new Error).stack)||"anonymous"}:"string"==typeof a?{type:a}:a;return void 0===c?(null==g||g.send(u,r()),o):(null==g||g.send(T(T({},u),{},{type:"".concat(c,"/").concat(u.type)}),T(T({},Jt(d.name)),{},M({},c,i.getState()))),o)},i.devtools={cleanup:function(){g&&"function"==typeof g.unsubscribe&&g.unsubscribe(),function(e,t){if(void 0!==t){var n=Xt.get(e);n&&(delete n.stores[t],0===Object.keys(n.stores).length&&Xt.delete(e))}}(d.name,c)}};var h=function(){var e=v;v=!1,n.apply(void 0,arguments),v=e},y=e(i.setState,r,i);if("untracked"===p.type?null==g||g.init(y):(p.stores[p.store]=i,null==g||g.init(Object.fromEntries(Object.entries(p.stores).map(function(e){var t=E(e,2),n=t[0],r=t[1];return[n,n===p.store?y:r.getState()]})))),i.dispatchFromDevtools&&"function"==typeof i.dispatch){var b=!1,m=i.dispatch;i.dispatch=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"production"===(Zt?"production":void 0)||"__setState"!==t[0].type||b||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),b=!0),m.apply(void 0,t)}}return g.subscribe(function(e){var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):qt(e.payload,function(e){if("__setState"!==e.type)i.dispatchFromDevtools&&"function"==typeof i.dispatch&&i.dispatch(e);else{if(void 0===c)return void h(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');var t=e.state[c];if(null==t)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&h(t)}});case"DISPATCH":switch(e.payload.type){case"RESET":return h(y),void 0===c?null==g?void 0:g.init(i.getState()):null==g?void 0:g.init(Jt(d.name));case"COMMIT":return void 0===c?void(null==g||g.init(i.getState())):null==g?void 0:g.init(Jt(d.name));case"ROLLBACK":return qt(e.state,function(e){if(void 0===c)return h(e),void(null==g||g.init(i.getState()));h(e[c]),null==g||g.init(Jt(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return qt(e.state,function(e){void 0!==c?JSON.stringify(i.getState())!==JSON.stringify(e[c])&&h(e[c]):h(e)});case"IMPORT_STATE":var n=e.payload.nextLiftedState,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return h(void 0===c?r:r[c]),void(null==g||g.send(null,n));case"PAUSE_RECORDING":return v=!v}return}}),y}},qt=function(e,t){var n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}void 0!==n&&t(n)},$t=Symbol.for("immer-nothing"),en=Symbol.for("immer-draftable"),tn=Symbol.for("immer-state");function nn(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var rn=Object.getPrototypeOf;function an(e){return!!e&&!!e[tn]}function on(e){var t;return!!e&&(ln(e)||Array.isArray(e)||!!e[en]||!(null===(t=e.constructor)||void 0===t||!t[en])||gn(e)||pn(e))}var un=Object.prototype.constructor.toString();function ln(e){if(!e||"object"!==x(e))return!1;var t=rn(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===un}function sn(e,t){0===cn(e)?Reflect.ownKeys(e).forEach(function(n){t(n,e[n],e)}):e.forEach(function(n,r){return t(r,n,e)})}function cn(e){var t=e[tn];return t?t.type_:Array.isArray(e)?1:gn(e)?2:pn(e)?3:0}function dn(e,t){return 2===cn(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fn(e,t,n){var r=cn(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function gn(e){return e instanceof Map}function pn(e){return e instanceof Set}function vn(e){return e.copy_||e.base_}function hn(e,t){if(gn(e))return new Map(e);if(pn(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);var n=ln(e);if(!0===t||"class_only"===t&&!n){var r=Object.getOwnPropertyDescriptors(e);delete r[tn];for(var a=Reflect.ownKeys(r),o=0;o<a.length;o++){var i=a[o],u=r[i];!1===u.writable&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[i]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[i]})}return Object.create(rn(e),r)}var l=rn(e);if(null!==l&&n)return T({},e);var s=Object.create(l);return Object.assign(s,e)}function yn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return mn(e)||an(e)||!on(e)||(cn(e)>1&&(e.set=e.add=e.clear=e.delete=bn),Object.freeze(e),t&&Object.entries(e).forEach(function(e){var t=E(e,2);t[0];return yn(t[1],!0)})),e}function bn(){nn(2)}function mn(e){return Object.isFrozen(e)}var xn,Sn={};function jn(e){var t=Sn[e];return t||nn(0),t}function _n(){return xn}function wn(e,t){t&&(jn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Pn(e){On(e),e.drafts_.forEach(Tn),e.drafts_=null}function On(e){e===xn&&(xn=e.parent_)}function Cn(e){return xn={drafts_:[],parent_:xn,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Tn(e){var t=e[tn];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Mn(e,t){t.unfinalizedDrafts_=t.drafts_.length;var n=t.drafts_[0];return void 0!==e&&e!==n?(n[tn].modified_&&(Pn(t),nn(4)),on(e)&&(e=Dn(t,e),t.parent_||In(t,e)),t.patches_&&jn("Patches").generateReplacementPatches_(n[tn].base_,e,t.patches_,t.inversePatches_)):e=Dn(t,n,[]),Pn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$t?e:void 0}function Dn(e,t,n){if(mn(t))return t;var r=t[tn];if(!r)return sn(t,function(a,o){return En(e,r,t,a,o,n)}),t;if(r.scope_!==e)return t;if(!r.modified_)return In(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;var a=r.copy_,o=a,i=!1;3===r.type_&&(o=new Set(a),a.clear(),i=!0),sn(o,function(t,o){return En(e,r,a,t,o,n,i)}),In(e,a,!1),n&&e.patches_&&jn("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function En(e,t,n,r,a,o,i){if(an(a)){var u=Dn(e,a,o&&t&&3!==t.type_&&!dn(t.assigned_,r)?o.concat(r):void 0);if(fn(n,r,u),!an(u))return;e.canAutoFreeze_=!1}else i&&n.add(a);if(on(a)&&!mn(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Dn(e,a),t&&t.scope_.parent_||"symbol"===x(r)||!Object.prototype.propertyIsEnumerable.call(n,r)||In(e,a)}}function In(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&yn(t,n)}var An={get:function(e,t){if(t===tn)return e;var n=vn(e);if(!dn(n,t))return function(e,t,n){var r,a=Rn(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);var r=n[t];return e.finalized_||!on(r)?r:r===Ln(e.base_,t)?(Fn(e),e.copy_[t]=Bn(r,e)):r},has:function(e,t){return t in vn(e)},ownKeys:function(e){return Reflect.ownKeys(vn(e))},set:function(e,t,n){var r,a,o=Rn(vn(e),t);if(null!=o&&o.set)return o.set.call(e.draft_,n),!0;if(!e.modified_){var i=Ln(vn(e),t),u=null==i?void 0:i[tn];if(u&&u.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((r=n)===(a=i)?0!==r||1/r==1/a:r!=r&&a!=a)&&(void 0!==n||dn(e.base_,t)))return!0;Fn(e),Nn(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Ln(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Fn(e),Nn(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor:function(e,t){var n=vn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){nn(11)},getPrototypeOf:function(e){return rn(e.base_)},setPrototypeOf:function(){nn(12)}},kn={};function Ln(e,t){var n=e[tn];return(n?vn(n):e)[t]}function Rn(e,t){if(t in e)for(var n=rn(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rn(n)}}function Nn(e){e.modified_||(e.modified_=!0,e.parent_&&Nn(e.parent_))}function Fn(e){e.copy_||(e.copy_=hn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}sn(An,function(e,t){kn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),kn.deleteProperty=function(e,t){return kn.set.call(this,e,t,void 0)},kn.set=function(e,t,n){return An.set.call(this,e[0],t,n,e[0])};var zn=function(){return m(function e(t){var n=this;y(this,e),this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var o=n;return function(){for(var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,r=arguments.length,i=new Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return o.produce(n,function(n){var r;return(r=t).call.apply(r,[e,n].concat(i))})}}var i;if("function"!=typeof t&&nn(6),void 0!==r&&"function"!=typeof r&&nn(7),on(e)){var u=Cn(n),l=Bn(e,void 0),s=!0;try{i=t(l),s=!1}finally{s?Pn(u):On(u)}return wn(u,r),Mn(i,u)}if(!e||"object"!==x(e)){if(void 0===(i=t(e))&&(i=e),i===$t&&(i=void 0),n.autoFreeze_&&yn(i,!0),r){var c=[],d=[];jn("Patches").generateReplacementPatches_(e,i,c,d),r(c,d)}return i}nn(1)},this.produceWithPatches=function(e,t){return"function"==typeof e?function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return n.produceWithPatches(t,function(t){return e.apply(void 0,[t].concat(a))})}:[n.produce(e,t,function(e,t){r=e,a=t}),r,a];var r,a},"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof(null==t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)},[{key:"createDraft",value:function(e){on(e)||nn(8),an(e)&&(e=function(e){an(e)||nn(10);return Vn(e)}(e));var t=Cn(this),n=Bn(e,void 0);return n[tn].isManual_=!0,On(t),n}},{key:"finishDraft",value:function(e,t){var n=e&&e[tn];n&&n.isManual_||nn(9);var r=n.scope_;return wn(r,t),Mn(void 0,r)}},{key:"setAutoFreeze",value:function(e){this.autoFreeze_=e}},{key:"setUseStrictShallowCopy",value:function(e){this.useStrictShallowCopy_=e}},{key:"applyPatches",value:function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=jn("Patches").applyPatches_;return an(e)?a(e,t):this.produce(e,function(e){return a(e,t)})}}])}();function Bn(e,t){var n=gn(e)?jn("MapSet").proxyMap_(e,t):pn(e)?jn("MapSet").proxySet_(e,t):function(e,t){var n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:_n(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},a=r,o=An;n&&(a=[r],o=kn);var i=Proxy.revocable(a,o),u=i.revoke,l=i.proxy;return r.draft_=l,r.revoke_=u,l}(e,t);return(t?t.scope_:_n()).drafts_.push(n),n}function Vn(e){if(!on(e)||mn(e))return e;var t,n=e[tn];if(n){if(!n.modified_)return n.base_;n.finalized_=!0,t=hn(e,n.scope_.immer_.useStrictShallowCopy_)}else t=hn(e,!0);return sn(t,function(e,n){fn(t,e,Vn(n))}),n&&(n.finalized_=!1),t}var Un=new zn,Wn=Un.produce;Un.produceWithPatches.bind(Un),Un.setAutoFreeze.bind(Un),Un.setUseStrictShallowCopy.bind(Un),Un.applyPatches.bind(Un),Un.createDraft.bind(Un),Un.finishDraft.bind(Un);var Hn=function(e){return function(t,n,r){return r.setState=function(e,n){for(var r="function"==typeof e?Wn(e):e,a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];return t.apply(void 0,[r,n].concat(o))},e(r.setState,n,r)}},Gn=function(e){return Symbol.iterator in e},Kn=function(e){return"entries"in e},Zn=function(e,t){var n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;var a,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=I(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw o}}}}(n);try{for(o.s();!(a=o.n()).done;){var i=E(a.value,2),u=i[0],l=i[1];if(!r.has(u)||!Object.is(l,r.get(u)))return!1}}catch(s){o.e(s)}finally{o.f()}return!0};function Xn(e,t){return!!Object.is(e,t)||"object"===x(e)&&null!==e&&"object"===x(t)&&null!==t&&(Object.getPrototypeOf(e)===Object.getPrototypeOf(t)&&(Gn(e)&&Gn(t)?Kn(e)&&Kn(t)?Zn(e,t):function(e,t){for(var n=e[Symbol.iterator](),r=t[Symbol.iterator](),a=n.next(),o=r.next();!a.done&&!o.done;){if(!Object.is(a.value,o.value))return!1;a=n.next(),o=r.next()}return!!a.done&&!!o.done}(e,t):Zn({entries:function(){return Object.entries(e)}},{entries:function(){return Object.entries(t)}})))}var Jn,Yn={isVisible:!1},Qn={isActive:!1,isPaused:!1,start:te,cancel:te,toggleActive:te,pause:te,resume:te,invert:!1,direction:ee.FORWARD,scrollRef:void 0},qn={isMaximized:!1,isDragging:!1},$n={showPreview:!1},er=b("Q",{totalPages:0,currentPageIndex:0,pageToScrollToIndex:null,pageUrls:[],pageLoadStates:[{url:"",loaded:!1}],pages:[{name:"1",primary:{index:0,alt:"Page #1",url:"".concat(P.getBaseUrl())}}],transitionPageMode:G.NONE,retryFailedPagesKeyPrefix:""}),tr=b("a6",{chapters:{mangaChapters:void 0,chapters:[],chapterForDuplicatesHandling:void 0,initialChapter:void 0,currentChapter:void 0,nextChapter:void 0,previousChapter:void 0,isCurrentChapterReady:!1,visibleChapters:{leading:0,trailing:0,lastLeadingChapterSourceOrder:99999,lastTrailingChapterSourceOrder:-1,isLeadingChapterPreloadMode:!0,isTrailingChapterPreloadMode:!0,scrollIntoView:!1,resumeMode:void 0}}}),nr=function(){function e(){y(this,e)}return m(e,null,[{key:"createActionName",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.slice(0,-1),a=t.slice(-1)[0];return"".concat(r.join(":"),"/").concat(a)}},{key:"createActionNameCreator",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.createActionName;return function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n.apply(void 0,[t].concat(r))}}}])}(),rr=["scrollRef"],ar={manga:void 0,scrollbar:{xSize:0,ySize:0}},or=(Jn?Kt(Jn):Kt)(Qt(Hn(function(e,t,n){var r=nr.createActionNameCreator("reader"),a=function(e){return nr.createActionNameCreator(e,r)};return T(T(T(T(T(T(T({},ar),{},{reset:function(){return e(function(){return T(T(T(T(T(T(T(T({},t()),ar),{},{scrollbar:T(T({},t().scrollbar),ar.scrollbar),settings:T(T({},t().settings),Pt)},t().overlay.reset()),t().autoScroll.reset()),t().pages.reset()),t().chapters.reset()),t().progressBar.reset()),t().tapZone.reset())},void 0,r("reset"))},setManga:function(t){return e(function(e){e.manga=t},void 0,r("setManga"))},scrollbar:T(T({},ar.scrollbar),{},{setXSize:function(t){return e(function(e){e.scrollbar.xSize=t},void 0,r("scrollbar","setXSize"))},setYSize:function(t){return e(function(e){e.scrollbar.ySize=t},void 0,r("scrollbar","setYSize"))}}),settings:T(T({},Pt),{},{setSettings:function(n){return e(function(e){e.settings=T(T({},t().settings),n)},void 0,r("settings","setSettings"))}})},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{overlay:{isVisible:Yn.isVisible,setIsVisible:function(e){return a(function(t){t.overlay.isVisible=e},void 0,r("setIsVisible"))},reset:function(){return{overlay:T(T({},o().overlay),Yn)}}}}}(a("overlay"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{autoScroll:T(T({},Qn),{},{reset:function(){return{autoScroll:T(T({},o().autoScroll),Qn)}},setIsActive:function(e){return a(function(t){t.autoScroll.isActive=e},void 0,r("setIsActive"))},setIsPaused:function(e){return a(function(t){t.autoScroll.isPaused=e},void 0,r("setIsPaused"))},setStart:function(e){return a(function(t){t.autoScroll.start=e},void 0,r("setStart"))},setCancel:function(e){return a(function(t){t.autoScroll.cancel=e},void 0,r("setCancel"))},setToggleActive:function(e){return a(function(t){t.autoScroll.toggleActive=e},void 0,r("setToggleActive"))},setPause:function(e){return a(function(t){t.autoScroll.pause=e},void 0,r("setPause"))},setResume:function(e){return a(function(t){t.autoScroll.resume=e},void 0,r("setResume"))},setInvert:function(e){return a(function(t){t.autoScroll.invert=e},void 0,r("setInvert"))},setDirection:function(e){return a(function(t){t.autoScroll.direction=e},void 0,r("setDirection"))},setScrollRef:function(e){return a(function(t){if(e){var n=C.createRef();n.current=e,t.autoScroll.scrollRef=n}else t.autoScroll.scrollRef=void 0},void 0,r("setScrollRef"))}})}}(a("autoScroll"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{pages:T(T({},er),{},{reset:function(){return{pages:T(T({},o().pages),er)}},setCurrentPageIndex:function(e){return a(function(t){t.pages.currentPageIndex=e},void 0,r("setCurrentPageIndex"))},setPageToScrollToIndex:function(e){return a(function(t){t.pages.pageToScrollToIndex=e},void 0,r("setPageToScrollToIndex"))},setTotalPages:function(e){return a(function(t){t.pages.totalPages=e},void 0,r("setTotalPages"))},setPageUrls:function(e){return a(function(t){t.pages.pageUrls=e},void 0,r("setPageUrls"))},setPageLoadStates:function(e){return a(function(t){t.pages.pageLoadStates="function"!=typeof e?e:e(o().pages.pageLoadStates)},void 0,r("setPageLoadStates"))},setPages:function(e){return a(function(t){t.pages.pages=e},void 0,r("setPages"))},setTransitionPageMode:function(e){return a(function(t){t.pages.transitionPageMode=e},void 0,r("setTransitionPageMode"))},setRetryFailedPagesKeyPrefix:function(e){return a(function(t){t.pages.retryFailedPagesKeyPrefix=e},void 0,r("setRetryFailedPagesKeyPrefix"))}})}}(a("pages"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{chapters:T(T({},tr.chapters),{},{reset:function(){return{chapters:T(T({},o().chapters),tr.chapters)}},setReaderStateChapters:function(e){return a(function(t){t.chapters=T(T({},o().chapters),"function"!=typeof e?e:e(o().chapters))},void 0,r("setReaderStateChapters"))}})}}(a("chapters"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{progressBar:T(T({},qn),{},{setIsMaximized:function(e){return a(function(t){t.progressBar.isMaximized=e},void 0,r("setIsMaximized"))},setIsDragging:function(e){return a(function(t){t.progressBar.isDragging=e},void 0,r("setIsDragging"))},reset:function(){return{progressBar:T(T({},o().progressBar),qn)}}})}}(a("progressBar"),e,t,n)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2];return{tapZone:T(T({},$n),{},{setShowPreview:function(e){return a(function(t){t.tapZone.showPreview=e},void 0,r("setShowPreview"))},reset:function(){return{tapZone:T(T({},o().tapZone),$n)}}})}}(a("tapZone"),e,t,n))}),{name:"ReaderStore",anonymousActionType:"reader/action",serialize:{replacer:function(e,t){return rr.includes(e)?null:t}}})),ir=b("B",function(e){return or(function(e){var t=$.useRef(void 0);return function(n){var r=e(n);return Xn(t.current,r)?t.current:t.current=r}}(e))}),ur=b("$",function(){return or.getState()}),lr=b("c",ir),sr=(b("P",function(){return or.getState().scrollbar}),b("b",ir)),cr=b("k",function(){return or.getState().settings}),dr=(b("D",ir),b("h",function(){return or.getState().overlay}),b("A",ir),b("a2",function(){return or.getState().autoScroll}),b("d",ir),b("l",function(){return or.getState().pages}),b("C",ir),b("j",function(){return or.getState().chapters})),fr=(b("e",ir),b("I",ir)),gr=(b("p",function(){return or.getState().tapZone}),function(e){return Object.keys(e).map(function(t){var n=t,r=e[n];switch(n){case"brightness":case"contrast":case"saturate":return r.enabled?"".concat(n,"(").concat(r.value/100,")"):"";case"hue":return r.enabled?"hue-rotate(".concat(r.value,"deg)"):"";case"rgba":return"";case"sepia":case"grayscale":case"invert":return r?"".concat(n,"(").concat(Number(r),")"):"";default:throw new Error('Unexpected "CustomFilter" ('.concat(n,")"))}}).join(" ")}),pr=C.memo(function(e){var t=e.pageIndex,n=e.pagesIndex,r=e.isPrimaryPage,a=e.display,o=e.doublePage,u=void 0!==o&&o,l=e.position,s=e.marginTop,c=e.shouldLoad,d=e.readingMode,f=e.customFilter,g=e.pageScaleMode,p=e.shouldStretchPage,v=e.readerWidth,h=e.onLoad,y=e.onError,b=e.setRef,m=e.readerNavBarWidth,x=e.isLoaded,j=S(e,i),_=j.src,w=ne.useIsTabletWidth(),P=lr(function(e){return e.scrollbar}),O=C.useCallback(function(){return null==h?void 0:h(n,_,r)},[h,n,_,r]),M=C.useCallback(function(){return null==y?void 0:y(t,_)},[y,t,_]),D=C.useCallback(function(e){return null==b?void 0:b(n,e)},[n,b]);return a||c?U.jsx(pt,T(T({},j),{},{onLoad:O,onError:M,shouldLoad:c,shouldDecode:!0,ref:D,spinnerStyle:T(T(T({backgroundColor:"background.paper"},vr(d,p,g,v,m+P.ySize,P.xSize,u,w)),H(!a,{display:"none"})),yr(u,l)),imgStyle:T(T(T(T(T({},hr(d,p,g,u,v,m+P.ySize,P.xSize)),{},{filter:gr(f),objectFit:"contain",objectPosition:l,userSelect:"none"},yr(u,l)),H(void 0!==s,{mt:"".concat(s,"px")})),{},{display:"block"},H(!a,{display:"none"})),H(!x,{margin:"unset"})),hideImgStyle:{visibility:"hidden",minWidth:0,minHeight:0,width:0,height:0}})):null}),vr=function(e,t,n,r,a,o,i,u){var l=function(e){return"calc(".concat(e," - ").concat(a,"px)")},s=function(e,t){return l("".concat(Z(null!=t?t:e,Math.min(e,null!=t?t:9e3),e),"vw"))},c=function(e,t){if(Vt(e,t))return null==e?void 0:e.value}(r,n),d=l("".concat(Math.min(100,null!=c?c:9e3),"vw")),f="calc(100vh - ".concat(o,"px)"),g=u?d:s(40,c),p=u?f:"85vh",v=T(T({},M(M(M(M(M({},q.SINGLE_PAGE,{minWidth:g,minHeight:p}),q.DOUBLE_PAGE,{minWidth:u?"50vw":s(35,c?c/2:void 0),minHeight:p}),q.CONTINUOUS_VERTICAL,{minWidth:g,minHeight:"100vh"}),q.CONTINUOUS_HORIZONTAL,{minWidth:g,minHeight:p}),q.WEBTOON,{minWidth:g,minHeight:"100vh"})[e]),{},{height:"unset"}),h=i?"calc(".concat(l("".concat(null!=c?c:100,"vw"))," / 2)"):d;switch(n){case Q.WIDTH:return T(T({},v),H(t,{minWidth:h}));case Q.HEIGHT:return T(T({},v),H(t,T({minHeight:f},H(Wt(e),{minHeight:"100vh"}))));case Q.SCREEN:return T(T({},v),H(t,T({minWidth:h,minHeight:f},H(Wt(e),{minHeight:"100vh"}))));case Q.ORIGINAL:return T(T({},v),H(Wt(e),{height:void 0}));default:throw new Error('Unexpected "PageScaleMode" ('.concat(n,")"))}},hr=function(e,t,n,r,a,o,i){var u=function(e,t,n){if(Vt(n,e)){var r=n.value;return t?r/100/2:r/100}return t?.5:1}(n,r,a);return function(e,t,n,r,a,o){var i="calc((100vw - ".concat(a,"px) * ").concat(e,")"),u="calc(100vh - ".concat(o,"px)");switch(r){case Q.WIDTH:return T(T(T({minWidth:0},H(Ut(t),{minWidth:"unset"})),H(n,{minWidth:i})),{},{maxWidth:i});case Q.HEIGHT:return T(T(T({minHeight:0},H(Ut(t),{minHeight:"unset"})),H(n,{minHeight:u})),{},{maxHeight:u});case Q.SCREEN:return T(T(T({minWidth:0,minHeight:0},H(Ut(t),{minWidth:"unset",minHeight:"unset"})),H(n,T(T({minWidth:i,minHeight:u},H(t===q.CONTINUOUS_HORIZONTAL,{minWidth:"unset",minHeight:u})),H(Wt(t),{minWidth:i,minHeight:"unset"})))),{},{maxWidth:i,maxHeight:u});case Q.ORIGINAL:return{};default:throw new Error('Unexpected "PageScaleMode" ('.concat(r,")"))}}(u,e,t,n,o,i)},yr=function(e,t){return T({m:"auto"},H(e,T(T({},H("right"===t,{mr:"unset "})),H("left"===t,{ml:"unset "}))))},br=function(e,t){return{index:t,alt:"Page #".concat(t+1),url:"".concat(P.getBaseUrl()).concat(e)}},mr=function(e,t){return{name:"".concat(t+1),primary:br(e,t)}},xr=(b("L",function(e){return e.map(mr)}),function(e,t,n,r,a){if(!r||a)return Number.MAX_SAFE_INTEGER;var o=n-Math.abs(t-e);return t<e?o-1:o}),Sr=function(e,t,n,r,a,o,i,u,l,s,c,d,f,g,p,v,h,y,b,m,x,S){var j=e.primary,_=j.index,w=j.alt,P=j.url;return U.jsx(pr,{setRef:S,pageIndex:_,pagesIndex:t,isPrimaryPage:n,src:P,alt:w,display:l,priority:xr(s,_,c,u,a),position:b,onLoad:o,onError:i,doublePage:m,shouldLoad:u,retryKeyPrefix:y,marginTop:x,isLoaded:r,readingMode:d,customFilter:f,pageScaleMode:g,shouldStretchPage:p,readerWidth:v,readerNavBarWidth:h},P)},jr=function(e,t){var n=e.getBoundingClientRect(),r=n.top,a=n.bottom,o=n.left,i=n.right,u=T({top:0,bottom:0,left:0,right:0},t);return{isLeftInViewport:o>=u.left&&o<=window.innerWidth,isRightInViewport:i>=u.right&&i<=window.innerWidth,isFillingWidthViewportCompletely:o<=0&&i>=window.innerWidth,isTopInViewport:r>=u.top&&r<=window.innerHeight,isBottomInViewport:a>=u.bottom&&a<=window.innerHeight,isFillingHeightViewportCompletely:r<=0&&a>=window.innerHeight}},_r=(b("q",function(e,t,n){var r=jr(e,n),a=r.isLeftInViewport,o=r.isRightInViewport,i=r.isFillingWidthViewportCompletely,u=r.isTopInViewport,l=r.isBottomInViewport,s=r.isFillingHeightViewportCompletely,c=a||o||i,d=u||l||s;switch(t){case re.X:return c;case re.Y:return d;default:throw new Error('unexpected "type" ('.concat(t,")"))}}),b("r",function(e,t,n){var r=jr(e),a=r.isLeftInViewport,o=r.isRightInViewport,i=r.isBottomInViewport;switch(t){case re.X:return n===Y.LTR?o:a;case re.Y:return i;default:throw new Error('unexpected "type" ('.concat(t,")"))}}),b("T",function(e,t,n,r){var a=[],o=t.map(function(e,n){return n+t.slice(0,n).filter(function(e){return e.isSpread}).length});return e.forEach(function(i,u){var l,s=u+(!(o[u]%2)?1:-1)*(n?-1:1),c=u<s,d=0===u,f=u===e.length-1,g=c&&!f,p=t[u].isSpread,v=!(null===(l=t[s])||void 0===l||!l.isSpread),h=!(p||v)&&!(d&&n);if(c||!h){var y="".concat(u+1).concat(g&&h?"".concat("-").concat(s+1):"");a.push({name:r===Y.LTR?y:vt(y,"-"),primary:br(i,u)})}else{var b=a[a.length-1];a[a.length-1]=T(T({},b),{},{secondary:br(i,u)})}}),a}),function(e,t,n,r,a,o,i,u){if(!o&&!i&&!u)return[];var l=At(e,t).pagesIndex,s=function(e,t,n,r){return e?r:t||n?Z(1,0,r):0}(o,i,u,r),c=n<=e&&!i?1:-1,d=Math.max(0,l-Math.min(2,s)*c),f=Ut(a)?e:d,g=l+s*c,p=Math.max(1,Math.abs(g-f)+Number(o));return Array(p).fill(1).map(function(e,t){return f+t*c})}),wr=(b("M",function(e,t,n){return[G.BOTH,e].includes(t)||Ut(n)}),b("o",function(e,t){return e!==G.NONE||Ut(t)})),Pr=(b("K",function(e,t,n){var r=ie[n];return"ltr"===t?(ae.PREVIOUS,oe("start","end",r)):(ae.PREVIOUS,oe("end","start",r))}),b("J",function(e,t,n){var r=ie[n];return"ltr"===t?oe(0,e.scrollWidth,r):oe(-e.scrollWidth,0,r)}),function(e,t){return void 0===t||t.url!==e}),Or=b("O",function(e,t,n){return e===K.START?0:e===K.END?n:Z(t,0,n)}),Cr=b("v",function(e){return dt.getFromCache(e,ue,"CHAPTER_READER_FIELDS")}),Tr=function(e,t,n,r,a,o,i){if(!(!!r.isRead&&!!a))return[];var u=[e].concat(j(n))[a-1];if(!u)return[];var l=(i?dt.addDuplicates([u],t):[u]).map(function(e){var t=e.id;return Cr(t)}).filter(function(e){return null!==e}).filter(function(e){return dt.isDeletable(e,o)});return l.length?dt.getIds(l):[]},Mr=function(e,t){var n=(e+1)/t;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ae.NEXT)===ae.PREVIOUS?n<.75:n>.25},Dr=function(e,t,n,r,a){var o=Cr(e.id);if(!o||!t)return[];if(!(!!a&&o.isDownloaded&&Mr(r,o.pageCount)))return[];var i=Cr(t.id);return null!=i&&i.isDownloaded?dt.getNonRead(n).map(function(e){return Cr(e.id)}).filter(function(e){return!!e}).slice(-a).filter(function(e){return!e.isDownloaded}).map(function(e){return e.id}).filter(function(e){return!dt.isDownloading(e)}):[]},Er=(b("V",function(e,t,n,r){return function(a,o){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(a>e.length-1)){var u=e[a],l=(i?u.primary:u.secondary).index;if(r===q.DOUBLE_PAGE){var s=new Image;s.onload=function(){var e,n=(e=s).height/e.width<1;n&&t(function(e){var t=e[l];return void 0===t||t.url!==o||t.isSpread===n?e:e.toSpliced(l,1,{url:o,isSpread:n})})},s.crossOrigin="anonymous",s.src=o}n(function(e){var t=e[l];return Pr(o,t)||t.loaded?e:e.toSpliced(l,1,{url:t.url,loaded:!0})})}}}),b("t",function(e,t){if(e)return t?K.END:K.START}),b("W",function(e){return function(t,n){e(function(e){var r=e[t];return Pr(n,r)?e:e.toSpliced(t,1,T(T({},r),{},{loaded:!1,error:!0}))})}}),b("s",function(e,t,n,r,a,o){var i=t.visibleChapters,u=i.leading,l=i.trailing,s=i.lastLeadingChapterSourceOrder,c=i.lastTrailingChapterSourceOrder,d=e&&n<s,f=!e&&n>c;return T(T({},t),{},{visibleChapters:T(T({},t.visibleChapters),{},{leading:u+Number(d),trailing:l+Number(f),lastLeadingChapterSourceOrder:d?n:s,lastTrailingChapterSourceOrder:f?n:c,isLeadingChapterPreloadMode:void 0!==a?a:t.visibleChapters.isLeadingChapterPreloadMode,isTrailingChapterPreloadMode:void 0!==o?o:t.visibleChapters.isTrailingChapterPreloadMode,scrollIntoView:r,resumeMode:e?K.END:K.START})})})),Ir=(b("a1",function(e,t,n,r,a,o,i,u){if(r){if(a)return Z(e,0,t.pageCount-1);if(u.scrollIntoView&&void 0!==u.resumeMode)return Or(u.resumeMode,0,t.pageCount-1);if(o)return Math.max(0,t.pageCount-1);if(i)return 0}return t.sourceOrder<n.sourceOrder?Math.max(t.pageCount-1,0):0}),b("a0",function(e,t,n,r,a,o){return e&&void 0!==a?a:t?o:n?K.END:K.START}),b("Y",function(e,t,n){var r=!!t[e+1],a=e+1>=t.length-1&&n.isLeadingChapterPreloadMode,o=r&&!a,i=!!t[e-1],u=e-1<=0&&n.isTrailingChapterPreloadMode;return{previous:o,next:i&&!u}}),{ltr:"rtl",rtl:"ltr"}),Ar={ltr:Y.LTR,rtl:Y.RTL},kr=function(){function e(){y(this,e)}return m(e,null,[{key:"getOrCreateChapterUpdateQueue",value:function(t){return e.chapterUpdateQueues.has(t)||e.chapterUpdateQueues.set(t,new le(1)),e.chapterUpdateQueues.get(t)}},{key:"navigateToChapter",value:function(e,t){se.navigate(dt.getReaderUrl(e),{replace:!0,state:t})}},{key:"downloadAhead",value:function(t,n,r,a,o){var i="".concat(t.id,"_").concat(null==n?void 0:n.id,"_").concat(a,"_").concat(o);e.downloadAheadQueue.enqueue(i,O(_().m(function e(){var i;return _().w(function(e){for(;;)switch(e.p=e.n){case 0:if((i=Dr(t,n,r,a,o)).length){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,dt.download(i);case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])})))}},{key:"preloadChapter",value:function(e,t,n,r,a,o,i){if(n){var u=i===ae.PREVIOUS,l=i===ae.NEXT;!(u&&r<=n.sourceOrder||l&&a>=n.sourceOrder)&&Mr(e,t,i)&&o(function(e){return Er(u,e,n.sourceOrder,!1,!!u||void 0,!!l||void 0)})}}},{key:"useUpdateChapter",value:function(){var t=ce().settings,n=t.deleteChaptersWhileReading,r=t.deleteChaptersWithBookmark,a=t.updateProgressAfterReading;return C.useCallback(function(t){var o=ur().manga,i=dr(),u=i.currentChapter,l=i.mangaChapters,s=i.chapters,c=cr().shouldSkipDupChapters;if(o&&u&&l){var d=dt.getNextChapters(u,s,{offset:ae.PREVIOUS}),f=function(){var e=O(_().m(function e(){var i,s;return _().w(function(e){for(;;)switch(e.n){case 0:if(i=dt.getIds(c?dt.addDuplicates([u],l):[u]),s=Tr(u,l,d,t,n,r,c),!!s.length||i.some(function(e){var n=Cr(e);return!!n&&(void 0!==t.isRead&&t.isRead!==n.isRead||void 0!==t.lastPageRead&&t.lastPageRead!==n.lastPageRead||void 0!==t.isBookmarked&&t.isBookmarked!==n.isBookmarked)})){e.n=1;break}return e.a(2);case 1:return e.n=2,P.updateChapters(i,T(T({},t),{},{chapterIdsToDelete:s,trackProgressMangaId:a&&t.isRead&&o.trackRecords.totalCount?o.id:void 0}),{errorPolicy:"all"}).response.catch(_e());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();e.getOrCreateChapterUpdateQueue(u.id).enqueue("".concat(u.id),f)}},[n,r,a])}},{key:"useGetThemeDirection",value:function(){var e=J().direction,t=sr(function(e){return e.settings.readingDirection.value});return Ar[e]===t?e:Ir[e]}},{key:"updateSetting",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,o=ur().manga;if(o&&o.id!==gt.id){var i=de(e,void 0!==a?[null==a?void 0:a.toString()]:void 0),u=P.graphQLClient.client.cache;if(r||L.includes(e)){var l=u.writeFragment({fragment:fe,data:{__typename:"GlobalMetaType",key:i,value:JSON.stringify(t)}});u.modify({fields:{metas:function(e,t){var n=t.readField;return T(T({},e),{},{nodes:ge(i,null==e?void 0:e.nodes,n,function(){return l})})}}})}else{var s=u.writeFragment({fragment:pe,data:{__typename:"MangaMetaType",mangaId:o.id,key:i,value:JSON.stringify(t)}});u.modify({id:u.identify({__typename:"MangaType",id:o.id}),fields:{meta:function(e,t){var n=t.readField;return ge(i,e,n,function(){return s})}}})}n&&Mt(o,e,t,r,a).catch(function(e){return ve(ye("reader.settings.error.label.failed_to_save_settings"),"error",he(e))})}}},{key:"deleteSetting",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=ur().manga;if(r&&r.id!==gt.id){var a=de(e,void 0!==n?[n]:void 0),o=P.graphQLClient.client.cache,i=t||L.includes(e);i?o.evict({id:o.identify({__typename:"GlobalMetaType",key:a})}):o.evict({id:o.identify({__typename:"MangaMetaType",mangaId:r.id,key:a})});var u=i?function(){return P.deleteGlobalMeta(a).response}:function(){return P.deleteMangaMeta(r.id,a).response};u().catch(function(e){return ve(ye("reader.settings.error.label.failed_to_save_settings"),"error",he(e))})}}},{key:"useOverlayMode",value:function(){var e=ne.useIsTouchDevice(),t=sr(function(e){return e.settings.overlayMode}),n=t===be.AUTO,r=t===be.DESKTOP||n&&!e,a=t===be.MOBILE||n&&e;return{mode:r?be.DESKTOP:be.MOBILE,isDesktop:r,isMobile:a}}},{key:"useExit",value:function(){var e=sr(function(e){return e.settings.exitMode}),t=me(),n=xe(),r=C.useCallback(function(){var e=ur().manga;return e?n(Se.manga.path(e.id)):function(){}},[]);switch(e){case je.PREVIOUS:return t;case je.MANGA:return r;default:throw new Error('Unexpected "exitMode" ('.concat(e,")"))}}}])}();M(kr,"downloadAheadQueue",new le(1)),M(kr,"chapterUpdateQueues",new Map),b("a",kr);var Lr=b("S",function(e){var t=e.i18nKey,n=e.value,r=we().t;return U.jsx(Pe,{sx:{flexDirection:"row",gap:.25},children:U.jsx(bt,{t:r,i18nKey:t,values:{value:n},components:[U.jsx(Oe,{variant:"caption",sx:{fontSize:"x-small",opacity:.75}})]})})}),Rr=function(e){var t=e.value,n=e.values,r=e.defaultValue,a=e.setValue,o=e.valueToDisplayData,i=e.isDefaultable,u=e.onDefault,l=we().t;return U.jsxs(Pe,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:[i&&U.jsx(Ce,{onClick:u,variant:void 0===t?"contained":"outlined",children:l("global.label.default")},"default"),n.map(function(e){var n=void 0===t&&e===r,i=o[e].isTitleString?o[e].title:l(o[e].title);return U.jsx(Te,{title:n?l("reader.settings.active_setting"):"",children:U.jsx(Ce,{onClick:function(){return a(e)},variant:e===t?"contained":"outlined",startIcon:o[e].icon,children:n?U.jsx(Lr,{i18nKey:"global.label.footnote",value:i}):i})},e)})]})},Nr=function(e){var t=e.label,n=e.description,r=S(e,u);return U.jsxs(Pe,{children:[U.jsx(Oe,{children:t}),n&&U.jsx(Oe,{variant:"body2",color:"textDisabled",children:n}),U.jsx(Rr,T({},r))]})},Fr=b("F",function(e){var t=e.readingMode,n=e.setReadingMode,r=S(e,l),a=we().t;return U.jsx(Nr,T(T({},r),{},{label:a("reader.settings.label.reading_mode"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:De,setValue:n,valueToDisplayData:Me}))}),zr=M(M({},Y.LTR,{title:"reader.settings.reading_direction.ltr",icon:U.jsx(Ie,{})}),Y.RTL,{title:"reader.settings.reading_direction.rtl",icon:U.jsx(Ee,{})}),Br=Object.values(Y).filter(function(e){return"number"==typeof e}),Vr=b("G",function(e){var t=e.readingDirection,n=e.setReadingDirection,r=S(e,s),a=we().t;return U.jsx(Nr,T(T({},r),{},{label:a("reader.settings.label.reading_direction"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Br,setValue:n,valueToDisplayData:zr}))}),Ur=M(M(M(M(M({},Ae.EDGE,{title:"reader.settings.tap_zones.edge",icon:null}),Ae.KINDLE,{title:"reader.settings.tap_zones.kindle",icon:null}),Ae.L_SHAPE,{title:"reader.settings.tap_zones.l_shape",icon:null}),Ae.RIGHT_LEFT,{title:"reader.settings.tap_zones.right_left",icon:null}),Ae.DISABLED,{title:"global.label.disabled",icon:null}),Wr=Object.values(Ae).filter(function(e){return"number"==typeof e}),Hr=function(e){var t=e.tapZoneLayout,n=e.setTapZoneLayout,r=S(e,c),a=we().t;return U.jsx(Nr,T(T({},r),{},{label:a("reader.settings.tap_zones.title"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Wr,setValue:n,valueToDisplayData:Ur}))},Gr=function(e){return e[e.NONE=0]="NONE",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.BOTH=3]="BOTH",e}(Gr||{}),Kr=M(M(M(M({},0,{title:"global.label.none",icon:null}),1,{title:"global.label.horizontal",icon:null}),2,{title:"global.label.vertical",icon:null}),3,{title:"global.label.both",icon:null}),Zr=Object.values(Gr).filter(function(e){return"number"==typeof e}),Xr=M(M(M(M({},0,{vertical:!1,horizontal:!1}),1,{vertical:!1,horizontal:!0}),2,{vertical:!0,horizontal:!1}),3,{vertical:!0,horizontal:!0}),Jr=function(e){var t,n,r,a=e.tapZoneInvertMode,o=e.setTapZoneInvertMode,i=S(e,d),u=we().t,l=(t=a.value,n=t.vertical,r=t.horizontal,n&&r?3:n?2:r?1:0);return U.jsx(Nr,T(T({},i),{},{label:u("reader.settings.tap_zones.invert"),value:a.isDefault?void 0:l,defaultValue:a.isDefault?l:void 0,values:Zr,setValue:function(e){return o(Xr[e])},valueToDisplayData:Kr}))},Yr=function(e){var t=e.pageScaleMode,n=e.setPageScaleMode,r=S(e,f),a=we().t;return U.jsx(Nr,T(T({},r),{},{label:a("reader.settings.page_scale.title"),value:t.isDefault?void 0:t.value,defaultValue:t.isDefault?t.value:void 0,values:Le,setValue:n,valueToDisplayData:ke}))},Qr=function(e){var t=e.pageScaleMode,n=e.shouldStretchPage,r=e.setShouldStretchPage,a=we().t;return Re[t]?U.jsx(W,{children:U.jsx(Ce,{onClick:function(){return r(!n)},variant:n?"contained":"outlined",children:a("reader.settings.page_scale.stretch")})}):null},qr=Ne(U.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"})),$r=function(e){var t=e.asIconButton,n=S(e,g),r=we().t;return t?U.jsx(Te,{title:r("global.button.reset"),children:U.jsx(Fe,T(T({color:"inherit"},n),{},{children:U.jsx(qr,{})}))}):U.jsx(Ce,T(T({startIcon:U.jsx(qr,{})},n),{},{children:r("global.button.reset")}))},ea=function(e){var t,n,r,a=e.label,o=e.value,i=e.onDefault,u=e.slotProps;return U.jsxs(Pe,{sx:{flexDirection:"row",gap:2,alignItems:"center"},children:[U.jsxs(Pe,{sx:{flexBasis:"25%"},children:[U.jsx(Oe,T(T({},null==u?void 0:u.label),{},{sx:T({},null==u||null===(t=u.label)||void 0===t?void 0:t.sx),children:a})),U.jsx(Oe,T(T({},null==u?void 0:u.value),{},{sx:T({},null==u||null===(n=u.value)||void 0===n?void 0:n.sx),children:o}))]}),U.jsx(mt,T(T({},null==u?void 0:u.slider),{},{sx:T({flexBasis:"75%"},null==u||null===(r=u.slider)||void 0===r?void 0:r.sx)})),i&&U.jsx($r,{asIconButton:!0,onClick:i})]})},ta=function(e){var t=e.pageGap,n=e.readingMode,r=e.isDefaultable,a=e.onDefault,o=e.updateSetting,i=we().t;return n.value!==q.WEBTOON&&Ut(n.value)?U.jsx(ea,{label:i("reader.settings.label.page_gap"),value:i("global.value",{value:t.value,unit:i("global.unit.px")}),onDefault:r?a:void 0,slotProps:{slider:{defaultValue:A.pageGap,value:t.value,step:ze.step,min:ze.min,max:ze.max,onChange:function(e,t){o(t,!1)},onChangeCommitted:function(e,t){o(t,!0)}}}}):null},na=function(e){var t=e.readerWidth,n=e.pageScaleMode,r=e.isDefaultable,a=e.onDefault,o=e.updateSetting,i=e.setTransparent,u=we().t;return Bt(n)?U.jsxs(Pe,{children:[U.jsxs(Pe,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[U.jsx(xt,{label:u("reader.settings.label.limit_reader_width"),checked:t.enabled,onChange:function(e,n){return o("readerWidth",T(T({},t),{},{enabled:n}),!0)}}),r&&U.jsx($r,{onClick:a,variant:"outlined"})]}),t.enabled&&U.jsx(ea,{label:u("reader.settings.label.reader_width"),value:u("global.value",{value:t.value,unit:"%"}),slotProps:{slider:{defaultValue:A.readerWidth.value,value:t.value,step:1,min:10,max:100,onChange:function(e,n){null==i||i(!0),o("readerWidth",T(T({},t),{},{value:n}),!1)},onChangeCommitted:function(e,n){null==i||i(!1),o("readerWidth",T(T({},t),{},{value:n}),!0)}}}})]}):null},ra=b("E",function(e){var t=e.areDefaultSettings,n=we().t;return!ne.useIsTouchDevice()||t?null:U.jsx(Pe,{sx:{alignItems:"end"},children:U.jsx(Oe,{variant:"caption",children:n("reader.settings.default_setting_footnote")})})}),aa=function(e){var t=e.profile,n=e.title,r=e.updateSetting,a=e.isSeriesMode,o=S(e,p),i=Tt(t).settings,u=C.useMemo(function(){return T(T({},i),{},{readingMode:{value:t,isDefault:!0}})},[i,t]);return U.jsxs(Pe,{sx:{gap:2},children:[a?U.jsx(Oe,{children:n}):U.jsx(St,{component:"div",id:"".concat(t,"-settings"),children:n}),U.jsx(Pe,{sx:{px:2*Number(!a)},children:U.jsx(ia,T(T({},o),{},{setShowPreview:function(){},settings:u,updateSetting:function(e,n,a){return r(e,n,a,!0,t)}}))})]})},oa=function(e){var t=e.profiles,n=void 0===t?De:t,r=e.readingMode,a=S(e,v),o=a.updateSetting,i=a.isSeriesMode,u=we().t;return U.jsxs(Pe,{sx:{gap:2,pb:2*Number(!i)},children:[void 0!==r&&U.jsx(Pe,{sx:{pt:2,px:2},children:U.jsx(Fr,{readingMode:r,setReadingMode:function(e){return o("readingMode",e)}})}),n.map(function(e){return U.jsx(aa,T({profile:e,title:u(Me[e].title)},a),e)})]})},ia=function(e){var t=e.setShowPreview,n=e.settings,r=e.updateSetting,a=e.isDefaultable,o=e.onDefault,i=e.isSeriesMode,u=e.setTransparent,l=we().t;return U.jsxs(Pe,{sx:{gap:2},children:[U.jsx(ra,{areDefaultSettings:!a}),i&&U.jsxs(U.Fragment,{children:[U.jsx(Oe,{children:l("reader.settings.source_series")}),U.jsx(Fr,{readingMode:n.readingMode,setReadingMode:function(e){return r("readingMode",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("readingMode")}})]}),U.jsx(ta,{pageGap:n.pageGap,readingMode:n.readingMode,isDefaultable:a,onDefault:function(){return null==o?void 0:o("pageGap")},updateSetting:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,["pageGap"].concat(t))}}),U.jsx(Vr,{readingDirection:n.readingDirection,setReadingDirection:function(e){return r("readingDirection",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("readingDirection")}}),U.jsx(Hr,{tapZoneLayout:n.tapZoneLayout,setTapZoneLayout:function(e){t(!0),r("tapZoneLayout",e)},isDefaultable:a,onDefault:function(){t(!0),null==o||o("tapZoneLayout")}}),U.jsx(Jr,{tapZoneInvertMode:n.tapZoneInvertMode,setTapZoneInvertMode:function(e){t(!0),r("tapZoneInvertMode",e)},isDefaultable:a,onDefault:function(){t(!0),null==o||o("tapZoneInvertMode")}}),U.jsx(Yr,{pageScaleMode:n.pageScaleMode,setPageScaleMode:function(e){return r("pageScaleMode",e)},isDefaultable:a,onDefault:function(){return null==o?void 0:o("pageScaleMode")}}),U.jsx(Qr,{pageScaleMode:n.pageScaleMode.value,shouldStretchPage:n.shouldStretchPage.value,setShouldStretchPage:function(e){return r("shouldStretchPage",e)}}),U.jsx(na,{readerWidth:n.readerWidth.value,pageScaleMode:n.pageScaleMode.value,isDefaultable:a,onDefault:function(){return null==o?void 0:o("readerWidth")},updateSetting:function(){return r.apply(void 0,arguments)},setTransparent:u}),i&&U.jsxs(U.Fragment,{children:[U.jsx(Be,{}),U.jsx(oa,{profiles:[n.readingMode.value],updateSetting:r,isSeriesMode:i,setTransparent:u})]})]})},ua=function(){return U.jsx(Ve,{children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:U.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16"})})})},la=function(){return U.jsx(Ve,{children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:U.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16M7 15v-5m10 5v-5M4 9h16"})})})},sa=M(M({},Ue.HIDDEN,{title:"global.label.hidden",icon:U.jsx(ua,{})}),Ue.STANDARD,{title:"global.label.standard",icon:U.jsx(la,{})}),ca=Object.values(Ue).filter(function(e){return"number"==typeof e}),da=function(e){var t=e.overlayMode,n=e.progressBarType,r=e.setProgressBarType,a=we().t;return t!==be.DESKTOP?null:U.jsx(Nr,{label:a("reader.settings.progress_bar.style"),value:n,values:ca,setValue:r,valueToDisplayData:sa})},fa=function(e){var t=e.overlayMode,n=e.progressBarType,r=e.progressBarSize,a=e.setProgressBarSize,o=e.onDefault,i=we().t;return t===be.DESKTOP&&n===Ue.STANDARD?U.jsx(ea,{label:i("reader.settings.progress_bar.size"),value:i("global.value",{value:r,unit:i("global.unit.px")}),onDefault:o,slotProps:{slider:{defaultValue:A.progressBarSize,value:r,step:We.step,min:We.min,max:We.max,onChange:function(e,t){a(t,!1)},onChangeCommitted:function(e,t){a(t,!0)}}}}):null},ga=Ne(U.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),pa=Ne(U.jsx("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"})),va=Ne([U.jsx("path",{d:"M19.03 3.56c-1.67-1.39-3.74-2.3-6.03-2.51v2.01c1.73.19 3.31.88 4.61 1.92zM11 3.06V1.05c-2.29.2-4.36 1.12-6.03 2.51l1.42 1.42C7.69 3.94 9.27 3.25 11 3.06M4.98 6.39 3.56 4.97C2.17 6.64 1.26 8.71 1.05 11h2.01c.19-1.73.88-3.31 1.92-4.61M20.94 11h2.01c-.21-2.29-1.12-4.36-2.51-6.03l-1.42 1.42c1.04 1.3 1.73 2.88 1.92 4.61M7 12l3.44 1.56L12 17l1.56-3.44L17 12l-3.44-1.56L12 7l-1.56 3.44z"},"0"),U.jsx("path",{d:"M12 21c-3.11 0-5.85-1.59-7.46-4H7v-2H1v6h2v-2.7c1.99 2.84 5.27 4.7 9 4.7 4.87 0 9-3.17 10.44-7.56l-1.96-.45C19.25 18.48 15.92 21 12 21"},"1")]),ha=M(M(M(M({},X.AUTO,{title:"global.label.auto",icon:U.jsx(va,{})}),X.BOTTOM,{title:"global.label.bottom",icon:U.jsx(pa,{sx:{transform:"rotate(90deg)"}})}),X.LEFT,{title:"global.label.left",icon:U.jsx(ga,{})}),X.RIGHT,{title:"global.label.right",icon:U.jsx(pa,{})}),ya=Object.values(X).filter(function(e){return"number"==typeof e}),ba=Object.values(He),ma=function(e){var t=e.progressBarPosition,n=e.progressBarPositionAutoVertical,r=e.updateSetting,a=we().t,o=t===X.AUTO;return U.jsxs(U.Fragment,{children:[U.jsx(Nr,{label:a("reader.settings.progress_bar.position"),value:t,values:ya,setValue:function(e){return r("progressBarPosition",e)},valueToDisplayData:ha}),o&&U.jsx(Nr,{label:a("reader.settings.progress_bar.auto_vertical_position.title"),value:n,values:ba,setValue:function(e){return r("progressBarPositionAutoVertical",e)},valueToDisplayData:ha})]})},xa=Ne(U.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"})),Sa=Ne(U.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"})),ja=M(M(M({},be.AUTO,{title:"global.label.auto",icon:U.jsx(va,{})}),be.DESKTOP,{title:"global.label.desktop",icon:U.jsx(Sa,{})}),be.MOBILE,{title:"global.label.mobile",icon:U.jsx(xa,{})}),_a=Object.values(be).filter(function(e){return"number"==typeof e}),wa=function(e){var t=e.overlayMode,n=e.setOverlayMode,r=we().t;return U.jsx(Nr,{label:r("reader.settings.overlay_mode"),value:t,values:_a,setValue:n,valueToDisplayData:ja})},Pa=M(M(M(M({},Ge.THEME,{title:"settings.appearance.theme.title",icon:null}),Ge.BLACK,{title:"global.colors.black",icon:null}),Ge.GRAY,{title:"global.colors.gray",icon:null}),Ge.WHITE,{title:"global.colors.white",icon:null}),Oa=Object.values(Ge).filter(function(e){return"number"==typeof e}),Ca=function(e){var t=e.backgroundColor,n=e.updateSetting,r=we().t;return U.jsx(Nr,{label:r("reader.settings.background_color"),value:t,values:Oa,setValue:n,valueToDisplayData:Pa})},Ta=function(e){var t=e.overlayMode,n=e.settings,r=e.updateSetting,a=e.onDefault,o=we().t;return U.jsxs(Pe,{sx:{gap:2},children:[U.jsx(wa,{overlayMode:n.overlayMode,setOverlayMode:function(e){return r("overlayMode",e)}}),U.jsx(Ca,{backgroundColor:n.backgroundColor,updateSetting:function(e){return r("backgroundColor",e)}}),U.jsx(da,{overlayMode:t,progressBarType:n.progressBarType,setProgressBarType:function(e){return r("progressBarType",e)}}),U.jsx(fa,{overlayMode:t,progressBarType:n.progressBarType,progressBarSize:n.progressBarSize,setProgressBarSize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,["progressBarSize"].concat(t))},onDefault:function(){return null==a?void 0:a("progressBarSize")}}),U.jsx(ma,{progressBarPosition:n.progressBarPosition,progressBarPositionAutoVertical:n.progressBarPositionAutoVertical,updateSetting:r}),(n.progressBarType===Ue.HIDDEN||t===be.MOBILE)&&U.jsx(xt,{label:o("reader.settings.label.show_page_number"),checked:n.shouldShowPageNumber,onChange:function(e,t){return r("shouldShowPageNumber",t)}})]})},Ma=function(e){var t=e.brightness,n=e.updateSetting,r=we().t;return U.jsxs(Pe,{children:[U.jsx(xt,{label:r("reader.settings.custom_filter.brightness"),checked:t.enabled,onChange:function(e,r){return n("brightness",T(T({},t),{},{enabled:r}),!0)}}),t.enabled&&U.jsx(ea,{label:r("reader.settings.custom_filter.brightness"),value:t.value,onDefault:function(){return n("brightness",T(T({},t),{},{value:A.customFilter.brightness.value}),!0)},slotProps:{slider:{defaultValue:A.customFilter.brightness.value,value:t.value,step:Ke.brightness.step,min:Ke.brightness.min,max:Ke.brightness.max,onChange:function(e,r){n("brightness",T(T({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("brightness",T(T({},t),{},{value:r}),!0)}}}})]})},Da=function(e){var t=e.contrast,n=e.updateSetting,r=we().t;return U.jsxs(Pe,{children:[U.jsx(xt,{label:r("reader.settings.custom_filter.contrast"),checked:t.enabled,onChange:function(e,r){return n("contrast",T(T({},t),{},{enabled:r}),!0)}}),t.enabled&&U.jsx(ea,{label:r("reader.settings.custom_filter.contrast"),value:t.value,onDefault:function(){return n("contrast",T(T({},t),{},{value:A.customFilter.contrast.value}),!0)},slotProps:{slider:{defaultValue:A.customFilter.contrast.value,value:t.value,step:Ke.contrast.step,min:Ke.contrast.min,max:Ke.contrast.max,onChange:function(e,r){n("contrast",T(T({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("contrast",T(T({},t),{},{value:r}),!0)}}}})]})},Ea=function(e){var t=e.saturate,n=e.updateSetting,r=we().t;return U.jsxs(Pe,{children:[U.jsx(xt,{label:r("reader.settings.custom_filter.saturate"),checked:t.enabled,onChange:function(e,r){return n("saturate",T(T({},t),{},{enabled:r}),!0)}}),t.enabled&&U.jsx(ea,{label:r("reader.settings.custom_filter.saturate"),value:t.value,onDefault:function(){return n("saturate",T(T({},t),{},{value:A.customFilter.saturate.value}),!0)},slotProps:{slider:{defaultValue:A.customFilter.saturate.value,value:t.value,step:Ke.saturate.step,min:Ke.saturate.min,max:Ke.saturate.max,onChange:function(e,r){n("saturate",T(T({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("saturate",T(T({},t),{},{value:r}),!0)}}}})]})},Ia=function(e){var t=e.hue,n=e.updateSetting,r=we().t;return U.jsxs(Pe,{children:[U.jsx(xt,{label:r("reader.settings.custom_filter.hue"),checked:t.enabled,onChange:function(e,r){return n("hue",T(T({},t),{},{enabled:r}),!0)}}),t.enabled&&U.jsx(ea,{label:r("reader.settings.custom_filter.hue"),value:t.value,onDefault:function(){return n("hue",T(T({},t),{},{value:A.customFilter.hue.value}),!0)},slotProps:{slider:{defaultValue:A.customFilter.hue.value,value:t.value,step:Ke.hue.step,min:Ke.hue.min,max:Ke.hue.max,onChange:function(e,r){n("hue",T(T({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n("hue",T(T({},t),{},{value:r}),!0)}}}})]})},Aa={red:"reader.settings.custom_filter.rgba.red",green:"reader.settings.custom_filter.rgba.green",blue:"reader.settings.custom_filter.rgba.blue",alpha:"reader.settings.custom_filter.rgba.alpha"},ka=function(e){var t=e.rgba,n=e.updateSetting,r=we().t;return U.jsxs(Pe,{children:[U.jsx(xt,{label:r("reader.settings.custom_filter.rgba.title"),checked:t.enabled,onChange:function(e,r){return n("rgba",T(T({},t),{},{enabled:r}),!0)}}),t.enabled&&U.jsxs(Pe,{sx:{gap:1},children:[Object.entries(t.value).map(function(e){var a=E(e,2),o=a[0],i=a[1];return"blendMode"===o?null:U.jsx(ea,{label:r(Aa[o]),value:i,onDefault:function(){return n("rgba",T(T({},t),{},{value:T(T({},t.value),{},M({},o,A.customFilter.rgba.value[o]))}),!0)},slotProps:{slider:{value:i,defaultValue:A.customFilter.rgba.value[o],step:Ke.rgba[o].step,min:Ke.rgba[o].min,max:Ke.rgba[o].max,onChange:function(e,r){n("rgba",T(T({},t),{},{value:T(T({},t.value),{},M({},o,r))}),!1)},onChangeCommitted:function(e,r){n("rgba",T(T({},t),{},{value:T(T({},t.value),{},M({},o,r))}),!0)}}}},o)}),U.jsx(Nr,{label:r("reader.settings.custom_filter.rgba.blend_mode.title"),value:t.value.blendMode,values:Xe,setValue:function(e){return n("rgba",T(T({},t),{},{value:T(T({},t.value),{},{blendMode:e})}),!0)},valueToDisplayData:Ze})]})]})},La=function(e){var t=e.sepia,n=e.updateSetting,r=we().t;return U.jsx(Pe,{children:U.jsx(xt,{label:r("reader.settings.custom_filter.sepia"),checked:t,onChange:function(e,t){return n(t)}})})},Ra=function(e){var t=e.grayscale,n=e.updateSetting,r=we().t;return U.jsx(Pe,{children:U.jsx(xt,{label:r("reader.settings.custom_filter.grayscale"),checked:t,onChange:function(e,t){return n(t)}})})},Na=function(e){var t=e.invert,n=e.updateSetting,r=we().t;return U.jsx(Pe,{children:U.jsx(xt,{label:r("reader.settings.custom_filter.invert"),checked:t,onChange:function(e,t){return n(t)}})})},Fa=function(e){var t=e.settings.customFilter,n=e.updateSetting,r=e.onDefault,a=e.setTransparent,o=function(e,t){n("customFilter",e,t),null==a||a(void 0!==t&&!t)};return U.jsxs(Pe,{sx:{gap:2},children:[U.jsx(Ma,{brightness:t.brightness,updateSetting:function(e,n,r){return o(T(T({},t),{},M({},e,n)),r)}}),U.jsx(Da,{contrast:t.contrast,updateSetting:function(e,n,r){return o(T(T({},t),{},M({},e,n)),r)}}),U.jsx(Ea,{saturate:t.saturate,updateSetting:function(e,n,r){return o(T(T({},t),{},M({},e,n)),r)}}),U.jsx(Ia,{hue:t.hue,updateSetting:function(e,n,r){return o(T(T({},t),{},M({},e,n)),r)}}),U.jsx(ka,{rgba:t.rgba,updateSetting:function(e,n,r){return o(T(T({},t),{},M({},e,n)),r)}}),U.jsx(La,{sepia:t.sepia,updateSetting:function(e){return o(T(T({},t),{},{sepia:e}))}}),U.jsx(Ra,{grayscale:t.grayscale,updateSetting:function(e){return o(T(T({},t),{},{grayscale:e}))}}),U.jsx(Na,{invert:t.invert,updateSetting:function(e){return o(T(T({},t),{},{invert:e}))}}),U.jsx(Pe,{sx:{alignItems:"end"},children:U.jsx($r,{onClick:function(){return null==r?void 0:r("customFilter")},variant:"outlined"})})]})},za=M(M({},je.PREVIOUS,{title:"global.label.previous",icon:null}),je.MANGA,{title:"manga.title_one",icon:null}),Ba=Object.values(je).filter(function(e){return"number"==typeof e}),Va=function(e){var t=e.exitMode,n=e.setExitMode,r=we().t;return U.jsx(Nr,{label:r("reader.settings.exit_mode"),value:t,values:Ba,setValue:n,valueToDisplayData:za})},Ua=b("H",function(e){var t=e.autoScroll,n=e.setAutoScroll,r=we().t;return U.jsxs(U.Fragment,{children:[U.jsx(xt,{label:r("reader.settings.auto_scroll.smooth"),checked:t.smooth,onChange:function(e,r){return n(T(T({},t),{},{smooth:r}),!0)}}),U.jsx(ea,{label:r("reader.settings.auto_scroll.speed"),value:r("global.time.seconds.value",{count:t.value}),onDefault:function(){return n(T(T({},t),{},{value:A.autoScroll.value}),!0)},slotProps:{slider:T(T({defaultValue:A.customFilter.saturate.value,value:t.value},We),{},{onChange:function(e,r){n(T(T({},t),{},{value:r}),!1)},onChangeCommitted:function(e,r){n(T(T({},t),{},{value:r}),!0)}})}})]})}),Wa=M(M(M(M({},Ye.TINY,{title:"global.label.tiny",icon:null}),Ye.SMALL,{title:"global.label.small",icon:null}),Ye.MEDIUM,{title:"global.label.medium",icon:null}),Ye.LARGE,{title:"global.label.large",icon:null}),Ha=Object.values(Ye).filter(function(e){return"number"==typeof e}),Ga=function(e){var t=e.scrollAmount,n=e.setScrollAmount,r=we().t;return U.jsxs(U.Fragment,{children:[U.jsx(Nr,{label:r("reader.settings.scroll_amount"),value:t,values:Ha,setValue:function(e){return n(e,!0)},valueToDisplayData:Wa}),U.jsx(ea,{label:r("reader.settings.label.custom_scroll_amount"),value:r("global.value",{value:t,unit:"%"}),onDefault:function(){return n(A.scrollAmount,!0)},slotProps:{slider:T(T({defaultValue:A.scrollAmount,value:t},Je),{},{onChange:function(e,t){n(t,!1)},onChangeCommitted:function(e,t){n(t,!0)}})}})]})},Ka=function(e){var t=e.settings,n=e.updateSetting,r=e.onDefault,a=e.isDefaultable,o=we().t;return U.jsxs(Pe,{sx:{gap:2},children:[U.jsx(Va,{exitMode:t.exitMode,setExitMode:function(e){return n("exitMode",e)}}),U.jsx(Ga,{scrollAmount:t.scrollAmount,setScrollAmount:function(e,t){return n("scrollAmount",e,t)}}),U.jsx(xt,{label:o("reader.settings.label.skip_dup_chapters"),checked:t.shouldSkipDupChapters,onChange:function(e,t){return n("shouldSkipDupChapters",t)}}),U.jsx(xt,{label:U.jsxs(W,{children:[U.jsx(Oe,{children:o("reader.settings.label.skip_filtered_chapters")}),a&&U.jsx(Oe,{variant:"body2",color:"textDisabled",children:o("reader.settings.label.unchangeable_in_reader")})]}),checked:t.shouldSkipFilteredChapters,onChange:function(e,t){return n("shouldSkipFilteredChapters",t)},disabled:a}),zt(t.readingMode.value)&&U.jsx(xt,{label:o("reader.settings.label.offset_double_spread"),checked:t.shouldOffsetDoubleSpreads.value,onChange:function(e,t){return n("shouldOffsetDoubleSpreads",t)}}),U.jsx(xt,{label:U.jsxs(W,{children:[U.jsx(Oe,{children:o("reader.settings.infinite_scroll.title")}),U.jsx(Oe,{variant:"body2",color:"textDisabled",children:o("reader.settings.infinite_scroll.description")})]}),checked:t.shouldUseInfiniteScroll,onChange:function(e,t){return n("shouldUseInfiniteScroll",t)}}),U.jsx(xt,{label:U.jsxs(W,{children:[U.jsx(Oe,{children:o("reader.settings.preview.reading_mode.title")}),U.jsx(Oe,{variant:"body2",color:"textDisabled",children:o("reader.settings.preview.reading_mode.description")})]}),checked:t.shouldShowReadingModePreview,onChange:function(e,t){return n("shouldShowReadingModePreview",t)}}),U.jsx(xt,{label:U.jsxs(W,{children:[U.jsx(Oe,{children:o("reader.settings.preview.tap_zones.title")}),U.jsx(Oe,{variant:"body2",color:"textDisabled",children:o("reader.settings.preview.tap_zones.description")})]}),checked:t.shouldShowTapZoneLayoutPreview,onChange:function(e,t){return n("shouldShowTapZoneLayoutPreview",t)}}),U.jsx(xt,{label:U.jsxs(W,{children:[U.jsx(Oe,{children:o("reader.settings.auto_webtoon_mode.title")}),U.jsx(Oe,{variant:"body2",color:"textDisabled",children:o("reader.settings.auto_webtoon_mode.description")})]}),checked:t.shouldUseAutoWebtoonMode,onChange:function(e,t){return n("shouldUseAutoWebtoonMode",t)}}),U.jsx(xt,{label:o("reader.settings.show_transition_page"),checked:t.shouldShowTransitionPage,onChange:function(e,t){return n("shouldShowTransitionPage",t)}}),U.jsx(xt,{label:o("reader.settings.chapter_transition.warning.missing_chapter"),checked:t.shouldInformAboutMissingChapter,onChange:function(e,t){return n("shouldInformAboutMissingChapter",t)}}),U.jsx(xt,{label:o("reader.settings.chapter_transition.warning.scanlator_change"),checked:t.shouldInformAboutScanlatorChange,onChange:function(e,t){return n("shouldInformAboutScanlatorChange",t)}}),U.jsx(Ua,{autoScroll:t.autoScroll,setAutoScroll:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,["autoScroll"].concat(t))}}),U.jsx(ea,{label:o("reader.settings.image_preload_amount"),value:t.imagePreLoadAmount,onDefault:function(){return null==r?void 0:r("imagePreLoadAmount")},slotProps:{slider:{defaultValue:A.imagePreLoadAmount,value:t.imagePreLoadAmount,step:Qe.step,min:Qe.min,max:Qe.max,onChange:function(e,t){n("imagePreLoadAmount",t,!1)},onChangeCommitted:function(e,t){n("imagePreLoadAmount",t,!0)}}}})]})},Za=qe(Oe)(function(e){var t=e.theme;return{display:"inline-block",padding:"0.2em 0.4em",fontSize:"0.85em",lineHeight:"1.4",color:t.palette.text.primary,backgroundColor:t.palette.background.paper,border:"1px solid ".concat(t.palette.divider),borderRadius:"3px",boxShadow:"inset 0 -1px 0 ".concat(t.palette.divider),fontFamily:"monospace, monospace"}}),Xa=function(e){var t=e.keys,n=e.removeKey,r=we().t;return U.jsx(Pe,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:t.map(function(e,a){return U.jsxs(C.Fragment,{children:[U.jsx(Te,{title:r("global.button.delete"),hidden:!n,children:U.jsx(Pe,{sx:{flexDirection:"row",flexWrap:"wrap",gap:.5,cursor:n?"pointer":void 0},onClick:function(){return null==n?void 0:n(e)},children:e.split("+").map(function(e,t,n){return U.jsxs(C.Fragment,{children:[U.jsx(Za,{children:e}),t===n.length-1?"":"+"]},e)})})}),a===t.length-1?"":","]},e)})})},Ja=function(e){var t=e.onClose,n=e.onCreate,r=e.existingKeys,a=we().t,o=E($e(),2),i=o[0],u=o[1],l=u.start,s=u.stop,c=u.resetKeys,d=[j(i).join("+")],f=d.some(function(e){return r.map(function(e){return e.toLowerCase()}).includes(e.toLowerCase())});return C.useEffect(function(){return l(),function(){s()}},[]),U.jsxs(et,{open:!0,onClose:t,fullWidth:!0,children:[U.jsx(tt,{children:a("hotkeys.create.dialog.title")}),U.jsxs(nt,{children:[U.jsx(Pe,{sx:{flexDirection:"row",gap:1},children:U.jsx(bt,{i18nKey:"hotkeys.create.dialog.label",components:{Keys:i.size?U.jsx(Xa,{keys:d}):U.jsx(Oe,{children:a("hotkeys.create.dialog.placeholder")})},children:"Recorded keys:"})}),f&&U.jsx(Oe,{color:"error",children:a("hotkeys.create.error.exists")})]}),U.jsx(rt,{children:U.jsxs(Pe,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[U.jsx(Ce,{onClick:c,children:a("global.button.reset")}),U.jsxs(Pe,{direction:"row",children:[U.jsx(Ce,{onClick:t,children:a("global.button.cancel")}),U.jsx(Ce,{disabled:f,onClick:function(){t(),n(d)},children:a("global.button.create")})]})]})})]})},Ya=(M(M(M(M(M(M(M(M(M(M(w={},it.PREVIOUS_PAGE,"reader.settings.hotkey.previous_page"),it.NEXT_PAGE,"reader.settings.hotkey.next_page"),it.SCROLL_BACKWARD,"reader.settings.hotkey.scroll_backward"),it.SCROLL_FORWARD,"reader.settings.hotkey.scroll_forward"),it.PREVIOUS_CHAPTER,"reader.settings.hotkey.previous_chapter"),it.NEXT_CHAPTER,"reader.settings.hotkey.next_chapter"),it.TOGGLE_MENU,"reader.settings.hotkey.menu"),it.CYCLE_SCALE_TYPE,"reader.settings.hotkey.scale_type"),it.STRETCH_IMAGE,"reader.settings.hotkey.stretch_image"),it.OFFSET_SPREAD_PAGES,"reader.settings.hotkey.offset_spread_pages"),M(M(M(M(M(M(w,it.CYCLE_READING_MODE,"reader.settings.hotkey.reading_mode"),it.CYCLE_READING_DIRECTION,"reader.settings.hotkey.reading_direction"),it.TOGGLE_AUTO_SCROLL,"reader.settings.hotkey.auto_scroll"),it.AUTO_SCROLL_SPEED_INCREASE,"reader.settings.hotkey.auto_scroll_speed_increase"),it.AUTO_SCROLL_SPEED_DECREASE,"reader.settings.hotkey.auto_scroll_speed_decrease"),it.EXIT_READER,"reader.button.exit")),Qa=function(e){var t=e.hotkey,n=e.keys,r=e.existingKeys,a=e.updateSetting,o=we().t,i=at({popupId:"reader-setting-record-hotkey",variant:"dialog"});return U.jsxs(U.Fragment,{children:[U.jsxs(Pe,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[U.jsx(Oe,{sx:{flexGrow:1},children:o(Ya[t])}),U.jsx(Xa,{keys:n,removeKey:function(e){return a(n.filter(function(t){return t!==e}))}}),U.jsx(Te,{title:o("global.button.add"),children:U.jsx(Fe,T(T({},ot(i)),{},{color:"inherit",children:U.jsx(jt,{})}))}),U.jsx($r,{asIconButton:!0,onClick:function(){return a(A.hotkeys[t])}})]}),i.isOpen&&U.jsx(Ja,{onClose:i.close,onCreate:function(e){return a([].concat(j(n),j(e)))},existingKeys:r})]})},qa=function(e){var t=e.settings,n=e.updateSetting,r=e.onDefault,a=we().t;return U.jsxs(Pe,{sx:{gap:2},children:[U.jsx(Pe,{sx:{alignItems:"end"},children:U.jsx(Oe,{variant:"caption",children:a("hotkeys.info.delete")})}),ut.map(function(e){return U.jsx(Qa,{hotkey:e,keys:t.hotkeys[e],existingKeys:Object.values(t.hotkeys).flat(),updateSetting:function(r){return n("hotkeys",T(T({},t.hotkeys),{},M({},e,r)))}},e)}),U.jsx(Pe,{sx:{alignItems:"end"},children:U.jsx($r,{onClick:function(){return null==r?void 0:r("hotkeys")},variant:"outlined"})})]})},$a=b("w",function(e,t,n){return C.memo(function(r){var a=r.ref,o=S(r,h),i=t.reduce(function(e,t){return T(T({},e),t(o))},{}),u=Object.fromEntries(Object.entries(i).filter(function(e){var t=E(e,1)[0];return n.includes(t)})),l=T(T({},o),u);return U.jsx(e,T(T({},l),{},{ref:a}))})});b("R",$a(function(e){var t=e.activeTab,n=e.setActiveTab,r=e.areDefaultSettings,a=e.settings,o=e.updateSetting,i=e.deleteSetting,u=e.mode,l=e.setTransparent,s=we().t,c=ne.useIsTouchDevice(),d=fr(function(e){return e.tapZone.setShowPreview});return U.jsxs(U.Fragment,{children:[U.jsx(ct,{value:t,onChange:function(e,t){return n(t)},sx:T(T({},H(!!r,{zIndex:2})),H(!r,{backgroundColor:"background.paper",backgroundImage:"var(--Paper-overlay)"})),children:Object.values(lt).map(function(e){var t=e.id,n=e.label;return!e.supportsTouchDevices&&c?null:U.jsx(ht,{value:t,label:s(n),sx:{flexGrow:1,maxWidth:"unset",textTransform:"none"}},t)})}),U.jsx(W,{sx:{p:r?void 0:2,overflowX:"hidden"},children:Object.values(lt).map(function(e){var n=e.id;if(!e.supportsTouchDevices&&c)return null;switch(n){case st.LAYOUT:return r?U.jsx(yt,{index:n,currentIndex:t,children:U.jsx(oa,{readingMode:a.readingMode,updateSetting:function(){return o.apply(void 0,arguments)}})},n):U.jsx(yt,{index:n,currentIndex:t,children:U.jsx(ia,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},setShowPreview:d,isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)},isSeriesMode:!0,setTransparent:l})},n);case st.GENERAL:return U.jsx(yt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:U.jsx(Ta,{overlayMode:u,settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);case st.FILTER:return U.jsx(yt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:U.jsx(Fa,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!0,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)},setTransparent:l})},n);case st.BEHAVIOUR:return U.jsx(yt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:U.jsx(Ka,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!r,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);case st.HOTKEYS:return U.jsx(yt,{index:n,currentIndex:t,sx:{p:r?2:void 0},children:U.jsx(qa,{settings:a,updateSetting:function(){return o.apply(void 0,arguments)},isDefaultable:!0,onDefault:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==i?void 0:i.apply(void 0,t)}})},n);default:throw new Error('Unexpected "ReaderSettingTab" ('.concat(n,")"))}})})]})},[kr.useOverlayMode],["mode"]))}}})}();
