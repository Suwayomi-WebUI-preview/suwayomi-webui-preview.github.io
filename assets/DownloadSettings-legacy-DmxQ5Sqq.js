!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],d=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(e){s=!0,i=e}finally{try{if(!d&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./index-legacy-BWin8J8x.js","./NumberSetting-legacy-C1OWt2pr.js","./usePersistedValue-legacy-CLYlZXqZ.js","./Switch-legacy-wW-Wcx0H.js","./SelectSetting-legacy-DO_4GIpw.js","./CategoriesInclusionSetting-legacy-CrOn_r-C.js","./EmptyViewAbsoluteCentered-legacy-BidlLL5G.js","./useAppTitle-legacy-DIBhjDD2.js","./ListSubheader-legacy-BDAt4BDx.js","./Slider-legacy-Ce2vH5fp.js","./SwitchBase-legacy-C-5CImE9.js","./Select-legacy-BMWzwdHH.js","./ThreeStateCheckboxInput-legacy-Dis3HsXY.js","./Checkbox-legacy-BLf5wfR0.js"],function(e,r){"use strict";var i,a,o,l,d,s,u,c,h,g,f,m,y,j,p,x,v,w,b,S,C,_,D,k,A,N,L;return{setters:[function(e){i=e.u,a=e.j,o=e.N,l=e.s,d=e.v,s=e.cV,u=e.aH,c=e.m,h=e.g,g=e.r,f=e.cP,m=e.e,y=e.i,j=e.k,p=e.cO,x=e.cG,v=e.A,w=e.F},function(e){b=e.N},function(e){S=e.u,C=e.g},function(e){_=e.S},function(e){D=e.S},function(e){k=e.a},function(e){A=e.E},function(e){N=e.u},function(e){L=e.L},null,null,null,null,null],execute:function(){var r=function(e){var t=e.downloadAheadLimit,r=i(),g=r.i18n,f=(r._,!!t),m=n(S("lastDownloadAheadLimit",s.default,t,C),2),y=m[0],j=m[1],p=function(e){j(0===e?y:e),u("downloadAheadLimit",e).catch(function(e){return c(g._({id:"cBoXe4"}),"error",h(e))})};return a.jsxs(o,{children:[a.jsxs(l,{children:[a.jsx(d,{primary:g._({id:"mnjFvf"})}),a.jsx(_,{edge:"end",checked:f,onChange:function(e){return t=e.target.checked,void p(t?y:0);var t}})]}),a.jsx(b,{settingTitle:g._({id:"+yt12/"}),settingValue:g._({id:"N9Ns+T",values:{currentDownloadAheadLimit:y}}),value:y,minValue:s.min,maxValue:s.max,defaultValue:s.default,stepSize:s.step,showSlider:!0,dialogDescription:g._({id:"+cKebU"}),dialogDisclaimer:g._({id:"/LvTk7"}),valueUnit:g._({id:"QIei5D"}),handleUpdate:p,disabled:!f})]})},R={0:{text:{id:"E/QGRL"}},1:{text:{id:"lems6I"}},2:{text:{id:"Xb5oRM"}},3:{text:{id:"fS8bRV"}},4:{text:{id:"6Z1gVj"}},5:{text:{id:"DAoIa+"}}},V=[0,1,2,3,4,5].map(function(e){return[e,R[e]]}),I=function(e){var t=e.chapterToDelete,n=e.handleChange,r=i(),o=r.i18n,l=(r._,function(e){return"boolean"==typeof e?Number(e):e}(t));return a.jsx(D,{settingName:o._({id:"wgoHJO"}),value:l,values:V,handleChange:n})};e("DownloadSettings",function(){var e,s,u,S=i(),C=S.i18n;S._;N(C._({id:"fK7YOw"}));var D=g.useGetCategories(f),R=g.useGetServerSettings({notifyOnNetworkStatusChange:!0}),V=n(g.useUpdateServerSettings(),1)[0],T=m(),P=T.settings,U=T.loading,E=T.request,O=E.error,B=E.refetch;if(R.loading||U||D.loading)return a.jsx(y,{});var M=null!==(e=null!==(s=R.error)&&void 0!==s?s:O)&&void 0!==e?e:D.error;if(M)return a.jsx(A,{message:C._({id:"6m5aox"}),messageExtra:h(M),retry:function(){R.error&&R.refetch().catch(j("DownloadSettings::refetchServerSettings")),O&&B().catch(j("refetchMetadataServerSettings::")),D.error&&D.refetch().catch(j("LibrarySettings::refetchCategories"))}});var W=R.data.settings,G=function(e,n){var r=V({variables:{input:{settings:t({},e,n)}}});return r.catch(function(e){return c(C._({id:"cBoXe4"}),"error",h(e))}),r},K=w(function(e){return c(C._({id:"cBoXe4"}),"error",h(e))});return a.jsxs(o,{sx:{pt:0},children:[a.jsx(p,{settingName:C._({id:"XyEAOB"}),dialogDescription:C._({id:"sfY9oj"}),value:null==W?void 0:W.downloadsPath,settingDescription:null!=W&&W.downloadsPath.length?W.downloadsPath:C._({id:"ovBPCi"}),handleChange:function(e){return G("downloadsPath",e)}}),a.jsxs(l,{children:[a.jsx(d,{primary:C._({id:"74wOv7"})}),a.jsx(_,{edge:"end",checked:!(null==W||!W.downloadAsCbz),onChange:function(e){return G("downloadAsCbz",e.target.checked)}})]}),a.jsx(x,{to:v.settings.childRoutes.images.childRoutes.processingDownloads.path,children:a.jsx(d,{primary:C._({id:"yIl0jv"})})}),a.jsxs(o,{subheader:a.jsx(L,{component:"div",id:"download-settings-auto-delete-downloads",children:C._({id:"1bFjRe"})}),children:[a.jsxs(l,{children:[a.jsx(d,{primary:C._({id:"wtP+o1"})}),a.jsx(_,{edge:"end",checked:P.deleteChaptersManuallyMarkedRead,onChange:function(e){return K("deleteChaptersManuallyMarkedRead",e.target.checked)}})]}),a.jsx(I,{chapterToDelete:P.deleteChaptersWhileReading,handleChange:function(e){return K("deleteChaptersWhileReading",e)}}),a.jsxs(l,{children:[a.jsx(d,{primary:C._({id:"Hv/00V"})}),a.jsx(_,{edge:"end",checked:P.deleteChaptersWithBookmark,onChange:function(e){return K("deleteChaptersWithBookmark",e.target.checked)}})]})]}),a.jsxs(o,{subheader:a.jsx(L,{component:"div",id:"download-settings-auto-download",children:C._({id:"V8CSia"})}),children:[a.jsxs(l,{children:[a.jsx(d,{primary:C._({id:"oRvNd6"})}),a.jsx(_,{edge:"end",checked:!(null==W||!W.autoDownloadNewChapters),onChange:function(e){return G("autoDownloadNewChapters",e.target.checked)}})]}),a.jsx(b,{disabled:!(null!=W&&W.autoDownloadNewChapters),settingTitle:C._({id:"ZTZoif"}),dialogDescription:C._({id:"1nKbCG"}),value:null!==(u=null==W?void 0:W.autoDownloadNewChaptersLimit)&&void 0!==u?u:0,settingValue:W.autoDownloadNewChaptersLimit?C._({id:"CLov6M",values:{0:W.autoDownloadNewChaptersLimit}}):C._({id:"EdQY6l"}),defaultValue:0,minValue:0,maxValue:20,showSlider:!0,valueUnit:C._({id:"QIei5D"}),handleUpdate:function(e){return G("autoDownloadNewChaptersLimit",e)}}),a.jsxs(l,{children:[a.jsx(d,{primary:C._({id:"bA1JBj"})}),a.jsx(_,{edge:"end",checked:!(null==W||!W.excludeEntryWithUnreadChapters),onChange:function(e){return G("excludeEntryWithUnreadChapters",e.target.checked)},disabled:!(null!=W&&W.autoDownloadNewChapters)})]}),a.jsxs(l,{children:[a.jsx(d,{primary:C._({id:"RZniKv"})}),a.jsx(_,{edge:"end",checked:!(null==W||!W.autoDownloadIgnoreReUploads),onChange:function(e){return G("autoDownloadIgnoreReUploads",e.target.checked)},disabled:!(null!=W&&W.autoDownloadNewChapters)})]}),a.jsx(k,{categories:D.data.categories.nodes,includeField:"includeInDownload",dialogText:C._({id:"JJqKw8"})})]}),a.jsx(o,{subheader:a.jsx(L,{component:"div",id:"download-settings-download-ahead",children:C._({id:"SG9sWi"})}),children:a.jsx(r,{downloadAheadLimit:P.downloadAheadLimit})})]})})}}})}();
