import{f as w,b6 as M,j as a,X as Te,W as xe,_ as L,Z as fe,a0 as he,T as nt,B as pe,a3 as rt,I as Dt,bd as Qt,b9 as It,a7 as Xt,a9 as ze,ar as jt,ba as Ke,cM as Vt,a6 as Zt,be as Nt,bf as n,bg as Jt,u as Ze,av as Ue,v as We,bh as Re,o as at,p as it,q as ct,w as lt,b as ot,N as Ge,s as bt,A as gt,L as kt,R as es,G as Ve,r as Se,cN as Ct,m as ie,i as ts,g as De,k as ss,bx as os,cO as ns,bC as He}from"./index-DbvROaWl.js";import{f as Tt}from"./file-selector-DlHkLoY8.js";import{P as rs}from"./Progress-MU-dRmFs.js";import{N as xt}from"./NumberSetting-Bv3E-TVF.js";import{R as Je,s as ve,g as as,a as be,c as _e,i as is,u as te,_ as ue,j as cs,k as ls,l as us,T as ds,U as ms,d as ps,b as fs,W as ut,X as Fe,Y as Me,P as hs,h as bs,n as Ie,Z as gs,S as ks,t as dt,p as mt,B as pt,$ as qe,G as ft,z as Cs,a0 as _t,a1 as Ye,a2 as Ts,a3 as Be,a4 as Ft,a5 as Ot,I as Lt,J as xs,K as Bt,L as ws,N as Ss,O as ys,Q as Ms}from"./useMobilePicker-BG3TYlNf.js";import{E as vs}from"./EmptyViewAbsoluteCentered-o9JmMMl8.js";import{u as Ps}from"./useAppTitle-CHvxb-QA.js";import{C as Ds}from"./CheckboxInput-BRzkRCNj.js";import{F as Is}from"./FormGroup-ih4X07F4.js";import{u as wt}from"./use-window-event-ELJdTlPj.js";import{u as js}from"./use-merged-ref-BPtS2GJY.js";import{L as Vs}from"./ListSubheader-DcEmtFV3.js";import"./Slider-DCPMTqWZ.js";import"./Chip-DSbNTo1P.js";import"./Checkbox-DG8Lu6gX.js";import"./SwitchBase-DOk6JfFp.js";function Ns(e,s,o){const t=w.useRef(null),r=w.useRef(null),i=w.useCallback(c=>{c&&(r.current&&t.current&&r.current.removeEventListener(e,t.current,o),c.addEventListener(e,s,o),r.current=c,t.current=s)},[e,s,o]);return w.useEffect(()=>()=>{r.current&&t.current&&r.current.removeEventListener(e,t.current,o)},[e,o]),i}const et=({adapter:e,value:s,timezone:o,props:t})=>{if(s===null)return null;const{minTime:r,maxTime:i,minutesStep:c,shouldDisableTime:l,disableIgnoringDatePartForTimeValidation:h=!1,disablePast:d,disableFuture:k}=t,u=e.date(void 0,o),C=Je(h,e);switch(!0){case!e.isValid(s):return"invalidDate";case!!(r&&C(r,s)):return"minTime";case!!(i&&C(s,i)):return"maxTime";case!!(k&&e.isAfter(s,u)):return"disableFuture";case!!(d&&e.isBefore(s,u)):return"disablePast";case!!(l&&l(s,"hours")):return"shouldDisableTime-hours";case!!(l&&l(s,"minutes")):return"shouldDisableTime-minutes";case!!(l&&l(s,"seconds")):return"shouldDisableTime-seconds";case!!(c&&e.getMinutes(s)%c!==0):return"minutesStep";default:return null}};et.valueManager=ve;function _s(e={}){const{enableAccessibleFieldDOMStructure:s=!0,ampm:o}=e;return w.useMemo(()=>({valueType:"time",validator:et,internal_valueManager:ve,internal_fieldValueManager:as,internal_enableAccessibleFieldDOMStructure:s,internal_useApplyDefaultValuesToFieldInternalProps:Os,internal_useOpenPickerButtonAriaLabel:Fs(o)}),[o,s])}function Fs(e){return function(o){const t=be(),r=_e();return w.useMemo(()=>{const i=(e!=null?e:t.is12HourCycleInCurrentLocale())?"fullTime12h":"fullTime24h",c=t.isValid(o)?t.format(o,i):null;return r.openTimePickerDialogue(c)},[o,r,t])}}function Os(e){const s=be(),o=At(e),t=w.useMemo(()=>{var r;return(r=e.ampm)!=null?r:s.is12HourCycleInCurrentLocale()},[e.ampm,s]);return w.useMemo(()=>{var r;return M({},e,o,{format:(r=e.format)!=null?r:t?s.formats.fullTime12h:s.formats.fullTime24h})},[e,o,t,s])}function At(e){return w.useMemo(()=>{var s,o;return{disablePast:(s=e.disablePast)!=null?s:!1,disableFuture:(o=e.disableFuture)!=null?o:!1}},[e.disablePast,e.disableFuture])}const Ls=e=>{const s=_s(e);return is({manager:s,props:e})},Bs=["slots","slotProps","InputProps","inputProps"],Et=w.forwardRef(function(s,o){const t=te({props:s,name:"MuiTimeField"}),{slots:r,slotProps:i}=t,c=ue(t,Bs),l=cs({slotProps:i,ref:o,externalForwardedProps:c}),h=Ls(l);return a.jsx(ls,{slots:r,slotProps:i,inputRef:c.inputRef,children:a.jsx(us,{fieldResponse:h,defaultOpenPickerIcon:ds})})});function As(e){return Te("MuiPickersToolbarText",e)}xe("MuiPickersToolbarText",["root"]);const Es=["className","classes","selected","value"],Rs=e=>he({root:["root"]},As,e),Hs=L(nt,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),Rt=w.forwardRef(function(s,o){const t=te({props:s,name:"MuiPickersToolbarText"}),{className:r,classes:i,selected:c,value:l}=t,h=ue(t,Es),d=Rs(i);return a.jsx(Hs,M({ref:o,className:fe(d.root,r),component:"span",ownerState:t},c&&{"data-selected":!0},h,{children:l}))}),$s=["align","className","classes","selected","typographyClassName","value","variant","width"],Us=e=>he({root:["root"]},ms,e),Ws=L(pe,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),Oe=w.forwardRef(function(s,o){const t=te({props:s,name:"MuiPickersToolbarButton"}),{align:r,className:i,classes:c,selected:l,typographyClassName:h,value:d,variant:k,width:u}=t,C=ue(t,$s),f=Us(c);return a.jsx(Ws,M({variant:"text",ref:o,className:fe(f.root,i),ownerState:t},u?{sx:{width:u}}:{},C,{children:a.jsx(Rt,{align:r,className:h,variant:k,value:d,selected:l})}))});function zs(e){return Te("MuiTimePickerToolbar",e)}const Le=xe("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Ks=["ampm","ampmInClock","className","classes"],Gs=(e,s)=>{const{pickerOrientation:o,toolbarDirection:t}=s;return he({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",o==="landscape"&&"hourMinuteLabelLandscape",t==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",o==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},zs,e)},qs=L(hs,{name:"MuiTimePickerToolbar",slot:"Root"})({}),Ys=L(Rt,{name:"MuiTimePickerToolbar",slot:"Separator"})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Qs=L("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(e,s)=>[{["&.".concat(Le.hourMinuteLabelLandscape)]:s.hourMinuteLabelLandscape,["&.".concat(Le.hourMinuteLabelReverse)]:s.hourMinuteLabelReverse},s.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{pickerOrientation:"landscape"},style:{marginTop:"auto"}}]}),Xs=L("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,s)=>[{[".".concat(Le.ampmLabel)]:s.ampmLabel},{["&.".concat(Le.ampmLandscape)]:s.ampmLandscape},s.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,["& .".concat(Le.ampmLabel)]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Zs(e){const s=te({props:e,name:"MuiTimePickerToolbar"}),{ampm:o,ampmInClock:t,className:r,classes:i}=s,c=ue(s,Ks),l=be(),h=_e(),d=ps(),k=Gs(i,d),{value:u,setValue:C,disabled:f,readOnly:b,view:S,setView:P,views:D}=fs(),V=!!(o&&!t&&D.includes("hours")),{meridiemMode:_,handleMeridiemChange:I}=ut(u,o,N=>C(N,{changeImportance:"set",source:"view"})),F=N=>l.isValid(u)?l.format(u,N):"--",A=a.jsx(Ys,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:k.separator});return a.jsxs(qs,M({landscapeDirection:"row",toolbarTitle:h.timePickerToolbarTitle,ownerState:d,className:fe(k.root,r)},c,{children:[a.jsxs(Qs,{className:k.hourMinuteLabel,ownerState:d,children:[Fe(D,"hours")&&a.jsx(Oe,{tabIndex:-1,variant:"h3",onClick:()=>P("hours"),selected:S==="hours",value:F(o?"hours12h":"hours24h")}),Fe(D,["hours","minutes"])&&A,Fe(D,"minutes")&&a.jsx(Oe,{tabIndex:-1,variant:"h3",onClick:()=>P("minutes"),selected:S==="minutes",value:F("minutes")}),Fe(D,["minutes","seconds"])&&A,Fe(D,"seconds")&&a.jsx(Oe,{variant:"h3",onClick:()=>P("seconds"),selected:S==="seconds",value:F("seconds")})]}),V&&a.jsxs(Xs,{className:k.ampmSelection,ownerState:d,children:[a.jsx(Oe,{disableRipple:!0,variant:"subtitle2",selected:_==="am",typographyClassName:k.ampmLabel,value:Me(l,"am"),onClick:b?void 0:()=>I("am"),disabled:f}),a.jsx(Oe,{disableRipple:!0,variant:"subtitle2",selected:_==="pm",typographyClassName:k.ampmLabel,value:Me(l,"pm"),onClick:b?void 0:()=>I("pm"),disabled:f})]})]}))}function Ht(e,s){var l,h;const o=be(),t=te({props:e,name:s}),r=At(t),i=(l=t.ampm)!=null?l:o.is12HourCycleInCurrentLocale(),c=w.useMemo(()=>{var d;return((d=t.localeText)==null?void 0:d.toolbarTitle)==null?t.localeText:M({},t.localeText,{timePickerToolbarTitle:t.localeText.toolbarTitle})},[t.localeText]);return M({},t,r,{ampm:i,localeText:c},bs({views:t.views,openTo:t.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{slots:M({toolbar:Zs},t.slots),slotProps:M({},t.slotProps,{toolbar:M({ampm:i,ampmInClock:t.ampmInClock},(h=t.slotProps)==null?void 0:h.toolbar)})})}function Js(e){return Te("MuiTimeClock",e)}xe("MuiTimeClock",["root","arrowSwitcher"]);const Ne=220,Ce=36,Ae={x:Ne/2,y:Ne/2},$t={x:Ae.x,y:0},eo=$t.x-Ae.x,to=$t.y-Ae.y,so=e=>e*(180/Math.PI),Ut=(e,s,o)=>{const t=s-Ae.x,r=o-Ae.y,i=Math.atan2(eo,to)-Math.atan2(t,r);let c=so(i);c=Math.round(c/e)*e,c%=360;const l=Math.floor(c/e)||0,h=t**2+r**2,d=Math.sqrt(h);return{value:l,distance:d}},oo=(e,s,o=1)=>{const t=o*6;let{value:r}=Ut(t,e,s);return r=r*o%60,r},no=(e,s,o)=>{const{value:t,distance:r}=Ut(30,e,s);let i=t||12;return o?i%=12:r<Ne/2-Ce&&(i+=12,i%=24),i};function ro(e){return Te("MuiClockPointer",e)}xe("MuiClockPointer",["root","thumb"]);const ao=["className","classes","isBetweenTwoClockValues","isInner","type","viewValue"],io=e=>he({root:["root"],thumb:["thumb"]},ro,e),co=L("div",{name:"MuiClockPointer",slot:"Root"})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{isClockPointerAnimated:!0},style:{transition:e.transitions.create(["transform","height"])}}]})),lo=L("div",{name:"MuiClockPointer",slot:"Thumb"})(({theme:e})=>({width:4,height:4,backgroundColor:(e.vars||e).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:"calc(50% - ".concat(Ce/2,"px)"),border:"".concat((Ce-4)/2,"px solid ").concat((e.vars||e).palette.primary.main),boxSizing:"content-box",variants:[{props:{isClockPointerBetweenTwoValues:!1},style:{backgroundColor:(e.vars||e).palette.primary.main}}]}));function uo(e){const s=te({props:e,name:"MuiClockPointer"}),{className:o,classes:t,isBetweenTwoClockValues:r,isInner:i,type:c,viewValue:l}=s,h=ue(s,ao),d=w.useRef(c);w.useEffect(()=>{d.current=c},[c]);const{ownerState:k}=Ie(),u=M({},k,{isClockPointerAnimated:d.current!==c,isClockPointerBetweenTwoValues:r}),C=io(t),f=()=>{let S=360/(c==="hours"?12:60)*l;return c==="hours"&&l>12&&(S-=360),{height:Math.round((i?.26:.4)*Ne),transform:"rotateZ(".concat(S,"deg)")}};return a.jsx(co,M({style:f(),className:fe(C.root,o),ownerState:u},h,{children:a.jsx(lo,{ownerState:u,className:C.thumb})}))}function mo(e){return Te("MuiClock",e)}xe("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const po=(e,s)=>{const o={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",s.clockMeridiemMode==="am"&&"selected"],pmButton:["pmButton",s.clockMeridiemMode==="pm"&&"selected"],meridiemText:["meridiemText"]};return he(o,mo,e)},fo=L("div",{name:"MuiClock",slot:"Root"})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2)})),ho=L("div",{name:"MuiClock",slot:"Clock"})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),bo=L("div",{name:"MuiClock",slot:"Wrapper"})({"&:focus":{outline:"none"}}),go=L("div",{name:"MuiClock",slot:"SquareMask"})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{isClockDisabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),ko=L("div",{name:"MuiClock",slot:"Pin"})(({theme:e})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Wt=(e,s)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:Ce,variants:[{props:{clockMeridiemMode:s},style:{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}}}]}),Co=L(Dt,{name:"MuiClock",slot:"AmButton"})(({theme:e})=>M({},Wt(e,"am"),{position:"absolute",left:8})),To=L(Dt,{name:"MuiClock",slot:"PmButton"})(({theme:e})=>M({},Wt(e,"pm"),{position:"absolute",right:8})),St=L(nt,{name:"MuiClock",slot:"MeridiemText"})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function xo(e){const s=te({props:e,name:"MuiClock"}),{ampm:o,ampmInClock:t,autoFocus:r,children:i,value:c,handleMeridiemChange:l,isTimeDisabled:h,meridiemMode:d,minutesStep:k=1,onChange:u,selectedId:C,type:f,viewValue:b,viewRange:[S,P],disabled:D=!1,readOnly:V,className:_,classes:I}=s,F=be(),A=_e(),{ownerState:N}=Ie(),H=M({},N,{isClockDisabled:D,clockMeridiemMode:d}),p=w.useRef(!1),m=po(I,H),v=h(b,f),E=!o&&f==="hours"&&(b<1||b>12),j=(T,ce)=>{D||V||h(T,f)||u(T,ce)},O=(T,ce)=>{let{offsetX:W,offsetY:oe}=T;if(W===void 0){const ne=T.target.getBoundingClientRect();W=T.changedTouches[0].clientX-ne.left,oe=T.changedTouches[0].clientY-ne.top}const ee=f==="seconds"||f==="minutes"?oo(W,oe,k):no(W,oe,!!o);j(ee,ce)},se=T=>{p.current=!0,O(T,"shallow")},X=T=>{p.current&&(O(T,"finish"),p.current=!1),T.preventDefault()},ge=T=>{T.buttons>0&&O(T.nativeEvent,"shallow")},de=T=>{p.current&&(p.current=!1),O(T.nativeEvent,"finish")},J=f==="hours"?!1:b%5!==0,ke=f==="minutes"?k:1,B=w.useRef(null);rt(()=>{r&&B.current.focus()},[r]);const $=T=>Math.max(S,Math.min(P,T)),q=T=>(T+(P+1))%(P+1),Y=T=>{if(!p.current)switch(T.key){case"Home":j(S,"partial"),T.preventDefault();break;case"End":j(P,"partial"),T.preventDefault();break;case"ArrowUp":j(q(b+ke),"partial"),T.preventDefault();break;case"ArrowDown":j(q(b-ke),"partial"),T.preventDefault();break;case"PageUp":j($(b+5),"partial"),T.preventDefault();break;case"PageDown":j($(b-5),"partial"),T.preventDefault();break;case"Enter":case" ":j(b,"finish"),T.preventDefault();break}};return a.jsxs(fo,{className:fe(m.root,_),children:[a.jsxs(ho,{className:m.clock,children:[a.jsx(go,{onTouchMove:se,onTouchStart:se,onTouchEnd:X,onMouseUp:de,onMouseMove:ge,ownerState:H,className:m.squareMask}),!v&&a.jsxs(w.Fragment,{children:[a.jsx(ko,{className:m.pin}),c!=null&&a.jsx(uo,{type:f,viewValue:b,isInner:E,isBetweenTwoClockValues:J})]}),a.jsx(bo,{"aria-activedescendant":C,"aria-label":A.clockLabelText(f,c==null?null:F.format(c,o?"fullTime12h":"fullTime24h")),ref:B,role:"listbox",onKeyDown:Y,tabIndex:0,className:m.wrapper,children:i})]}),o&&t&&a.jsxs(w.Fragment,{children:[a.jsx(Co,{onClick:V?void 0:()=>l("am"),disabled:D||d===null,ownerState:H,className:m.amButton,title:Me(F,"am"),children:a.jsx(St,{variant:"caption",className:m.meridiemText,children:Me(F,"am")})}),a.jsx(To,{disabled:D||d===null,onClick:V?void 0:()=>l("pm"),ownerState:H,className:m.pmButton,title:Me(F,"pm"),children:a.jsx(St,{variant:"caption",className:m.meridiemText,children:Me(F,"pm")})})]})]})}function wo(e){return Te("MuiClockNumber",e)}const $e=xe("MuiClockNumber",["root","selected","disabled"]),So=["className","classes","disabled","index","inner","label","selected"],yo=(e,s)=>{const o={root:["root",s.isClockNumberSelected&&"selected",s.isClockNumberDisabled&&"disabled"]};return he(o,wo,e)},Mo=L("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,s)=>[s.root,{["&.".concat($e.disabled)]:s.disabled},{["&.".concat($e.selected)]:s.selected}]})(({theme:e})=>({height:Ce,width:Ce,position:"absolute",left:"calc((100% - ".concat(Ce,"px) / 2)"),display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(e.vars||e).palette.text.primary,fontFamily:e.typography.fontFamily,"&:focused":{backgroundColor:(e.vars||e).palette.background.paper},["&.".concat($e.selected)]:{color:(e.vars||e).palette.primary.contrastText},["&.".concat($e.disabled)]:{pointerEvents:"none",color:(e.vars||e).palette.text.disabled},variants:[{props:{isClockNumberInInnerRing:!0},style:M({},e.typography.body2,{color:(e.vars||e).palette.text.secondary})}]}));function zt(e){const s=te({props:e,name:"MuiClockNumber"}),{className:o,classes:t,disabled:r,index:i,inner:c,label:l,selected:h}=s,d=ue(s,So),{ownerState:k}=Ie(),u=M({},k,{isClockNumberInInnerRing:c,isClockNumberSelected:h,isClockNumberDisabled:r}),C=yo(t,u),f=i%12/12*Math.PI*2-Math.PI/2,b=(Ne-Ce-2)/2*(c?.65:1),S=Math.round(Math.cos(f)*b),P=Math.round(Math.sin(f)*b);return a.jsx(Mo,M({className:fe(C.root,o),"aria-disabled":r?!0:void 0,"aria-selected":h?!0:void 0,role:"option",style:{transform:"translate(".concat(S,"px, ").concat(P+(Ne-Ce)/2,"px")},ownerState:u},d,{children:l}))}const vo=({ampm:e,value:s,getClockNumberText:o,isDisabled:t,selectedId:r,adapter:i})=>{const c=s?i.getHours(s):null,l=[],h=e?1:0,d=e?12:23,k=u=>c===null?!1:e?u===12?c===12||c===0:c===u||c-12===u:c===u;for(let u=h;u<=d;u+=1){let C=u.toString();u===0&&(C="00");const f=!e&&(u===0||u>12);C=i.formatNumber(C);const b=k(u);l.push(a.jsx(zt,{id:b?r:void 0,index:u,inner:f,selected:b,disabled:t(u),label:C,"aria-label":o(C)},u))}return l},yt=({adapter:e,value:s,isDisabled:o,getClockNumberText:t,selectedId:r})=>{const i=e.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(([c,l],h)=>{const d=c===s;return a.jsx(zt,{label:l,id:d?r:void 0,index:h+1,inner:!1,disabled:o(c),selected:d,"aria-label":t(l)},c)})},ht=({value:e,referenceDate:s,adapter:o,props:t,timezone:r})=>{const i=w.useMemo(()=>ve.getInitialReferenceValue({value:e,adapter:o,props:t,referenceDate:s,granularity:ks.day,timezone:r,getTodayDate:()=>gs(o,r,"date")}),[s,r]);return e!=null?e:i},Po=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","timezone"],Do=e=>he({root:["root"],arrowSwitcher:["arrowSwitcher"]},Js,e),Io=L(ft,{name:"MuiTimeClock",slot:"Root"})({display:"flex",flexDirection:"column",position:"relative"}),jo=L(Cs,{name:"MuiTimeClock",slot:"ArrowSwitcher"})({position:"absolute",right:12,top:15}),Vo=["hours","minutes"],No=w.forwardRef(function(s,o){const t=be(),r=te({props:s,name:"MuiTimeClock"}),{ampm:i=t.is12HourCycleInCurrentLocale(),ampmInClock:c=!1,autoFocus:l,slots:h,slotProps:d,value:k,defaultValue:u,referenceDate:C,disableIgnoringDatePartForTimeValidation:f=!1,maxTime:b,minTime:S,disableFuture:P,disablePast:D,minutesStep:V=1,shouldDisableTime:_,showViewSwitcher:I,onChange:F,view:A,views:N=Vo,openTo:H,onViewChange:p,focusedView:m,onFocusedViewChange:v,className:E,classes:j,disabled:O,readOnly:se,timezone:X}=r,ge=ue(r,Po),{value:de,handleValueChange:J,timezone:ke}=dt({name:"TimeClock",timezone:X,value:k,defaultValue:u,referenceDate:C,onChange:F,valueManager:ve}),B=ht({value:de,referenceDate:C,adapter:t,props:r,timezone:ke}),$=_e(),q=mt(ke),Y=Qt(),{ownerState:T}=Ie(),{view:ce,setView:W,previousView:oe,nextView:ee,setValueAndGoToNextView:ne}=pt({view:A,views:N,openTo:H,onViewChange:p,onChange:J,focusedView:m,onFocusedViewChange:v}),{meridiemMode:re,handleMeridiemChange:ae}=ut(B,i,ne),me=w.useCallback((K,Q)=>{const U=Je(f,t),Z=Q==="hours"||Q==="minutes"&&N.includes("seconds"),g=({start:y,end:R})=>!(S&&U(S,R)||b&&U(y,b)||P&&U(y,q)||D&&U(q,Z?R:y)),x=(y,R=1)=>{if(y%R!==0)return!1;if(_)switch(Q){case"hours":return!_(t.setHours(B,y),"hours");case"minutes":return!_(t.setMinutes(B,y),"minutes");case"seconds":return!_(t.setSeconds(B,y),"seconds");default:return!1}return!0};switch(Q){case"hours":{const y=qe(K,re,i),R=t.setHours(B,y);if(t.getHours(R)!==y)return!0;const G=t.setSeconds(t.setMinutes(R,0),0),je=t.setSeconds(t.setMinutes(R,59),59);return!g({start:G,end:je})||!x(y)}case"minutes":{const y=t.setMinutes(B,K),R=t.setSeconds(y,0),G=t.setSeconds(y,59);return!g({start:R,end:G})||!x(K,V)}case"seconds":{const y=t.setSeconds(B,K);return!g({start:y,end:y})||!x(K)}default:throw new Error("not supported")}},[i,B,f,b,re,S,V,_,t,P,D,q,N]),we=w.useMemo(()=>{switch(ce){case"hours":{const K=(Z,g)=>{const x=qe(Z,re,i);ne(t.setHours(B,x),g,"hours")},Q=t.getHours(B);let U;return i?Q>12?U=[12,23]:U=[0,11]:U=[0,23],{onChange:K,viewValue:Q,children:vo({value:de,adapter:t,ampm:i,getClockNumberText:$.hoursClockNumberText,isDisabled:Z=>O||me(Z,"hours"),selectedId:Y}),viewRange:U}}case"minutes":{const K=t.getMinutes(B);return{viewValue:K,onChange:(U,Z)=>{ne(t.setMinutes(B,U),Z,"minutes")},children:yt({adapter:t,value:K,getClockNumberText:$.minutesClockNumberText,isDisabled:U=>O||me(U,"minutes"),selectedId:Y}),viewRange:[0,59]}}case"seconds":{const K=t.getSeconds(B);return{viewValue:K,onChange:(U,Z)=>{ne(t.setSeconds(B,U),Z,"seconds")},children:yt({adapter:t,value:K,getClockNumberText:$.secondsClockNumberText,isDisabled:U=>O||me(U,"seconds"),selectedId:Y}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[ce,t,de,i,$.hoursClockNumberText,$.minutesClockNumberText,$.secondsClockNumberText,re,ne,B,me,Y,O]),Pe=Do(j);return a.jsxs(Io,M({ref:o,className:fe(Pe.root,E),ownerState:T},ge,{children:[a.jsx(xo,M({autoFocus:l!=null?l:!!m,ampmInClock:c&&N.includes("hours"),value:de,type:ce,ampm:i,minutesStep:V,isTimeDisabled:me,meridiemMode:re,handleMeridiemChange:ae,selectedId:Y,disabled:O,readOnly:se},we)),I&&a.jsx(jo,{className:Pe.arrowSwitcher,slots:h,slotProps:d,onGoToPrevious:()=>W(oe),isPreviousDisabled:!oe,previousLabel:$.openPreviousView,onGoToNext:()=>W(ee),isNextDisabled:!ee,nextLabel:$.openNextView,ownerState:T})]}))});function _o(e){return Te("MuiDigitalClock",e)}xe("MuiDigitalClock",["root","list","item"]);const Fo=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],Oo=e=>he({root:["root"],list:["list"],item:["item"]},_o,e),Lo=L(ft,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:_t,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),Bo=L(Vt,{name:"MuiDigitalClock",slot:"List"})({padding:0}),Ao=L(jt,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue"})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ke(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ke(e.palette.primary.main,e.palette.action.focusOpacity)}})),Eo=w.forwardRef(function(s,o){var Z;const t=be(),r=w.useRef(null),i=It(o,r),c=w.useRef(null),l=te({props:s,name:"MuiDigitalClock"}),{ampm:h=t.is12HourCycleInCurrentLocale(),timeStep:d=30,autoFocus:k,slots:u,slotProps:C,value:f,defaultValue:b,referenceDate:S,disableIgnoringDatePartForTimeValidation:P=!1,maxTime:D,minTime:V,disableFuture:_,disablePast:I,minutesStep:F=1,shouldDisableTime:A,onChange:N,view:H,openTo:p,onViewChange:m,focusedView:v,onFocusedViewChange:E,className:j,classes:O,disabled:se,readOnly:X,views:ge=["hours"],skipDisabled:de=!1,timezone:J}=l,ke=ue(l,Fo),{value:B,handleValueChange:$,timezone:q}=dt({name:"DigitalClock",timezone:J,value:f,defaultValue:b,referenceDate:S,onChange:N,valueManager:ve}),Y=_e(),T=mt(q),{ownerState:ce}=Ie(),W=M({},ce,{hasDigitalClockAlreadyBeenRendered:!!r.current}),oe=Oo(O),ee=(Z=u==null?void 0:u.digitalClockItem)!=null?Z:Ao,ne=Xt({elementType:ee,externalSlotProps:C==null?void 0:C.digitalClockItem,ownerState:W,className:oe.item}),re=ht({value:B,referenceDate:S,adapter:t,props:l,timezone:q}),ae=ze(g=>$(g,"finish","hours")),{setValueAndGoToNextView:me}=pt({view:H,views:ge,openTo:p,onViewChange:m,onChange:ae,focusedView:v,onFocusedViewChange:E}),we=ze(g=>{me(g,"finish")});rt(()=>{if(r.current===null)return;const g=r.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!g)return;const x=g.offsetTop;(k||v)&&g.focus(),r.current.scrollTop=x-4});const Pe=w.useCallback(g=>{const x=Je(P,t),y=()=>!(V&&x(V,g)||D&&x(g,D)||_&&x(g,T)||I&&x(T,g)),R=()=>t.getMinutes(g)%F!==0?!1:A?!A(g,"hours"):!0;return!y()||!R()},[P,t,V,D,_,T,I,F,A]),K=w.useMemo(()=>{const g=[];let y=t.startOfDay(re);for(;t.isSameDay(re,y);)g.push(y),y=t.addMinutes(y,d);return g},[re,d,t]),Q=K.findIndex(g=>t.isEqual(g,re)),U=g=>{switch(g.key){case"PageUp":{const x=Ye(c.current)-5,y=c.current.children,R=Math.max(0,x),G=y[R];G&&G.focus(),g.preventDefault();break}case"PageDown":{const x=Ye(c.current)+5,y=c.current.children,R=Math.min(y.length-1,x),G=y[R];G&&G.focus(),g.preventDefault();break}}};return a.jsx(Lo,M({ref:i,className:fe(oe.root,j),ownerState:W},ke,{children:a.jsx(Bo,{ref:c,role:"listbox","aria-label":Y.timePickerToolbarTitle,className:oe.list,onKeyDown:U,children:K.map((g,x)=>{const y=Pe(g);if(de&&y)return null;const R=t.isEqual(g,B),G=t.format(g,h?"fullTime12h":"fullTime24h"),z=Q===x||Q===-1&&x===0?0:-1;return a.jsx(ee,M({onClick:()=>!X&&we(g),selected:R,disabled:se||y,disableRipple:X,role:"option","aria-disabled":X,"aria-selected":R,tabIndex:z,itemValue:g,formattedValue:G},ne,{children:G}),"".concat(g.valueOf(),"-").concat(G))})})}))});function Ro(e){return Te("MuiMultiSectionDigitalClock",e)}xe("MuiMultiSectionDigitalClock",["root"]);function Ho(e){return Te("MuiMultiSectionDigitalClockSection",e)}xe("MuiMultiSectionDigitalClockSection",["root","item"]);const $o=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Uo=e=>he({root:["root"],item:["item"]},Ho,e),Wo=L(Vt,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:e})=>({maxHeight:_t,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),zo=L(jt,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:e})=>({padding:8,margin:"2px 4px",width:Ts,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):Ke(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):Ke(e.palette.primary.main,e.palette.action.focusOpacity)}})),Ko=w.forwardRef(function(s,o){var p;const t=w.useRef(null),r=It(o,t),i=w.useRef(null),c=te({props:s,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:l,onChange:h,className:d,classes:k,disabled:u,readOnly:C,items:f,active:b,slots:S,slotProps:P,skipDisabled:D}=c,V=ue(c,$o),{ownerState:_}=Ie(),I=M({},_,{hasDigitalClockAlreadyBeenRendered:!!t.current}),F=Uo(k),A=(p=S==null?void 0:S.digitalClockSectionItem)!=null?p:zo;rt(()=>{if(t.current===null)return;const m=t.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(b&&l&&m&&m.focus(),!m||i.current===m)return;i.current=m;const v=m.offsetTop,E=m.offsetHeight,j=t.current.clientHeight,O=t.current.scrollHeight,se=v-j/2+E/2,X=O-j,ge=Math.min(se,X);t.current.scrollTop=Math.max(0,ge)});const N=f.findIndex(m=>m.isFocused(m.value)),H=m=>{switch(m.key){case"PageUp":{const v=Ye(t.current)-5,E=t.current.children,j=Math.max(0,v),O=E[j];O&&O.focus(),m.preventDefault();break}case"PageDown":{const v=Ye(t.current)+5,E=t.current.children,j=Math.min(E.length-1,v),O=E[j];O&&O.focus(),m.preventDefault();break}}};return a.jsx(Wo,M({ref:r,className:fe(F.root,d),ownerState:I,autoFocusItem:l&&b,role:"listbox",onKeyDown:H},V,{children:f.map((m,v)=>{var X;const E=(X=m.isDisabled)==null?void 0:X.call(m,m.value),j=u||E;if(D&&j)return null;const O=m.isSelected(m.value),se=N===v||N===-1&&v===0?0:-1;return a.jsx(A,M({onClick:()=>!C&&h(m.value),selected:O,disabled:j,disableRipple:C,role:"option","aria-disabled":C||j||void 0,"aria-label":m.ariaLabel,"aria-selected":O,tabIndex:se,className:F.item},P==null?void 0:P.digitalClockSectionItem,{children:m.label}),m.label)})}))}),Go=({now:e,value:s,adapter:o,ampm:t,isDisabled:r,resolveAriaLabel:i,timeStep:c,valueOrReferenceDate:l})=>{const h=s?o.getHours(s):null,d=[],k=(f,b)=>{const S=b!=null?b:h;return S===null?!1:t?f===12?S===12||S===0:S===f||S-12===f:S===f},u=f=>k(f,o.getHours(l)),C=t?11:23;for(let f=0;f<=C;f+=c){let b=o.format(o.setHours(e,f),t?"hours12h":"hours24h");const S=i(parseInt(b,10).toString());b=o.formatNumber(b),d.push({value:f,label:b,isSelected:k,isDisabled:r,isFocused:u,ariaLabel:S})}return d},Mt=({value:e,adapter:s,isDisabled:o,timeStep:t,resolveLabel:r,resolveAriaLabel:i,hasValue:c=!0})=>{const l=d=>e===null?!1:c&&e===d,h=d=>e===d;return[...Array.from({length:Math.ceil(60/t)},(d,k)=>{const u=t*k;return{value:u,label:s.formatNumber(r(u)),isDisabled:o,isSelected:l,isFocused:h,ariaLabel:i(u.toString())}})]},qo=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],Yo=e=>he({root:["root"]},Ro,e),Qo=L(ft,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:"1px solid ".concat((e.vars||e).palette.divider)})),Xo=w.forwardRef(function(s,o){const t=be(),r=Zt(),i=te({props:s,name:"MuiMultiSectionDigitalClock"}),{ampm:c=t.is12HourCycleInCurrentLocale(),timeSteps:l,autoFocus:h,slots:d,slotProps:k,value:u,defaultValue:C,referenceDate:f,disableIgnoringDatePartForTimeValidation:b=!1,maxTime:S,minTime:P,disableFuture:D,disablePast:V,minutesStep:_=1,shouldDisableTime:I,onChange:F,view:A,views:N=["hours","minutes"],openTo:H,onViewChange:p,focusedView:m,onFocusedViewChange:v,className:E,classes:j,disabled:O,readOnly:se,skipDisabled:X=!1,timezone:ge}=i,de=ue(i,qo),{value:J,handleValueChange:ke,timezone:B}=dt({name:"MultiSectionDigitalClock",timezone:ge,value:u,defaultValue:C,referenceDate:f,onChange:F,valueManager:ve}),$=_e(),q=mt(B),Y=w.useMemo(()=>M({hours:1,minutes:5,seconds:5},l),[l]),T=ht({value:J,referenceDate:f,adapter:t,props:i,timezone:B}),ce=ze((g,x,y)=>ke(g,x,y)),W=w.useMemo(()=>!c||!N.includes("hours")||N.includes("meridiem")?N:[...N,"meridiem"],[c,N]),{view:oe,setValueAndGoToNextView:ee,focusedView:ne}=pt({view:A,views:W,openTo:H,onViewChange:p,onChange:ce,focusedView:m,onFocusedViewChange:v}),re=ze(g=>{ee(g,"finish","meridiem")}),{meridiemMode:ae,handleMeridiemChange:me}=ut(T,c,re,"finish"),we=w.useCallback((g,x)=>{const y=Je(b,t),R=x==="hours"||x==="minutes"&&W.includes("seconds"),G=({start:z,end:le})=>!(P&&y(P,le)||S&&y(z,S)||D&&y(z,q)||V&&y(q,R?le:z)),je=(z,le=1)=>{if(z%le!==0)return!1;if(I)switch(x){case"hours":return!I(t.setHours(T,z),"hours");case"minutes":return!I(t.setMinutes(T,z),"minutes");case"seconds":return!I(t.setSeconds(T,z),"seconds");default:return!1}return!0};switch(x){case"hours":{const z=qe(g,ae,c),le=t.setHours(T,z);if(t.getHours(le)!==z)return!0;const Ee=t.setSeconds(t.setMinutes(le,0),0),Yt=t.setSeconds(t.setMinutes(le,59),59);return!G({start:Ee,end:Yt})||!je(z)}case"minutes":{const z=t.setMinutes(T,g),le=t.setSeconds(z,0),Ee=t.setSeconds(z,59);return!G({start:le,end:Ee})||!je(g,_)}case"seconds":{const z=t.setSeconds(T,g);return!G({start:z,end:z})||!je(g)}default:throw new Error("not supported")}},[c,T,b,S,ae,P,_,I,t,D,V,q,W]),Pe=w.useCallback(g=>{switch(g){case"hours":return{onChange:x=>{const y=qe(x,ae,c);ee(t.setHours(T,y),"finish","hours")},items:Go({now:q,value:J,ampm:c,adapter:t,isDisabled:x=>we(x,"hours"),timeStep:Y.hours,resolveAriaLabel:$.hoursClockNumberText,valueOrReferenceDate:T})};case"minutes":return{onChange:x=>{ee(t.setMinutes(T,x),"finish","minutes")},items:Mt({value:t.getMinutes(T),adapter:t,isDisabled:x=>we(x,"minutes"),resolveLabel:x=>t.format(t.setMinutes(q,x),"minutes"),timeStep:Y.minutes,hasValue:!!J,resolveAriaLabel:$.minutesClockNumberText})};case"seconds":return{onChange:x=>{ee(t.setSeconds(T,x),"finish","seconds")},items:Mt({value:t.getSeconds(T),adapter:t,isDisabled:x=>we(x,"seconds"),resolveLabel:x=>t.format(t.setSeconds(q,x),"seconds"),timeStep:Y.seconds,hasValue:!!J,resolveAriaLabel:$.secondsClockNumberText})};case"meridiem":{const x=Me(t,"am"),y=Me(t,"pm");return{onChange:me,items:[{value:"am",label:x,isSelected:()=>!!J&&ae==="am",isFocused:()=>!!T&&ae==="am",ariaLabel:x},{value:"pm",label:y,isSelected:()=>!!J&&ae==="pm",isFocused:()=>!!T&&ae==="pm",ariaLabel:y}]}}default:throw new Error("Unknown view: ".concat(g," found."))}},[q,J,c,t,Y.hours,Y.minutes,Y.seconds,$.hoursClockNumberText,$.minutesClockNumberText,$.secondsClockNumberText,ae,ee,T,we,me]),K=w.useMemo(()=>{if(!r)return W;const g=W.filter(x=>x!=="meridiem");return g.reverse(),W.includes("meridiem")&&g.push("meridiem"),g},[r,W]),Q=w.useMemo(()=>W.reduce((g,x)=>M({},g,{[x]:Pe(x)}),{}),[W,Pe]),{ownerState:U}=Ie(),Z=Yo(j);return a.jsx(Qo,M({ref:o,className:fe(Z.root,E),ownerState:U,role:"group"},de,{children:K.map(g=>a.jsx(Ko,{items:Q[g].items,onChange:Q[g].onChange,active:oe===g,autoFocus:h||ne===g,disabled:O,readOnly:se,slots:d,slotProps:k,skipDisabled:X,"aria-label":$.selectViewText(g)},g))}))}),tt=({view:e,onViewChange:s,focusedView:o,onFocusedViewChange:t,views:r,value:i,defaultValue:c,referenceDate:l,onChange:h,className:d,classes:k,disableFuture:u,disablePast:C,minTime:f,maxTime:b,shouldDisableTime:S,minutesStep:P,ampm:D,ampmInClock:V,slots:_,slotProps:I,readOnly:F,disabled:A,sx:N,autoFocus:H,showViewSwitcher:p,disableIgnoringDatePartForTimeValidation:m,timezone:v})=>a.jsx(No,{view:e,onViewChange:s,focusedView:o&&Be(o)?o:null,onFocusedViewChange:t,views:r.filter(Be),value:i,defaultValue:c,referenceDate:l,onChange:h,className:d,classes:k,disableFuture:u,disablePast:C,minTime:f,maxTime:b,shouldDisableTime:S,minutesStep:P,ampm:D,ampmInClock:V,slots:_,slotProps:I,readOnly:F,disabled:A,sx:N,autoFocus:H,showViewSwitcher:p,disableIgnoringDatePartForTimeValidation:m,timezone:v}),Zo=({view:e,onViewChange:s,focusedView:o,onFocusedViewChange:t,views:r,value:i,defaultValue:c,referenceDate:l,onChange:h,className:d,classes:k,disableFuture:u,disablePast:C,minTime:f,maxTime:b,shouldDisableTime:S,minutesStep:P,ampm:D,slots:V,slotProps:_,readOnly:I,disabled:F,sx:A,autoFocus:N,disableIgnoringDatePartForTimeValidation:H,timeSteps:p,skipDisabled:m,timezone:v})=>a.jsx(Eo,{view:e,onViewChange:s,focusedView:o&&Be(o)?o:null,onFocusedViewChange:t,views:r.filter(Be),value:i,defaultValue:c,referenceDate:l,onChange:h,className:d,classes:k,disableFuture:u,disablePast:C,minTime:f,maxTime:b,shouldDisableTime:S,minutesStep:P,ampm:D,slots:V,slotProps:_,readOnly:I,disabled:F,sx:A,autoFocus:N,disableIgnoringDatePartForTimeValidation:H,timeStep:p==null?void 0:p.minutes,skipDisabled:m,timezone:v}),vt=({view:e,onViewChange:s,focusedView:o,onFocusedViewChange:t,views:r,value:i,defaultValue:c,referenceDate:l,onChange:h,className:d,classes:k,disableFuture:u,disablePast:C,minTime:f,maxTime:b,shouldDisableTime:S,minutesStep:P,ampm:D,slots:V,slotProps:_,readOnly:I,disabled:F,sx:A,autoFocus:N,disableIgnoringDatePartForTimeValidation:H,timeSteps:p,skipDisabled:m,timezone:v})=>a.jsx(Xo,{view:e,onViewChange:s,focusedView:o&&Ft(o)?o:null,onFocusedViewChange:t,views:r.filter(Be),value:i,defaultValue:c,referenceDate:l,onChange:h,className:d,classes:k,disableFuture:u,disablePast:C,minTime:f,maxTime:b,shouldDisableTime:S,minutesStep:P,ampm:D,slots:V,slotProps:_,readOnly:I,disabled:F,sx:A,autoFocus:N,disableIgnoringDatePartForTimeValidation:H,timeSteps:p,skipDisabled:m,timezone:v}),Jo=(e,s,o)=>o?s.filter(t=>!Ft(t)||t==="hours"):e?[...s,"meridiem"]:s,en=(e,s)=>{var o,t;return 24*60/(((o=e.hours)!=null?o:1)*((t=e.minutes)!=null?t:5))<=s};function tn({thresholdToRenderTimeInASingleColumn:e,ampm:s,timeSteps:o,views:t}){const r=e!=null?e:24,i=M({hours:1,minutes:5,seconds:5},o),c=en(i,r);return{thresholdToRenderTimeInASingleColumn:r,timeSteps:i,shouldRenderTimeInASingleColumn:c,views:Jo(s,t,c)}}const Kt=w.forwardRef(function(s,o){var S,P,D;const t=be(),r=Ht(s,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:i,views:c,timeSteps:l}=tn(r),h=i?Zo:vt,d=M({hours:h,minutes:h,seconds:h,meridiem:h},r.viewRenderers),k=(S=r.ampmInClock)!=null?S:!0,C=((P=d.hours)==null?void 0:P.name)===vt.name?c:c.filter(V=>V!=="meridiem"),f=M({},r,{ampmInClock:k,timeSteps:l,viewRenderers:d,format:Ot(t,r),views:i?["hours"]:C,slots:M({field:Et},r.slots),slotProps:M({},r.slotProps,{field:V=>{var _;return M({},Nt((_=r.slotProps)==null?void 0:_.field,V),Lt(r))},toolbar:M({hidden:!0,ampmInClock:k},(D=r.slotProps)==null?void 0:D.toolbar)})}),{renderPicker:b}=xs({ref:o,props:f,valueManager:ve,valueType:"time",validator:et,steps:null});return b()});Kt.propTypes={ampm:n.bool,ampmInClock:n.bool,autoFocus:n.bool,className:n.string,closeOnSelect:n.bool,defaultValue:n.object,disabled:n.bool,disableFuture:n.bool,disableIgnoringDatePartForTimeValidation:n.bool,disableOpenPicker:n.bool,disablePast:n.bool,enableAccessibleFieldDOMStructure:n.any,format:n.string,formatDensity:n.oneOf(["dense","spacious"]),inputRef:Bt,label:n.node,localeText:n.object,maxTime:n.object,minTime:n.object,minutesStep:n.number,name:n.string,onAccept:n.func,onChange:n.func,onClose:n.func,onError:n.func,onOpen:n.func,onSelectedSectionsChange:n.func,onViewChange:n.func,open:n.bool,openTo:n.oneOf(["hours","meridiem","minutes","seconds"]),orientation:n.oneOf(["landscape","portrait"]),readOnly:n.bool,reduceAnimations:n.bool,referenceDate:n.object,selectedSections:n.oneOfType([n.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),n.number]),shouldDisableTime:n.func,skipDisabled:n.bool,slotProps:n.object,slots:n.object,sx:n.oneOfType([n.arrayOf(n.oneOfType([n.func,n.object,n.bool])),n.func,n.object]),thresholdToRenderTimeInASingleColumn:n.number,timeSteps:n.shape({hours:n.number,minutes:n.number,seconds:n.number}),timezone:n.string,value:n.object,view:n.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:n.shape({hours:n.func,meridiem:n.func,minutes:n.func,seconds:n.func}),views:n.arrayOf(n.oneOf(["hours","minutes","seconds"]).isRequired)};const Gt=w.forwardRef(function(s,o){var d,k;const t=be(),r=Ht(s,"MuiMobileTimePicker"),i=M({hours:tt,minutes:tt,seconds:tt},r.viewRenderers),c=(d=r.ampmInClock)!=null?d:!1,l=M({},r,{ampmInClock:c,viewRenderers:i,format:Ot(t,r),slots:M({field:Et},r.slots),slotProps:M({},r.slotProps,{field:u=>{var C;return M({},Nt((C=r.slotProps)==null?void 0:C.field,u),Lt(r))},toolbar:M({hidden:!1,ampmInClock:c},(k=r.slotProps)==null?void 0:k.toolbar)})}),{renderPicker:h}=ws({ref:o,props:l,valueManager:ve,valueType:"time",validator:et,steps:null});return h()});Gt.propTypes={ampm:n.bool,ampmInClock:n.bool,autoFocus:n.bool,className:n.string,closeOnSelect:n.bool,defaultValue:n.object,disabled:n.bool,disableFuture:n.bool,disableIgnoringDatePartForTimeValidation:n.bool,disableOpenPicker:n.bool,disablePast:n.bool,enableAccessibleFieldDOMStructure:n.any,format:n.string,formatDensity:n.oneOf(["dense","spacious"]),inputRef:Bt,label:n.node,localeText:n.object,maxTime:n.object,minTime:n.object,minutesStep:n.number,name:n.string,onAccept:n.func,onChange:n.func,onClose:n.func,onError:n.func,onOpen:n.func,onSelectedSectionsChange:n.func,onViewChange:n.func,open:n.bool,openTo:n.oneOf(["hours","minutes","seconds"]),orientation:n.oneOf(["landscape","portrait"]),readOnly:n.bool,reduceAnimations:n.bool,referenceDate:n.object,selectedSections:n.oneOfType([n.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),n.number]),shouldDisableTime:n.func,slotProps:n.object,slots:n.object,sx:n.oneOfType([n.arrayOf(n.oneOfType([n.func,n.object,n.bool])),n.func,n.object]),timezone:n.string,value:n.object,view:n.oneOf(["hours","minutes","seconds"]),viewRenderers:n.shape({hours:n.func,minutes:n.func,seconds:n.func}),views:n.arrayOf(n.oneOf(["hours","minutes","seconds"]).isRequired)};const sn=["desktopModeMediaQuery"],on=w.forwardRef(function(s,o){const t=te({props:s,name:"MuiTimePicker"}),{desktopModeMediaQuery:r=Ss}=t,i=ue(t,sn);return Jt(r,{defaultMatches:!0})?a.jsx(Kt,M({ref:o},i)):a.jsx(Gt,M({ref:o},i))}),nn=({settingName:e,value:s,defaultValue:o,handleChange:t})=>{const{i18n:r,_:i}=Ze(),[c,l]=w.useState(!1),[h,d]=w.useState(s);w.useEffect(()=>{s&&d(s)},[s]);const k=w.useCallback(f=>{l(!1),f&&d(s)},[s]),u=w.useCallback(()=>k(!0),[k]),C=w.useCallback((f,b=!0)=>{b&&k(!1),s!==f&&t(f)},[s,t,k]);return a.jsxs(a.Fragment,{children:[a.jsx(Ue,{onClick:()=>l(!0),children:a.jsx(We,{primary:e,secondary:Re(s,"HH:mm").format("LT"),secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),a.jsxs(at,{open:c,onClose:k,children:[a.jsx(it,{children:e}),a.jsx(ct,{children:a.jsx(ys,{dateAdapter:Ms,adapterLocale:Re.locale(),children:a.jsx(on,{autoFocus:!0,value:Re(h,"HH:mm"),defaultValue:Re(o,"HH:mm"),format:"LT",onChange:f=>{var b;return d((b=f==null?void 0:f.format("HH:mm"))!=null?b:"00:00")}})})}),a.jsxs(lt,{children:[o!==void 0?a.jsx(pe,{onClick:()=>{d(o),C(o,!1)},color:"primary",children:r._({id:"Tj36Dr"})}):null,a.jsx(pe,{onClick:u,color:"primary",children:r._({id:"dEgA5A"})}),a.jsx(pe,{onClick:()=>{C(h)},color:"primary",children:r._({id:"aP3N/0"})})]})]})]})};var Qe=function(e){return e.LIBRARY="library",e.SETTINGS="settings",e}({});const Xe={includeManga:{id:"l/OKhg"},includeCategories:{id:"NUrY9o"},includeChapters:{id:"bv55ng"},includeClientData:{id:"nk/a78"},includeHistory:{id:"0caMy7"},includeServerSettings:{id:"K6cOVh"},includeTracking:{id:"U0HZma"}},rn={[Qe.LIBRARY]:{id:"exYcTF"},[Qe.SETTINGS]:{id:"Tz0i8g"}},an=Object.keys(Xe),cn={[Qe.LIBRARY]:["includeManga","includeChapters","includeTracking","includeHistory","includeCategories"],[Qe.SETTINGS]:["includeClientData","includeServerSettings"]},st=({onDismiss:e,onSubmit:s,isVisible:o,onExitComplete:t,title:r,flags:i})=>{const{i18n:c,_:l}=Ze(),[h,d]=w.useState(Object.fromEntries(an.map(k=>{var u;return[k,(u=i==null?void 0:i[k])!=null?u:!0]})));return a.jsxs(at,{open:o,onTransitionExited:t,maxWidth:"xs",fullWidth:!0,onClose:e,children:[a.jsx(it,{children:r}),a.jsx(ct,{children:a.jsx(Is,{sx:{gap:2},children:Object.entries(cn).map(([k,u])=>a.jsxs(ot,{children:[a.jsx(nt,{children:c._(rn[k])}),u.map(C=>a.jsx(Ds,{label:c._(Xe[C]),checked:h[C],onChange:(f,b)=>{d({...h,[C]:b})}},C))]},k))})}),a.jsxs(lt,{children:[a.jsx(pe,{autoFocus:!0,onClick:e,color:"primary",children:c._({id:"dEgA5A"})}),a.jsx(pe,{onClick:()=>s(h),color:"primary",children:c._({id:"aP3N/0"})})]})]})},ln=({validationResult:e,onDismiss:s,onSubmit:o,isVisible:t,onExitComplete:r})=>{const{i18n:i,_:c}=Ze();return a.jsxs(at,{open:t,onTransitionExited:r,onClose:s,children:[a.jsx(it,{children:i._({id:"W3Q8vS"})}),a.jsxs(ct,{dividers:!0,children:[!!(e!=null&&e.missingSources.length)&&a.jsx(Ge,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:i._({id:"vEbeNs"}),children:e==null?void 0:e.missingSources.map(({id:l,name:h})=>a.jsx(bt,{sx:{display:"list-item"},children:"".concat(h," (").concat(l,")")},l))}),!!(e!=null&&e.missingTrackers.length)&&a.jsx(Ge,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:i._({id:"iWxa2V"}),children:e==null?void 0:e.missingTrackers.map(({name:l})=>a.jsx(bt,{sx:{display:"list-item"},children:"".concat(l)},l))})]}),a.jsx(lt,{children:a.jsxs(ot,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[!!(e!=null&&e.missingSources.length)&&a.jsx(pe,{onClick:s,component:kt,to:gt.browse.path(es.EXTENSIONS),autoFocus:!!(e!=null&&e.missingSources.length),variant:e!=null&&e.missingSources.length?"contained":"text",children:i._({id:"TKQ7K+"})}),!!(e!=null&&e.missingTrackers.length)&&a.jsx(pe,{onClick:s,component:kt,to:gt.settings.childRoutes.tracking.path,autoFocus:!!(e!=null&&e.missingTrackers.length),variant:e!=null&&e.missingTrackers.length?"contained":"text",children:i._({id:"sQia9P"})}),a.jsxs(ot,{direction:"row",children:[a.jsx(pe,{onClick:s,children:i._({id:"dEgA5A"})}),a.jsx(pe,{onClick:o,autoFocus:!(e!=null&&e.missingSources.length)&&!(e!=null&&e.missingTrackers.length),variant:!(e!=null&&e.missingSources.length)&&!(e!=null&&e.missingTrackers.length)?"contained":"text",children:i._({id:"yKu/3Y"})})]})]})})]})},un=e=>({autoBackupIncludeCategories:e.includeCategories,autoBackupIncludeChapters:e.includeChapters,autoBackupIncludeClientData:e.includeClientData,autoBackupIncludeHistory:e.includeHistory,autoBackupIncludeManga:e.includeManga,autoBackupIncludeServerSettings:e.includeServerSettings,autoBackupIncludeTracking:e.includeTracking}),qt=e=>({includeCategories:e.autoBackupIncludeCategories,includeChapters:e.autoBackupIncludeChapters,includeClientData:e.autoBackupIncludeClientData,includeHistory:e.autoBackupIncludeHistory,includeManga:e.autoBackupIncludeManga,includeServerSettings:e.autoBackupIncludeServerSettings,includeTracking:e.autoBackupIncludeTracking}),Pt=(e,s,o)=>e===0?Ve._({id:"EdQY6l"}):e===s?Ve._({id:"N40H+G"}):o,dn=e=>{var c,l,h,d,k,u,C,f;const s=qt(e),o=Object.keys(s).length,t=Object.groupBy(Object.entries(s),([,b])=>b.toString()),r=(l=(c=t.true)==null?void 0:c.map(([b])=>Ve._(Xe[b])).join(", "))!=null?l:"",i=(d=(h=t.false)==null?void 0:h.map(([b])=>Ve._(Xe[b])).join(", "))!=null?d:"";return{false:Pt((u=(k=t.false)==null?void 0:k.length)!=null?u:0,o,i),true:Pt((f=(C=t.true)==null?void 0:C.length)!=null?f:0,o,r)}},mn=e=>e===0?Ve._({id:"qqeAJM"}):Ve._({id:"a/h7Ks",values:{ttl:e}});let ye;function In(){var H;const{i18n:e,_:s}=Ze();Ps(e._({id:"rLgPvm"}));const{data:o,loading:t,error:r,refetch:i}=Se.useGetServerSettings({notifyOnNetworkStatusChange:!0}),[c]=Se.useUpdateServerSettings(),{data:l}=Se.useGetBackupRestoreStatus(ye!=null?ye:"",{skip:!ye,pollInterval:1e3}),[,h]=w.useState(0),d=w.useRef(null),k=(()=>{if(!(l!=null&&l.restoreStatus))return 0;const p=100*(l.restoreStatus.mangaProgress/l.restoreStatus.totalManga);return Number.isNaN(p)?0:p})(),u=(p,m)=>{c({variables:{input:{settings:{[p]:m}}}}).catch(v=>ie(e._({id:"cBoXe4"}),"error",De(v)))},C=p=>{c({variables:{input:{settings:p}}}).catch(m=>ie(e._({id:"cBoXe4"}),"error",De(m)))};w.useEffect(()=>{if(!(l!=null&&l.restoreStatus))return;const p=l.restoreStatus.state===Ct.Success,m=l.restoreStatus.state===Ct.Failure;(p||m)&&(p&&ie(e._({id:"US1vYS"}),"success"),m&&ie(e._({id:"1k3Qcr"}),"error"),Se.reset(),ye=void 0,h(Date.now()))},[(H=l==null?void 0:l.restoreStatus)==null?void 0:H.state]);const f=()=>{const p=document.getElementById("backup-file");p&&(p.value="")},b=async()=>{var m;const p=await He.show(st,{title:e._({id:"s7UttZ"})});ie(e._({id:"Poqf7w"}),"info");try{const v=await Se.createBackupFile({flags:p}).response,E=(m=v.data)==null?void 0:m.createBackup.url;if(!E){ie(e._({id:"feDSMB"}),"error",De(v.errors));return}const j=document.createElement("a");j.href=Se.getValidUrlFor(E,""),j.download="",document.body.appendChild(j),j.click(),document.body.removeChild(j)}catch(v){ie(e._({id:"feDSMB"}),"error",De(v))}},S=async p=>{try{const{data:{validateBackup:m}}=await Se.validateBackupFile(p,{fetchPolicy:"network-only"}).response;if(m.missingSources.length||m.missingTrackers.length)try{await He.show(ln,{validationResult:m},{id:"backup-validate-".concat(p.name)})}catch(v){return!1}return!0}catch(m){ie(e._({id:"UyzWju"}),"error",De(m))}finally{f()}return!1},P=async p=>{var v;const m=await He.show(st,{title:e._({id:"z44QLk"})});try{ie(e._({id:"/5GtGT"}),"info"),ye=(v=(await Se.restoreBackupFile({backup:p,flags:m}).response).data)==null?void 0:v.restoreBackup.id,h(Date.now())}catch(E){ie(e._({id:"1k3Qcr"}),"error",De(E))}finally{f()}},D=async p=>{if(p.name.toLowerCase().endsWith("json")){ie(e._({id:"3XF03X"}),"error");return}if(!p.name.toLowerCase().match(/proto\.gz$|tachibk$/g)){ie(e._({id:"f7vOnJ"}),"error");return}await S(p)&&await P(p)};wt("drop",async p=>{p.preventDefault();const m=await Tt(p);D(m[0])}),wt("dragover",p=>{p.preventDefault()});const V=Ns("change",async p=>{const m=await Tt(p);D(m[0])}),_=js(d,V);if(t)return a.jsx(ts,{});if(r)return a.jsx(vs,{message:e._({id:"6m5aox"}),messageExtra:De(r),retry:()=>i().catch(ss("Backup::refetch"))});const I=o.settings,F=dn(I),A=F.true,N=F.false;return a.jsxs(a.Fragment,{children:[a.jsxs(Ge,{sx:{padding:0},children:[a.jsx(Ue,{onClick:b,children:a.jsx(We,{primary:e._({id:"s7UttZ"}),secondary:e._({id:"HsKdeA"})})}),a.jsxs(Ue,{onClick:()=>{var p;return(p=d.current)==null?void 0:p.click()},disabled:!!ye,children:[a.jsx(We,{primary:e._({id:"z44QLk"}),secondary:e._({id:"ElWK2x"})}),ye?a.jsx(os,{children:a.jsx(rs,{progress:k})}):null]}),a.jsxs(Ge,{subheader:a.jsx(Vs,{component:"div",id:"backup-settings",children:"Automated backup"}),children:[a.jsx(ns,{settingName:e._({id:"H6Jq2z"}),dialogDescription:e._({id:"bkcPwC"}),value:I.backupPath,settingDescription:I.backupPath.length?I.backupPath:e._({id:"ovBPCi"}),handleChange:p=>u("backupPath",p)}),a.jsx(Ue,{onClick:async()=>{try{const p=await He.show(st,{title:e._({id:"EWXp8T"}),flags:qt(I)});C(un(p))}catch(p){}},children:a.jsx(We,{primary:e._({id:"EWXp8T"}),secondary:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:e._({id:"Iaalur",values:{includedCategoriesText:A}})}),a.jsx("span",{children:e._({id:"+/+7ol",values:{excludedCategoriesText:N}})})]}),secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),a.jsx(nn,{settingName:e._({id:"HNjfDy"}),value:I.backupTime,defaultValue:"00:00",handleChange:p=>u("backupTime",p)}),a.jsx(xt,{settingTitle:e._({id:"6ZF7T/"}),settingValue:e._({id:"AqcrQK",values:{0:I.backupInterval}}),value:I.backupInterval,defaultValue:1,minValue:1,maxValue:31,stepSize:1,valueUnit:e._({id:"H7OUPr"}),showSlider:!0,handleUpdate:p=>u("backupInterval",p)}),a.jsx(xt,{settingTitle:e._({id:"rtXxnB"}),settingValue:mn(I.backupTTL),value:I.backupTTL,defaultValue:14,minValue:0,maxValue:1e3,stepSize:1,valueUnit:e._({id:"H7OUPr"}),showSlider:!0,handleUpdate:p=>u("backupTTL",p)})]})]}),a.jsx("input",{ref:_,type:"file",style:{display:"none"}})]})}export{In as Backup};
