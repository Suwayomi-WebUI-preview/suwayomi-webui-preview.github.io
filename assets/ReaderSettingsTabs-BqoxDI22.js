import{u as i,j as s,a as d,T as g,b as E,C as P,d0 as z,d1 as F,cJ as w,e8 as se,e9 as ae,ea as C,c_ as re,c$ as te,cZ as le,B as I,c as f,I as Y,cP as ne,dq as oe,eb as b,dB as ie,M as W,ct as ce,g as y,aO as de,d2 as K,ec as R,cK as S,dc as L,ed as ue,ee as O,ef as xe,eg as he,eh as B,d7 as ge,ei as k,d3 as _e,a0 as be,ej as je,D as ve,o as me,p as pe,aF as Ae,ai as Ee,a7 as Re,dH as j,ek as Te,cD as Ce,de as Le,cu as fe,af as V,el as N,cC as D}from"./index-YAtlvmGf.js";import{T as De}from"./TabsMenu-Bn4GwcEB.js";import{T as Oe,a as T}from"./Tabs-CBKLLDtI.js";import{T as $}from"./Trans-Br24zJtv.js";import{S as Ie}from"./Slider-BQ2AI3Nb.js";import{C as _}from"./CheckboxInput-iNLKxaC_.js";import{L as Se}from"./ListSubheader-Bo9w8TfH.js";import{A as Me}from"./Add-Cjv_k92V.js";const ke=({i18nKey:e,value:a})=>{const{t:l}=i();return s.jsx(d,{sx:{flexDirection:"row",gap:.25},children:s.jsx($,{t:l,i18nKey:e,values:{value:a},components:[s.jsx(g,{variant:"caption",sx:{fontSize:"x-small",opacity:.75}})]})})},ye=({value:e,values:a,defaultValue:l,setValue:r,valueToDisplayData:t,isDefaultable:n,onDefault:c})=>{const{t:o}=i();return s.jsxs(d,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:[n&&s.jsx(E,{onClick:c,variant:e===void 0?"contained":"outlined",children:o("global.label.default")},"default"),a.map(u=>{const m=e===void 0&&u===l,x=t[u].isTitleString?t[u].title:o(t[u].title);return s.jsx(P,{title:m?o("reader.settings.active_setting"):"",children:s.jsx(E,{onClick:()=>r(u),variant:u===e?"contained":"outlined",startIcon:t[u].icon,children:m?s.jsx(ke,{i18nKey:"global.label.footnote",value:x}):x})},u)})]})},v=({label:e,description:a,...l})=>s.jsxs(d,{children:[s.jsx(g,{children:e}),a&&s.jsx(g,{variant:"body2",color:"textDisabled",children:a}),s.jsx(ye,{...l})]}),Z=({readingMode:e,setReadingMode:a,...l})=>{const{t:r}=i();return s.jsx(v,{...l,label:r("reader.settings.label.reading_mode"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:F,setValue:a,valueToDisplayData:z})},Pe={[w.LTR]:{title:"reader.settings.reading_direction.ltr",icon:s.jsx(ae,{})},[w.RTL]:{title:"reader.settings.reading_direction.rtl",icon:s.jsx(se,{})}},we=Object.values(w).filter(e=>typeof e=="number"),Be=({readingDirection:e,setReadingDirection:a,...l})=>{const{t:r}=i();return s.jsx(v,{...l,label:r("reader.settings.label.reading_direction"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:we,setValue:a,valueToDisplayData:Pe})},Ve={[C.EDGE]:{title:"reader.settings.tap_zones.edge",icon:null},[C.KINDLE]:{title:"reader.settings.tap_zones.kindle",icon:null},[C.L_SHAPE]:{title:"reader.settings.tap_zones.l_shape",icon:null},[C.RIGHT_LEFT]:{title:"reader.settings.tap_zones.right_left",icon:null},[C.DISABLED]:{title:"global.label.disabled",icon:null}},Ne=Object.values(C).filter(e=>typeof e=="number"),Ue=({tapZoneLayout:e,setTapZoneLayout:a,...l})=>{const{t:r}=i();return s.jsx(v,{...l,label:r("reader.settings.tap_zones.title"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:Ne,setValue:a,valueToDisplayData:Ve})};var X=(e=>(e[e.NONE=0]="NONE",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.BOTH=3]="BOTH",e))(X||{});const Ge={0:{title:"global.label.none",icon:null},1:{title:"global.label.horizontal",icon:null},2:{title:"global.label.vertical",icon:null},3:{title:"global.label.both",icon:null}},He=Object.values(X).filter(e=>typeof e=="number"),ze={0:{vertical:!1,horizontal:!1},1:{vertical:!1,horizontal:!0},2:{vertical:!0,horizontal:!1},3:{vertical:!0,horizontal:!0}},Fe=({vertical:e,horizontal:a})=>e&&a?3:e?2:a?1:0,Ye=({tapZoneInvertMode:e,setTapZoneInvertMode:a,...l})=>{const{t:r}=i(),t=Fe(e.value);return s.jsx(v,{...l,label:r("reader.settings.tap_zones.invert"),value:e.isDefault?void 0:t,defaultValue:e.isDefault?t:void 0,values:He,setValue:n=>a(ze[n]),valueToDisplayData:Ge})},We=({pageScaleMode:e,setPageScaleMode:a,...l})=>{const{t:r}=i();return s.jsx(v,{...l,label:r("reader.settings.page_scale.title"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:te,setValue:a,valueToDisplayData:re})},Ke=({pageScaleMode:e,shouldStretchPage:a,setShouldStretchPage:l})=>{const{t:r}=i();return le[e]?s.jsx(I,{children:s.jsx(E,{onClick:()=>l(!a),variant:a?"contained":"outlined",children:r("reader.settings.page_scale.stretch")})}):null},U=f(s.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"})),M=({asIconButton:e,...a})=>{const{t:l}=i();return e?s.jsx(P,{title:l("global.button.reset"),children:s.jsx(Y,{color:"inherit",...a,children:s.jsx(U,{})})}):s.jsx(E,{startIcon:s.jsx(U,{}),...a,children:l("global.button.reset")})},p=({label:e,value:a,onDefault:l,slotProps:r})=>{var t,n,c;return s.jsxs(d,{sx:{flexDirection:"row",gap:2,alignItems:"center"},children:[s.jsxs(d,{sx:{flexBasis:"25%"},children:[s.jsx(g,{...r==null?void 0:r.label,sx:{...(t=r==null?void 0:r.label)==null?void 0:t.sx},children:e}),s.jsx(g,{...r==null?void 0:r.value,sx:{...(n=r==null?void 0:r.value)==null?void 0:n.sx},children:a})]}),s.jsx(Ie,{...r==null?void 0:r.slider,sx:{flexBasis:"75%",...(c=r==null?void 0:r.slider)==null?void 0:c.sx}}),l&&s.jsx(M,{asIconButton:!0,onClick:l})]})},$e=({pageGap:e,readingMode:a,isDefaultable:l,onDefault:r,updateSetting:t})=>{const{t:n}=i();return a.value!==ne.WEBTOON&&oe(a.value)?s.jsx(p,{label:n("reader.settings.label.page_gap"),value:n("global.value",{value:e.value,unit:n("global.unit.px")}),onDefault:l?r:void 0,slotProps:{slider:{defaultValue:b.readerWidth.value,value:e.value,step:1,min:0,max:20,onChange:(o,u)=>{t(u,!1)},onChangeCommitted:(o,u)=>{t(u,!0)}}}}):null},Ze=({readerWidth:e,pageScaleMode:a,isDefaultable:l,onDefault:r,updateSetting:t})=>{const{t:n}=i();return ie(a)?s.jsxs(d,{children:[s.jsxs(d,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[s.jsx(_,{label:n("reader.settings.label.limit_reader_width"),checked:e.enabled,onChange:(c,o)=>t("readerWidth",{...e,enabled:o},!0)}),l&&s.jsx(M,{onClick:r,variant:"outlined"})]}),e.enabled&&s.jsx(p,{label:n("reader.settings.label.reader_width"),value:n("global.value",{value:e.value,unit:"%"}),slotProps:{slider:{defaultValue:b.readerWidth.value,value:e.value,step:1,min:10,max:100,onChange:(c,o)=>{t("readerWidth",{...e,value:o},!1)},onChangeCommitted:(c,o)=>{t("readerWidth",{...e,value:o},!0)}}}})]}):null},Xe=({areDefaultSettings:e})=>{const{t:a}=i();return!W.useIsTouchDevice()||e?null:s.jsx(d,{sx:{alignItems:"end"},children:s.jsx(g,{variant:"caption",children:a("reader.settings.default_setting_footnote")})})},qe=({profile:e,title:a,updateSetting:l,isSeriesMode:r,...t})=>{const{settings:n}=ce(e),c=y.useMemo(()=>({...n,readingMode:{value:e,isDefault:!0}}),[n,e]);return s.jsxs(d,{sx:{gap:2},children:[r?s.jsx(g,{children:a}):s.jsx(Se,{component:"div",id:"".concat(e,"-settings"),children:a}),s.jsx(d,{sx:{px:+!r*2},children:s.jsx(J,{...t,setShowPreview:()=>{},settings:c,updateSetting:(o,u,m)=>l(o,u,m,!0,e)})})]})},q=({profiles:e=F,readingMode:a,...l})=>{const{updateSetting:r,isSeriesMode:t}=l,{t:n}=i();return s.jsxs(d,{sx:{gap:2,pb:+!t*2},children:[a!==void 0&&s.jsx(d,{sx:{pt:2,px:2},children:s.jsx(Z,{readingMode:a,setReadingMode:c=>r("readingMode",c)})}),e.map(c=>s.jsx(qe,{profile:c,title:n(z[c].title),...l},c))]})},J=({setShowPreview:e,settings:a,updateSetting:l,isDefaultable:r,onDefault:t,isSeriesMode:n})=>{const{t:c}=i();return s.jsxs(d,{sx:{gap:2},children:[s.jsx(Xe,{areDefaultSettings:!r}),n&&s.jsxs(s.Fragment,{children:[s.jsx(g,{children:c("reader.settings.source_series")}),s.jsx(Z,{readingMode:a.readingMode,setReadingMode:o=>l("readingMode",o),isDefaultable:r,onDefault:()=>t==null?void 0:t("readingMode")})]}),s.jsx($e,{pageGap:a.pageGap,readingMode:a.readingMode,isDefaultable:r,onDefault:()=>t==null?void 0:t("pageGap"),updateSetting:(...o)=>l("pageGap",...o)}),s.jsx(Be,{readingDirection:a.readingDirection,setReadingDirection:o=>l("readingDirection",o),isDefaultable:r,onDefault:()=>t==null?void 0:t("readingDirection")}),s.jsx(Ue,{tapZoneLayout:a.tapZoneLayout,setTapZoneLayout:o=>{e(!0),l("tapZoneLayout",o)},isDefaultable:r,onDefault:()=>{e(!0),t==null||t("tapZoneLayout")}}),s.jsx(Ye,{tapZoneInvertMode:a.tapZoneInvertMode,setTapZoneInvertMode:o=>{e(!0),l("tapZoneInvertMode",o)},isDefaultable:r,onDefault:()=>{e(!0),t==null||t("tapZoneInvertMode")}}),s.jsx(We,{pageScaleMode:a.pageScaleMode,setPageScaleMode:o=>l("pageScaleMode",o),isDefaultable:r,onDefault:()=>t==null?void 0:t("pageScaleMode")}),s.jsx(Ke,{pageScaleMode:a.pageScaleMode.value,shouldStretchPage:a.shouldStretchPage.value,setShouldStretchPage:o=>l("shouldStretchPage",o)}),s.jsx(Ze,{readerWidth:a.readerWidth.value,pageScaleMode:a.pageScaleMode.value,isDefaultable:r,onDefault:()=>t==null?void 0:t("readerWidth"),updateSetting:(...o)=>l(...o)}),n&&s.jsxs(s.Fragment,{children:[s.jsx(de,{}),s.jsx(q,{profiles:[a.readingMode.value],updateSetting:l,isSeriesMode:n})]})]})},Je=()=>s.jsx(K,{children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:s.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16"})})}),Qe=()=>s.jsx(K,{children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:s.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16M7 15v-5m10 5v-5M4 9h16"})})}),es={[S.HIDDEN]:{title:"global.label.hidden",icon:s.jsx(Je,{})},[S.STANDARD]:{title:"global.label.standard",icon:s.jsx(Qe,{})}},ss=Object.values(S).filter(e=>typeof e=="number"),as=({overlayMode:e,progressBarType:a,setProgressBarType:l})=>{const{t:r}=i();return e!==R.DESKTOP?null:s.jsx(v,{label:r("reader.settings.progress_bar.style"),value:a,values:ss,setValue:l,valueToDisplayData:es})},rs=({overlayMode:e,progressBarType:a,progressBarSize:l,setProgressBarSize:r,onDefault:t})=>{const{t:n}=i();return e===R.DESKTOP&&a===S.STANDARD?s.jsx(p,{label:n("reader.settings.progress_bar.size"),value:n("global.value",{value:l,unit:n("global.unit.px")}),onDefault:t,slotProps:{slider:{defaultValue:b.progressBarSize,value:l,step:1,min:2,max:20,onChange:(o,u)=>{r(u,!1)},onChangeCommitted:(o,u)=>{r(u,!0)}}}}):null},ts=f(s.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),G=f(s.jsx("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"})),Q=f([s.jsx("path",{d:"M19.03 3.56c-1.67-1.39-3.74-2.3-6.03-2.51v2.01c1.73.19 3.31.88 4.61 1.92zM11 3.06V1.05c-2.29.2-4.36 1.12-6.03 2.51l1.42 1.42C7.69 3.94 9.27 3.25 11 3.06M4.98 6.39 3.56 4.97C2.17 6.64 1.26 8.71 1.05 11h2.01c.19-1.73.88-3.31 1.92-4.61M20.94 11h2.01c-.21-2.29-1.12-4.36-2.51-6.03l-1.42 1.42c1.04 1.3 1.73 2.88 1.92 4.61M7 12l3.44 1.56L12 17l1.56-3.44L17 12l-3.44-1.56L12 7l-1.56 3.44z"},"0"),s.jsx("path",{d:"M12 21c-3.11 0-5.85-1.59-7.46-4H7v-2H1v6h2v-2.7c1.99 2.84 5.27 4.7 9 4.7 4.87 0 9-3.17 10.44-7.56l-1.96-.45C19.25 18.48 15.92 21 12 21"},"1")]),H={[L.AUTO]:{title:"global.label.auto",icon:s.jsx(Q,{})},[L.BOTTOM]:{title:"global.label.bottom",icon:s.jsx(G,{sx:{transform:"rotate(90deg)"}})},[L.LEFT]:{title:"global.label.left",icon:s.jsx(ts,{})},[L.RIGHT]:{title:"global.label.right",icon:s.jsx(G,{})}},ls=Object.values(L).filter(e=>typeof e=="number"),ns=Object.values(ue),os=({progressBarPosition:e,progressBarPositionAutoVertical:a,updateSetting:l})=>{const{t:r}=i(),t=e===L.AUTO;return s.jsxs(s.Fragment,{children:[s.jsx(v,{label:r("reader.settings.progress_bar.position"),value:e,values:ls,setValue:n=>l("progressBarPosition",n),valueToDisplayData:H}),t&&s.jsx(v,{label:r("reader.settings.progress_bar.auto_vertical_position.title"),value:a,values:ns,setValue:n=>l("progressBarPositionAutoVertical",n),valueToDisplayData:H})]})},is=f(s.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"})),cs=f(s.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"})),ds={[R.AUTO]:{title:"global.label.auto",icon:s.jsx(Q,{})},[R.DESKTOP]:{title:"global.label.desktop",icon:s.jsx(cs,{})},[R.MOBILE]:{title:"global.label.mobile",icon:s.jsx(is,{})}},us=Object.values(R).filter(e=>typeof e=="number"),xs=({overlayMode:e,setOverlayMode:a})=>{const{t:l}=i();return s.jsx(v,{label:l("reader.settings.overlay_mode"),value:e,values:us,setValue:a,valueToDisplayData:ds})},hs={[O.THEME]:{title:"settings.appearance.theme.title",icon:null},[O.BLACK]:{title:"global.colors.black",icon:null},[O.GRAY]:{title:"global.colors.gray",icon:null},[O.WHITE]:{title:"global.colors.white",icon:null}},gs=Object.values(O).filter(e=>typeof e=="number"),_s=({backgroundColor:e,updateSetting:a})=>{const{t:l}=i();return s.jsx(v,{label:l("reader.settings.background_color"),value:e,values:gs,setValue:a,valueToDisplayData:hs})},bs=({overlayMode:e,settings:a,updateSetting:l,onDefault:r})=>{const{t}=i();return s.jsxs(d,{sx:{gap:2},children:[s.jsx(xs,{overlayMode:a.overlayMode,setOverlayMode:n=>l("overlayMode",n)}),s.jsx(_s,{backgroundColor:a.backgroundColor,updateSetting:n=>l("backgroundColor",n)}),s.jsx(as,{overlayMode:e,progressBarType:a.progressBarType,setProgressBarType:n=>l("progressBarType",n)}),s.jsx(rs,{overlayMode:e,progressBarType:a.progressBarType,progressBarSize:a.progressBarSize,setProgressBarSize:(...n)=>l("progressBarSize",...n),onDefault:()=>r==null?void 0:r("progressBarSize")}),s.jsx(os,{progressBarPosition:a.progressBarPosition,progressBarPositionAutoVertical:a.progressBarPositionAutoVertical,updateSetting:l}),(a.progressBarType===S.HIDDEN||e===R.MOBILE)&&s.jsx(_,{label:t("reader.settings.label.show_page_number"),checked:a.shouldShowPageNumber,onChange:(n,c)=>l("shouldShowPageNumber",c)})]})},js=({brightness:e,updateSetting:a})=>{const{t:l}=i();return s.jsxs(d,{children:[s.jsx(_,{label:l("reader.settings.custom_filter.brightness"),checked:e.enabled,onChange:(r,t)=>a("brightness",{...e,enabled:t},!0)}),e.enabled&&s.jsx(p,{label:l("reader.settings.custom_filter.brightness"),value:e.value,onDefault:()=>a("brightness",{...e,value:b.customFilter.brightness.value},!0),slotProps:{slider:{defaultValue:b.customFilter.brightness.value,value:e.value,step:1,min:5,max:200,onChange:(r,t)=>{a("brightness",{...e,value:t},!1)},onChangeCommitted:(r,t)=>{a("brightness",{...e,value:t},!0)}}}})]})},vs=({contrast:e,updateSetting:a})=>{const{t:l}=i();return s.jsxs(d,{children:[s.jsx(_,{label:l("reader.settings.custom_filter.contrast"),checked:e.enabled,onChange:(r,t)=>a("contrast",{...e,enabled:t},!0)}),e.enabled&&s.jsx(p,{label:l("reader.settings.custom_filter.contrast"),value:e.value,onDefault:()=>a("contrast",{...e,value:b.customFilter.contrast.value},!0),slotProps:{slider:{defaultValue:b.customFilter.contrast.value,value:e.value,step:1,min:5,max:200,onChange:(r,t)=>{a("contrast",{...e,value:t},!1)},onChangeCommitted:(r,t)=>{a("contrast",{...e,value:t},!0)}}}})]})},ms=({saturate:e,updateSetting:a})=>{const{t:l}=i();return s.jsxs(d,{children:[s.jsx(_,{label:l("reader.settings.custom_filter.saturate"),checked:e.enabled,onChange:(r,t)=>a("saturate",{...e,enabled:t},!0)}),e.enabled&&s.jsx(p,{label:l("reader.settings.custom_filter.saturate"),value:e.value,onDefault:()=>a("saturate",{...e,value:b.customFilter.saturate.value},!0),slotProps:{slider:{defaultValue:b.customFilter.saturate.value,value:e.value,step:1,min:0,max:200,onChange:(r,t)=>{a("saturate",{...e,value:t},!1)},onChangeCommitted:(r,t)=>{a("saturate",{...e,value:t},!0)}}}})]})},ps=({hue:e,updateSetting:a})=>{const{t:l}=i();return s.jsxs(d,{children:[s.jsx(_,{label:l("reader.settings.custom_filter.hue"),checked:e.enabled,onChange:(r,t)=>a("hue",{...e,enabled:t},!0)}),e.enabled&&s.jsx(p,{label:l("reader.settings.custom_filter.hue"),value:e.value,onDefault:()=>a("hue",{...e,value:b.customFilter.hue.value},!0),slotProps:{slider:{defaultValue:b.customFilter.hue.value,value:e.value,step:1,min:0,max:200,onChange:(r,t)=>{a("hue",{...e,value:t},!1)},onChangeCommitted:(r,t)=>{a("hue",{...e,value:t},!0)}}}})]})},As={red:"reader.settings.custom_filter.rgba.red",green:"reader.settings.custom_filter.rgba.green",blue:"reader.settings.custom_filter.rgba.blue",alpha:"reader.settings.custom_filter.rgba.alpha"},Es={red:255,green:255,blue:255,alpha:100},Rs=({rgba:e,updateSetting:a})=>{const{t:l}=i();return s.jsxs(d,{children:[s.jsx(_,{label:l("reader.settings.custom_filter.rgba.title"),checked:e.enabled,onChange:(r,t)=>a("rgba",{...e,enabled:t},!0)}),e.enabled&&s.jsxs(d,{sx:{gap:1},children:[Object.entries(e.value).map(([r,t])=>r==="blendMode"?null:s.jsx(p,{label:l(As[r]),value:t,onDefault:()=>a("rgba",{...e,value:{...e.value,[r]:b.customFilter.rgba.value[r]}},!0),slotProps:{slider:{value:t,defaultValue:b.customFilter.rgba.value[r],step:1,min:0,max:Es[r],onChange:(n,c)=>{a("rgba",{...e,value:{...e.value,[r]:c}},!1)},onChangeCommitted:(n,c)=>{a("rgba",{...e,value:{...e.value,[r]:c}},!0)}}}},r)),s.jsx(v,{label:l("reader.settings.custom_filter.rgba.blend_mode.title"),value:e.value.blendMode,values:he,setValue:r=>a("rgba",{...e,value:{...e.value,blendMode:r}},!0),valueToDisplayData:xe})]})]})},Ts=({sepia:e,updateSetting:a})=>{const{t:l}=i();return s.jsx(d,{children:s.jsx(_,{label:l("reader.settings.custom_filter.sepia"),checked:e,onChange:(r,t)=>a(t)})})},Cs=({grayscale:e,updateSetting:a})=>{const{t:l}=i();return s.jsx(d,{children:s.jsx(_,{label:l("reader.settings.custom_filter.grayscale"),checked:e,onChange:(r,t)=>a(t)})})},Ls=({invert:e,updateSetting:a})=>{const{t:l}=i();return s.jsx(d,{children:s.jsx(_,{label:l("reader.settings.custom_filter.invert"),checked:e,onChange:(r,t)=>a(t)})})},fs=({settings:{customFilter:e},updateSetting:a,onDefault:l})=>s.jsxs(d,{sx:{gap:2},children:[s.jsx(js,{brightness:e.brightness,updateSetting:(r,t,n)=>a("customFilter",{...e,[r]:t},n)}),s.jsx(vs,{contrast:e.contrast,updateSetting:(r,t,n)=>a("customFilter",{...e,[r]:t},n)}),s.jsx(ms,{saturate:e.saturate,updateSetting:(r,t,n)=>a("customFilter",{...e,[r]:t},n)}),s.jsx(ps,{hue:e.hue,updateSetting:(r,t,n)=>a("customFilter",{...e,[r]:t},n)}),s.jsx(Rs,{rgba:e.rgba,updateSetting:(r,t,n)=>a("customFilter",{...e,[r]:t},n)}),s.jsx(Ts,{sepia:e.sepia,updateSetting:r=>a("customFilter",{...e,sepia:r})}),s.jsx(Cs,{grayscale:e.grayscale,updateSetting:r=>a("customFilter",{...e,grayscale:r})}),s.jsx(Ls,{invert:e.invert,updateSetting:r=>a("customFilter",{...e,invert:r})}),s.jsx(d,{sx:{alignItems:"end"},children:s.jsx(M,{onClick:()=>l==null?void 0:l("customFilter"),variant:"outlined"})})]}),Ds={[B.PREVIOUS]:{title:"global.label.previous",icon:null},[B.MANGA]:{title:"manga.title_one",icon:null}},Os=Object.values(B).filter(e=>typeof e=="number"),Is=({exitMode:e,setExitMode:a})=>{const{t:l}=i();return s.jsx(v,{label:l("reader.settings.exit_mode"),value:e,values:Os,setValue:a,valueToDisplayData:Ds})},Ss=({autoScroll:e,setAutoScroll:a})=>{const{t:l}=i();return s.jsxs(s.Fragment,{children:[s.jsx(_,{label:l("reader.settings.auto_scroll.smooth"),checked:e.smooth,onChange:(r,t)=>a({...e,smooth:t},!0)}),s.jsx(p,{label:l("reader.settings.auto_scroll.speed"),value:l("global.time.seconds.value",{count:e.value}),onDefault:()=>a({...e,value:b.autoScroll.value},!0),slotProps:{slider:{defaultValue:b.customFilter.saturate.value,value:e.value,...ge,onChange:(r,t)=>{a({...e,value:t},!1)},onChangeCommitted:(r,t)=>{a({...e,value:t},!0)}}}})]})},Ms={[k.SMALL]:{title:"global.label.small",icon:null},[k.MEDIUM]:{title:"global.label.medium",icon:null},[k.LARGE]:{title:"global.label.large",icon:null}},ks=Object.values(k).filter(e=>typeof e=="number"),ys=({scrollAmount:e,setScrollAmount:a})=>{const{t:l}=i();return s.jsx(v,{label:l("reader.settings.scroll_amount"),value:e,values:ks,setValue:a,valueToDisplayData:Ms})},Ps=({settings:e,updateSetting:a,onDefault:l})=>{const{t:r}=i();return s.jsxs(d,{sx:{gap:2},children:[s.jsx(Is,{exitMode:e.exitMode,setExitMode:t=>a("exitMode",t)}),s.jsx(ys,{scrollAmount:e.scrollAmount,setScrollAmount:t=>a("scrollAmount",t)}),s.jsx(_,{label:r("reader.settings.label.skip_dup_chapters"),checked:e.shouldSkipDupChapters,onChange:(t,n)=>a("shouldSkipDupChapters",n)}),_e(e.readingMode.value)&&s.jsx(_,{label:r("reader.settings.label.offset_double_spread"),checked:e.shouldOffsetDoubleSpreads.value,onChange:(t,n)=>a("shouldOffsetDoubleSpreads",n)}),s.jsx(_,{label:s.jsxs(I,{children:[s.jsx(g,{children:r("reader.settings.preview.reading_mode.title")}),s.jsx(g,{variant:"body2",color:"textDisabled",children:r("reader.settings.preview.reading_mode.description")})]}),checked:e.shouldShowReadingModePreview,onChange:(t,n)=>a("shouldShowReadingModePreview",n)}),s.jsx(_,{label:s.jsxs(I,{children:[s.jsx(g,{children:r("reader.settings.preview.tap_zones.title")}),s.jsx(g,{variant:"body2",color:"textDisabled",children:r("reader.settings.preview.tap_zones.description")})]}),checked:e.shouldShowTapZoneLayoutPreview,onChange:(t,n)=>a("shouldShowTapZoneLayoutPreview",n)}),s.jsx(_,{label:s.jsxs(I,{children:[s.jsx(g,{children:r("reader.settings.auto_webtoon_mode.title")}),s.jsx(g,{variant:"body2",color:"textDisabled",children:r("reader.settings.auto_webtoon_mode.description")})]}),checked:e.shouldUseAutoWebtoonMode,onChange:(t,n)=>a("shouldUseAutoWebtoonMode",n)}),s.jsx(_,{label:r("reader.settings.chapter_transition.warning.missing_chapter"),checked:e.shouldInformAboutMissingChapter,onChange:(t,n)=>a("shouldInformAboutMissingChapter",n)}),s.jsx(_,{label:r("reader.settings.chapter_transition.warning.scanlator_change"),checked:e.shouldInformAboutScanlatorChange,onChange:(t,n)=>a("shouldInformAboutScanlatorChange",n)}),s.jsx(Ss,{autoScroll:e.autoScroll,setAutoScroll:(...t)=>a("autoScroll",...t)}),s.jsx(p,{label:r("reader.settings.image_preload_amount"),value:e.imagePreLoadAmount,onDefault:()=>l==null?void 0:l("imagePreLoadAmount"),slotProps:{slider:{defaultValue:b.imagePreLoadAmount,value:e.imagePreLoadAmount,step:1,min:1,max:20,onChange:(t,n)=>{a("imagePreLoadAmount",n,!1)},onChangeCommitted:(t,n)=>{a("imagePreLoadAmount",n,!0)}}}})]})},ws=be(g)(({theme:e})=>({display:"inline-block",padding:"0.2em 0.4em",fontSize:"0.85em",lineHeight:"1.4",color:e.palette.text.primary,backgroundColor:e.palette.background.paper,border:"1px solid ".concat(e.palette.divider),borderRadius:"3px",boxShadow:"inset 0 -1px 0 ".concat(e.palette.divider),fontFamily:"monospace, monospace"})),ee=({keys:e,removeKey:a})=>{const{t:l}=i();return s.jsx(d,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:e.map((r,t)=>s.jsxs(y.Fragment,{children:[s.jsx(P,{title:l("global.button.delete"),hidden:!a,children:s.jsx(d,{sx:{flexDirection:"row",flexWrap:"wrap",gap:.5,cursor:a?"pointer":void 0},onClick:()=>a==null?void 0:a(r),children:r.split("+").map((n,c,o)=>s.jsxs(y.Fragment,{children:[s.jsx(ws,{children:n}),c===o.length-1?"":"+"]},n))})}),t===e.length-1?"":","]},r))})},Bs=({onClose:e,onCreate:a,existingKeys:l})=>{const{t:r}=i(),[t,{start:n,stop:c,resetKeys:o}]=je(),u=[[...t].join("+")],m=u.some(x=>l.map(A=>A.toLowerCase()).includes(x.toLowerCase()));return y.useEffect(()=>(n(),()=>{c()}),[]),s.jsxs(ve,{open:!0,onClose:e,fullWidth:!0,children:[s.jsx(me,{children:r("hotkeys.create.dialog.title")}),s.jsxs(pe,{children:[s.jsx(d,{sx:{flexDirection:"row",gap:1},children:s.jsx($,{i18nKey:"hotkeys.create.dialog.label",components:{Keys:t.size?s.jsx(ee,{keys:u}):s.jsx(g,{children:r("hotkeys.create.dialog.placeholder")})},children:"Recorded keys:"})}),m&&s.jsx(g,{color:"error",children:r("hotkeys.create.error.exists")})]}),s.jsx(Ae,{children:s.jsxs(d,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[s.jsx(E,{onClick:o,children:r("global.button.reset")}),s.jsxs(d,{direction:"row",children:[s.jsx(E,{onClick:e,children:r("global.button.cancel")}),s.jsx(E,{disabled:m,onClick:()=>{e(),a(u)},children:r("global.button.create")})]})]})})]})},Vs={[j.PREVIOUS_PAGE]:"reader.settings.hotkey.previous_page",[j.NEXT_PAGE]:"reader.settings.hotkey.next_page",[j.SCROLL_BACKWARD]:"reader.settings.hotkey.scroll_backward",[j.SCROLL_FORWARD]:"reader.settings.hotkey.scroll_forward",[j.PREVIOUS_CHAPTER]:"reader.settings.hotkey.previous_chapter",[j.NEXT_CHAPTER]:"reader.settings.hotkey.next_chapter",[j.TOGGLE_MENU]:"reader.settings.hotkey.menu",[j.CYCLE_SCALE_TYPE]:"reader.settings.hotkey.scale_type",[j.STRETCH_IMAGE]:"reader.settings.hotkey.stretch_image",[j.OFFSET_SPREAD_PAGES]:"reader.settings.hotkey.offset_spread_pages",[j.CYCLE_READING_MODE]:"reader.settings.hotkey.reading_mode",[j.CYCLE_READING_DIRECTION]:"reader.settings.hotkey.reading_direction",[j.TOGGLE_AUTO_SCROLL]:"reader.settings.hotkey.auto_scroll",[j.AUTO_SCROLL_SPEED_INCREASE]:"reader.settings.hotkey.auto_scroll_speed_increase",[j.AUTO_SCROLL_SPEED_DECREASE]:"reader.settings.hotkey.auto_scroll_speed_decrease",[j.EXIT_READER]:"reader.button.exit"},Ns=({hotkey:e,keys:a,existingKeys:l,updateSetting:r})=>{const{t}=i(),n=Ee({popupId:"reader-setting-record-hotkey",variant:"dialog"});return s.jsxs(s.Fragment,{children:[s.jsxs(d,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[s.jsx(g,{sx:{flexGrow:1},children:t(Vs[e])}),s.jsx(ee,{keys:a,removeKey:c=>r(a.filter(o=>o!==c))}),s.jsx(P,{title:t("global.button.add"),children:s.jsx(Y,{...Re(n),color:"inherit",children:s.jsx(Me,{})})}),s.jsx(M,{asIconButton:!0,onClick:()=>r(b.hotkeys[e])})]}),n.isOpen&&s.jsx(Bs,{onClose:n.close,onCreate:c=>r([...a,...c]),existingKeys:l})]})},Us=({settings:e,updateSetting:a,onDefault:l})=>{const{t:r}=i();return s.jsxs(d,{sx:{gap:2},children:[s.jsx(d,{sx:{alignItems:"end"},children:s.jsx(g,{variant:"caption",children:r("hotkeys.info.delete")})}),Te.map(t=>s.jsx(Ns,{hotkey:t,keys:e.hotkeys[t],existingKeys:Object.values(e.hotkeys).flat(),updateSetting:n=>a("hotkeys",{...e.hotkeys,[t]:n})},t)),s.jsx(d,{sx:{alignItems:"end"},children:s.jsx(M,{onClick:()=>l==null?void 0:l("hotkeys"),variant:"outlined"})})]})},Gs=({activeTab:e,setActiveTab:a,areDefaultSettings:l,settings:r,updateSetting:t,deleteSetting:n,setShowPreview:c,mode:o})=>{const{t:u}=i(),m=W.useIsTouchDevice();return s.jsxs(s.Fragment,{children:[s.jsx(De,{value:e,onChange:(x,A)=>a(A),sx:{...V(!!l,{zIndex:2}),...V(!l,{backgroundColor:"background.paper",backgroundImage:"var(--Paper-overlay)"})},children:Object.values(N).map(({id:x,label:A,supportsTouchDevices:h})=>!h&&m?null:s.jsx(Oe,{value:x,label:u(A),sx:{flexGrow:1,maxWidth:"unset",textTransform:"none"}},x))}),s.jsx(I,{sx:{p:l?void 0:2,overflowX:"hidden"},children:Object.values(N).map(({id:x,supportsTouchDevices:A})=>{if(!A&&m)return null;switch(x){case D.LAYOUT:return l?s.jsx(T,{index:x,currentIndex:e,children:s.jsx(q,{readingMode:r.readingMode,updateSetting:(...h)=>t(...h)})},x):s.jsx(T,{index:x,currentIndex:e,children:s.jsx(J,{settings:r,updateSetting:(...h)=>t(...h),setShowPreview:c,isDefaultable:!l,onDefault:(...h)=>n==null?void 0:n(...h),isSeriesMode:!0})},x);case D.GENERAL:return s.jsx(T,{index:x,currentIndex:e,sx:{p:l?2:void 0},children:s.jsx(bs,{overlayMode:o,settings:r,updateSetting:(...h)=>t(...h),isDefaultable:!l,onDefault:(...h)=>n==null?void 0:n(...h)})},x);case D.FILTER:return s.jsx(T,{index:x,currentIndex:e,sx:{p:l?2:void 0},children:s.jsx(fs,{settings:r,updateSetting:(...h)=>t(...h),isDefaultable:!0,onDefault:(...h)=>n==null?void 0:n(...h)})},x);case D.BEHAVIOUR:return s.jsx(T,{index:x,currentIndex:e,sx:{p:l?2:void 0},children:s.jsx(Ps,{settings:r,updateSetting:(...h)=>t(...h),isDefaultable:!0,onDefault:(...h)=>n==null?void 0:n(...h)})},x);case D.HOTKEYS:return s.jsx(T,{index:x,currentIndex:e,sx:{p:l?2:void 0},children:s.jsx(Us,{settings:r,updateSetting:(...h)=>t(...h),isDefaultable:!0,onDefault:(...h)=>n==null?void 0:n(...h)})},x);default:throw new Error('Unexpected "ReaderSettingTab" ('.concat(x,")"))}})})]})},Xs=Ce(Gs,[Le,fe.useOverlayMode],["setShowPreview","mode"]);export{Xe as D,Xs as R,ke as S,Z as a,Be as b,Ss as c};
