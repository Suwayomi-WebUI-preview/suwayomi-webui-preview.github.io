!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?t(Object(a),!0).forEach(function(t){r(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function r(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l,o,i=[],u=!0,c=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return i}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./index-legacy-MF4v4Raw.js","./IconWebView-legacy-DwKZM8Zq.js","./FilterList-legacy-G1UrCNYw.js","./GridLayouts-legacy-u_gGSDDU.js","./AppbarSearch-legacy-DoKejlur.js","./Delete-legacy-DnZYKBiv.js","./SortRadioInput-legacy-COtBRybK.js","./CheckboxInput-legacy-BjQvjq3t.js","./ExpandMore-legacy-BimWJOen.js","./useDebounce-legacy-YCeBMW9o.js","./ThreeStateCheckboxInput-legacy-CrP7LUbY.js","./StyledFab-legacy-6-ZJ4MYV.js","./Chip-legacy-BOlcW2QK.js","./BaseMangaGrid-legacy-BcHB92qD.js","./MangaGrid-legacy-DcV2JV8B.js","./EmptyViewAbsoluteCentered-legacy-viiyXeKg.js","./useAppTitleAndAction-legacy-B70BNDaJ.js","./Virtuoso.util-legacy-CTXj_3w0.js","./Link-legacy-DYQLDpad.js","./Checkbox-legacy-yoWszayw.js","./SwitchBase-legacy-BGssv3ck.js","./ListPreference-legacy-D85ad4iL.js","./FormGroup-legacy-DSyH-GUd.js","./ContinueReadingTooltip-legacy-Dt2gzGPZ.js","./Trackers-legacy-DfsJOIZ_.js","./AvatarSpinner-legacy-CXOEHSGy.js","./SpinnerImage-legacy-Csl1DC_0.js","./Refresh-legacy-m7QE7oL0.js","./Image-legacy-Bri2-mFS.js","./Card-legacy-D6CXjb2J.js","./ListCardContent-legacy-C8V6Qbx_.js","./CheckCircle-legacy-CGNzQmsF.js","./Metadata-legacy-DRWBbH1Y.js","./Mangas-legacy-CeKGBbGt.js","./Chapters-legacy-BQlDeEfk.js","./DateHelper-legacy-BPmU0Df-.js","./Asserts-legacy-CbjdAX_K.js","./MUI.util-legacy-D9xMlHDR.js","./CardActionArea-legacy-DgaK2pv5.js","./useManageMangaLibraryState-legacy-BTeZebSl.js","./NumberSetting-legacy-yYGD7JXq.js","./Slider-legacy-DJtWG9gd.js","./useMobilePicker-legacy-8axzksqd.js","./SelectSetting-legacy-BZGgTQvO.js","./Select-legacy-BLqKXO98.js","./Download-legacy-Bi86Ucmj.js","./Sync-legacy-CPJtxqWT.js","./use-merged-ref-legacy-D8A8ROFV.js","./ListCardAvatar-legacy-CyLHNXf5.js","./PlayArrow-legacy-B-0nWsIc.js","./index-legacy-C0D7UEgn.js","./useAppTitle-legacy-BhT4TERm.js","./useAppAction-legacy-CH_vppgI.js"],function(e,t){"use strict";var o,i,u,c,s,d,f,g,p,h,j,y,x,v,b,m,S,C,F,k,w,A,O,E,I,L,P,T,V,M,_,D,U,R,G,N,B,H,q,z,W,Q,Y,J,$,K,X,Z,ee,te,ne,re,ae,le,oe,ie,ue,ce,se,de,fe,ge,pe,he,je,ye,xe,ve,be,me,Se,Ce,Fe,ke,we,Ae,Oe,Ee,Ie,Le;return{setters:[function(e){o=e.at,i=e.a0,u=e.j,c=e.c,s=e.ay,d=e.T,f=e.aA,g=e.bf,p=e.bg,h=e.bh,j=e.G,y=e.b5,x=e.v,v=e.au,b=e.b,m=e.f,S=e.bi,C=e.bj,F=e.bk,k=e.aV,w=e.u,A=e.B,O=e.a9,E=e.C,I=e.I,L=e.a8,P=e.o,T=e.ap,V=e.p,M=e.q,_=e.b9,D=e.w,U=e.bl,R=e.k,G=e.H,N=e.aF,B=e.bm,H=e.h,q=e.aG,z=e.e,W=e.y,Q=e.E,Y=e.bn,J=e.r,$=e.bo,K=e.a,X=e.d,Z=e.$,ee=e.x,te=e.A,ne=e.aM,re=e.a5,ae=e.bp,le=e.g,oe=e.z,ie=e.S,ue=e.bq,ce=e.m},function(e){se=e.I,de=e.F},function(e){fe=e.F},function(e){ge=e.G},function(e){pe=e.S,he=e.A},function(e){je=e.D},function(e){ye=e.S,xe=e.O},function(e){ve=e.C},function(e){be=e.a,me=e.E},function(e){Se=e.u},function(e){Ce=e.T},function(e){Fe=e.S},function(e){ke=e.C},function(e){we=e.B},function(e){Ae=e.b},function(e){Oe=e.E},function(e){Ee=e.u},function(e){Ie=e.V},function(e){Le=e.L},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){function t(){var e=l(o("source-grid-layout",i.Compact),2),t=e[0],n=e[1];return u.jsx(ge,{gridLayout:t,onChange:n})}e("SourceMangas",function(){var e,a,c,s,d,f,g=w().t,p=G().appBarHeight,h=N().sourceId,j=l(B(),2),y=j[0],x=j[1],v=H(),b=q(),S=b.key,C=b.state,F=null!==(e=q().state)&&void 0!==e?e:{},k=F.contentType,A=void 0===k?0:k,O=F.clearCache,L=void 0!==O&&O,P=z().settings.hideLibraryEntries,T=l(o("source-grid-layout",i.Compact),1)[0],V=l(W(Q.QUERY,oe),1)[0],M=l(Y("source-mangas-".concat(h,"-filters"),[]),2),_=M[0],D=M[1],U=l(Y("source-mangas-location-".concat(S,"-").concat(h,"-filters"),null!=_?_:[]),2),re=U[0],ge=U[1],pe=l(m.useState(re),2),je=pe[0],ye=pe[1],xe=l(Y("source-mangas-".concat(h,"-content-type"),A),2),ve=xe[0],be=xe[1],me=l(Y("source-mangas-location-".concat(S,"-").concat(h,"-content-type"),V?2:ve),2),Se=me[0],Ce=me[1],Fe=Ie.usePersistState(Ae),ke=Fe.key,Pe=Fe.deleteState,Te=m.useCallback(function(){Pe(),window.scrollTo(0,0)},[ke]),Ve=m.useRef(V),Me=m.useRef(function(){});Ve.current!==V&&2===Se&&(Ve.current=V,Me.current(new Error("SourceMangas(".concat(h,"): search string changed"))),Te());m.useEffect(function(){return function(){D(void 0),be(void 0)}},[h]);var _e=function(e){D(e),ge(e),Te()},De=function(e){be(e),Ce(e)},Ue="".concat(Se).concat(JSON.stringify(re)).concat(V),Re=l($e(h,Se,V,re,1,P),2),Ge=Re[0],Ne=Re[1],Be=Ne.data,Ye=Ne.error,Ke=Ne.isLoading,Xe=Ne.size,Ze=Ne.abortRequest,et=Ne.filteredOutAllItemsOfFetchedPage;Me.current=Ze;var tt=null!==(a=null==Be||null===(c=Be.fetchSourceManga)||void 0===c?void 0:c.mangas)&&void 0!==a?a:[],nt=!(null==Be||null===(s=Be.fetchSourceManga)||void 0===s||!s.hasNextPage),rt=Ke||et&&nt,at=J.useGetSource($,h).data,lt=null==at?void 0:at.source,ot=null!==(d=null==lt?void 0:lt.filters)&&void 0!==d?d:[],it=K(null!=lt?lt:qe).savedSearches,ut=void 0===it?{}:it,ct=X(null!=lt?lt:{id:"-1"},function(e){return ce(g("global.error.label.failed_to_save_changes"),"error",le(e))}),st=m.useCallback(function(e){var t=ut[e],n=t.query,r=t.filters;r&&(ye(r),_e(r)),n&&(y.set(Q.QUERY,n),x(y))},[ut,C]),dt=m.useCallback(function(e,t){if("delete"===t){var a=n({},ut);return delete a[e],void ct("savedSearches",a)}var l=n(n({},ut),{},r({},e,{query:null!=V?V:void 0,filters:je}));ct("savedSearches",l)},[ut,V,je]),ft=rt?void 0:g(Je[Se]),gt=h===ie.LOCAL_SOURCE_ID?u.jsxs(u.Fragment,{children:[u.jsxs("span",{children:[g("source.local_source.label.checkout")," "]}),u.jsx(Le,{href:"https://github.com/Suwayomi/Suwayomi-Server/wiki/Local-Source",target:"_blank",rel:"noreferrer",children:g("source.local_source.label.guide")})]}):void 0,pt=m.useCallback(function(e,t){De(e),Te(),V&&!t&&v({pathname:""},{state:n(n({},C),{},{contentType:e})})},[De,V,Te]);V&&2!==Se&&pt(2,V);var ht=m.useCallback(function(){nt&&Ge(Xe+1)},[Xe,nt,Se]);m.useEffect(function(){Z("lastUsedSourceId",h).catch(R())},[h]),m.useEffect(function(){et&&nt&&!Ke&&Ge(Xe+1)},[et,Ke]),m.useEffect(function(){L&&(ue.REVALIDATION_UNSUPPORTED.includes(h)&&J.clearBrowseCacheFor(h))},[L]),Ee(null!==(f=null==lt?void 0:lt.displayName)&&void 0!==f?f:g("source.title_one"),u.jsxs(u.Fragment,{children:[u.jsx(he,{}),u.jsx(t,{}),u.jsx(E,{title:g("global.button.open_webview"),disabled:!(null!=lt&&lt.baseUrl),children:u.jsx(I,{disabled:!(null!=lt&&lt.baseUrl),href:null!=lt&&lt.baseUrl?J.getWebviewUrl(null==lt?void 0:lt.baseUrl):"",rel:"noreferrer",target:"_blank",color:"inherit",children:u.jsx(se,{})})}),(null==lt?void 0:lt.isConfigurable)&&u.jsx(E,{title:g("settings.title"),children:u.jsx(I,{onClick:function(){return v(te.sources.childRoutes.configure.path(h))},"aria-label":"display more actions",edge:"end",color:"inherit",children:u.jsx(ee,{})})})]}),[lt]);var jt=tt.length?ne:Oe;return u.jsxs(Qe,{children:[u.jsxs(ze,{sx:{top:"".concat(p,"px")},children:[u.jsx(We,{variant:0===Se?"contained":"outlined",startIcon:u.jsx(de,{}),onClick:function(){return pt(0)},children:g("global.button.popular")}),void 0===(null==lt?void 0:lt.supportsLatest)||lt.supportsLatest?u.jsx(We,{disabled:!(null!=lt&&lt.supportsLatest),variant:1===Se?"contained":"outlined",startIcon:u.jsx(ae,{}),onClick:function(){return pt(1)},children:g("global.button.latest")}):null,u.jsx(We,{variant:2===Se?"contained":"outlined",startIcon:u.jsx(fe,{}),onClick:function(){return pt(2,V)},children:g("global.button.filter")})]}),(rt||!Ye||!!Ye&&!!tt.length)&&u.jsx(we,{gridWrapperProps:{sx:{px:1,pb:1}},mangas:tt,hasNextPage:nt,loadMore:ht,message:ft,messageExtra:gt,isLoading:rt,gridLayout:T,mode:"source",inLibraryIndicator:!0},Ue),Ye&&u.jsx(jt,{message:g("global.error.label.failed_to_load_data"),messageExtra:le(Ye),retry:function(){return Ge(Xe).catch(R())}}),2===Se&&u.jsx(He,{savedSearches:ut,selectSavedSearch:st,updateSavedSearches:dt,sourceFilter:ot,updateFilterValue:ye,setTriggerUpdate:function(){_e(je)},resetFilterValue:function(){ye([]),_e([])},update:je})]})});var Pe=c(u.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),Te=function(e){var t=e.state,n=e.name,r=e.position,o=e.group,i=e.updateFilterValue,c=e.update,d=l(s.useState(t),2),f=d[0],g=d[1];return void 0!==t?u.jsx(ve,{label:n,checked:f,onChange:function(e){g(e.target.checked);var t=c.filter(function(e){return!(r===e.position&&o===e.group)});i([].concat(a(t),[{type:"checkBoxState",position:r,state:e.target.checked,group:o}]))}}):null},Ve=function(e){var t=e.name;return u.jsx(d,{sx:{mt:2},variant:"subtitle2",children:t},t)};var Me=function(e){return function(e,t,n,r,o,i,c){var d=l(s.useState(n),2),j=d[0],y=d[1];if(e){var x=e.map(function(e){return u.jsx(f,{value:e,children:e},"".concat(t," ").concat(e))});return u.jsxs(g,{sx:{my:1},variant:"standard",children:[u.jsx(p,{children:t}),u.jsx(h,{name:t,value:e[j],label:t,onChange:function(t){var n=e.indexOf("".concat(t.target.value));y(n);var l=i.filter(function(e){return!(r===e.position&&c===e.group)});o([].concat(a(l),[{type:"selectState",position:r,state:n,group:c}]))},children:x})]})}return null}(e.values,e.name,e.state,e.position,e.updateFilterValue,e.update,e.group)},_e=function(e){var t=e.values,n=e.name,r=e.state,o=e.position,i=e.group,c=e.updateFilterValue,d=e.update,f=l(s.useState(r),2),g=f[0],p=f[1],h=l(s.useState(!1),2),m=h[0],S=h[1];if(t){return u.jsxs(j,{sx:{mx:-2},children:[u.jsxs(y,{onClick:function(){S(!m)},children:[u.jsx(x,{primary:n}),m?u.jsx(be,{}):u.jsx(me,{})]}),u.jsx(v,{in:m,children:u.jsx(b,{sx:{mx:4},children:t.map(function(e,t){return u.jsx(ye,{label:e,checked:g.index===t,sortDescending:!g.ascending,onClick:function(){return function(e){var t=g;t.index===e?t.ascending=!t.ascending:t.ascending=!0,t.index=e,p(t);var n=d.filter(function(e){return!(o===e.position&&i===e.group)});c([].concat(a(n),[{type:"sortState",position:o,state:t,group:i}]))}(t)}},"".concat(n," ").concat(e))})})})]})}return null},De=function(e){var t=e.state,n=e.name,r=e.position,o=e.group,i=e.updateFilterValue,c=e.update,d=l(s.useState(t||""),2),f=d[0],h=d[1],j=Se(f,500);return m.useEffect(function(){var e=c.filter(function(e){return!(r===e.position&&o===e.group)});i([].concat(a(e),[{type:"textState",position:r,state:j,group:o}]))},[j]),void 0!==t?u.jsxs(g,{sx:{my:1},variant:"standard",children:[u.jsx(p,{children:n}),u.jsx(S,{name:n,value:f,onChange:function(e){var t=e.target.value;return h(t)},endAdornment:u.jsx(C,{position:"end",children:u.jsx(pe,{})})})]}):null},Ue=function(e){switch(e){case 0:return F.Ignore;case 1:return F.Include;case 2:return F.Exclude;default:throw new Error("Unexpected state number ".concat(e))}},Re=function(e){var t=e.state,n=e.name,r=e.position,o=e.group,i=e.updateFilterValue,c=e.update,d=l(s.useState(function(e){switch(e){case F.Ignore:return 0;case F.Include:return 1;case F.Exclude:return 2;default:throw new Error("Unexpected TriState ".concat(e))}}(t)),2),f=d[0],g=d[1];return void 0!==t?u.jsx(Ce,{label:n,checked:[void 0,!0,!1][f],onChange:function(e){return function(e){var t=void 0===e?0:e?1:2;g(t);var n=c.filter(function(e){return!(r===e.position&&o===e.group)});i([].concat(a(n),[{type:"triState",position:r,state:Ue(t),group:o}]))}(e)}}):null},Ge=function(e){var t=e.state,n=e.name,r=e.position,a=e.updateFilterValue,o=e.update,i=l(s.useState(!1),2),c=i[0],d=i[1];return u.jsxs(j,{sx:{mx:-2},children:[u.jsxs(y,{onClick:function(){return d(!c)},children:[u.jsx(x,{primary:n}),c?u.jsx(be,{}):u.jsx(me,{})]}),u.jsx(v,{in:c,children:u.jsx(b,{sx:{mx:4},children:u.jsx(Be,{sourceFilter:t,group:r,updateFilterValue:a,update:o})})})]})},Ne=function(e){var t=e.name;return u.jsx(k,{sx:{my:1},textAlign:"center",children:t},t)};function Be(e){var t=e.sourceFilter,n=e.group,r=e.updateFilterValue,a=e.update;return u.jsx(b,{children:t.map(function(e,t){var l,o,i=a.find(function(e){return e.group===n&&e.position===t});switch(i=i?i.state:i,e.type){case"CheckBoxFilter":return u.jsx(Te,{name:e.name,state:null!=i?i:e.CheckBoxFilterDefault,position:t,group:n,updateFilterValue:r,update:a},"filters ".concat(e.name));case"GroupFilter":return u.jsx(Ge,{name:e.name,state:e.filters,position:t,updateFilterValue:r,update:a},"filters ".concat(e.name));case"HeaderFilter":return u.jsx(Ve,{name:e.name},"filters ".concat(e.name));case"SelectFilter":return u.jsx(Me,{name:e.name,values:e.values,state:null!=i?parseInt(i,10):e.SelectFilterDefault,position:t,group:n,updateFilterValue:r,update:a},"filters ".concat(e.name));case"SeparatorFilter":return u.jsx(Ne,{name:e.name},"filters ".concat(e.name));case"SortFilter":return u.jsx(_e,{name:e.name,values:e.values,state:null!=i?i:{ascending:null===(l=e.SortFilterDefault)||void 0===l?void 0:l.ascending,index:null===(o=e.SortFilterDefault)||void 0===o?void 0:o.index},position:t,group:n,updateFilterValue:r,update:a},"filters ".concat(e.name));case"TextFilter":return u.jsx(De,{name:e.name,state:null!=i?i:e.TextFilterDefault,position:t,group:n,updateFilterValue:r,update:a},"filters ".concat(e.name));case"TriStateFilter":return u.jsx(Re,{name:e.name,state:null!=i?i:e.TriStateFilterDefault,position:t,group:n,updateFilterValue:r,update:a},"filters ".concat(e.name));default:throw new Error('Unknown source filter "'.concat(e,'"'))}})},"filters ".concat(n))}function He(e){var t=e.savedSearches,r=void 0===t?{}:t,a=e.selectSavedSearch,o=e.updateSavedSearches,i=e.sourceFilter,c=e.updateFilterValue,s=e.resetFilterValue,f=e.setTriggerUpdate,g=e.update,p=w().t,h=l(m.useState(!1),2),y=h[0],x=h[1],v=l(m.useState(""),2),S=v[0],C=v[1],F=Object.keys(r),k=!!F.length;return u.jsxs(u.Fragment,{children:[u.jsxs(Fe,{onClick:function(){return x(!y)},variant:"extended",color:"primary",children:[u.jsx(fe,{}),p("global.button.filter")]}),u.jsxs(xe,{open:y,onClose:function(){return x(!1)},children:[u.jsxs(j,{sx:{p:2,pb:k?void 0:0},children:[u.jsxs(j,{sx:{display:"flex",pb:1},children:[u.jsx(A,{onClick:function(){s(0),x(!1)},children:p("global.button.reset")}),u.jsx(O,{variant:"dialog",popupId:"source-browse-save-search",children:function(e){return u.jsxs(u.Fragment,{children:[u.jsx(E,{title:p("source.filter.save_search.label.save"),children:u.jsx(I,n(n({sx:{marginLeft:"auto"}},L(e)),{},{children:u.jsx(Pe,{})}))}),u.jsxs(P,n(n({},T(e)),{},{maxWidth:"xs",fullWidth:!0,children:[u.jsx(V,{children:p("source.filter.save_search.dialog.label.title")}),u.jsx(M,{children:u.jsx(_,{sx:{width:"100%"},value:S,onChange:function(e){return C(e.target.value)},slotProps:{htmlInput:{maxLength:50}}})}),u.jsxs(D,{children:[u.jsx(A,{onClick:function(){C(""),e.close()},children:p("global.button.cancel")}),u.jsx(A,{onClick:function(){o(S,"create"),C(""),e.close()},children:p("global.button.ok")})]})]}))]})}}),u.jsx(A,{variant:"contained",onClick:function(){f(0),x(!1)},children:p("global.button.submit")})]}),k&&u.jsxs(u.Fragment,{children:[u.jsx(d,{sx:{pb:1},children:"Saved searches"}),u.jsx(b,{sx:{flexDirection:"row"},children:F.map(function(e){return u.jsx(ke,{label:e,onClick:function(){x(!1),a(e)},onDelete:function(){U.show({title:p("global.label.are_you_sure"),message:p("source.filter.save_search.dialog.label.delete",{name:e}),actions:{confirm:{title:p("global.button.delete")}}}).then(function(){return o(e,"delete")}).catch(R())},deleteIcon:u.jsx(E,{title:p("source.filter.save_search.label.delete"),children:u.jsx(je,{})}),variant:"outlined"})})})]})]}),u.jsx(j,{sx:{pb:2,mx:2},children:u.jsx(Be,{sourceFilter:i,updateFilterValue:c,group:void 0,update:g})})]})]})}var qe={id:"-1"},ze=re("div")(function(e){var t=e.theme;return{display:"flex",position:"sticky",width:"100%",zIndex:1,padding:t.spacing(1),gap:t.spacing(1),backgroundColor:t.palette.background.default}}),We=re(A)(function(){return{}}),Qe=re(j)(function(){return{minHeight:"100%",position:"relative"}}),Ye=e("SourceContentType",function(e){return e[e.POPULAR=0]="POPULAR",e[e.LATEST=1]="LATEST",e[e.SEARCH=2]="SEARCH",e}(Ye||{})),Je=r(r(r({},0,"manga.error.label.no_mangas_found"),1,"manga.error.label.no_mangas_found"),2,"manga.error.label.no_matches"),$e=function(e,t,l,o,i,u){var c,s;switch(t){case 0:s=J.useGetSourcePopularMangas(e,i);break;case 1:s=J.useGetSourceLatestMangas(e,i);break;case 2:s=J.useSourceSearch(e,null!=l?l:"",o.map(function(e){var t=e.position,n=e.state,a=e.group;return void 0!==a?{position:a,groupChange:r({position:t},e.type,n)}:r({position:t},e.type,n)}),i);break;default:throw new Error('Unknown ContentType "'.concat(t,'"'))}var d=s[1],f=d.findLastIndex(function(e){var t;return!(null===(t=e.data)||void 0===t||!t.fetchSourceManga)}),g=d[f],p=d.slice(-1)[0].isLoading,h=!p,j=m.useMemo(function(){var e=[];return d.forEach(function(t,n){var r,l,o,i,c,s=null!==(r=null===(l=t.data)||void 0===l||null===(l=l.fetchSourceManga)||void 0===l?void 0:l.mangas)&&void 0!==r?r:[],f=s.filter(function(e){return!u||!e.inLibrary}),g=(o=[].concat(a(e),a(f)),i={},c=[],o.forEach(function(e){i[e.id]||(i[e.id]=e,c.push(e))}),c),j=!p&&d.length===n+1;h=j&&!f.length&&!!s.length,e=g}),e},[d,u]);return-1===f?[s[0],n(n({},s[1][s[1].length-1]),{},{filteredOutAllItemsOfFetchedPage:h})]:[s[0],n(n({},d[d.length-1]),{},{data:n(n({},g.data),{},{fetchSourceManga:n(n({},g.data.fetchSourceManga),{},{hasNextPage:!(d.length>f+1)&&!(null===(c=g.data.fetchSourceManga)||void 0===c||!c.hasNextPage),mangas:j})}),filteredOutAllItemsOfFetchedPage:h})]}}}})}();
