!function(){function n(n){return function(n){if(Array.isArray(n))return r(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||t(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,a,c=[],l=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){u=!0,i=n}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(n,e)||t(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,e){if(n){if("string"==typeof n)return r(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(n,e):void 0}}function r(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}System.register(["./index-legacy-BWin8J8x.js","./Add-legacy-BRvpvXBE.js","./DragHandle-legacy-_MSve0LO.js","./StyledFab-legacy-BerW4God.js","./EmptyViewAbsoluteCentered-legacy-BidlLL5G.js","./Edit-legacy-CD8nRJd8.js","./Delete-legacy-DoeqrTWy.js","./ListCardContent-legacy-BY0d6Y_p.js","./Card-legacy-DSshp3QR.js","./useAppTitle-legacy-DIBhjDD2.js","./Asserts-legacy-CWE3_MKu.js","./Checkbox-legacy-BLf5wfR0.js","./SwitchBase-legacy-C-5CImE9.js"],function(t,r){"use strict";var i,o,a,c,l,u,s,d,f,g,y,h,j,x,m,v,p,b,C,S,A,_,D,E,k,w,F,I,B,O,T,G,H,K,M,N,R,U,q,J,L;return{setters:[function(n){i=n.u,o=n.j,a=n.H,c=n.T,l=n.b,u=n.C,s=n.I,d=n.r,f=n.f,g=n.o,y=n.p,h=n.q,j=n.aC,x=n.w,m=n.B,v=n.m,p=n.g,b=n.cP,C=n.i,S=n.k,A=n.bF},function(n){_=n.A},function(n){D=n.D,E=n.a,k=n.b,w=n.c,F=n.S,I=n.v,B=n.d,O=n.e},function(n){T=n.D,G=n.F},function(n){H=n.E},function(n){K=n.E},function(n){M=n.D},function(n){N=n.L},function(n){R=n.C},function(n){U=n.u},function(n){q=n.a},function(n){J=n.F,L=n.C},null],execute:function(){t("CategorySettings",function(){var t=i(),c=t.i18n,l=(t._,E.useSensorsForDevice());U(c._({id:"EDmovq"}));var u=d.useGetCategories(b,{notifyOnNetworkStatusChange:!0}),s=u.data,g=u.loading,y=u.error,h=u.refetch,j=e(d.useReorderCategory(),2),x=j[0],m=j[1].reset,v=e(f.useState(P),2),D=v[0],K=v[1],M=e(f.useState(!1),2),N=M[0],R=M[1],q=e(f.useState(null),2),J=q[0],L=q[1],V=f.useMemo(function(){var e,t=n(null!==(e=null==s?void 0:s.categories.nodes)&&void 0!==e?e:[]);return t.length>0&&"Default"===t[0].name&&t.shift(),t},[s]),W=function(n){K(null!=n?n:P),R(!0)};if(g)return o.jsx(C,{});if(y)return o.jsx(H,{message:c._({id:"2HCkNR"}),messageExtra:p(y),retry:function(){return h().catch(S("CategorySettings::refetch"))}});return o.jsxs(o.Fragment,{children:[o.jsx(k,{sensors:l,collisionDetection:w,onDragStart:function(n){var e;return L(null!==(e=V.find(function(e){return e.id===n.active.id}))&&void 0!==e?e:null)},onDragEnd:function(n){var e=n.active,t=n.over;if(L(null),t&&e.id!==t.id){var r,i,o=V.findIndex(function(n){return n.id===e.id});r=V.findIndex(function(n){return n.id===t.id}),i=V[o],x({variables:{input:{id:i.id,position:r+1}}}).catch(function(){return m()})}},onDragCancel:function(){return L(null)},onDragAbort:function(){return L(null)},children:o.jsxs(a,{sx:{paddingBottom:T},children:[o.jsx(F,{items:V,strategy:I,children:V.map(function(n,e){return o.jsx(B,{id:n.id,isDragging:n.id===(null==J?void 0:J.id),children:o.jsx(r,{category:n,onEdit:function(){return W(e)}})},n.id)})}),o.jsx(O,{isActive:!!J,children:o.jsx(r,{category:J,onEdit:A})})]})}),o.jsx(G,{color:"primary","aria-label":"add",sx:{position:"fixed",bottom:function(n){return n.spacing(2)},right:function(n){return n.spacing(2)}},onClick:function(){return W()},children:o.jsx(_,{})}),N&&o.jsx(Q,{category:V[D],onClose:function(){K(P),R(!1)}})]})});var r=function(n){var e=n.category,t=n.onEdit,r=i(),f=r.i18n;r._;return o.jsx(a,{sx:{p:1,pb:0},children:o.jsx(R,{children:o.jsxs(N,{sx:{gap:2},children:[o.jsx(D,{}),o.jsx(c,{sx:{flexGrow:1},variant:"h6",component:"h2",children:e.name}),o.jsxs(l,{sx:{flexDirection:"row"},children:[o.jsx(u,{title:f._({id:"ePK91l"}),children:o.jsx(s,{component:a,onClick:t,children:o.jsx(K,{})})}),o.jsx(u,{title:f._({id:"cnGeoo"}),children:o.jsx(s,{component:a,onClick:function(){d.deleteCategory(e.id)},children:o.jsx(M,{})})})]})]})})})},P=-1,Q=function(n){var t=n.category,r=n.onClose,a=!!t,c=i(),l=c.i18n,u=(c._,e(f.useState(null==t?void 0:t.name),2)),s=u[0],b=u[1],C=e(f.useState(!(null==t||!t.default)),2),S=C[0],A=C[1],_=void 0!==s&&!s.trim().length,D=void 0!==s&&!_;return o.jsxs(g,{open:!0,onClose:r,children:[o.jsx(y,{id:"form-dialog-title",children:a?l._({id:"j1Jl7s"}):l._({id:"tl5vsv"})}),o.jsxs(h,{children:[o.jsx(j,{autoFocus:!0,margin:"dense",id:"name",label:l._({id:"+HdMsm"}),type:"text",fullWidth:!0,value:s,onChange:function(n){return b(n.target.value.trim())},error:_,helperText:_?l._({id:"UeOiKl"}):void 0}),o.jsx(J,{control:o.jsx(L,{checked:S,onChange:function(n){return A(n.target.checked)}}),label:l._({id:"hf5GFU"})})]}),o.jsxs(x,{children:[o.jsx(m,{onClick:r,color:"primary",children:l._({id:"dEgA5A"})}),o.jsx(m,{onClick:function(){q(s),r(),a?d.updateCategory(t.id,{name:s,default:S}).response.catch(function(n){return v(l._({id:"cBoXe4"}),"error",p(n))}):d.createCategory({name:s,default:S}).response.catch(function(n){return v(l._({id:"9B+9sQ"}),"error",p(n))})},color:"primary",disabled:!D,children:l._({id:"hQRttt"})})]})]})}}}})}();
