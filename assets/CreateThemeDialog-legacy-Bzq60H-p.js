!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach(function(t){r(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function r(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){f=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}function f(t,n,r){return n=p(n),function(t,n){if(n&&("object"==e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,s()?Reflect.construct(n,r||[],p(t).constructor):n.apply(t,r))}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(s())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&h(i,n.prototype),i}(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)},l(e)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}System.register(["./index-legacy-CIUp9n76.js","./CheckboxInput-legacy-ByMg1ayP.js","./Trans-legacy-DQlqwj8G.js","./Link-legacy-lNevmZ8p.js"],function(e,t){"use strict";var a,c,s,p,g,m,b,d,y,v,j,w,O,x,S,_,T,A,P,k,C,N,E,I;return{setters:[function(e){a=e.u,c=e.e,s=e.aq,p=e.f,g=e.j,m=e.o,b=e.p,d=e.q,y=e.i,v=e.aM,j=e.g,w=e.k,O=e.b,x=e.T,S=e.b9,_=e.d9,T=e.bJ,A=e.w,P=e.B,k=e.m,C=e.F},function(e){N=e.C},function(e){E=e.T},function(e){I=e.L}],execute:function(){var t=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=f(this,t,["".concat(e," at position ").concat(n)])).position=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),n=t,r&&u(n.prototype,r),i&&u(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(l(Error));function $(e){return/^[0-9A-Fa-f]$/.test(e)}function J(e){return e>="0"&&e<="9"}function z(e){return e>=" "}function D(e){return",:[]/{}()\n+".includes(e)}function M(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||"$"===e}function F(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||"$"===e||e>="0"&&e<="9"}var U=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,R=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function q(e){return",[]/{}\n+".includes(e)}function B(e){return G(e)||Z.test(e)}var Z=/^[[{\w-]$/;function L(e){return"\n"===e||"\r"===e||"\t"===e||"\b"===e||"\f"===e}function V(e,t){var n=e.charCodeAt(t);return 32===n||10===n||9===n||13===n}function W(e,t){var n=e.charCodeAt(t);return 32===n||9===n||13===n}function K(e,t){var n=e.charCodeAt(t);return 160===n||n>=8192&&n<=8202||8239===n||8287===n||12288===n}function G(e){return H(e)||X(e)}function H(e){return'"'===e||"“"===e||"”"===e}function Q(e){return'"'===e}function X(e){return"'"===e||"‘"===e||"’"===e||"`"===e||"´"===e}function Y(e){return"'"===e}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.lastIndexOf(t);return-1!==r?e.substring(0,r)+(n?"":e.substring(r+1)):e}function te(e,t){var n=e.length;if(!V(e,n-1))return e+t;for(;V(e,n-1);)n--;return e.substring(0,n)+t+e.substring(n)}function ne(e,t,n){return e.substring(0,t)+e.substring(t+n)}var re={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},ie={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function oe(e){var n=0,r="";l(["```","[```","{```"]),a()||function(){throw new t("Unexpected end of json string",e.length)}(),l(["```","```]","```}"]);var i=s(",");for(i&&u(),B(e[n])&&function(e){return/[,\n][ \t\r]*$/.test(e)}(r)?(i||(r=te(r,",")),function(){var e=!0,t=!0;for(;t;){if(e)e=!1;else s(",")||(r=te(r,","));t=a()}t||(r=ee(r,","));r="[\n".concat(r,"\n]")}()):i&&(r=ee(r,","));"}"===e[n]||"]"===e[n];)n++,u();if(n>=e.length)return r;function a(){u();var t=function(){if("{"===e[n]){r+="{",n++,u(),h(",")&&u();for(var t=!0;n<e.length&&"}"!==e[n];){if(t?t=!1:(s(",")||(r=te(r,",")),u()),g(),!(m()||y(!0))){"}"===e[n]||"{"===e[n]||"]"===e[n]||"["===e[n]||void 0===e[n]?r=ee(r,","):x();break}u();var i=s(":"),o=n>=e.length;i||(B(e[n])||o?r=te(r,":"):S()),a()||(i||o?r+="null":S())}return"}"===e[n]?(r+="}",n++):r=te(r,"}"),!0}return!1}()||function(){if("["===e[n]){r+="[",n++,u(),h(",")&&u();for(var t=!0;n<e.length&&"]"!==e[n];){if(t)t=!1;else s(",")||(r=te(r,","));if(g(),!a()){r=ee(r,",");break}}return"]"===e[n]?(r+="]",n++):r=te(r,"]"),!0}return!1}()||m()||function(){var t=n;if("-"===e[n]){if(n++,j())return w(t),!0;if(!J(e[n]))return n=t,!1}for(;J(e[n]);)n++;if("."===e[n]){if(n++,j())return w(t),!0;if(!J(e[n]))return n=t,!1;for(;J(e[n]);)n++}if("e"===e[n]||"E"===e[n]){if(n++,"-"!==e[n]&&"+"!==e[n]||n++,j())return w(t),!0;if(!J(e[n]))return n=t,!1;for(;J(e[n]);)n++}if(!j())return n=t,!1;if(n>t){var i=e.slice(t,n),o=/^0\d/.test(i);return r+=o?'"'.concat(i,'"'):i,!0}return!1}()||d("true","true")||d("false","false")||d("null","null")||d("True","true")||d("False","false")||d("None","null")||y(!1)||function(){if("/"===e[n]){var t=n;for(n++;n<e.length&&("/"!==e[n]||"\\"===e[n-1]);)n++;return n++,r+='"'.concat(e.substring(t,n),'"'),!0}}();return u(),t}function u(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=n,r=c(e);do{(r=f())&&(r=c(e))}while(r);return n>t}function c(t){for(var i=t?V:W,o="";;)if(i(e,n))o+=e[n],n++;else{if(!K(e,n))break;o+=" ",n++}return o.length>0&&(r+=o,!0)}function f(){if("/"===e[n]&&"*"===e[n+1]){for(;n<e.length&&!ae(e,n);)n++;return n+=2,!0}if("/"===e[n]&&"/"===e[n+1]){for(;n<e.length&&"\n"!==e[n];)n++;return!0}return!1}function l(t){if(function(t){c(!0);var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){c=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw a}}}}(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,u=n+a.length;if(e.slice(n,u)===a)return n=u,!0}}catch(f){i.e(f)}finally{i.f()}return!1}(t)){if(M(e[n]))for(;n<e.length&&F(e[n]);)n++;return u(),!0}return!1}function s(t){return e[n]===t&&(r+=e[n],n++,!0)}function h(t){return e[n]===t&&(n++,!0)}function p(){return h("\\")}function g(){return u(),"."===e[n]&&"."===e[n+1]&&"."===e[n+2]&&(n+=3,u(),h(","),!0)}function m(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,o="\\"===e[n];if(o&&(n++,o=!0),G(e[n])){var a=Q(e[n])?Q:Y(e[n])?Y:X(e[n])?X:H,c=n,f=r.length,l='"';for(n++;;){if(n>=e.length){var s=v(n-1);return!t&&D(e.charAt(s))?(n=c,r=r.substring(0,f),m(!0)):(l=te(l,'"'),r+=l,!0)}if(n===i)return l=te(l,'"'),r+=l,!0;if(a(e[n])){var h=n,g=l.length;if(n++,r+=l+='"',u(!1),t||n>=e.length||D(e[n])||G(e[n])||J(e[n]))return b(),!0;var d=v(h-1),y=e.charAt(d);if(","===y)return n=c,r=r.substring(0,f),m(!1,d);if(D(y))return n=c,r=r.substring(0,f),m(!0);r=r.substring(0,f),n=h+1,l="".concat(l.substring(0,g),"\\").concat(l.substring(g))}else{if(t&&q(e[n])){if(":"===e[n-1]&&U.test(e.substring(c+1,n+2)))for(;n<e.length&&R.test(e[n]);)l+=e[n],n++;return l=te(l,'"'),r+=l,b(),!0}if("\\"===e[n]){var j=e.charAt(n+1);if(void 0!==ie[j])l+=e.slice(n,n+2),n+=2;else if("u"===j){for(var w=2;w<6&&$(e[n+w]);)w++;6===w?(l+=e.slice(n,n+6),n+=6):n+w>=e.length?n=e.length:_()}else l+=j,n+=2}else{var x=e.charAt(n);'"'===x&&"\\"!==e[n-1]?(l+="\\".concat(x),n++):L(x)?(l+=re[x],n++):(z(x)||O(x),l+=x,n++)}}o&&p()}}return!1}function b(){var t=!1;for(u();"+"===e[n];){t=!0,n++,u();var i=(r=ee(r,'"',!0)).length,o=m();r=o?ne(r,i,1):te(r,'"')}return t}function d(t,i){return e.slice(n,n+t.length)===t&&(r+=i,n+=t.length,!0)}function y(t){var i=n;if(M(e[n])){for(;n<e.length&&F(e[n]);)n++;for(var o=n;V(e,o);)o++;if("("===e[o])return n=o+1,a(),")"===e[n]&&(n++,";"===e[n]&&n++),!0}for(;n<e.length&&!q(e[n])&&!G(e[n])&&(!t||":"!==e[n]);)n++;if(":"===e[n-1]&&U.test(e.substring(i,n+2)))for(;n<e.length&&R.test(e[n]);)n++;if(n>i){for(;V(e,n-1)&&n>0;)n--;var u=e.slice(i,n);return r+="undefined"===u?"null":JSON.stringify(u),'"'===e[n]&&n++,!0}}function v(t){for(var n=t;n>0&&V(e,n);)n--;return n}function j(){return n>=e.length||D(e[n])||V(e,n)}function w(t){r+="".concat(e.slice(t,n),"0")}function O(e){throw new t("Invalid character ".concat(JSON.stringify(e)),n)}function x(){throw new t("Object key expected",n)}function S(){throw new t("Colon expected",n)}function _(){var r=e.slice(n,n+6);throw new t('Invalid unicode character "'.concat(r,'"'),n)}!function(){throw new t("Unexpected character ".concat(JSON.stringify(e[n])),n)}()}function ae(e,t){return"*"===e[t]&&"/"===e[t+1]}var ue={id:"",isCustom:!0,getName:function(){return""},muiTheme:{colorSchemes:{light:{palette:{primary:{main:"#1976d2"},secondary:{main:"#9c27b0"}}},dark:{palette:{primary:{main:"#1976d2"},secondary:{main:"#9c27b0"}}}}}},ce={create:{title:"settings.appearance.theme.create.title",button:"global.button.ok",action:"settings.appearance.theme.create.action",success:"settings.appearance.theme.create.success",failure:"settings.appearance.theme.create.failure"},edit:{title:"settings.appearance.theme.edit.title",button:"global.button.save",action:"settings.appearance.theme.edit.action",success:"settings.appearance.theme.edit.success",failure:"settings.appearance.theme.edit.failure"},save_dynamic:{title:"settings.appearance.manga_dynamic_color_schemes.save",button:"global.button.save",action:"settings.appearance.theme.create.action",success:"settings.appearance.theme.create.success",failure:"settings.appearance.theme.create.failure"}};e("T",function(e){var t=e.mode,o=e.appTheme,u=void 0===o?ue:o,f=e.isVisible,l=e.onExitComplete,h=e.onSubmit,$=e.onDismiss,J=a().t,z=c(),D=z.settings.customThemes,M=z.request,F=M.loading,U=M.error,R=M.refetch,q=s().setAppTheme,B=C(function(e){throw e}),Z=i(p.useState(u),2),L=Z[0],V=Z[1],W=i(p.useState(!1),2),K=W[0],G=W[1],H=i(p.useState(!1),2),Q=H[0],X=H[1],Y=i(p.useState(!1),2),ee=Y[0],te=Y[1],ne=i(p.useState("create"===t),2),re=ne[0],ie=ne[1],ae=i(p.useState(!1),2),fe=ae[0],le=ae[1];return g.jsxs(m,{open:f,onTransitionExited:l,fullWidth:!0,maxWidth:"md",children:[g.jsx(b,{children:J(ce[t].title)}),g.jsxs(d,{children:[F&&g.jsx(y,{}),U&&g.jsx(v,{message:J("global.error.label.failed_to_load_data"),messageExtra:j(U),retry:function(){return R().catch(w())}}),!U&&g.jsxs(O,{sx:{gap:2,whiteSpace:"pre-line"},children:[g.jsx(x,{children:g.jsxs(E,{i18nKey:"settings.appearance.theme.create.dialog.description",children:[g.jsx(I,{href:"https://mui.com/material-ui/customization/how-to-customize/",target:"_blank",rel:"noreferrer",children:"MUI documentation"}),g.jsx(I,{href:"https://mui.com/material-ui/customization/palette/#color-schemes",target:"_blank",rel:"noreferrer",children:"MUI documentation"}),g.jsx(I,{href:"https://zenoo.github.io/mui-theme-creator/",target:"_blank",rel:"noreferrer",children:"MUI Theme Creator"})," ",', copy everything after "themeOptions" from "',"{",'" to "',"}",'" and paste it into the "theme" text field.']})}),g.jsx(S,{disabled:"edit"===t,label:J("settings.appearance.theme.create.dialog.theme_name"),value:L.getName(),error:K,helperText:K&&J("settings.appearance.theme.create.dialog.error.invalid_name"),onChange:function(e){var t=e.target.value.trim(),r=t.length<=32,i=_(t,D);G(!r||!i),V(n(n({},L),{},{id:e.target.value,getName:function(){return e.target.value}}))}}),g.jsx(S,{label:J("settings.appearance.theme.title"),multiline:!0,error:Q,helperText:Q&&J("settings.appearance.theme.create.dialog.error.invalid_json"),defaultValue:JSON.stringify(L.muiTheme,null,2),onChange:function(e){var r="invalid",i=function(){try{return oe(e.target.value)}catch(t){return r}}(),o=T(i),a=i===r||!o,c=JSON.stringify(o)!==JSON.stringify(u.muiTheme);ie("create"===t||c),X(a),!a&&JSON.stringify(o)!==JSON.stringify(L.muiTheme)&&V(n(n({},L),{},{muiTheme:o}))}})]})]}),g.jsx(A,{children:g.jsxs(O,{sx:{width:"100%"},children:[g.jsx(N,{sx:{margin:0},size:"small",label:J("settings.appearance.manga_dynamic_color_schemes.set_active"),checked:fe,onChange:function(e,t){return le(t)}}),g.jsxs(O,{sx:{flexDirection:"row",justifyContent:"end"},children:[g.jsx(P,{autoFocus:!0,onClick:function(){return $()},color:"primary",children:J("global.button.cancel")}),g.jsx(P,{disabled:Q||K||ee||!re||!L.id.length,onClick:function(){k(J(ce[t].action,{theme:L.getName()}),"info"),te(!0),B("customThemes",n(n({},D),{},r({},L.id,L))).then(function(){k(J(ce[t].success,{theme:L.getName()}),"success"),fe&&q(L.getName()),h()}).catch(function(e){return k(J(ce[t].failure,{theme:L.getName()}),"error",j(e))}).finally(function(){return te(!1)})},color:"primary",children:J(ce[t].button)})]})]})})]})})}}})}();
