import{bj as J,bk as X,bl as Y,c as $,bm as H,bn as L,bo as F,bp as z,bq as Z}from"./index-D7pprMrg.js";var G={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Q=J(G);var _=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function P(e){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(n.name=t[1],(Q[t[1]]||e.charAt(e.length-2)==="/")&&(n.voidElement=!0),n.name.startsWith("!--"))){var a=e.indexOf("-->");return{type:"comment",comment:a!==-1?e.slice(4,a):""}}for(var c=new RegExp(_),r=null;(r=c.exec(e))!==null;)if(r[0].trim())if(r[1]){var l=r[1].trim(),d=[l,""];l.indexOf("=")>-1&&(d=l.split("=")),n.attrs[d[0]]=d[1],c.lastIndex--}else r[2]&&(n.attrs[r[2]]=r[3].trim().substring(1,r[3].length-1));return n}var U=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,R=/^\s*$/,ee=Object.create(null);function M(e,n){switch(n.type){case"text":return e+n.content;case"tag":return e+="<"+n.name+(n.attrs?function(t){var a=[];for(var c in t)a.push(c+'="'+t[c]+'"');return a.length?" "+a.join(" "):""}(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?e:e+n.children.reduce(M,"")+"</"+n.name+">";case"comment":return e+"<!--"+n.comment+"-->"}}var te={parse:function(e,n){n||(n={}),n.components||(n.components=ee);var t,a=[],c=[],r=-1,l=!1;if(e.indexOf("<")!==0){var d=e.indexOf("<");a.push({type:"text",content:d===-1?e:e.substring(0,d)})}return e.replace(U,function(u,E){if(l){if(u!=="</"+t.name+">")return;l=!1}var h,b=u.charAt(1)!=="/",k=u.startsWith("<!--"),g=E+u.length,m=e.charAt(g);if(k){var j=P(u);return r<0?(a.push(j),a):((h=c[r]).children.push(j),a)}if(b&&(r++,(t=P(u)).type==="tag"&&n.components[t.name]&&(t.type="component",l=!0),t.voidElement||l||!m||m==="<"||t.children.push({type:"text",content:e.slice(g,e.indexOf("<",g))}),r===0&&a.push(t),(h=c[r-1])&&h.children.push(t),c[r]=t),(!b||t.voidElement)&&(r>-1&&(t.voidElement||t.name===u.slice(2,-1))&&(r--,t=r===-1?a:c[r]),!l&&m!=="<"&&m)){h=r===-1?a:c[r].children;var i=e.indexOf("<",g),p=e.slice(g,i===-1?void 0:i);R.test(p)&&(p=" "),(i>-1&&r+h.length>=0||p!==" ")&&h.push({type:"text",content:p})}}),a},stringify:function(e){return e.reduce(function(n,t){return n+M("",t)},"")}};const W=(e,n)=>{var a,c;if(!e)return!1;const t=(c=(a=e.props)==null?void 0:a.children)!=null?c:e.children;return n?t.length>0:!!t},K=e=>{var t,a,c;if(!e)return[];const n=(a=(t=e.props)==null?void 0:t.children)!=null?a:e.children;return(c=e.props)!=null&&c.i18nIsDynamicList?D(n):n},ne=e=>Array.isArray(e)&&e.every($.isValidElement),D=e=>Array.isArray(e)?e:[e],se=(e,n)=>{const t={...n};return t.props=Object.assign(e.props,n.props),t},q=(e,n)=>{var r;if(!e)return"";let t="";const a=D(e),c=n!=null&&n.transSupportBasicHtmlNodes?(r=n.transKeepBasicHtmlNodesFor)!=null?r:[]:[];return a.forEach((l,d)=>{if(H(l))t+="".concat(l);else if($.isValidElement(l)){const{props:u,type:E}=l,h=Object.keys(u).length,b=c.indexOf(E)>-1,k=u.children;if(!k&&b&&!h)t+="<".concat(E,"/>");else if(!k&&(!b||h)||u.i18nIsDynamicList)t+="<".concat(d,"></").concat(d,">");else if(b&&h===1&&H(k))t+="<".concat(E,">").concat(k,"</").concat(E,">");else{const g=q(k,n);t+="<".concat(d,">").concat(g,"</").concat(d,">")}}else if(l===null)L("Trans: the passed in value is invalid - seems you passed in a null child.");else if(F(l)){const{format:u,...E}=l,h=Object.keys(E);if(h.length===1){const b=u?"".concat(h[0],", ").concat(u):h[0];t+="{{".concat(b,"}}")}else L("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",l)}else L("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",l)}),t},re=(e,n,t,a,c,r)=>{if(n==="")return[];const l=a.transKeepBasicHtmlNodesFor||[],d=n&&new RegExp(l.map(i=>"<".concat(i)).join("|")).test(n);if(!e&&!d&&!r)return[n];const u={},E=i=>{D(i).forEach(o=>{H(o)||(W(o)?E(K(o)):F(o)&&!$.isValidElement(o)&&Object.assign(u,o))})};E(e);const h=te.parse("<0>".concat(n,"</0>")),b={...u,...c},k=(i,p,o)=>{var f;const v=K(i),T=m(v,p.children,o);return ne(v)&&T.length===0||(f=i.props)!=null&&f.i18nIsDynamicList?v:T},g=(i,p,o,v,T)=>{i.dummy?(i.children=p,o.push($.cloneElement(i,{key:v},T?void 0:p))):o.push(...$.Children.map([i],f=>{const s={...f.props};return delete s.i18nIsDynamicList,$.createElement(f.type,{...s,key:v,ref:f.ref},T?null:p)}))},m=(i,p,o)=>{const v=D(i);return D(p).reduce((f,s,C)=>{var I,S;const O=((S=(I=s.children)==null?void 0:I[0])==null?void 0:S.content)&&t.services.interpolator.interpolate(s.children[0].content,b,t.language);if(s.type==="tag"){let A=v[parseInt(s.name,10)];o.length===1&&!A&&(A=o[0][s.name]),A||(A={});const y=Object.keys(s.attrs).length!==0?se({props:s.attrs},A):A,w=$.isValidElement(y),B=w&&W(s,!0)&&!s.voidElement,N=d&&F(y)&&y.dummy&&!w,V=F(e)&&Object.hasOwnProperty.call(e,s.name);if(H(y)){const x=t.services.interpolator.interpolate(y,b,t.language);f.push(x)}else if(W(y)||B){const x=k(y,s,o);g(y,x,f,C)}else if(N){const x=m(v,s.children,o);g(y,x,f,C)}else if(Number.isNaN(parseFloat(s.name)))if(V){const x=k(y,s,o);g(y,x,f,C,s.voidElement)}else if(a.transSupportBasicHtmlNodes&&l.indexOf(s.name)>-1)if(s.voidElement)f.push($.createElement(s.name,{key:"".concat(s.name,"-").concat(C)}));else{const x=m(v,s.children,o);f.push($.createElement(s.name,{key:"".concat(s.name,"-").concat(C)},x))}else if(s.voidElement)f.push("<".concat(s.name," />"));else{const x=m(v,s.children,o);f.push("<".concat(s.name,">").concat(x,"</").concat(s.name,">"))}else if(F(y)&&!w){const x=s.children[0]?O:null;x&&f.push(x)}else g(y,O,f,C,s.children.length!==1||!O)}else if(s.type==="text"){const A=a.transWrapTextNodes,y=r?a.unescape(t.services.interpolator.interpolate(s.content,b,t.language)):t.services.interpolator.interpolate(s.content,b,t.language);A?f.push($.createElement(A,{key:"".concat(s.name,"-").concat(C)},y)):f.push(y)}return f},[])},j=m([{dummy:!0,children:e||[]}],h,D(e||[]));return K(j[0])};function ae({children:e,count:n,parent:t,i18nKey:a,context:c,tOptions:r={},values:l,defaults:d,components:u,ns:E,i18n:h,t:b,shouldUnescape:k,...g}){var A,y,w,B;const m=h||z();if(!m)return X("You will need to pass in an i18next instance by using i18nextReactModule"),e;const j=b||m.t.bind(m)||(N=>N),i={...Y(),...(A=m.options)==null?void 0:A.react};let p=E||j.ns||((y=m.options)==null?void 0:y.defaultNS);p=H(p)?[p]:p||["translation"];const o=q(e,i),v=d||o||i.transEmptyNodeValue||a,{hashTransKey:T}=i,f=a||(T?T(o||v):o||v);(B=(w=m.options)==null?void 0:w.interpolation)!=null&&B.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...m.options.interpolation.defaultVariables}:{...m.options.interpolation.defaultVariables});const s=l||n!==void 0||!e?r.interpolation:{interpolation:{...r.interpolation,prefix:"#$?",suffix:"?$#"}},C={...r,context:c||r.context,count:n,...l,...s,defaultValue:v,ns:p},O=f?j(f,C):v;u&&Object.keys(u).forEach(N=>{const V=u[N];if(typeof V.type=="function"||!V.props||!V.props.children||O.indexOf("".concat(N,"/>"))<0&&O.indexOf("".concat(N," />"))<0)return;function x(){return $.createElement($.Fragment,null,V)}u[N]=$.createElement(x)});const I=re(u||e,O,m,i,C,k),S=t!=null?t:i.defaultTransParent;return S?$.createElement(S,g,I):I}function le({children:e,count:n,parent:t,i18nKey:a,context:c,tOptions:r={},values:l,defaults:d,components:u,ns:E,i18n:h,t:b,shouldUnescape:k,...g}){var o;const{i18n:m,defaultNS:j}=$.useContext(Z)||{},i=h||m||z(),p=b||(i==null?void 0:i.t.bind(i));return ae({children:e,count:n,parent:t,i18nKey:a,context:c,tOptions:r,values:l,defaults:d,components:u,ns:E||(p==null?void 0:p.ns)||j||((o=i==null?void 0:i.options)==null?void 0:o.defaultNS),i18n:i,t:b,shouldUnescape:k,...g})}export{le as T};
