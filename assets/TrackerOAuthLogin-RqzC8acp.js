import{u as c,h as l,c as g,f as u,n as k}from"./index-BAnR_7S5.js";const p=()=>{var e;const{t:a}=c(),n=l(),o=new URL(window.location.href),{trackerId:r,trackerName:t}=JSON.parse((e=o.searchParams.get("state"))!=null?e:"{}"),[s,{loading:i}]=g.useLoginToTrackerOauth();return u.useEffect(()=>{(async()=>{try{await s({variables:{input:{callbackUrl:window.location.href,trackerId:r}}})}catch(h){k(a("tracking.action.login.label.failure",{name:t}),"error")}n("/settings/trackingSettings",{replace:!0})})()},[r]),i?a("tracking.action.login.label.progress",{name:t}):null};export{p as TrackerOAuthLogin};
