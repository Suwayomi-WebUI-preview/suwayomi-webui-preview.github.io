import{u as c,j as a,S as d,T as g,B as E,C as w,d0 as Y,d1 as F,cJ as B,e8 as se,e9 as re,ea as T,c_ as te,c$ as le,cZ as ne,o as S,c as f,I as W,cP as oe,dq as ie,eb as b,dB as ce,M as K,ct as de,e as P,aM as ue,d2 as $,ec as R,cK as M,dc as L,ed as xe,ee as I,ef as he,eg as ge,eh as V,d7 as _e,ei as y,d3 as be,Y as je,ej as ve,D as Ae,l as me,n as pe,aD as Ee,af as Re,a3 as Ce,dH as j,ek as Te,cD as Le,de as fe,cu as De,ac as N,el as U,cC as O}from"./index-aZAYJyS4.js";import{T as Oe}from"./TabsMenu-D2cG8kPd.js";import{T as Ie,a as C}from"./Tabs-5szzQSUL.js";import{T as Z}from"./Trans-ttp0s1wx.js";import{S as Se}from"./Slider-HPaQ0izz.js";import{C as _}from"./CheckboxInput-Ddg4rXVG.js";import{L as Me}from"./ListSubheader-DaZwWy2j.js";import{A as ke}from"./Add-C-d3BbGn.js";const ye=({i18nKey:e,value:s})=>{const{t:l}=c();return a.jsx(d,{sx:{flexDirection:"row",gap:.25},children:a.jsx(Z,{t:l,i18nKey:e,values:{value:s},components:[a.jsx(g,{variant:"caption",sx:{fontSize:"x-small",opacity:.75}})]})})},Pe=({value:e,values:s,defaultValue:l,setValue:t,valueToDisplayData:r,isDefaultable:n,onDefault:o})=>{const{t:u}=c();return a.jsxs(d,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:[n&&a.jsx(E,{onClick:o,variant:e===void 0?"contained":"outlined",children:u("global.label.default")},"default"),s.map(i=>{const m=e===void 0&&i===l,p=r[i].isTitleString?r[i].title:u(r[i].title);return a.jsx(w,{title:m?u("reader.settings.active_setting"):"",children:a.jsx(E,{onClick:()=>t(i),variant:i===e?"contained":"outlined",startIcon:r[i].icon,children:m?a.jsx(ye,{i18nKey:"global.label.footnote",value:p}):p})},i)})]})},v=({label:e,description:s,...l})=>a.jsxs(d,{children:[a.jsx(g,{children:e}),s&&a.jsx(g,{variant:"body2",color:"textDisabled",children:s}),a.jsx(Pe,{...l})]}),X=({readingMode:e,setReadingMode:s,...l})=>{const{t}=c();return a.jsx(v,{...l,label:t("reader.settings.label.reading_mode"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:F,setValue:s,valueToDisplayData:Y})},we={[B.LTR]:{title:"reader.settings.reading_direction.ltr",icon:a.jsx(re,{})},[B.RTL]:{title:"reader.settings.reading_direction.rtl",icon:a.jsx(se,{})}},Be=Object.values(B).filter(e=>typeof e=="number"),Ve=({readingDirection:e,setReadingDirection:s,...l})=>{const{t}=c();return a.jsx(v,{...l,label:t("reader.settings.label.reading_direction"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:Be,setValue:s,valueToDisplayData:we})},Ne={[T.EDGE]:{title:"reader.settings.tap_zones.edge",icon:null},[T.KINDLE]:{title:"reader.settings.tap_zones.kindle",icon:null},[T.L_SHAPE]:{title:"reader.settings.tap_zones.l_shape",icon:null},[T.RIGHT_LEFT]:{title:"reader.settings.tap_zones.right_left",icon:null},[T.DISABLED]:{title:"global.label.disabled",icon:null}},Ue=Object.values(T).filter(e=>typeof e=="number"),Ge=({tapZoneLayout:e,setTapZoneLayout:s,...l})=>{const{t}=c();return a.jsx(v,{...l,label:t("reader.settings.tap_zones.title"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:Ue,setValue:s,valueToDisplayData:Ne})};var q=(e=>(e[e.NONE=0]="NONE",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.BOTH=3]="BOTH",e))(q||{});const He={0:{title:"global.label.none",icon:null},1:{title:"global.label.horizontal",icon:null},2:{title:"global.label.vertical",icon:null},3:{title:"global.label.both",icon:null}},ze=Object.values(q).filter(e=>typeof e=="number"),Ye={0:{vertical:!1,horizontal:!1},1:{vertical:!1,horizontal:!0},2:{vertical:!0,horizontal:!1},3:{vertical:!0,horizontal:!0}},Fe=({vertical:e,horizontal:s})=>e&&s?3:e?2:s?1:0,We=({tapZoneInvertMode:e,setTapZoneInvertMode:s,...l})=>{const{t}=c(),r=Fe(e.value);return a.jsx(v,{...l,label:t("reader.settings.tap_zones.invert"),value:e.isDefault?void 0:r,defaultValue:e.isDefault?r:void 0,values:ze,setValue:n=>s(Ye[n]),valueToDisplayData:He})},Ke=({pageScaleMode:e,setPageScaleMode:s,...l})=>{const{t}=c();return a.jsx(v,{...l,label:t("reader.settings.page_scale.title"),value:e.isDefault?void 0:e.value,defaultValue:e.isDefault?e.value:void 0,values:le,setValue:s,valueToDisplayData:te})},$e=({pageScaleMode:e,shouldStretchPage:s,setShouldStretchPage:l})=>{const{t}=c();return ne[e]?a.jsx(S,{children:a.jsx(E,{onClick:()=>l(!s),variant:s?"contained":"outlined",children:t("reader.settings.page_scale.stretch")})}):null},G=f(a.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"})),k=({asIconButton:e,...s})=>{const{t:l}=c();return e?a.jsx(w,{title:l("global.button.reset"),children:a.jsx(W,{color:"inherit",...s,children:a.jsx(G,{})})}):a.jsx(E,{startIcon:a.jsx(G,{}),...s,children:l("global.button.reset")})},A=({label:e,value:s,onDefault:l,slotProps:t})=>{var r,n,o;return a.jsxs(d,{sx:{flexDirection:"row",gap:2,alignItems:"center"},children:[a.jsxs(d,{sx:{flexBasis:"25%"},children:[a.jsx(g,{...t==null?void 0:t.label,sx:{...(r=t==null?void 0:t.label)==null?void 0:r.sx},children:e}),a.jsx(g,{...t==null?void 0:t.value,sx:{...(n=t==null?void 0:t.value)==null?void 0:n.sx},children:s})]}),a.jsx(Se,{...t==null?void 0:t.slider,sx:{flexBasis:"75%",...(o=t==null?void 0:t.slider)==null?void 0:o.sx}}),l&&a.jsx(k,{asIconButton:!0,onClick:l})]})},Ze=({pageGap:e,readingMode:s,isDefaultable:l,onDefault:t,updateSetting:r})=>{const{t:n}=c();return s.value!==oe.WEBTOON&&ie(s.value)?a.jsx(A,{label:n("reader.settings.label.page_gap"),value:n("global.value",{value:e.value,unit:n("global.unit.px")}),onDefault:l?t:void 0,slotProps:{slider:{defaultValue:b.readerWidth.value,value:e.value,step:1,min:0,max:20,onChange:(u,i)=>{r(i,!1)},onChangeCommitted:(u,i)=>{r(i,!0)}}}}):null},Xe=({readerWidth:e,pageScaleMode:s,isDefaultable:l,onDefault:t,updateSetting:r,setTransparent:n})=>{const{t:o}=c();return ce(s)?a.jsxs(d,{children:[a.jsxs(d,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[a.jsx(_,{label:o("reader.settings.label.limit_reader_width"),checked:e.enabled,onChange:(u,i)=>r("readerWidth",{...e,enabled:i},!0)}),l&&a.jsx(k,{onClick:t,variant:"outlined"})]}),e.enabled&&a.jsx(A,{label:o("reader.settings.label.reader_width"),value:o("global.value",{value:e.value,unit:"%"}),slotProps:{slider:{defaultValue:b.readerWidth.value,value:e.value,step:1,min:10,max:100,onChange:(u,i)=>{n==null||n(!0),r("readerWidth",{...e,value:i},!1)},onChangeCommitted:(u,i)=>{n==null||n(!1),r("readerWidth",{...e,value:i},!0)}}}})]}):null},qe=({areDefaultSettings:e})=>{const{t:s}=c();return!K.useIsTouchDevice()||e?null:a.jsx(d,{sx:{alignItems:"end"},children:a.jsx(g,{variant:"caption",children:s("reader.settings.default_setting_footnote")})})},Je=({profile:e,title:s,updateSetting:l,isSeriesMode:t,...r})=>{const{settings:n}=de(e),o=P.useMemo(()=>({...n,readingMode:{value:e,isDefault:!0}}),[n,e]);return a.jsxs(d,{sx:{gap:2},children:[t?a.jsx(g,{children:s}):a.jsx(Me,{component:"div",id:"".concat(e,"-settings"),children:s}),a.jsx(d,{sx:{px:+!t*2},children:a.jsx(Q,{...r,setShowPreview:()=>{},settings:o,updateSetting:(u,i,m)=>l(u,i,m,!0,e)})})]})},J=({profiles:e=F,readingMode:s,...l})=>{const{updateSetting:t,isSeriesMode:r}=l,{t:n}=c();return a.jsxs(d,{sx:{gap:2,pb:+!r*2},children:[s!==void 0&&a.jsx(d,{sx:{pt:2,px:2},children:a.jsx(X,{readingMode:s,setReadingMode:o=>t("readingMode",o)})}),e.map(o=>a.jsx(Je,{profile:o,title:n(Y[o].title),...l},o))]})},Q=({setShowPreview:e,settings:s,updateSetting:l,isDefaultable:t,onDefault:r,isSeriesMode:n,setTransparent:o})=>{const{t:u}=c();return a.jsxs(d,{sx:{gap:2},children:[a.jsx(qe,{areDefaultSettings:!t}),n&&a.jsxs(a.Fragment,{children:[a.jsx(g,{children:u("reader.settings.source_series")}),a.jsx(X,{readingMode:s.readingMode,setReadingMode:i=>l("readingMode",i),isDefaultable:t,onDefault:()=>r==null?void 0:r("readingMode")})]}),a.jsx(Ze,{pageGap:s.pageGap,readingMode:s.readingMode,isDefaultable:t,onDefault:()=>r==null?void 0:r("pageGap"),updateSetting:(...i)=>l("pageGap",...i)}),a.jsx(Ve,{readingDirection:s.readingDirection,setReadingDirection:i=>l("readingDirection",i),isDefaultable:t,onDefault:()=>r==null?void 0:r("readingDirection")}),a.jsx(Ge,{tapZoneLayout:s.tapZoneLayout,setTapZoneLayout:i=>{e(!0),l("tapZoneLayout",i)},isDefaultable:t,onDefault:()=>{e(!0),r==null||r("tapZoneLayout")}}),a.jsx(We,{tapZoneInvertMode:s.tapZoneInvertMode,setTapZoneInvertMode:i=>{e(!0),l("tapZoneInvertMode",i)},isDefaultable:t,onDefault:()=>{e(!0),r==null||r("tapZoneInvertMode")}}),a.jsx(Ke,{pageScaleMode:s.pageScaleMode,setPageScaleMode:i=>l("pageScaleMode",i),isDefaultable:t,onDefault:()=>r==null?void 0:r("pageScaleMode")}),a.jsx($e,{pageScaleMode:s.pageScaleMode.value,shouldStretchPage:s.shouldStretchPage.value,setShouldStretchPage:i=>l("shouldStretchPage",i)}),a.jsx(Xe,{readerWidth:s.readerWidth.value,pageScaleMode:s.pageScaleMode.value,isDefaultable:t,onDefault:()=>r==null?void 0:r("readerWidth"),updateSetting:(...i)=>l(...i),setTransparent:o}),n&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{}),a.jsx(J,{profiles:[s.readingMode.value],updateSetting:l,isSeriesMode:n,setTransparent:o})]})]})},Qe=()=>a.jsx($,{children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16"})})}),ea=()=>a.jsx($,{children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:a.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 15h16M7 15v-5m10 5v-5M4 9h16"})})}),aa={[M.HIDDEN]:{title:"global.label.hidden",icon:a.jsx(Qe,{})},[M.STANDARD]:{title:"global.label.standard",icon:a.jsx(ea,{})}},sa=Object.values(M).filter(e=>typeof e=="number"),ra=({overlayMode:e,progressBarType:s,setProgressBarType:l})=>{const{t}=c();return e!==R.DESKTOP?null:a.jsx(v,{label:t("reader.settings.progress_bar.style"),value:s,values:sa,setValue:l,valueToDisplayData:aa})},ta=({overlayMode:e,progressBarType:s,progressBarSize:l,setProgressBarSize:t,onDefault:r})=>{const{t:n}=c();return e===R.DESKTOP&&s===M.STANDARD?a.jsx(A,{label:n("reader.settings.progress_bar.size"),value:n("global.value",{value:l,unit:n("global.unit.px")}),onDefault:r,slotProps:{slider:{defaultValue:b.progressBarSize,value:l,step:1,min:2,max:20,onChange:(u,i)=>{t(i,!1)},onChangeCommitted:(u,i)=>{t(i,!0)}}}}):null},la=f(a.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),H=f(a.jsx("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"})),ee=f([a.jsx("path",{d:"M19.03 3.56c-1.67-1.39-3.74-2.3-6.03-2.51v2.01c1.73.19 3.31.88 4.61 1.92zM11 3.06V1.05c-2.29.2-4.36 1.12-6.03 2.51l1.42 1.42C7.69 3.94 9.27 3.25 11 3.06M4.98 6.39 3.56 4.97C2.17 6.64 1.26 8.71 1.05 11h2.01c.19-1.73.88-3.31 1.92-4.61M20.94 11h2.01c-.21-2.29-1.12-4.36-2.51-6.03l-1.42 1.42c1.04 1.3 1.73 2.88 1.92 4.61M7 12l3.44 1.56L12 17l1.56-3.44L17 12l-3.44-1.56L12 7l-1.56 3.44z"},"0"),a.jsx("path",{d:"M12 21c-3.11 0-5.85-1.59-7.46-4H7v-2H1v6h2v-2.7c1.99 2.84 5.27 4.7 9 4.7 4.87 0 9-3.17 10.44-7.56l-1.96-.45C19.25 18.48 15.92 21 12 21"},"1")]),z={[L.AUTO]:{title:"global.label.auto",icon:a.jsx(ee,{})},[L.BOTTOM]:{title:"global.label.bottom",icon:a.jsx(H,{sx:{transform:"rotate(90deg)"}})},[L.LEFT]:{title:"global.label.left",icon:a.jsx(la,{})},[L.RIGHT]:{title:"global.label.right",icon:a.jsx(H,{})}},na=Object.values(L).filter(e=>typeof e=="number"),oa=Object.values(xe),ia=({progressBarPosition:e,progressBarPositionAutoVertical:s,updateSetting:l})=>{const{t}=c(),r=e===L.AUTO;return a.jsxs(a.Fragment,{children:[a.jsx(v,{label:t("reader.settings.progress_bar.position"),value:e,values:na,setValue:n=>l("progressBarPosition",n),valueToDisplayData:z}),r&&a.jsx(v,{label:t("reader.settings.progress_bar.auto_vertical_position.title"),value:s,values:oa,setValue:n=>l("progressBarPositionAutoVertical",n),valueToDisplayData:z})]})},ca=f(a.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"})),da=f(a.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"})),ua={[R.AUTO]:{title:"global.label.auto",icon:a.jsx(ee,{})},[R.DESKTOP]:{title:"global.label.desktop",icon:a.jsx(da,{})},[R.MOBILE]:{title:"global.label.mobile",icon:a.jsx(ca,{})}},xa=Object.values(R).filter(e=>typeof e=="number"),ha=({overlayMode:e,setOverlayMode:s})=>{const{t:l}=c();return a.jsx(v,{label:l("reader.settings.overlay_mode"),value:e,values:xa,setValue:s,valueToDisplayData:ua})},ga={[I.THEME]:{title:"settings.appearance.theme.title",icon:null},[I.BLACK]:{title:"global.colors.black",icon:null},[I.GRAY]:{title:"global.colors.gray",icon:null},[I.WHITE]:{title:"global.colors.white",icon:null}},_a=Object.values(I).filter(e=>typeof e=="number"),ba=({backgroundColor:e,updateSetting:s})=>{const{t:l}=c();return a.jsx(v,{label:l("reader.settings.background_color"),value:e,values:_a,setValue:s,valueToDisplayData:ga})},ja=({overlayMode:e,settings:s,updateSetting:l,onDefault:t})=>{const{t:r}=c();return a.jsxs(d,{sx:{gap:2},children:[a.jsx(ha,{overlayMode:s.overlayMode,setOverlayMode:n=>l("overlayMode",n)}),a.jsx(ba,{backgroundColor:s.backgroundColor,updateSetting:n=>l("backgroundColor",n)}),a.jsx(ra,{overlayMode:e,progressBarType:s.progressBarType,setProgressBarType:n=>l("progressBarType",n)}),a.jsx(ta,{overlayMode:e,progressBarType:s.progressBarType,progressBarSize:s.progressBarSize,setProgressBarSize:(...n)=>l("progressBarSize",...n),onDefault:()=>t==null?void 0:t("progressBarSize")}),a.jsx(ia,{progressBarPosition:s.progressBarPosition,progressBarPositionAutoVertical:s.progressBarPositionAutoVertical,updateSetting:l}),(s.progressBarType===M.HIDDEN||e===R.MOBILE)&&a.jsx(_,{label:r("reader.settings.label.show_page_number"),checked:s.shouldShowPageNumber,onChange:(n,o)=>l("shouldShowPageNumber",o)})]})},va=({brightness:e,updateSetting:s})=>{const{t:l}=c();return a.jsxs(d,{children:[a.jsx(_,{label:l("reader.settings.custom_filter.brightness"),checked:e.enabled,onChange:(t,r)=>s("brightness",{...e,enabled:r},!0)}),e.enabled&&a.jsx(A,{label:l("reader.settings.custom_filter.brightness"),value:e.value,onDefault:()=>s("brightness",{...e,value:b.customFilter.brightness.value},!0),slotProps:{slider:{defaultValue:b.customFilter.brightness.value,value:e.value,step:1,min:5,max:200,onChange:(t,r)=>{s("brightness",{...e,value:r},!1)},onChangeCommitted:(t,r)=>{s("brightness",{...e,value:r},!0)}}}})]})},Aa=({contrast:e,updateSetting:s})=>{const{t:l}=c();return a.jsxs(d,{children:[a.jsx(_,{label:l("reader.settings.custom_filter.contrast"),checked:e.enabled,onChange:(t,r)=>s("contrast",{...e,enabled:r},!0)}),e.enabled&&a.jsx(A,{label:l("reader.settings.custom_filter.contrast"),value:e.value,onDefault:()=>s("contrast",{...e,value:b.customFilter.contrast.value},!0),slotProps:{slider:{defaultValue:b.customFilter.contrast.value,value:e.value,step:1,min:5,max:200,onChange:(t,r)=>{s("contrast",{...e,value:r},!1)},onChangeCommitted:(t,r)=>{s("contrast",{...e,value:r},!0)}}}})]})},ma=({saturate:e,updateSetting:s})=>{const{t:l}=c();return a.jsxs(d,{children:[a.jsx(_,{label:l("reader.settings.custom_filter.saturate"),checked:e.enabled,onChange:(t,r)=>s("saturate",{...e,enabled:r},!0)}),e.enabled&&a.jsx(A,{label:l("reader.settings.custom_filter.saturate"),value:e.value,onDefault:()=>s("saturate",{...e,value:b.customFilter.saturate.value},!0),slotProps:{slider:{defaultValue:b.customFilter.saturate.value,value:e.value,step:1,min:0,max:200,onChange:(t,r)=>{s("saturate",{...e,value:r},!1)},onChangeCommitted:(t,r)=>{s("saturate",{...e,value:r},!0)}}}})]})},pa=({hue:e,updateSetting:s})=>{const{t:l}=c();return a.jsxs(d,{children:[a.jsx(_,{label:l("reader.settings.custom_filter.hue"),checked:e.enabled,onChange:(t,r)=>s("hue",{...e,enabled:r},!0)}),e.enabled&&a.jsx(A,{label:l("reader.settings.custom_filter.hue"),value:e.value,onDefault:()=>s("hue",{...e,value:b.customFilter.hue.value},!0),slotProps:{slider:{defaultValue:b.customFilter.hue.value,value:e.value,step:1,min:0,max:200,onChange:(t,r)=>{s("hue",{...e,value:r},!1)},onChangeCommitted:(t,r)=>{s("hue",{...e,value:r},!0)}}}})]})},Ea={red:"reader.settings.custom_filter.rgba.red",green:"reader.settings.custom_filter.rgba.green",blue:"reader.settings.custom_filter.rgba.blue",alpha:"reader.settings.custom_filter.rgba.alpha"},Ra={red:255,green:255,blue:255,alpha:100},Ca=({rgba:e,updateSetting:s})=>{const{t:l}=c();return a.jsxs(d,{children:[a.jsx(_,{label:l("reader.settings.custom_filter.rgba.title"),checked:e.enabled,onChange:(t,r)=>s("rgba",{...e,enabled:r},!0)}),e.enabled&&a.jsxs(d,{sx:{gap:1},children:[Object.entries(e.value).map(([t,r])=>t==="blendMode"?null:a.jsx(A,{label:l(Ea[t]),value:r,onDefault:()=>s("rgba",{...e,value:{...e.value,[t]:b.customFilter.rgba.value[t]}},!0),slotProps:{slider:{value:r,defaultValue:b.customFilter.rgba.value[t],step:1,min:0,max:Ra[t],onChange:(n,o)=>{s("rgba",{...e,value:{...e.value,[t]:o}},!1)},onChangeCommitted:(n,o)=>{s("rgba",{...e,value:{...e.value,[t]:o}},!0)}}}},t)),a.jsx(v,{label:l("reader.settings.custom_filter.rgba.blend_mode.title"),value:e.value.blendMode,values:ge,setValue:t=>s("rgba",{...e,value:{...e.value,blendMode:t}},!0),valueToDisplayData:he})]})]})},Ta=({sepia:e,updateSetting:s})=>{const{t:l}=c();return a.jsx(d,{children:a.jsx(_,{label:l("reader.settings.custom_filter.sepia"),checked:e,onChange:(t,r)=>s(r)})})},La=({grayscale:e,updateSetting:s})=>{const{t:l}=c();return a.jsx(d,{children:a.jsx(_,{label:l("reader.settings.custom_filter.grayscale"),checked:e,onChange:(t,r)=>s(r)})})},fa=({invert:e,updateSetting:s})=>{const{t:l}=c();return a.jsx(d,{children:a.jsx(_,{label:l("reader.settings.custom_filter.invert"),checked:e,onChange:(t,r)=>s(r)})})},Da=({settings:{customFilter:e},updateSetting:s,onDefault:l,setTransparent:t})=>{const r=(n,o)=>{s("customFilter",n,o),t==null||t(o===void 0?!1:!o)};return a.jsxs(d,{sx:{gap:2},children:[a.jsx(va,{brightness:e.brightness,updateSetting:(n,o,u)=>r({...e,[n]:o},u)}),a.jsx(Aa,{contrast:e.contrast,updateSetting:(n,o,u)=>r({...e,[n]:o},u)}),a.jsx(ma,{saturate:e.saturate,updateSetting:(n,o,u)=>r({...e,[n]:o},u)}),a.jsx(pa,{hue:e.hue,updateSetting:(n,o,u)=>r({...e,[n]:o},u)}),a.jsx(Ca,{rgba:e.rgba,updateSetting:(n,o,u)=>r({...e,[n]:o},u)}),a.jsx(Ta,{sepia:e.sepia,updateSetting:n=>r({...e,sepia:n})}),a.jsx(La,{grayscale:e.grayscale,updateSetting:n=>r({...e,grayscale:n})}),a.jsx(fa,{invert:e.invert,updateSetting:n=>r({...e,invert:n})}),a.jsx(d,{sx:{alignItems:"end"},children:a.jsx(k,{onClick:()=>l==null?void 0:l("customFilter"),variant:"outlined"})})]})},Oa={[V.PREVIOUS]:{title:"global.label.previous",icon:null},[V.MANGA]:{title:"manga.title_one",icon:null}},Ia=Object.values(V).filter(e=>typeof e=="number"),Sa=({exitMode:e,setExitMode:s})=>{const{t:l}=c();return a.jsx(v,{label:l("reader.settings.exit_mode"),value:e,values:Ia,setValue:s,valueToDisplayData:Oa})},Ma=({autoScroll:e,setAutoScroll:s})=>{const{t:l}=c();return a.jsxs(a.Fragment,{children:[a.jsx(_,{label:l("reader.settings.auto_scroll.smooth"),checked:e.smooth,onChange:(t,r)=>s({...e,smooth:r},!0)}),a.jsx(A,{label:l("reader.settings.auto_scroll.speed"),value:l("global.time.seconds.value",{count:e.value}),onDefault:()=>s({...e,value:b.autoScroll.value},!0),slotProps:{slider:{defaultValue:b.customFilter.saturate.value,value:e.value,..._e,onChange:(t,r)=>{s({...e,value:r},!1)},onChangeCommitted:(t,r)=>{s({...e,value:r},!0)}}}})]})},ka={[y.SMALL]:{title:"global.label.small",icon:null},[y.MEDIUM]:{title:"global.label.medium",icon:null},[y.LARGE]:{title:"global.label.large",icon:null}},ya=Object.values(y).filter(e=>typeof e=="number"),Pa=({scrollAmount:e,setScrollAmount:s})=>{const{t:l}=c();return a.jsx(v,{label:l("reader.settings.scroll_amount"),value:e,values:ya,setValue:s,valueToDisplayData:ka})},wa=({settings:e,updateSetting:s,onDefault:l})=>{const{t}=c();return a.jsxs(d,{sx:{gap:2},children:[a.jsx(Sa,{exitMode:e.exitMode,setExitMode:r=>s("exitMode",r)}),a.jsx(Pa,{scrollAmount:e.scrollAmount,setScrollAmount:r=>s("scrollAmount",r)}),a.jsx(_,{label:t("reader.settings.label.skip_dup_chapters"),checked:e.shouldSkipDupChapters,onChange:(r,n)=>s("shouldSkipDupChapters",n)}),be(e.readingMode.value)&&a.jsx(_,{label:t("reader.settings.label.offset_double_spread"),checked:e.shouldOffsetDoubleSpreads.value,onChange:(r,n)=>s("shouldOffsetDoubleSpreads",n)}),a.jsx(_,{label:a.jsxs(S,{children:[a.jsx(g,{children:t("reader.settings.preview.reading_mode.title")}),a.jsx(g,{variant:"body2",color:"textDisabled",children:t("reader.settings.preview.reading_mode.description")})]}),checked:e.shouldShowReadingModePreview,onChange:(r,n)=>s("shouldShowReadingModePreview",n)}),a.jsx(_,{label:a.jsxs(S,{children:[a.jsx(g,{children:t("reader.settings.preview.tap_zones.title")}),a.jsx(g,{variant:"body2",color:"textDisabled",children:t("reader.settings.preview.tap_zones.description")})]}),checked:e.shouldShowTapZoneLayoutPreview,onChange:(r,n)=>s("shouldShowTapZoneLayoutPreview",n)}),a.jsx(_,{label:a.jsxs(S,{children:[a.jsx(g,{children:t("reader.settings.auto_webtoon_mode.title")}),a.jsx(g,{variant:"body2",color:"textDisabled",children:t("reader.settings.auto_webtoon_mode.description")})]}),checked:e.shouldUseAutoWebtoonMode,onChange:(r,n)=>s("shouldUseAutoWebtoonMode",n)}),a.jsx(_,{label:t("reader.settings.chapter_transition.warning.missing_chapter"),checked:e.shouldInformAboutMissingChapter,onChange:(r,n)=>s("shouldInformAboutMissingChapter",n)}),a.jsx(_,{label:t("reader.settings.chapter_transition.warning.scanlator_change"),checked:e.shouldInformAboutScanlatorChange,onChange:(r,n)=>s("shouldInformAboutScanlatorChange",n)}),a.jsx(Ma,{autoScroll:e.autoScroll,setAutoScroll:(...r)=>s("autoScroll",...r)}),a.jsx(A,{label:t("reader.settings.image_preload_amount"),value:e.imagePreLoadAmount,onDefault:()=>l==null?void 0:l("imagePreLoadAmount"),slotProps:{slider:{defaultValue:b.imagePreLoadAmount,value:e.imagePreLoadAmount,step:1,min:1,max:20,onChange:(r,n)=>{s("imagePreLoadAmount",n,!1)},onChangeCommitted:(r,n)=>{s("imagePreLoadAmount",n,!0)}}}})]})},Ba=je(g)(({theme:e})=>({display:"inline-block",padding:"0.2em 0.4em",fontSize:"0.85em",lineHeight:"1.4",color:e.palette.text.primary,backgroundColor:e.palette.background.paper,border:"1px solid ".concat(e.palette.divider),borderRadius:"3px",boxShadow:"inset 0 -1px 0 ".concat(e.palette.divider),fontFamily:"monospace, monospace"})),ae=({keys:e,removeKey:s})=>{const{t:l}=c();return a.jsx(d,{sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:e.map((t,r)=>a.jsxs(P.Fragment,{children:[a.jsx(w,{title:l("global.button.delete"),hidden:!s,children:a.jsx(d,{sx:{flexDirection:"row",flexWrap:"wrap",gap:.5,cursor:s?"pointer":void 0},onClick:()=>s==null?void 0:s(t),children:t.split("+").map((n,o,u)=>a.jsxs(P.Fragment,{children:[a.jsx(Ba,{children:n}),o===u.length-1?"":"+"]},n))})}),r===e.length-1?"":","]},t))})},Va=({onClose:e,onCreate:s,existingKeys:l})=>{const{t}=c(),[r,{start:n,stop:o,resetKeys:u}]=ve(),i=[[...r].join("+")],m=i.some(p=>l.map(h=>h.toLowerCase()).includes(p.toLowerCase()));return P.useEffect(()=>(n(),()=>{o()}),[]),a.jsxs(Ae,{open:!0,onClose:e,fullWidth:!0,children:[a.jsx(me,{children:t("hotkeys.create.dialog.title")}),a.jsxs(pe,{children:[a.jsx(d,{sx:{flexDirection:"row",gap:1},children:a.jsx(Z,{i18nKey:"hotkeys.create.dialog.label",components:{Keys:r.size?a.jsx(ae,{keys:i}):a.jsx(g,{children:t("hotkeys.create.dialog.placeholder")})},children:"Recorded keys:"})}),m&&a.jsx(g,{color:"error",children:t("hotkeys.create.error.exists")})]}),a.jsx(Ee,{children:a.jsxs(d,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[a.jsx(E,{onClick:u,children:t("global.button.reset")}),a.jsxs(d,{direction:"row",children:[a.jsx(E,{onClick:e,children:t("global.button.cancel")}),a.jsx(E,{disabled:m,onClick:()=>{e(),s(i)},children:t("global.button.create")})]})]})})]})},Na={[j.PREVIOUS_PAGE]:"reader.settings.hotkey.previous_page",[j.NEXT_PAGE]:"reader.settings.hotkey.next_page",[j.SCROLL_BACKWARD]:"reader.settings.hotkey.scroll_backward",[j.SCROLL_FORWARD]:"reader.settings.hotkey.scroll_forward",[j.PREVIOUS_CHAPTER]:"reader.settings.hotkey.previous_chapter",[j.NEXT_CHAPTER]:"reader.settings.hotkey.next_chapter",[j.TOGGLE_MENU]:"reader.settings.hotkey.menu",[j.CYCLE_SCALE_TYPE]:"reader.settings.hotkey.scale_type",[j.STRETCH_IMAGE]:"reader.settings.hotkey.stretch_image",[j.OFFSET_SPREAD_PAGES]:"reader.settings.hotkey.offset_spread_pages",[j.CYCLE_READING_MODE]:"reader.settings.hotkey.reading_mode",[j.CYCLE_READING_DIRECTION]:"reader.settings.hotkey.reading_direction",[j.TOGGLE_AUTO_SCROLL]:"reader.settings.hotkey.auto_scroll",[j.AUTO_SCROLL_SPEED_INCREASE]:"reader.settings.hotkey.auto_scroll_speed_increase",[j.AUTO_SCROLL_SPEED_DECREASE]:"reader.settings.hotkey.auto_scroll_speed_decrease",[j.EXIT_READER]:"reader.button.exit"},Ua=({hotkey:e,keys:s,existingKeys:l,updateSetting:t})=>{const{t:r}=c(),n=Re({popupId:"reader-setting-record-hotkey",variant:"dialog"});return a.jsxs(a.Fragment,{children:[a.jsxs(d,{sx:{flexDirection:"row",alignItems:"center",gap:1},children:[a.jsx(g,{sx:{flexGrow:1},children:r(Na[e])}),a.jsx(ae,{keys:s,removeKey:o=>t(s.filter(u=>u!==o))}),a.jsx(w,{title:r("global.button.add"),children:a.jsx(W,{...Ce(n),color:"inherit",children:a.jsx(ke,{})})}),a.jsx(k,{asIconButton:!0,onClick:()=>t(b.hotkeys[e])})]}),n.isOpen&&a.jsx(Va,{onClose:n.close,onCreate:o=>t([...s,...o]),existingKeys:l})]})},Ga=({settings:e,updateSetting:s,onDefault:l})=>{const{t}=c();return a.jsxs(d,{sx:{gap:2},children:[a.jsx(d,{sx:{alignItems:"end"},children:a.jsx(g,{variant:"caption",children:t("hotkeys.info.delete")})}),Te.map(r=>a.jsx(Ua,{hotkey:r,keys:e.hotkeys[r],existingKeys:Object.values(e.hotkeys).flat(),updateSetting:n=>s("hotkeys",{...e.hotkeys,[r]:n})},r)),a.jsx(d,{sx:{alignItems:"end"},children:a.jsx(k,{onClick:()=>l==null?void 0:l("hotkeys"),variant:"outlined"})})]})},Ha=({activeTab:e,setActiveTab:s,areDefaultSettings:l,settings:t,updateSetting:r,deleteSetting:n,setShowPreview:o,mode:u,setTransparent:i})=>{const{t:m}=c(),p=K.useIsTouchDevice();return a.jsxs(a.Fragment,{children:[a.jsx(Oe,{value:e,onChange:(h,D)=>s(D),sx:{...N(!!l,{zIndex:2}),...N(!l,{backgroundColor:"background.paper",backgroundImage:"var(--Paper-overlay)"})},children:Object.values(U).map(({id:h,label:D,supportsTouchDevices:x})=>!x&&p?null:a.jsx(Ie,{value:h,label:m(D),sx:{flexGrow:1,maxWidth:"unset",textTransform:"none"}},h))}),a.jsx(S,{sx:{p:l?void 0:2,overflowX:"hidden"},children:Object.values(U).map(({id:h,supportsTouchDevices:D})=>{if(!D&&p)return null;switch(h){case O.LAYOUT:return l?a.jsx(C,{index:h,currentIndex:e,children:a.jsx(J,{readingMode:t.readingMode,updateSetting:(...x)=>r(...x)})},h):a.jsx(C,{index:h,currentIndex:e,children:a.jsx(Q,{settings:t,updateSetting:(...x)=>r(...x),setShowPreview:o,isDefaultable:!l,onDefault:(...x)=>n==null?void 0:n(...x),isSeriesMode:!0,setTransparent:i})},h);case O.GENERAL:return a.jsx(C,{index:h,currentIndex:e,sx:{p:l?2:void 0},children:a.jsx(ja,{overlayMode:u,settings:t,updateSetting:(...x)=>r(...x),isDefaultable:!l,onDefault:(...x)=>n==null?void 0:n(...x)})},h);case O.FILTER:return a.jsx(C,{index:h,currentIndex:e,sx:{p:l?2:void 0},children:a.jsx(Da,{settings:t,updateSetting:(...x)=>r(...x),isDefaultable:!0,onDefault:(...x)=>n==null?void 0:n(...x),setTransparent:i})},h);case O.BEHAVIOUR:return a.jsx(C,{index:h,currentIndex:e,sx:{p:l?2:void 0},children:a.jsx(wa,{settings:t,updateSetting:(...x)=>r(...x),isDefaultable:!0,onDefault:(...x)=>n==null?void 0:n(...x)})},h);case O.HOTKEYS:return a.jsx(C,{index:h,currentIndex:e,sx:{p:l?2:void 0},children:a.jsx(Ga,{settings:t,updateSetting:(...x)=>r(...x),isDefaultable:!0,onDefault:(...x)=>n==null?void 0:n(...x)})},h);default:throw new Error('Unexpected "ReaderSettingTab" ('.concat(h,")"))}})})]})},qa=Le(Ha,[fe,De.useOverlayMode],["setShowPreview","mode"]);export{qe as D,qa as R,ye as S,X as a,Ve as b,Ma as c};
