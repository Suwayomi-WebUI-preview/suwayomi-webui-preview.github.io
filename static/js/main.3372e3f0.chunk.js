(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{268:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(28),i=n.n(r),o=n(3),s=n(21),u=n(25),l=n(29),d=n(389),j=n(348),b=n(196),h=n(347),f=n(391),O=n(367),x=n(369),p=n(94),g=n(370),m=n(335),v=n(23),y=n(166),w=n.n(y),C=n(167),k=n.n(C),S=n(168),L=n.n(S),E=n(169),N=n.n(E),T=n(131),I=n.n(T),R=n(132),D=n.n(R),P=n(170),F=n.n(P),B=n(171),z=n.n(B),A=n(172),W=n.n(A),H=n(90),U=n.n(H),M=n(173),V=n.n(M),q=n(0),J=c.a.createContext({title:"Tachidesk",setTitle:function(){},action:Object(q.jsx)("div",{}),setAction:function(){},override:{status:!1,value:Object(q.jsx)("div",{})},setOverride:function(){}}),Y=c.a.createContext({darkTheme:!0,setDarkTheme:function(){}}),X=n(20),G=Object(X.a)(Object(q.jsx)("path",{d:"M 11 1 C 9.3550302 1 8 2.3550302 8 4 L 4 4 C 2.9069372 4 2 4.9069372 2 6 L 2 12 L 4 12 C 4.5650302 12 5 12.43497 5 13 C 5 13.56503 4.5650302 14 4 14 L 2 14 L 2 20 C 2 21.093063 2.9069372 22 4 22 L 10 22 L 10 20 C 10 19.43497 10.43497 19 11 19 C 11.56503 19 12 19.43497 12 20 L 12 22 L 18 22 C 19.093063 22 20 21.093063 20 20 L 20 16 C 21.64497 16 23 14.64497 23 13 C 23 11.35503 21.64497 10 20 10 L 20 6 C 20 4.9069372 19.093063 4 18 4 L 14 4 C 14 2.3550302 12.64497 1 11 1 z M 11 3 C 11.56503 3 12 3.4349698 12 4 L 12 6 L 18 6 L 18 12 L 20 12 C 20.56503 12 21 12.43497 21 13 C 21 13.56503 20.56503 14 20 14 L 18 14 L 18 20 L 14 20 C 14 18.35503 12.64497 17 11 17 C 9.3550302 17 8 18.35503 8 20 L 4 20 L 4 16 C 5.6449698 16 7 14.64497 7 13 C 7 11.35503 5.6449698 10 4 10 L 4 6 L 10 6 L 10 4 C 10 3.4349698 10.43497 3 11 3 z"}),"CustomExtensionOutlined"),K=n(390),_=n(360),Q=n(332),Z=n(349),$=n(331),ee=Object($.a)("div")((function(e){var t=e.theme;return{height:"100vh",width:t.spacing(8),backgroundColor:"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900],position:"fixed",top:0,left:0,paddingTop:t.spacing(8),display:"flex",flexDirection:"column"}}));function te(e){var t=e.navBarItems,n=Object(u.h)(),a=Object(v.a)(),c=function(e,t,c){return n.pathname===e?Object(q.jsx)(c,{sx:{color:"primary.main"},fontSize:"large"}):Object(q.jsx)(t,{sx:{color:"dark"===a.palette.mode?"grey.A400":"grey.600"},fontSize:"large"})};return Object(q.jsx)(ee,{children:t.map((function(e){var t=e.path,n=e.title,a=e.IconComponent,r=e.SelectedIconComponent;return Object(q.jsx)(s.b,{to:t,style:{color:"inherit",textDecoration:"none"},children:Object(q.jsx)(_.a,{disableRipple:!0,button:!0,children:Object(q.jsx)(Q.a,{sx:{minWidth:"0"},children:Object(q.jsx)(Z.a,{placement:"right",title:n,children:c(t,a,r)})})},n)},t)}))})}var ne=Object($.a)("div")((function(e){var t=e.theme;return{bottom:0,left:0,height:t.spacing(7),width:"100vw",backgroundColor:"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900],position:"fixed",display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",zIndex:1100}})),ae=Object($.a)(s.b)({textDecoration:"none",flex:1});function ce(e){var t=e.navBarItems,n=Object(u.h)(),a=Object(v.a)(),c=function(e,t,c){return n.pathname===e?Object(q.jsx)(c,{sx:{color:"primary.main"},fontSize:"medium"}):Object(q.jsx)(t,{sx:{color:"dark"===a.palette.mode?"grey.A400":"grey.600"},fontSize:"medium"})};return Object(q.jsx)(ne,{children:t.map((function(e){var t=e.path,r=e.title,i=e.IconComponent,o=e.SelectedIconComponent;return Object(q.jsx)(ae,{to:t,children:Object(q.jsx)(_.a,{disableRipple:!0,button:!0,sx:{justifyContent:"center",padding:"8px"},children:Object(q.jsxs)(K.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[c(t,i,o),Object(q.jsx)(K.a,{sx:{fontSize:"0.65rem",color:n.pathname===t?"primary.main":"dark"===a.palette.mode?"grey.A400":"grey.600"},children:r})]})},r)},t)}))})}var re=[{path:"/library",title:"Library",SelectedIconComponent:w.a,IconComponent:k.a,show:"both"},{path:"/updates",title:"Updates",SelectedIconComponent:L.a,IconComponent:N.a,show:"both"},{path:"/extensions",title:"Extensions",SelectedIconComponent:F.a,IconComponent:G,show:"desktop"},{path:"/sources",title:"Sources",SelectedIconComponent:I.a,IconComponent:D.a,show:"desktop"},{path:"/browse",title:"Browse",SelectedIconComponent:I.a,IconComponent:D.a,show:"mobile"},{path:"/downloads",title:"Downloads",SelectedIconComponent:z.a,IconComponent:W.a,show:"both"},{path:"/settings",title:"Settings",SelectedIconComponent:U.a,IconComponent:U.a,show:"both"}];function ie(){var e=Object(a.useContext)(J),t=e.title,n=e.action,c=e.override,r=Object(a.useContext)(Y).darkTheme,i=Object(v.a)(),o=Object(u.g)(),s=Object(m.a)(i.breakpoints.down("sm")),l=re.some((function(e){return e.path===o.location.pathname}));if(c.status)return c.value;var d=Object(q.jsx)(q.Fragment,{});return s?l&&(d=Object(q.jsx)(ce,{navBarItems:re.filter((function(e){return"desktop"!==e.show}))})):d=Object(q.jsx)(te,{navBarItems:re.filter((function(e){return"mobile"!==e.show}))}),Object(q.jsxs)(K.a,{sx:{flexGrow:1},children:[Object(q.jsx)(O.a,{position:"fixed",color:r?"default":"primary",children:Object(q.jsxs)(x.a,{children:[!re.some((function(e){return e.path===o.location.pathname}))&&Object(q.jsx)(g.a,{edge:"start",sx:{marginRight:i.spacing(2)},color:"inherit","aria-label":"menu",disableRipple:!0,onClick:function(){return 1===o.length?o.push("/library"):o.goBack()},size:"large",children:Object(q.jsx)(V.a,{})}),Object(q.jsx)(p.a,{variant:s?"h6":"h5",sx:{flexGrow:1},children:t}),n]})}),d]})}var oe={getItem:function(e,t){try{var n=window.localStorage.getItem(e);if(null!==n)return JSON.parse(n);window.localStorage.setItem(e,JSON.stringify(t))}finally{}return t},setItem:function(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}finally{}}};function se(e,t){var n=t instanceof Function?t():t,c=Object(a.useState)(oe.getItem(e,n)),r=Object(o.a)(c,2),i=r[0],s=r[1];return[i,function(t){var n=t instanceof Function?t(i):t;s(n),oe.setItem(e,n)}]}var ue=n(371),le=n(174),de=n.n(le),je=n(175),be=n.n(je),he=n(176),fe=n.n(he),Oe=n(178),xe=n.n(Oe),pe=n(102),ge=n.n(pe),me=n(179),ve=n.n(me),ye=n(177),we=n.n(ye),Ce=n(336),ke=n(366),Se=n(372),Le=n(379),Ee=n(373),Ne=n(378),Te=n(374),Ie=n(375),Re=n(351),De=n(101),Pe=n.n(De),Fe=n(19);function Be(e){var t=e.directLink,n=e.to;return t?Object(q.jsx)(_.a,Object(Fe.a)({button:!0,component:"a",href:n},e)):Object(q.jsx)(_.a,Object(Fe.a)({button:!0,component:s.b},e))}function ze(){var e=Object(a.useContext)(J),t=e.setTitle,n=e.setAction;Object(a.useEffect)((function(){t("Settings"),n(Object(q.jsx)(q.Fragment,{}))}),[]);var c=Object(a.useContext)(Y),r=c.darkTheme,i=c.setDarkTheme,s=se("serverBaseURL",""),u=Object(o.a)(s,2),l=u[0],d=u[1],j=se("showNsfw",!0),b=Object(o.a)(j,2),h=b[0],f=b[1],O=se("useCache",!0),x=Object(o.a)(O,2),p=x[0],m=x[1],v=Object(a.useState)(!1),y=Object(o.a)(v,2),w=y[0],C=y[1],k=Object(a.useState)(l),S=Object(o.a)(k,2),L=S[0],E=S[1],N=function(){C(!1)};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(ue.a,{sx:{padding:0},children:[Object(q.jsxs)(Be,{to:"/settings/categories",children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(de.a,{})}),Object(q.jsx)(Ce.a,{primary:"Categories"})]}),Object(q.jsxs)(Be,{to:"/settings/backup",children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(be.a,{})}),Object(q.jsx)(Ce.a,{primary:"Backup"})]}),Object(q.jsxs)(_.a,{children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(fe.a,{})}),Object(q.jsx)(Ce.a,{primary:"Dark Theme"}),Object(q.jsx)(ke.a,{children:Object(q.jsx)(Se.a,{edge:"end",checked:r,onChange:function(){return i(!r)}})})]}),Object(q.jsxs)(_.a,{children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(Pe.a,{})}),Object(q.jsx)(Ce.a,{primary:"Show NSFW",secondary:"Hide NSFW extensions and sources"}),Object(q.jsx)(ke.a,{children:Object(q.jsx)(Se.a,{edge:"end",checked:h,onChange:function(){return f(!h)}})})]}),Object(q.jsxs)(_.a,{children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(we.a,{})}),Object(q.jsx)(Ce.a,{primary:"Use image cache",secondary:"Disabling image cache makes images load faster if you have a slow disk, but uses it much more internet traffic in turn"}),Object(q.jsx)(ke.a,{children:Object(q.jsx)(Se.a,{edge:"end",checked:p,onChange:function(){return m(!p)}})})]}),Object(q.jsxs)(_.a,{children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(xe.a,{})}),Object(q.jsx)(Ce.a,{primary:"Server Address",secondary:l}),Object(q.jsx)(ke.a,{children:Object(q.jsx)(g.a,{onClick:function(){E(l),C(!0)},size:"large",children:Object(q.jsx)(ge.a,{})})})]}),Object(q.jsxs)(Be,{to:"/settings/about",children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(ve.a,{})}),Object(q.jsx)(Ce.a,{primary:"About"})]})]}),Object(q.jsxs)(Ee.a,{open:w,onClose:N,children:[Object(q.jsxs)(Te.a,{children:[Object(q.jsx)(Ie.a,{children:"Enter Server Address"}),Object(q.jsx)(Re.a,{autoFocus:!0,margin:"dense",id:"name",label:"Server Address",type:"text",fullWidth:!0,value:L,placeholder:"http://127.0.0.1:4567",onChange:function(e){return E(e.target.value)}})]}),Object(q.jsxs)(Ne.a,{children:[Object(q.jsx)(Le.a,{onClick:N,color:"primary",children:"Cancel"}),Object(q.jsx)(Le.a,{onClick:function(){C(!1),d(L)},color:"primary",children:"Set"})]})]})]})}var Ae,We=n(180),He=n.n(We),Ue=window.location,Me=Ue.hostname,Ve=Ue.port,qe=Ue.protocol;Ae="3000"===Ve?"4567":Ve;var Je=He.a.create({baseURL:oe.getItem("serverBaseURL","".concat(qe,"//").concat(Me,":").concat(Ae))});Je.interceptors.request.use((function(e){return e.data instanceof FormData&&Object.assign(e.headers,{"Content-Type":"multipart/form-data"}),e}));var Ye=Je,Xe=n(380);function Ge(e){var t=e.children,n=e.shouldRender,a=e.component,r=e.componentProps,i=!0;if(void 0!==n&&(i=n instanceof Function?n():n),i){if(a)return c.a.createElement(a,r);if(t)return Object(q.jsx)(q.Fragment,{children:t})}return Object(q.jsx)(K.a,{sx:{margin:"10px auto",display:"flex",justifyContent:"center"},children:Object(q.jsx)(Xe.a,{thickness:5})})}function Ke(){var e=Object(a.useContext)(J),t=e.setTitle,n=e.setAction,c=Object(a.useState)(),r=Object(o.a)(c,2),i=r[0],s=r[1];if(Object(a.useEffect)((function(){t("About"),n(Object(q.jsx)(q.Fragment,{}))}),[]),Object(a.useEffect)((function(){Ye.get("/api/v1/settings/about").then((function(e){return e.data})).then((function(e){s(e)}))}),[]),void 0===i)return Object(q.jsx)(Ge,{});return Object(q.jsxs)(ue.a,{children:[Object(q.jsx)(_.a,{children:Object(q.jsx)(Ce.a,{primary:"Server",secondary:"".concat(i.name," ").concat(i.buildType)})}),Object(q.jsx)(_.a,{children:Object(q.jsx)(Ce.a,{primary:"Server version",secondary:"Stable"===i.buildType?"".concat(i.version):"".concat(i.version,"-").concat(i.revision)})}),Object(q.jsx)(_.a,{children:Object(q.jsx)(Ce.a,{primary:"Build time",secondary:new Date(1e3*i.buildTime).toUTCString()})}),Object(q.jsx)(Be,{to:i.github,children:Object(q.jsx)(Ce.a,{primary:"Github",secondary:i.github})}),Object(q.jsx)(Be,{to:i.discord,children:Object(q.jsx)(Ce.a,{primary:"Discord",secondary:i.discord})})]})}var _e=n(64),Qe=n(105),Ze=n.n(Qe),$e=n(381),et=n(107),tt=n.n(et),nt=n(106),at=n.n(nt),ct=n(339),rt=n(358),it=n(382);function ot(){var e=Object(a.useContext)(J),t=e.setTitle,n=e.setAction;Object(a.useEffect)((function(){t("Categories"),n(Object(q.jsx)(q.Fragment,{}))}),[]);var c=Object(a.useState)([]),r=Object(o.a)(c,2),i=r[0],s=r[1],u=Object(a.useState)(-1),l=Object(o.a)(u,2),d=l[0],j=l[1],b=Object(a.useState)(!1),h=Object(o.a)(b,2),f=h[0],O=h[1],x=Object(a.useState)(""),p=Object(o.a)(x,2),m=p[0],y=p[1],w=Object(a.useState)(!1),C=Object(o.a)(w,2),k=C[0],S=C[1],L=Object(v.a)(),E=Object(a.useState)(0),N=Object(o.a)(E,2),T=N[0],I=N[1],R=function(){return I(T+1)};Object(a.useEffect)((function(){f||Ye.get("/api/v1/category/").then((function(e){return e.data})).then((function(e){return e.length>0&&"Default"===e[0].name&&e.shift(),e})).then((function(e){return s(e)}))}),[T]);var D=function(){O(!1)};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(_e.a,{onDragEnd:function(e){e.destination&&s(function(e,t,n){var a=new FormData;a.append("from","".concat(t+1)),a.append("to","".concat(n+1)),Ye.patch("/api/v1/category/reorder",a).finally((function(){return R()}));var c=Array.from(e),r=c.splice(t,1),i=Object(o.a)(r,1)[0];return c.splice(n,0,i),c}(i,e.source.index,e.destination.index))},children:Object(q.jsx)(_e.c,{droppableId:"droppable",children:function(e){return Object(q.jsxs)(ue.a,{ref:e.innerRef,children:[i.map((function(e,t){return Object(q.jsx)(_e.b,{draggableId:e.id.toString(),index:t,children:function(n,a){return Object(q.jsxs)(_.a,Object(Fe.a)(Object(Fe.a)(Object(Fe.a)({ContainerProps:{ref:n.innerRef}},n.draggableProps),n.dragHandleProps),{},{style:(c=a.isDragging,r=n.draggableProps.style,o=L.palette,Object(Fe.a)(Object(Fe.a)({},r),c&&{background:"dark"===o.mode?"#424242":"rgb(235,235,235)"})),ref:n.innerRef,children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(Ze.a,{})}),Object(q.jsx)(Ce.a,{primary:e.name}),Object(q.jsx)(g.a,{onClick:function(){!function(e){y(i[e].name),S(i[e].default),j(e),O(!0)}(t)},size:"large",children:Object(q.jsx)(ge.a,{})}),Object(q.jsx)(g.a,{onClick:function(){!function(e){var t=i[e];Ye.delete("/api/v1/category/".concat(t.id)).finally((function(){return R()}))}(t)},size:"large",children:Object(q.jsx)(at.a,{})})]}));var c,r,o}},e.id)})),e.placeholder]})}})}),Object(q.jsx)($e.a,{color:"primary","aria-label":"add",style:{position:"absolute",bottom:L.spacing(2),right:L.spacing(2)},onClick:function(){y(""),S(!1),j(-1),O(!0)},children:Object(q.jsx)(tt.a,{})}),Object(q.jsxs)(Ee.a,{open:f,onClose:D,children:[Object(q.jsx)(ct.a,{id:"form-dialog-title",children:-1===d?"New Catalog":"Edit Catalog"}),Object(q.jsxs)(Te.a,{children:[Object(q.jsx)(Re.a,{autoFocus:!0,margin:"dense",id:"name",label:"Category Name",type:"text",fullWidth:!0,value:m,onChange:function(e){return y(e.target.value)}}),Object(q.jsx)(it.a,{control:Object(q.jsx)(rt.a,{checked:k,onChange:function(e){return S(e.target.checked)},color:"default"}),label:"Default category when adding new manga to library"})]}),Object(q.jsxs)(Ne.a,{children:[Object(q.jsx)(Le.a,{onClick:D,color:"primary",children:"Cancel"}),Object(q.jsx)(Le.a,{onClick:function(){O(!1);var e=new FormData;if(e.append("name",m),e.append("default",k.toString()),-1===d)Ye.post("/api/v1/category/",e).finally((function(){return R()}));else{var t=i[d];Ye.patch("/api/v1/category/".concat(t.id),e).finally((function(){return R()}))}},color:"primary",children:"Submit"})]})]})]})}var st=n(52),ut=n.n(st),lt=n(79),dt=n(81),jt=n(340),bt=n(359),ht=n(355);function ft(e){return Object(q.jsx)(jt.a,Object(Fe.a)(Object(Fe.a)({},e),{},{direction:"up"}))}function Ot(e){var t=e.message,n=e.severity,a=c.a.useState(!0),r=Object(o.a)(a,2),i=r[0],s=r[1],u=function(){s(!1)};return Object(q.jsx)(bt.a,{open:i,onClose:u,autoHideDuration:3e3,TransitionComponent:ft,message:"I love snacks",children:Object(q.jsx)(ht.a,{elevation:6,variant:"filled",onClose:u,severity:n,children:t})})}function xt(e,t){var n=Math.floor(1e3*Math.random()),a=document.createElement("div");a.id="alert-".concat(n),document.body.appendChild(a),i.a.render(Object(q.jsx)(Ot,{message:e,severity:t}),a),setTimeout((function(){return function(e){var t=document.querySelector("#".concat(e));i.a.unmountComponentAtNode(t),document.body.removeChild(t)}(a.id)}),3500)}function pt(){var e=Object(a.useContext)(J),t=e.setTitle,n=e.setAction;Object(a.useEffect)((function(){t("Backup"),n(Object(q.jsx)(q.Fragment,{}))}),[]);var c=Ye.defaults.baseURL,r=function(e){if(e.name.toLowerCase().endsWith("proto.gz")){var t=new FormData;t.append("backup.proto.gz",e),xt("Restoring backup....","info"),Ye.post("/api/v1/backup/import/file",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){return xt("Backup restore finished!","success")})).catch((function(){return xt("Backup restore failed!","error")}))}else e.name.toLowerCase().endsWith("json")?xt("legacy backups are not supported!","error"):xt("invalid file type!","error")},i=function(){var e=Object(lt.a)(ut.a.mark((function e(t){var n;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(dt.a)(t);case 3:n=e.sent,r(n[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(e){e.preventDefault()};return Object(a.useEffect)((function(){document.addEventListener("drop",i),document.addEventListener("dragover",o);var e=document.getElementById("backup-file");return null===e||void 0===e||e.addEventListener("change",function(){var e=Object(lt.a)(ut.a.mark((function e(t){var n;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(dt.a)(t);case 2:n=e.sent,r(n[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){document.removeEventListener("drop",i),document.removeEventListener("dragover",o)}}),[]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(ue.a,{sx:{padding:0},children:[Object(q.jsx)(Be,{to:"".concat(c,"/api/v1/backup/export/file"),directLink:!0,children:Object(q.jsx)(Ce.a,{primary:"Create Backup",secondary:"Backup library as a Tachiyomi backup"})}),Object(q.jsx)(_.a,{button:!0,onClick:function(){var e;return null===(e=document.getElementById("backup-file"))||void 0===e?void 0:e.click()},children:Object(q.jsx)(Ce.a,{primary:"Restore Backup",secondary:"You can also drag and drop the backup file here to restore"})})]}),Object(q.jsx)("input",{type:"file",id:"backup-file",style:{display:"none"}})]})}var gt=n(386),mt=n(352);function vt(e){return JSON.parse(JSON.stringify(e))}var yt=["(\uff65o\uff65;)","\u03a3(\u0ca0_\u0ca0)","\u0ca5_\u0ca5","(\u02d8\uff65_\uff65\u02d8)","(\uff1b\uffe3\u0414\uffe3)","(\uff65\u0414\uff65\u3002"];function wt(){var e=Math.floor(Math.random()*yt.length);return yt[e]}function Ct(e){var t=e.message,n=e.messageExtra,a=Object(v.a)(),c=Object(m.a)(a.breakpoints.down("sm"));return Object(q.jsxs)(K.a,{sx:{position:"absolute",left:"calc(50% + ".concat(c?"0px":a.spacing(4),")"),top:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[Object(q.jsx)(p.a,{variant:"h3",gutterBottom:!0,children:wt()}),Object(q.jsx)(p.a,{variant:"h5",children:t}),n]})}function kt(e){var t=e.children,n=e.index,a=e.currentIndex;return Object(q.jsx)("div",{role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(n),children:a===n&&t})}Ct.defaultProps={messageExtra:void 0};var St,Lt=n(62),Et=n.n(Lt),Nt=n(383);function Tt(){var e=Object(l.e)("downloaded",l.a),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(l.e)("unread",l.a),r=Object(o.a)(c,2),i=r[0],s=r[1],u=Object(l.e)("query",l.d),d=Object(o.a)(u,2);return{downloaded:n,setDownloaded:a,unread:i,setUnread:s,query:d[0],setQuery:d[1],active:!(void 0==i)||!(void 0==n)}}function It(e){switch(e){case!0:return St.SELECTED;case!1:return St.INTERMEDIATE;default:return St.UNSELECTED}}function Rt(e){switch(e){case St.SELECTED:return St.INTERMEDIATE;case St.INTERMEDIATE:return St.UNSELECTED;case St.UNSELECTED:default:return St.SELECTED}}!function(e){e[e.SELECTED=0]="SELECTED",e[e.INTERMEDIATE=1]="INTERMEDIATE",e[e.UNSELECTED=2]="UNSELECTED"}(St||(St={}));var Dt=function(e){var t=e.name,n=e.checked,c=e.onChange,r=Object(a.useState)(It(n)),i=Object(o.a)(r,2),s=i[0],u=i[1];Object(a.useEffect)((function(){return u(It(n))}),[n]);var l=Object(X.a)(Object(q.jsx)(q.Fragment,{children:Object(q.jsx)("path",{d:"M 19 6.41 L 13.41 12 L 19 17.59 L 17.59 19 L 12 13.41 L 6.41 19 V 19 H 6.41 L 5 17.59 L 11 12 L 5 6.41 L 6.41 5 L 12 10.59 L 17.59 5 L 19 6.41 M 5 5 m 0 -2 H 5 c -1.1 0 -2 0.9 -2 2 v 14 c 0 1.1 0.9 2 2 2 h 14 c 1.1 0 2 -0.9 2 -2 V 5 c 0 -1.1 -0.9 -2 -2 -2 z "})}),"CancelBox");return Object(q.jsx)(rt.a,{name:t,checked:s===St.SELECTED,indeterminate:s===St.INTERMEDIATE,indeterminateIcon:Object(q.jsx)(l,{}),onChange:function(e){u(Rt(s)),c&&c(function(e){switch(e){case St.SELECTED:return!0;case St.INTERMEDIATE:return!1;default:case St.UNSELECTED:return}}(Rt(s)),e.currentTarget.name)},className:"".concat(s)})};function Pt(){var e=Tt(),t=e.downloaded,n=e.setDownloaded,a=e.unread,c=e.setUnread;return Object(q.jsxs)(K.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(q.jsx)(it.a,{control:Object(q.jsx)(Dt,{name:"Unread",checked:a,onChange:c}),label:"Unread"}),Object(q.jsx)(it.a,{control:Object(q.jsx)(Dt,{name:"Downloaded",checked:t,onChange:n}),label:"Downloaded"})]})}function Ft(){var e=c.a.useState(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Tt().active;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(g.a,{onClick:function(){return a(!n)},color:r?"warning":"default",children:Object(q.jsx)(Et.a,{})}),Object(q.jsx)(Nt.a,{anchor:"bottom",open:n,onClose:function(){return a(!1)},PaperProps:{style:{maxWidth:600,padding:"1em",marginLeft:"auto",marginRight:"auto"}},children:Object(q.jsx)(Pt,{})})]})}var Bt=n(363),zt=n(384),At=n(385);function Wt(e){var t=e.src,n=e.alt,c=e.onImageLoad,r=e.imgRef,i=e.spinnerStyle,s=e.imgStyle,u=Object(a.useState)(""),l=Object(o.a)(u,2),d=l[0],j=l[1];return Object(a.useEffect)((function(){var e=new Image;return e.src=t,e.onload=function(){j(t),null===c||void 0===c||c()},e.onerror=function(){j("/notFound.svg")},function(){e.onload=null,e.onerror=null}}),[t]),0===d.length?Object(q.jsx)(K.a,{sx:i,children:Object(q.jsx)(Xe.a,{thickness:5})}):"Not Found"===d?Object(q.jsx)(K.a,{sx:i}):Object(q.jsx)("img",{style:s,ref:r,src:d,alt:n})}Wt.defaultProps={spinnerStyle:{},imgStyle:{},onImageLoad:function(){},imgRef:void 0};var Ht=Object($.a)("div")({position:"absolute",bottom:0,width:"100%",height:"30%",background:"linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 100%)"}),Ut=Object($.a)("div")({position:"absolute",bottom:0,width:"100%",height:"20%",background:"linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 100%)"}),Mt=Object($.a)(p.a)({position:"absolute",bottom:0,padding:"0.5em",color:"white",fontSize:"1.05rem",textShadow:"0px 0px 3px #000000"}),Vt=Object($.a)("div")({display:"flex",position:"absolute",top:5,left:5,height:"fit-content",borderRadius:"5px",overflow:"hidden","& p":{color:"white",padding:"0.1em",paddingInline:"0.2em",fontSize:"1.05rem"}}),qt=function(e,t){var n=e.substr(0,t-"...".length);return n.length<e.length?n+"...":e},Jt=c.a.forwardRef((function(e,t){var n=e.manga,a=n.id,c=n.title,r=n.thumbnailUrl,i=n.downloadCount,u=n.unreadCount,l=se("serverBaseURL",""),d=Object(o.a)(l,1)[0],j=se("useCache",!0),b=Object(o.a)(j,1)[0];return Object(q.jsx)(Bt.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:Object(q.jsx)(s.b,{to:"/manga/".concat(a,"/"),children:Object(q.jsx)(zt.a,{sx:{aspectRatio:"225/350",display:"flex"},ref:t,children:Object(q.jsxs)(At.a,{sx:{position:"relative",height:"100%"},children:[Object(q.jsxs)(Vt,{children:[u>0&&Object(q.jsx)(p.a,{sx:{backgroundColor:"primary.dark"},children:u}),i>0&&Object(q.jsx)(p.a,{sx:{backgroundColor:"success.dark"},children:i})]}),Object(q.jsx)(Wt,{alt:c,src:"".concat(d).concat(r,"?useCache=").concat(b),imgStyle:{height:"100%",width:"100%",objectFit:"cover"},spinnerStyle:{display:"grid",placeItems:"center"}}),Object(q.jsx)(Ht,{}),Object(q.jsx)(Ut,{}),Object(q.jsx)(Mt,{children:qt(c,61)})]})})})})}));function Yt(e){var t,n=e.mangas,c=e.isLoading,r=e.message,i=e.messageExtra,o=e.hasNextPage,s=e.lastPageNum,u=e.setLastPageNum,l=Object(a.useRef)(null),d=function(){if(l.current){var e=l.current.getBoundingClientRect();(e.y+e.height)/window.innerHeight<2&&o&&u(s+1)}};return Object(a.useEffect)((function(){return window.addEventListener("scroll",d,!0),function(){window.removeEventListener("scroll",d,!0)}}),[o,n]),t=0===n.length?c?Object(q.jsx)(Ge,{}):Object(q.jsx)(Ct,{message:r,messageExtra:i}):n.map((function(e,t){return t===n.length-1?Object(q.jsx)(Jt,{manga:e,ref:l},e.id):Object(q.jsx)(Jt,{manga:e},e.id)})),Object(q.jsx)(Bt.a,{container:!0,spacing:1,style:{margin:0,width:"100%",padding:"5px"},children:t})}Yt.defaultProps={message:"",messageExtra:void 0};function Xt(e){var t=e.mangas,n=e.isLoading,a=e.hasNextPage,c=e.lastPageNum,r=e.setLastPageNum,i=e.message,o=Tt(),s=o.active,u=o.query,l=function(e){var t=Tt(),n=t.downloaded,a=t.unread,c=t.query;return e.filter((function(e){return function(e,t){var n=t.downloadCount;switch(e){case!0:return!!n&&n>=1;case!1:return 0===n;default:return!0}}(n,e)&&function(e,t){var n=t.unreadCount;switch(e){case!0:return!!n&&n>=1;case!1:return 0===n;default:return!0}}(a,e)&&function(e,t){var n=t.title;return!e||n.toLowerCase().includes(e.toLowerCase())}(c,e)}))}(t),d=(s||u)&&0===l.length&&t.length>0;return Object(q.jsx)(Yt,{mangas:l,isLoading:n,hasNextPage:a,lastPageNum:c,setLastPageNum:r,message:d?"There are no Manga matching this filter":i})}var Gt=n(108),Kt=n.n(Gt),_t=n(376),Qt=n(182),Zt=n.n(Qt);function $t(){var e=Object(l.e)("query",l.d),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!!n),s=Object(o.a)(i,2),u=s[0],d=s[1],j=c.a.useRef();var b=function(){d(!0),setTimeout((function(){j&&j.current&&j.current.focus()}))},h=function(e){("F3"===e.code||e.ctrlKey&&"KeyF"===e.code)&&(e.preventDefault(),b())};return Object(a.useEffect)((function(){return window.addEventListener("keydown",h),function(){window.removeEventListener("keydown",h)}}),[h]),Object(q.jsx)(q.Fragment,{children:u?Object(q.jsx)(_t.a,{value:n||"",onChange:function(e){r(""===e.target.value?void 0:e.target.value)},onBlur:function(){n||d(!1)},inputRef:j,endAdornment:Object(q.jsx)(g.a,{onClick:function(){r(null),d(!1)},children:Object(q.jsx)(Zt.a,{})})}):Object(q.jsx)(g.a,{onClick:b,children:Object(q.jsx)(Kt.a,{})})})}function en(){var e=Object(a.useContext)(J),t=e.setTitle,n=e.setAction;Object(a.useEffect)((function(){t("Library"),n(Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)($t,{}),Object(q.jsx)(Ft,{})]}))}),[]);var c,r=Object(a.useState)(),i=Object(o.a)(r,2),s=i[0],u=i[1],d=Object(a.useState)(0),j=Object(o.a)(d,2),b=j[0],h=j[1],f=Object(l.e)("tab",l.b),O=Object(o.a)(f,2),x=O[0],p=O[1],g=Object(a.useState)(1),m=Object(o.a)(g,2),v=m[0],y=m[1],w=function(e){h(e),p(e)};if(Object(a.useEffect)((function(){Ye.get("/api/v1/category").then((function(e){return e.data})).then((function(e){var t=e.map((function(e){return{category:e,mangas:[],isFetched:!1}}));u(t),t.length>0&&(void 0!==x&&null!==x&&!Number.isNaN(x)&&e.some((function(e){return e.order===Number(x)}))?w(Number(x)):w(t[0].category.order))}))}),[]),Object(a.useEffect)((function(){void 0!==s&&s.forEach((function(e,t){e.category.order!==b||e.isFetched||Ye.get("/api/v1/category/".concat(e.category.id)).then((function(e){return e.data})).then((function(e){var n=vt(s);n[t].mangas=e,n[t].isFetched=!0,u(n)}))}))}),[null===s||void 0===s?void 0:s.length,b]),void 0===s)return Object(q.jsx)(Ge,{});if(0===s.length)return Object(q.jsx)(Ct,{message:"Your Library is empty"});if(s.length>1){var C=s.map((function(e){return Object(q.jsx)(gt.a,{label:e.category.name,value:e.category.order})})),k=s.map((function(e){return Object(q.jsx)(kt,{index:e.category.order,currentIndex:b,children:Object(q.jsx)(Xt,{mangas:e.mangas,hasNextPage:!1,lastPageNum:v,setLastPageNum:y,message:"Category is Empty",isLoading:!e.isFetched})})})),S=window.innerWidth<160*s.length;c=Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(mt.a,{value:b,onChange:function(e,t){return w(t)},indicatorColor:"primary",textColor:"primary",centered:!S,variant:S?"scrollable":"fullWidth",scrollButtons:!0,allowScrollButtonsMobile:!0,children:C},b),k]})}else{var L=1===s.length?s[0].mangas:[];c=Object(q.jsx)(Xt,{mangas:L,hasNextPage:!1,lastPageNum:v,setLastPageNum:y,message:"Your Library is empty",isLoading:!s[0].isFetched})}return c}var tn=n(15);function nn(){var e=Object(a.useContext)(J),t=e.setTitle,n=e.setAction;Object(a.useEffect)((function(){t("Search"),n(Object(q.jsx)(q.Fragment,{}))}),[]);var r=Object(u.i)().sourceId,i=Object(a.useState)(!1),s=Object(o.a)(i,2),l=s[0],d=s[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),h=b[0],f=b[1],O=Object(a.useState)(""),x=Object(o.a)(O,2),p=x[0],g=x[1],m=Object(a.useState)(""),v=Object(o.a)(m,2),y=v[0],w=v[1],C=Object(a.useState)(!1),k=Object(o.a)(C,2),S=k[0],L=k[1],E=Object(a.useState)(1),N=Object(o.a)(E,2),T=N[0],I=N[1],R=Object(a.useState)(!1),D=Object(o.a)(R,2),P=D[0],F=D[1],B=c.a.createRef();function z(){if(B.current){var e=B.current.value;""===e?d(!0):(d(!1),w(e),F(!0),f([]),I(1))}}return Object(a.useEffect)((function(){Ye.get("/api/v1/source/".concat(r)).then((function(e){return e.data})).then((function(e){return t("Search: ".concat(e.name))}))}),[]),Object(a.useEffect)((function(){y.length>0&&Ye.get("/api/v1/source/".concat(r,"/search"),{params:{searchTerm:y,pageNum:T}}).then((function(e){return e.data})).then((function(e){e.mangaList.length>0?(f([].concat(Object(tn.a)(h),Object(tn.a)(e.mangaList.map((function(e){return{title:e.title,thumbnailUrl:e.thumbnailUrl,id:e.id}}))))),L(e.hasNextPage)):g("Search query returned nothing."),F(!1)}))}),[y,T]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(K.a,{sx:{margin:"20px 10px",display:"flex",width:"400px",maxWidth:"calc(100% - 20px)"},children:[Object(q.jsx)(Re.a,{inputRef:B,error:l,sx:{mx:1,flexGrow:1},id:"filled-basic",variant:"filled",size:"small",label:"Search text..",onKeyDown:function(e){return"Enter"===e.key&&z()}}),Object(q.jsx)(Le.a,{variant:"contained",color:"primary",onClick:function(){return z()},children:"Search"})]}),y.length>0&&Object(q.jsx)(Yt,{mangas:h,message:p,hasNextPage:S,lastPageNum:T,setLastPageNum:I,isLoading:P})]})}function an(e){return"Switch"===e?Se.a:rt.a}function cn(e){var t=e.title,n=e.summary,r=e.currentValue,i=e.updateValue,s=e.type,u=Object(a.useState)(r),l=Object(o.a)(u,2),d=l[0],j=l[1];return Object(a.useEffect)((function(){j(r)}),[r]),Object(q.jsxs)(_.a,{children:[Object(q.jsx)(Ce.a,{primary:t,secondary:n}),Object(q.jsx)(ke.a,{children:c.a.createElement(an(s),{edge:"end",checked:d,onChange:function(){i(!r),j(!r)}})})]})}function rn(e){return Object(q.jsx)(cn,Object(Fe.a)(Object(Fe.a)({},e),{},{type:"Checkbox"}))}function on(e){return Object(q.jsx)(cn,Object(Fe.a)(Object(Fe.a)({},e),{},{type:"Switch"}))}var sn=n(341),un=n(357);function ln(e){var t=e.value,n=e.open,a=e.onClose,r=e.options,i=e.title,s=c.a.useState(t),u=Object(o.a)(s,2),l=u[0],d=u[1],j=c.a.useRef(null);c.a.useEffect((function(){n||d(t)}),[t,n]);return Object(q.jsxs)(Ee.a,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435}},maxWidth:"xs",TransitionProps:{onEntering:function(){null!=j.current&&(null===j||void 0===j||j.current.focus())}},open:n,children:[Object(q.jsx)(ct.a,{children:i}),Object(q.jsx)(Te.a,{dividers:!0,children:Object(q.jsx)(sn.a,{ref:j,value:l,onChange:function(e){d(e.target.value)},children:r.map((function(e){return Object(q.jsx)(it.a,{value:e,control:Object(q.jsx)(un.a,{}),label:e},e)}))})}),Object(q.jsxs)(Ne.a,{children:[Object(q.jsx)(Le.a,{autoFocus:!0,onClick:function(){a(null)},children:"Cancel"}),Object(q.jsx)(Le.a,{onClick:function(){a(l)},children:"Ok"})]})]})}function dn(e){var t=e.title,n=e.summary,c=e.currentValue,r=e.updateValue,i=e.entryValues,s=e.entries,u=Object(a.useState)(c),l=Object(o.a)(u,2),d=l[0],j=l[1],b=Object(a.useState)(!1),h=Object(o.a)(b,2),f=h[0],O=h[1];Object(a.useEffect)((function(){j(c)}),[c]);var x=function(e){var t=i.indexOf(e);return s[t]};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(_.a,{button:!0,onClick:function(){return O(!0)},children:Object(q.jsx)(Ce.a,{primary:t,secondary:"%s"===n?x(c):n})}),Object(q.jsx)(ln,{title:t,open:f,onClose:function(e){null!==e&&(r(function(e){var t=s.indexOf(e);return i[t]}(e)),j(e)),O(!1)},value:x(d),options:s})]})}function jn(e){var t=e.title,n=e.summary,c=e.dialogTitle,r=e.dialogMessage,i=e.currentValue,s=e.updateValue,u=Object(a.useState)(i),l=Object(o.a)(u,2),d=l[0],j=l[1],b=Object(a.useState)(!1),h=Object(o.a)(b,2),f=h[0],O=h[1],x=function(){O(!1),j(i)};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(_.a,{button:!0,onClick:function(){return O(!0)},children:Object(q.jsx)(Ce.a,{primary:t,secondary:n})}),Object(q.jsxs)(Ee.a,{open:f,onClose:x,children:[Object(q.jsx)(ct.a,{children:c}),Object(q.jsxs)(Te.a,{children:[Object(q.jsx)(Ie.a,{children:r}),Object(q.jsx)(Re.a,{autoFocus:!0,margin:"dense",id:"name",type:"text",fullWidth:!0,value:d,onChange:function(e){return j(e.target.value)}})]}),Object(q.jsxs)(Ne.a,{children:[Object(q.jsx)(Le.a,{onClick:x,color:"primary",children:"Cancel"}),Object(q.jsx)(Le.a,{onClick:function(){O(!1),s(d)},color:"primary",children:"OK"})]})]})]})}var bn=n(281);function hn(e){var t=e.selectedValues,n=e.open,a=e.onClose,r=e.values,i=e.title,s=c.a.useState(t),u=Object(o.a)(s,2),l=u[0],d=u[1];c.a.useEffect((function(){n||d(t)}),[t,n]);return Object(q.jsxs)(Ee.a,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435}},maxWidth:"xs",open:n,children:[Object(q.jsx)(ct.a,{children:i}),Object(q.jsx)(Te.a,{dividers:!0,children:Object(q.jsx)(bn.a,{children:r.map((function(e){return Object(q.jsx)(it.a,{control:Object(q.jsx)(rt.a,{checked:l.some((function(t){return e===t})),onChange:function(t){return function(e,t){var n=e.target.checked,a=l.some((function(e){return t===e}));if(n){if(!a){var c=vt(l);c.push(t),d(c)}}else if(a){var r=vt(l),i=r.indexOf(t);r.splice(i,1),d(r)}}(t,e)},color:"default"}),label:e},e)}))})}),Object(q.jsxs)(Ne.a,{children:[Object(q.jsx)(Le.a,{autoFocus:!0,onClick:function(){a(null)},children:"Cancel"}),Object(q.jsx)(Le.a,{onClick:function(){a(l)},children:"Ok"})]})]})}function fn(e){var t=e.title,n=e.summary,c=e.currentValue,r=e.updateValue,i=e.entryValues,s=e.entries,u=Object(a.useState)(c),l=Object(o.a)(u,2),d=l[0],j=l[1],b=Object(a.useState)(!1),h=Object(o.a)(b,2),f=h[0],O=h[1];Object(a.useEffect)((function(){j(c)}),[c]);var x;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(_.a,{button:!0,onClick:function(){return O(!0)},children:Object(q.jsx)(Ce.a,{primary:t,secondary:n})}),Object(q.jsx)(hn,{title:t,open:f,onClose:function(e){null!==e&&(r(e.map((function(e){var t=s.indexOf(e);return i[t]}))),j(e)),O(!1)},selectedValues:(x=d,x.map((function(e){var t=i.indexOf(e);return s[t]}))),values:s})]})}function On(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useContext)(J),s=i.setTitle,l=i.setAction,d=Object(a.useState)(0),j=Object(o.a)(d,2),b=j[0],h=j[1];Object(a.useEffect)((function(){s("Source Configuration"),l(Object(q.jsx)(q.Fragment,{}))}),[]);var f=Object(u.i)().sourceId;Object(a.useEffect)((function(){Ye.get("/api/v1/source/".concat(f,"/preferences")).then((function(e){return e.data})).then((function(e){return r(e)}))}),[b]);var O=function(e,t){switch(n[e].props.defaultValueType){case"Set<String>":return JSON.stringify(t);default:return t.toString()}},x=function(e){return function(t){Ye.post("/api/v1/source/".concat(f,"/preferences"),JSON.stringify({position:e,value:O(e,t)})).then((function(){return h(b+1)}))}};return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(ue.a,{sx:{padding:0},children:n.map((function(e,t){var n=vt(e.props);return n.updateValue=x(t),n.key=t,c.a.createElement(function(e){switch(e){case"CheckBoxPreference":return rn;case"SwitchPreferenceCompat":return on;case"ListPreference":return dn;case"EditTextPreference":return jn;case"MultiSelectListPreference":return fn;default:return rn}}(e.type),n)}))})})}var xn=n(5),pn=n(350),gn=n(184),mn=n.n(gn),vn=n(185),yn=n.n(vn);function wn(e){var t=e.open,n=e.setOpen,c=e.mangaId,r=Object(a.useState)([]),i=Object(o.a)(r,2),s=i[0],u=i[1],l=Object(a.useState)(0),d=Object(o.a)(l,2),j=d[0],b=d[1];Object(a.useEffect)((function(){var e=[];Ye.get("/api/v1/category/").then((function(e){return e.data})).then((function(t){t.length>0&&"Default"===t[0].name&&t.shift(),e=t.map((function(e){return{category:e,selected:!1}}))})).then((function(){Ye.get("/api/v1/manga/".concat(c,"/category/")).then((function(e){return e.data})).then((function(t){t.forEach((function(t){e[t.order-1].selected=!0})),u(e)}))}))}),[j,t]);var h=function(e,t){(e.target.checked?Ye.get:Ye.delete)("/api/v1/manga/".concat(c,"/category/").concat(t)).then((function(){return b(j+1)}))};return Object(q.jsxs)(Ee.a,{sx:{".MuiDialog-paper":{maxHeight:435,width:"80%"}},maxWidth:"xs",open:t,children:[Object(q.jsx)(ct.a,{children:"Set categories"}),Object(q.jsx)(Te.a,{dividers:!0,children:Object(q.jsxs)(bn.a,{children:[0===s.length&&Object(q.jsxs)("span",{children:["No categories found!",Object(q.jsx)("br",{}),"You should make some from settings."]}),s.map((function(e){return Object(q.jsx)(it.a,{control:Object(q.jsx)(rt.a,{checked:e.selected,onChange:function(t){return h(t,e.category.id)},color:"default"}),label:e.category.name},e.category.id)}))]})}),Object(q.jsxs)(Ne.a,{children:[Object(q.jsx)(Le.a,{autoFocus:!0,onClick:function(){n(!1)},color:"primary",children:"Cancel"}),Object(q.jsx)(Le.a,{onClick:function(){n(!1)},color:"primary",children:"Ok"})]})]})}function Cn(e){return e||"UNKNOWN"}function kn(e){var t=Object(a.useContext)(J).setAction,n=e.manga,c=Object(a.useState)(n.inLibrary?"In Library":"Add To Library"),r=Object(o.a)(c,2),i=r[0],s=r[1],u=Object(a.useState)(!1),l=Object(o.a)(u,2),d=l[0],j=l[1];Object(a.useEffect)((function(){t("In Library"===i?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(g.a,{onClick:function(){return j(!0)},"aria-label":"display more actions",edge:"end",color:"inherit",size:"large",children:Object(q.jsx)(Et.a,{})}),Object(q.jsx)(wn,{open:d,setOpen:j,mangaId:n.id})]}):Object(q.jsx)(q.Fragment,{}))}),[i,d]);var b,h=se("serverBaseURL",""),f=Object(o.a)(h,1)[0],O=se("useCache",!0),x=Object(o.a)(O,1)[0],p=function(e){return Object(pn.a)((function(t){var n;return{root:Object(xn.a)({width:"100%"},t.breakpoints.up("md"),{position:"sticky",top:"64px",left:"0px",width:"50vw",height:"calc(100vh - 64px)",alignSelf:"flex-start",overflowY:"auto"}),top:{padding:"10px"},leftRight:{display:"flex"},leftSide:{"& img":{borderRadius:4,maxWidth:"100%",minWidth:"100%",height:"auto"},maxWidth:"50%"},rightSide:Object(xn.a)({marginLeft:15,maxWidth:"100%","& span":{fontWeight:"400"}},t.breakpoints.up("lg"),{fontSize:"1.3em"}),buttons:{display:"flex",justifyContent:"space-around","& button":{color:"In Library"===e?"#2196f3":"inherit"},"& span":{display:"block",fontSize:"0.85em"},"& a":{textDecoration:"none",color:"#858585","& button":{color:"inherit"}}},bottom:(n={paddingLeft:"10px",paddingRight:"10px"},Object(xn.a)(n,t.breakpoints.up("md"),{fontSize:"1.2em"}),Object(xn.a)(n,t.breakpoints.up("lg"),{fontSize:"1.3em"}),n),description:{"& h4":{marginTop:"1em",marginBottom:0},"& p":{textAlign:"justify",textJustify:"inter-word"}},genre:{display:"flex",flexWrap:"wrap","& h5":{border:"2px solid #2196f3",borderRadius:"1.13em",marginRight:"1em",marginTop:0,marginBottom:"10px",padding:"0.3em",color:"#2196f3"}}}}))}(i)();function m(){"Add To Library"===i?Ye.get("/api/v1/manga/".concat(n.id,"/library/")).then((function(){s("In Library")})):Ye.delete("/api/v1/manga/".concat(n.id,"/library/")).then((function(){s("Add To Library")}))}return Object(q.jsxs)("div",{className:p.root,children:[Object(q.jsxs)("div",{className:p.top,children:[Object(q.jsxs)("div",{className:p.leftRight,children:[Object(q.jsx)("div",{className:p.leftSide,children:Object(q.jsx)("img",{src:"".concat(f).concat(n.thumbnailUrl,"?useCache=").concat(x),alt:"Manga Thumbnail"})}),Object(q.jsxs)("div",{className:p.rightSide,children:[Object(q.jsx)("h1",{children:n.title}),Object(q.jsxs)("h3",{children:["Author: ",Object(q.jsx)("span",{children:Cn(n.author)})]}),Object(q.jsxs)("h3",{children:["Artist: ",Object(q.jsx)("span",{children:Cn(n.artist)})]}),Object(q.jsx)("h3",{children:"Status: ".concat(n.status)}),Object(q.jsx)("h3",{children:"Source: ".concat((b=n.source,null!==b.displayName?b.displayName:b.id))})]})]}),Object(q.jsxs)("div",{className:p.buttons,children:[Object(q.jsx)("div",{children:Object(q.jsxs)(g.a,{onClick:function(){return m()},size:"large",children:["In Library"===i&&Object(q.jsx)(Pe.a,{}),"In Library"!==i&&Object(q.jsx)(mn.a,{}),Object(q.jsx)("span",{children:i})]})}),Object(q.jsx)("a",{href:n.realUrl,target:"_blank",children:Object(q.jsxs)(g.a,{size:"large",children:[Object(q.jsx)(yn.a,{}),Object(q.jsx)("span",{children:"Open Site"})]})})]})]}),Object(q.jsxs)("div",{className:p.bottom,children:[Object(q.jsxs)("div",{className:p.description,children:[Object(q.jsx)("h4",{children:"About"}),Object(q.jsx)("p",{children:n.description})]}),Object(q.jsx)("div",{className:p.genre,children:n.genre.map((function(e){return Object(q.jsx)("h5",{children:e},e)}))})]})]})}var Sn=n(110),Ln=n(342),En=n(343),Nn=n(344),Tn=[["source","By Source"],["fetchedAt","By Fetch date"]];function In(e){var t=e.options,n=e.optionsDispatch,c=Object(a.useState)(!1),r=Object(o.a)(c,2),i=r[0],s=r[1],u=Object(a.useState)(0),l=Object(o.a)(u,2),d=l[0],j=l[1],b=Object(a.useCallback)((function(e,t){n({type:"filter",filterType:t.toLowerCase(),filterValue:e})}),[]);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(g.a,{onClick:function(){return s(!i)},color:t.active?"warning":"default",children:Object(q.jsx)(Et.a,{})}),Object(q.jsx)(Nt.a,{anchor:"bottom",open:i,onClose:function(){return s(!1)},PaperProps:{style:{maxWidth:600,padding:"1em",marginLeft:"auto",marginRight:"auto",minHeight:"150px"}},children:Object(q.jsxs)(K.a,{children:[Object(q.jsxs)(mt.a,{value:d,variant:"fullWidth",onChange:function(e,t){return j(t)},indicatorColor:"primary",textColor:"primary",children:[Object(q.jsx)(gt.a,{value:0,label:"Filter"}),Object(q.jsx)(gt.a,{value:1,label:"Sort"}),Object(q.jsx)(gt.a,{value:2,label:"Display"})]},d),Object(q.jsx)(kt,{index:0,currentIndex:d,children:Object(q.jsxs)(K.a,{sx:{display:"flex",flexDirection:"column",minHeight:"150px"},children:[Object(q.jsx)(it.a,{control:Object(q.jsx)(Dt,{name:"Unread",checked:t.unread,onChange:b}),label:"Unread"}),Object(q.jsx)(it.a,{control:Object(q.jsx)(Dt,{name:"Downloaded",checked:t.downloaded,onChange:b}),label:"Downloaded"}),Object(q.jsx)(it.a,{control:Object(q.jsx)(Dt,{name:"Bookmarked",checked:t.bookmarked,onChange:b}),label:"Bookmarked"})]})}),Object(q.jsx)(kt,{index:1,currentIndex:d,children:Object(q.jsx)(K.a,{sx:{display:"flex",flexDirection:"column",minHeight:"150px"},children:Tn.map((function(e){return Object(q.jsxs)(Ln.a,{direction:"row",alignItems:"center",spacing:"2",sx:{py:1,height:42},onClick:function(){return e[0]!==t.sortBy?n({type:"sortBy",sortBy:e[0]}):n({type:"sortReverse"})},children:[Object(q.jsx)(K.a,{sx:{height:24,width:24},children:t.sortBy===e[0]&&(t.reverse?Object(q.jsx)(En.a,{color:"primary"}):Object(q.jsx)(Nn.a,{color:"primary"}))}),Object(q.jsx)(p.a,{children:e[1]})]})}))})}),Object(q.jsx)(kt,{index:2,currentIndex:d,children:Object(q.jsx)(Ln.a,{flexDirection:"column",sx:{minHeight:"150px"},children:Object(q.jsxs)(sn.a,{name:"chapter-title-display",onChange:function(){return n({type:"showChapterNumber"})},value:t.showChapterNumber,children:[Object(q.jsx)(it.a,{label:"By Source Title",value:"title",control:Object(q.jsx)(un.a,{checked:!t.showChapterNumber})}),Object(q.jsx)(it.a,{label:"By Chapter Number",value:"chapterNumber",control:Object(q.jsx)(un.a,{checked:t.showChapterNumber})})]})})})]})})]})}var Rn=n(387),Dn=n(187),Pn=n.n(Dn),Fn=n(197),Bn=n(364),zn=n(186),An=n.n(zn);function Wn(e){var t=Object(v.a)(),n=e.chapter,a=e.triggerChaptersUpdate,r=e.downloadStatusString,i=e.showChapterNumber,u=n.uploadDate&&new Date(n.uploadDate).toLocaleDateString(),l=c.a.useState(null),d=Object(o.a)(l,2),j=d[0],b=d[1],h=function(){b(null)},f=function(e,t){h();var c=new FormData;c.append(e,t),"read"===e&&c.append("lastPageRead","1"),Ye.patch("/api/v1/manga/".concat(n.mangaId,"/chapter/").concat(n.index),c).then((function(){return a()}))},O="dark"===t.palette.mode?"#acacac":"#b0b0b0";return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)("li",{children:Object(q.jsxs)(zt.a,{sx:{margin:"10px",":hover":{backgroundColor:"action.hover",transition:"background-color 100ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",cursor:"pointer"},":active":{backgroundColor:"action.selected",transition:"background-color 100ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}},children:[Object(q.jsx)(s.b,{to:"/manga/".concat(n.mangaId,"/chapter/").concat(n.index),style:{textDecoration:"none",color:n.read?O:t.palette.text.primary},children:Object(q.jsxs)(Rn.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:2},children:[Object(q.jsx)(K.a,{sx:{display:"flex"},children:Object(q.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(q.jsxs)(p.a,{variant:"h5",component:"h2",children:[Object(q.jsx)("span",{style:{color:t.palette.primary.dark},children:n.bookmarked&&Object(q.jsx)(An.a,{})}),i?"Chapter ".concat(n.chapterNumber):n.name]}),Object(q.jsxs)(p.a,{variant:"caption",display:"block",gutterBottom:!0,children:[n.scanlator,n.scanlator&&" ",u,r]})]})}),Object(q.jsx)(g.a,{"aria-label":"more",onClick:function(e){e.stopPropagation(),e.preventDefault(),b(e.currentTarget)},size:"large",children:Object(q.jsx)(Pn.a,{})})]})}),Object(q.jsxs)(Fn.a,{anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:h,children:[r.endsWith("Downloaded")&&Object(q.jsx)(Bn.a,{onClick:function(){Ye.delete("/api/v1/manga/".concat(n.mangaId,"/chapter/").concat(n.index)).then((function(){return a()})),h()},children:"Delete"}),0===r.length&&Object(q.jsx)(Bn.a,{onClick:function(){Ye.get("/api/v1/download/".concat(n.mangaId,"/chapter/").concat(n.index)),h()},children:"Download"}),Object(q.jsxs)(Bn.a,{onClick:function(){return f("bookmarked",!n.bookmarked)},children:[n.bookmarked&&"Remove bookmark",!n.bookmarked&&"Bookmark"]}),Object(q.jsx)(Bn.a,{onClick:function(){return f("read",!n.read)},children:"Mark as ".concat(n.read?"unread":"read")}),Object(q.jsx)(Bn.a,{onClick:function(){return f("markPrevRead",!0)},children:"Mark previous as Read"})]})]})})})}var Hn={active:!1,unread:void 0,downloaded:void 0,bookmarked:void 0,reverse:!1,sortBy:"source",showChapterNumber:!1};function Un(e,t){switch(t.type){case"filter":var n=!1!==e.unread&&!1!==e.downloaded&&!1!==e.bookmarked;return Object(Fe.a)(Object(Fe.a)({},e),{},Object(xn.a)({active:n},t.filterType,t.filterValue));case"sortBy":return Object(Fe.a)(Object(Fe.a)({},e),{},{sortBy:t.sortBy});case"sortReverse":return Object(Fe.a)(Object(Fe.a)({},e),{},{reverse:!e.reverse});case"showChapterNumber":return Object(Fe.a)(Object(Fe.a)({},e),{},{showChapterNumber:!e.showChapterNumber});default:throw Error("This is not a valid Action")}}var Mn=n(345);function Vn(e){var t=e.chapter,n=t.index,a=t.lastPageRead,c=e.mangaId;return Object(q.jsxs)($e.a,{sx:{position:"fixed",bottom:"2em",right:"3em"},component:s.b,variant:"extended",color:"primary",to:"/manga/".concat(c,"/chapter/").concat(n,"/page/").concat(a),children:[Object(q.jsx)(Mn.a,{}),1===n?"Start":"Resume"]})}var qn=Object($.a)(Sn.a)((function(e){var t=e.theme;return Object(xn.a)({listStyle:"none",padding:0,minHeight:"200px"},t.breakpoints.up("md"),{width:"50vw",height:"calc(100vh - 64px - 48px)",margin:0})})),Jn=JSON.parse(window.localStorage.getItem("serverBaseURL")).replace("http","ws"),Yn={status:"Stopped",queue:[]};function Xn(e){var t=e.id,n=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),s=Object(o.a)(i,2),u=s[0],l=s[1],d=Object(a.useState)(0),j=Object(o.a)(d,2),b=j[0],h=j[1],f=Object(a.useState)(!1),O=Object(o.a)(f,2),x=O[0],p=O[1],g=Object(a.useState)(!1),m=Object(o.a)(g,2),v=m[0],y=m[1],w=Object(a.useCallback)((function(){return h((function(e){return e+1}))}),[]);return Object(a.useEffect)((function(){var t=v&&!x;Ye.get("/api/v1/manga/".concat(e,"/chapters?onlineFetch=").concat(t)).then((function(e){return e.data})).then((function(e){0===e.length&&v&&l(!0),r(e)})).then((function(){t?p(!0):y(!0)}))}),[x,v,b]),[c,w,u]}(t),c=Object(o.a)(n,3),r=c[0],i=c[1],s=c[2],u=Object(a.useState)(),l=Object(o.a)(u,2),d=l[0],j=l[1],b=Object(a.useState)([]),h=Object(o.a)(b,2),f=h[0],O=h[1],x=function(e,t,n){var c=se(t,n),r=Object(o.a)(c,2),i=r[0],s=r[1];return Object(a.useReducer)((function(t,n){var a=e(t,n);return s(a),a}),i)}(Un,"".concat(t,"filterOptions"),Hn),g=Object(o.a)(x,2),m=g[0],v=g[1],y=Object(a.useState)(),w=Object(o.a)(y,2)[1],C=Object(a.useState)(Yn),k=Object(o.a)(C,2),S=k[0].queue,L=k[1];Object(a.useEffect)((function(){var e=new WebSocket("".concat(Jn,"/api/v1/downloads"));return e.onmessage=function(e){var t=JSON.parse(e.data);L(t)},w(e),function(){return e.close()}}),[]),Object(a.useEffect)((function(){i()}),[S.length]);var E=Object(a.useCallback)((function(e){var t="";return e.downloaded&&(t=" \u2022 Downloaded"),S.forEach((function(n){e.index===n.chapterIndex&&e.mangaId===n.mangaId&&(t=" \u2022 Downloading (".concat((100*n.progress).toFixed(2),"%)"))})),t}),[S]);return Object(a.useEffect)((function(){var e=function(e,t){var n=t.active?e.filter((function(e){return function(e,t){var n=t.read;switch(e){case!0:return!n;case!1:return n;default:return!0}}(t.unread,e)&&function(e,t){var n=t.downloaded;switch(e){case!0:return n;case!1:return!n;default:return!0}}(t.downloaded,e)&&function(e,t){var n=t.bookmarked;switch(e){case!0:return n;case!1:return!n;default:return!0}}(t.bookmarked,e)})):Object(tn.a)(e),a="fetchedAt"===t.sortBy?n.sort((function(e,t){return e.fetchedAt-t.fetchedAt})):n;return t.reverse&&a.reverse(),a}(r,m);O(e),j(function(e){for(var t=e.length-1;t>=0;t--)if(!e[t].read)return e[t]}(e))}),[m,r]),Object(a.useEffect)((function(){s&&xt("No chapters found","warning")}),[s]),0===r.length||s?Object(q.jsx)("div",{style:{margin:"10px auto",display:"flex",justifyContent:"center"},children:Object(q.jsx)(Xe.a,{thickness:5})}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Ln.a,{direction:"column",children:[Object(q.jsxs)(K.a,{sx:{display:"flex",justifyContent:"space-between",px:1.5,mt:1},children:[Object(q.jsx)(p.a,{variant:"h5",children:"".concat(f.length," Chapters")}),Object(q.jsx)(In,{options:m,optionsDispatch:v})]}),Object(q.jsx)(qn,{style:{height:"undefined",overflowY:window.innerWidth<900?"visible":"auto"},totalCount:f.length,itemContent:function(e){return Object(q.jsx)(Wn,{showChapterNumber:m.showChapterNumber,chapter:f[e],downloadStatusString:E(f[e]),triggerChaptersUpdate:i})},useWindowScroll:window.innerWidth<900,overscan:.5*window.innerHeight})]}),d&&Object(q.jsx)(Vn,{chapter:d,mangaId:t})]})}function Gn(){var e=Object(a.useContext)(J).setTitle;Object(a.useEffect)((function(){e("Manga")}),[]);var t=Object(u.i)().id,n=Object(a.useState)(),c=Object(o.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){void 0!==r&&r.freshData||Ye.get("/api/v1/manga/".concat(t,"/?onlineFetch=").concat(void 0!==r)).then((function(e){return e.data})).then((function(t){i(t),e(t.title)}))}),[r]),Object(q.jsxs)(K.a,{sx:{display:{md:"flex"},overflow:"hidden"},children:[Object(q.jsx)(Ge,{shouldRender:void 0!==r,component:kn,componentProps:{manga:r}}),Object(q.jsx)(Xn,{id:t})]})}function Kn(e){var t,n,c=Object(a.useContext)(J),r=c.setTitle,i=c.setAction,s=Object(u.g)(),l=Object(u.i)().sourceId,d=Object(a.useState)(!1),j=Object(o.a)(d,2),b=j[0],h=j[1],f=Object(a.useState)([]),O=Object(o.a)(f,2),x=O[0],p=O[1],m=Object(a.useState)(!1),v=Object(o.a)(m,2),y=v[0],w=v[1],C=Object(a.useState)(1),k=Object(o.a)(C,2),S=k[0],L=k[1],E=Object(a.useState)(!1),N=Object(o.a)(E,2),T=N[0],I=N[1];return Object(a.useEffect)((function(){r("Source")}),[]),Object(a.useEffect)((function(){i(Object(q.jsx)(q.Fragment,{children:b&&Object(q.jsx)(g.a,{onClick:function(){return s.push("/sources/".concat(l,"/configure/"))},"aria-label":"display more actions",edge:"end",color:"inherit",size:"large",children:Object(q.jsx)(U.a,{})})}))}),[b]),Object(a.useEffect)((function(){Ye.get("/api/v1/source/".concat(l)).then((function(e){return e.data})).then((function(e){r(e.displayName),h(e.isConfigurable)}))}),[]),Object(a.useEffect)((function(){var t=e.popular?"popular":"latest";Ye.get("/api/v1/source/".concat(l,"/").concat(t,"/").concat(S)).then((function(e){return e.data})).then((function(e){p([].concat(Object(tn.a)(x),Object(tn.a)(e.mangaList.map((function(e){return{title:e.title,thumbnailUrl:e.thumbnailUrl,id:e.id}}))))),w(e.hasNextPage),I(!0)}))}),[S]),T&&(t="No manga was found!","0"===l&&(n=Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("span",{children:"Check out "}),Object(q.jsx)("a",{href:"https://github.com/Suwayomi/Tachidesk-Server/wiki/Local-Source",children:"Local source guide"})]}))),Object(q.jsx)(Yt,{mangas:x,hasNextPage:y,lastPageNum:S,setLastPageNum:L,message:t,messageExtra:n,isLoading:!T})}var _n=c.a.forwardRef((function(e,t){var n=e.src,r=e.index,i=e.onImageLoad,s=e.setCurPage,u=e.settings,l=se("useCache",!0),d=Object(o.a)(l,1)[0],j=Object(a.useRef)(null),b=function(){if(j.current){var e=j.current.getBoundingClientRect();e.y<0&&e.y+e.height>0&&s(r)}},h=function(){if(j.current){var e=j.current.getBoundingClientRect();e.left<=window.innerWidth/2&&e.right>window.innerWidth/2&&s(r)}};Object(a.useEffect)((function(){switch(u.readerType){case"Webtoon":case"ContinuesVertical":return window.addEventListener("scroll",b),function(){return window.removeEventListener("scroll",b)};case"ContinuesHorizontalLTR":case"ContinuesHorizontalRTL":return window.addEventListener("scroll",h),function(){return window.removeEventListener("scroll",h)};default:return function(){}}}),[b]);var f=function(e){var t=c.a.useState({height:window.innerHeight,width:window.innerWidth}),n=Object(o.a)(t,2),a=n[0],r=n[1];return c.a.useEffect((function(){function e(){r({height:window.innerHeight,width:window.innerWidth})}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),"DoubleLTR"===e.readerType||"DoubleRTL"===e.readerType||"ContinuesHorizontalLTR"===e.readerType||"ContinuesHorizontalRTL"===e.readerType?{display:"block",marginLeft:"7px",marginRight:"7px",width:"auto",minHeight:"99vh",height:"auto",maxHeight:"99vh",objectFit:"contain",pointerEvents:"none"}:{display:"block",marginBottom:"ContinuesVertical"===e.readerType?"15px":0,minWidth:"50vw",width:a.width<a.height?"100vw":"100%",maxWidth:"100%"}}(u);return Object(q.jsx)(K.a,{ref:t,sx:{margin:"auto"},children:Object(q.jsx)(Wt,{src:"".concat(n,"?useCache=").concat(d),onImageLoad:i,alt:"Page #".concat(r),imgRef:j,spinnerStyle:Object(Fe.a)(Object(Fe.a)({},f),{},{height:"100vh",width:"70vw",padding:"50px calc(50% - 20px)",backgroundColor:"#525252",marginBottom:10}),imgStyle:f})})}));function Qn(e){var t=e.pages,n=e.curPage,c=e.settings,r=e.setCurPage,i=e.prevChapter,o=e.nextChapter,s=Object(a.useRef)(null),u=Object(a.useRef)([]);function l(){var e;n<t.length-1?(null===(e=u.current[n+1])||void 0===e||e.scrollIntoView({inline:"center"}),r((function(e){return e+1}))):c.loadNextonEnding&&o()}function d(){var e;n>0?(null===(e=u.current[n-1])||void 0===e||e.scrollIntoView({inline:"center"}),r(n-1)):0===n&&i()}var j=Object(a.useRef)(0);function b(e){window.scrollBy(j.current-e.pageX,0)}function h(e){var t;j.current=e.pageX,null===(t=s.current)||void 0===t||t.addEventListener("mousemove",b)}function f(){var e;null===(e=s.current)||void 0===e||e.removeEventListener("mousemove",b)}function O(e){e.clientX>=.85*window.innerWidth?"ContinuesHorizontalLTR"===c.readerType?l():d():e.clientX<=.15*window.innerWidth&&("ContinuesHorizontalLTR"===c.readerType?d():l())}var x=function(){"ContinuesHorizontalLTR"===c.readerType?window.scrollX+window.innerWidth>=document.body.scrollWidth&&o():"ContinuesHorizontalRTL"===c.readerType&&window.scrollX<=window.innerWidth&&o()};return Object(a.useEffect)((function(){var e;null===(e=u.current[n])||void 0===e||e.scrollIntoView({inline:"center"})}),[u.current.length]),Object(a.useEffect)((function(){var e,t;return null===(e=s.current)||void 0===e||e.addEventListener("mousedown",h),null===(t=s.current)||void 0===t||t.addEventListener("mouseup",f),function(){var e,t;null===(e=s.current)||void 0===e||e.removeEventListener("mousedown",h),null===(t=s.current)||void 0===t||t.removeEventListener("mouseup",f)}}),[s]),Object(a.useEffect)((function(){var e;return c.loadNextonEnding&&document.addEventListener("scroll",x),null===(e=s.current)||void 0===e||e.addEventListener("mousedown",O),function(){var e;document.removeEventListener("scroll",x),null===(e=s.current)||void 0===e||e.removeEventListener("mousedown",O)}}),[s,n]),Object(q.jsx)(K.a,{ref:s,sx:{display:"flex",flexDirection:"ContinuesHorizontalLTR"===c.readerType?"row":"row-reverse",justifyContent:"ContinuesHorizontalLTR"===c.readerType?"flex-start":"flex-end",margin:"0 auto",width:"auto",height:"auto",overflowX:"visible",userSelect:"none"},children:t.map((function(e){return Object(q.jsx)(_n,{index:e.index,src:e.src,onImageLoad:function(){},setCurPage:r,settings:c,ref:function(t){u.current[e.index]=t}},e.index)}))})}function Zn(e){var t=e.settings,n=e.curPage,a=e.pageCount;return Object(q.jsx)(K.a,{sx:{display:t.showPageNumber?"block":"none",position:"fixed",bottom:"50px",right:t.staticNav?"calc((100vw - 325px)/2)":"calc((100vw - 25px)/2)",padding:"2px",paddingLeft:"4px",paddingRight:"4px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"10px"},children:"".concat(n+1," / ").concat(a)})}function $n(e){var t=e.pages,n=e.settings,c=e.setCurPage,r=e.curPage,i=e.nextChapter,o=e.prevChapter,s=Object(a.useRef)(null);function u(){r<t.length-1?c(r+1):n.loadNextonEnding&&i()}function l(){r>0?c(r-1):o()}function d(){"SingleLTR"===n.readerType?l():"SingleRTL"===n.readerType&&u()}function j(){"SingleLTR"===n.readerType?u():"SingleRTL"===n.readerType&&l()}function b(e){switch(e.code){case"Space":e.preventDefault(),u();break;case"ArrowRight":j();break;case"ArrowLeft":d()}}function h(e){e.clientX>window.innerWidth/2?j():d()}return Object(a.useEffect)((function(){var e;return document.addEventListener("keydown",b),null===(e=s.current)||void 0===e||e.addEventListener("click",h),function(){var e;document.removeEventListener("keydown",b),null===(e=s.current)||void 0===e||e.removeEventListener("click",h)}}),[s,r,n.readerType]),Object(q.jsx)(K.a,{ref:s,sx:{display:"flex",flexDirection:"row",justifyContent:"center",margin:"0 auto",width:"100%",height:"100vh"},children:Object(q.jsx)(_n,{index:r,onImageLoad:function(){},src:t[r].src,setCurPage:c,settings:n},r)})}var ea=Object($.a)("img")({marginBottom:0,width:"auto",minHeight:"99vh",height:"auto",maxHeight:"99vh",objectFit:"contain"}),ta=c.a.forwardRef((function(e,t){var n=e.image1src,a=e.image2src,c=e.index,r=e.settings;return Object(q.jsxs)(K.a,{ref:t,sx:{display:"flex",flexDirection:"DoubleLTR"===r.readerType?"row":"row-reverse",justifyContent:"center",margin:"0 auto",width:"auto",height:"auto",overflowX:"scroll"},children:[Object(q.jsx)(ea,{src:n,alt:"Page #".concat(c)}),Object(q.jsx)(ea,{src:a,alt:"Page #".concat(c+1)})]})}));function na(e){var t=e.pages,n=e.settings,c=e.setCurPage,r=e.curPage,o=e.nextChapter,s=e.prevChapter,u=Object(a.useRef)(null),l=Object(a.useRef)([]),d=Object(a.useRef)(0),j=Object(a.useRef)(Array(t.length).fill(!1));function b(){if(r<t.length-1){var e=r+d.current;c(e>=t.length?t.length-1:e)}else n.loadNextonEnding&&o()}function h(){if(r>0){var e=r-function(){for(var e=1;e<=2;e++)if(r-e>0&&l.current[r-e]&&j.current[r-e]){var t=l.current[r-e];if(t.height/t.width<1)return 1}return 2}();c(e<0?0:e)}else s()}function f(){"DoubleLTR"===n.readerType?h():b()}function O(){"DoubleLTR"===n.readerType?b():h()}function x(e){switch(e.code){case"Space":e.preventDefault(),b();break;case"ArrowRight":O();break;case"ArrowLeft":f()}}function p(e){e.clientX>window.innerWidth/2?O():f()}return Object(a.useEffect)((function(){var e,a=setInterval((function(){(!(r===t.length-1)&&j.current[r]&&j.current[r+1]||j.current[r])&&(!function(){if(d.current=0,r<t.length&&l.current[r]&&j.current[r]){d.current=1;var e=l.current[r];if(e.height/e.width<1)return}if(r+1<t.length&&l.current[r+1]&&j.current[r+1]){var n=l.current[r+1];if(n.height/n.width<1)return;d.current=2}}(),2===d.current?i.a.render(Object(q.jsx)(ta,{index:r,image1src:t[r].src,image2src:t[r+1].src,settings:n},r),document.getElementById("display")):i.a.render(Object(q.jsx)(_n,{index:r,src:1===d.current?t[r].src:"",onImageLoad:function(){},setCurPage:c,settings:n},r),document.getElementById("display")),clearInterval(a))}),50);return document.addEventListener("keydown",x),null===(e=u.current)||void 0===e||e.addEventListener("click",p),function(){var e;clearInterval(a),document.removeEventListener("keydown",x),null===(e=u.current)||void 0===e||e.removeEventListener("click",p)}}),[u,r,n.readerType]),Object(q.jsxs)(K.a,{ref:u,children:[Object(q.jsx)(K.a,{id:"preload",sx:{display:"none"},children:t.map((function(e){return Object(q.jsx)("img",{ref:function(t){l.current[e.index]=t},src:e.src,onLoad:(t=e.index,function(){j.current[t]=!0}),alt:"".concat(e.index)},"".concat(e.index));var t}))}),Object(q.jsx)(K.a,{id:"display",sx:{display:"flex",flexDirection:"DoubleLTR"===n.readerType?"row":"row-reverse",justifyContent:"center",margin:"0 auto",width:"auto",height:"auto",overflowX:"scroll"}})]})}function aa(e){var t=e.pages,n=e.settings,c=e.setCurPage,r=e.curPage,i=e.nextChapter,o=e.prevChapter,s=Object(a.useRef)(null),u=Object(a.useRef)([]);function l(){var e;r<t.length-1?(null===(e=u.current[r+1])||void 0===e||e.scrollIntoView(),c((function(e){return e+1}))):n.loadNextonEnding&&i()}function d(){if(r>0){var e,t,n=u.current[r].getBoundingClientRect();if(n.y<0&&n.y+n.height>0)null===(e=u.current[r])||void 0===e||e.scrollIntoView();else null===(t=u.current[r-1])||void 0===t||t.scrollIntoView(),c(r-1)}else 0===r&&o()}function j(e){switch(e.code){case"Space":e.preventDefault(),l();break;case"ArrowRight":l();break;case"ArrowLeft":d()}}function b(e){e.clientX>window.innerWidth/2?l():d()}Object(a.useEffect)((function(){u.current=u.current.slice(0,t.length)}),[t.length]);var h=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&i()};return Object(a.useEffect)((function(){var e;return n.loadNextonEnding&&document.addEventListener("scroll",h),document.addEventListener("keydown",j,!1),null===(e=s.current)||void 0===e||e.addEventListener("click",b),function(){var e;document.removeEventListener("scroll",h),document.removeEventListener("keydown",j),null===(e=s.current)||void 0===e||e.removeEventListener("click",b)}}),[s,r]),Object(a.useEffect)((function(){u.current[r].scrollIntoView()}),[u.current.length]),Object(q.jsx)(K.a,{ref:s,sx:{display:"flex",flexDirection:"column",justifyContent:"center",margin:"0 auto",width:"100%"},children:t.map((function(e){return Object(q.jsx)(_n,{index:e.index,src:e.src,onImageLoad:function(){},setCurPage:c,settings:n,ref:function(t){u.current[e.index]=t}},e.index)}))})}var ca=n(189),ra=n.n(ca),ia=n(133),oa=n.n(ia),sa=n(134),ua=n.n(sa),la=n(191),da=n.n(la),ja=n(190),ba=n.n(ja),ha=n(337),fa=n(346),Oa=n(356),xa=n(388),pa=Object($.a)("div")((function(e){var t=e.theme;return{top:0,left:0,width:"300px",minWidth:"300px",height:"100vh",overflowY:"auto",backgroundColor:t.palette.background.default,"& header":{backgroundColor:"dark"===t.palette.mode?t.palette.grey[800]:t.palette.grey[100],display:"flex",alignItems:"center",minHeight:"64px",paddingLeft:"24px",paddingRight:"24px",transition:"left 2s ease","& button":{flexGrow:0,flexShrink:0},"& button:nth-child(1)":{marginRight:"16px"},"& h1":{fontSize:"1.25rem",flexGrow:1}},"& hr":{margin:"0 16px",height:"1px",border:"0",backgroundColor:"dark"===t.palette.mode?t.palette.grey[800]:t.palette.grey[100]}}})),ga=Object($.a)("div")({margin:"0 16px","& > span:nth-child(1)":{textAlign:"center",display:"block",marginTop:"16px"}}),ma=Object($.a)("div")({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateAreas:'"prev next"',gridColumnGap:"5px",margin:"10px 0","& a":{flexGrow:1,textDecoration:"none","& button":{width:"100%",padding:"5px 8px",textTransform:"none"}}}),va=Object($.a)(g.a)((function(e){var t=e.theme;return{position:"fixed",top:20,left:30,height:"40px",width:"40px",borderRadius:5,backgroundColor:"dark"===t.palette.mode?"black":"white","&:hover":{backgroundColor:"dark"===t.palette.mode?t.palette.grey[900]:t.palette.grey[100]}}})),ya=function(){return{staticNav:!1,showPageNumber:!0,continuesPageGap:!1,loadNextonEnding:!1,readerType:"ContinuesVertical"}};function wa(e){var t=Object(u.g)(),n=e.settings,c=e.setSettings,r=e.manga,i=e.chapter,l=e.curPage,d=Object(a.useState)(n.staticNav),j=Object(o.a)(d,2),b=j[0],h=j[1],f=Object(a.useState)(!1),O=Object(o.a)(f,2),x=O[0],m=O[1],v=Object(a.useState)(0),y=Object(o.a)(v,2),w=y[0],C=y[1],k=Object(a.useState)(!0),S=Object(o.a)(k,2),L=S[0],E=S[1],N=function(e,t){return c(Object(Fe.a)(Object(Fe.a)({},n),{},Object(xn.a)({},e,t)))},T=function(){var e=window.pageYOffset;Math.abs(e-w)>20&&(m(e>w),C(e))};return Object(a.useEffect)((function(){window.addEventListener("scroll",T);var e=document.querySelector("#root"),t=document.querySelector("#appMainContainer");return e.style.display="flex",t.style.display="none",function(){e.style.display="block",t.style.display="block",window.removeEventListener("scroll",T)}}),[T]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(jt.a,{direction:"right",in:b,timeout:200,appear:!1,mountOnEnter:!0,unmountOnExit:!0,children:Object(q.jsxs)(pa,{sx:{position:n.staticNav?"sticky":"fixed"},children:[Object(q.jsxs)("header",{children:[!n.staticNav&&Object(q.jsx)(g.a,{edge:"start",color:"inherit","aria-label":"menu",disableRipple:!0,onClick:function(){return h(!1)},size:"large",children:Object(q.jsx)(oa.a,{})}),Object(q.jsx)(p.a,{variant:"h1",children:i.name}),Object(q.jsx)(g.a,{edge:"start",color:"inherit","aria-label":"menu",disableRipple:!0,onClick:function(){return t.goBack()},size:"large",sx:{mr:-1},children:Object(q.jsx)(ra.a,{})})]}),Object(q.jsxs)(_.a,{ContainerComponent:"div",sx:{"& span":{fontWeight:"bold"}},children:[Object(q.jsx)(Ce.a,{primary:"Reader Settings"}),Object(q.jsx)(ke.a,{children:Object(q.jsxs)(g.a,{edge:"start",color:"inherit","aria-label":"menu",disableRipple:!0,disableFocusRipple:!0,onClick:function(){return E(!L)},size:"large",children:[L&&Object(q.jsx)(ba.a,{}),!L&&Object(q.jsx)(da.a,{})]})})]}),Object(q.jsx)(xa.a,{in:L,timeout:"auto",unmountOnExit:!0,children:Object(q.jsxs)(ue.a,{children:[Object(q.jsxs)(_.a,{children:[Object(q.jsx)(Ce.a,{primary:"Static Navigation"}),Object(q.jsx)(ke.a,{children:Object(q.jsx)(Se.a,{edge:"end",checked:n.staticNav,onChange:function(e){return N("staticNav",e.target.checked)}})})]}),Object(q.jsxs)(_.a,{children:[Object(q.jsx)(Ce.a,{primary:"Show page number"}),Object(q.jsx)(ke.a,{children:Object(q.jsx)(Se.a,{edge:"end",checked:n.showPageNumber,onChange:function(e){return N("showPageNumber",e.target.checked)}})})]}),Object(q.jsxs)(_.a,{children:[Object(q.jsx)(Ce.a,{primary:"Load next chapter at ending"}),Object(q.jsx)(ke.a,{children:Object(q.jsx)(Se.a,{edge:"end",checked:n.loadNextonEnding,onChange:function(e){return N("loadNextonEnding",e.target.checked)}})})]}),Object(q.jsxs)(_.a,{children:[Object(q.jsx)(Ce.a,{primary:"Reader Type"}),Object(q.jsxs)(Oa.a,{variant:"standard",value:n.readerType,onChange:function(e){return N("readerType",e.target.value)},sx:{p:0},children:[Object(q.jsx)(Bn.a,{value:"SingleLTR",children:"Single Page (LTR)"}),Object(q.jsx)(Bn.a,{value:"SingleRTL",children:"Single Page (RTL)"}),Object(q.jsx)(Bn.a,{value:"DoubleLTR",children:"Double Page (LTR)"}),Object(q.jsx)(Bn.a,{value:"DoubleRTL",children:"Double Page (RTL)"}),Object(q.jsx)(Bn.a,{value:"Webtoon",children:"Webtoon"}),Object(q.jsx)(Bn.a,{value:"ContinuesVertical",children:"Continues Vertical"}),Object(q.jsx)(Bn.a,{value:"ContinuesHorizontalLTR",children:"Horizontal (LTR)"}),Object(q.jsx)(Bn.a,{value:"ContinuesHorizontalRTL",children:"Horizontal (RTL)"})]})]})]})}),Object(q.jsx)("hr",{}),Object(q.jsxs)(ga,{children:[Object(q.jsx)("span",{children:"Currently on page ".concat(l+1," of ").concat(i.pageCount)}),Object(q.jsxs)(ma,{children:[i.index>1&&Object(q.jsx)(s.b,{replace:!0,to:"/manga/".concat(r.id,"/chapter/").concat(i.index-1),children:Object(q.jsx)(Le.a,{variant:"outlined",sx:{gridArea:"prev"},startIcon:Object(q.jsx)(oa.a,{}),children:"Prev. Chapter"})}),i.index<i.chapterCount&&Object(q.jsx)(s.b,{replace:!0,style:{gridArea:"next"},to:"/manga/".concat(r.id,"/chapter/").concat(i.index+1),children:Object(q.jsx)(Le.a,{variant:"outlined",endIcon:Object(q.jsx)(ua.a,{}),children:"Next Chapter"})})]})]})]})}),Object(q.jsx)(fa.a,{in:!b,children:Object(q.jsx)(ha.a,{in:!x,children:Object(q.jsx)(va,{edge:"start",color:"inherit","aria-label":"menu",disableRipple:!0,disableFocusRipple:!0,onClick:function(){return h(!0)},size:"large",children:Object(q.jsx)(ua.a,{})})})})]})}var Ca=function(){return{pageCount:-1,index:-1,chapterCount:0,name:"Loading..."}};function ka(){var e=se("readerSettings",ya),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(u.g)(),i=se("serverBaseURL",""),s=Object(o.a)(i,1)[0],l=Object(u.i)(),d=l.chapterIndex,j=l.mangaId,b=Object(a.useState)({id:+j,title:"",thumbnailUrl:""}),h=Object(o.a)(b,2),f=h[0],O=h[1],x=Object(a.useState)({pageCount:-1,index:-1,chapterCount:0,name:"Loading..."}),p=Object(o.a)(x,2),g=p[0],m=p[1],v=Object(a.useState)(0),y=Object(o.a)(v,2),w=y[0],C=y[1],k=Object(a.useContext)(J),S=k.setOverride,L=k.setTitle;if(Object(a.useEffect)((function(){var e=vt(n),t={staticNav:!1,showPageNumber:!0,continuesPageGap:!1,loadNextonEnding:!1,readerType:"ContinuesVertical"},a=!1;return Object.keys(t).forEach((function(c){var r=c;void 0===n[r]&&(e[r]=t[r],a=!0)})),a&&c(e),S({status:!0,value:Object(q.jsx)(wa,{settings:n,setSettings:c,manga:f,chapter:g,curPage:w})}),function(){return S({status:!1,value:Object(q.jsx)("div",{})})}}),[f,g,n,w,d]),Object(a.useEffect)((function(){L("Reader"),Ye.get("/api/v1/manga/".concat(j,"/")).then((function(e){return e.data})).then((function(e){O(e),L(e.title)}))}),[d]),Object(a.useEffect)((function(){m(Ca),Ye.get("/api/v1/manga/".concat(j,"/chapter/").concat(d)).then((function(e){return e.data})).then((function(e){m(e),e.lastPageRead===e.pageCount-1?C(0):C(e.lastPageRead)}))}),[d]),Object(a.useEffect)((function(){if(-1!==w){var e=new FormData;e.append("lastPageRead",w.toString()),Ye.patch("/api/v1/manga/".concat(f.id,"/chapter/").concat(g.index),e)}if(w===g.pageCount-1){var t=new FormData;t.append("read","true"),Ye.patch("/api/v1/manga/".concat(f.id,"/chapter/").concat(g.index),t)}}),[w]),-1===g.pageCount)return Object(q.jsx)(K.a,{sx:{height:"100vh",width:"100vw",display:"grid",placeItems:"center"},children:Object(q.jsx)(Xe.a,{thickness:5})});var E,N=(E=g.pageCount,Array.from({length:E},(function(e,t){return t}))).map((function(e){return{index:e,src:"".concat(s,"/api/v1/manga/").concat(j,"/chapter/").concat(d,"/page/").concat(e)}})),T=function(e){switch(e){case"ContinuesVertical":case"Webtoon":return aa;case"SingleVertical":case"SingleRTL":case"SingleLTR":return $n;case"DoubleVertical":case"DoubleRTL":case"DoubleLTR":return na;case"ContinuesHorizontalLTR":case"ContinuesHorizontalRTL":return Qn;default:return aa}}(n.readerType);return Object(q.jsxs)(K.a,{sx:{width:n.staticNav?"calc(100vw - 300px)":"100vw"},children:[Object(q.jsx)(Zn,{settings:n,curPage:w,pageCount:g.pageCount}),Object(q.jsx)(T,{pages:N,pageCount:g.pageCount,setCurPage:C,curPage:w,settings:n,manga:f,chapter:g,nextChapter:function(){if(g.index<g.chapterCount){var e=new FormData;e.append("lastPageRead","".concat(g.pageCount-1)),e.append("read","true"),Ye.patch("/api/v1/manga/".concat(f.id,"/chapter/").concat(g.index),e),r.replace("/manga/".concat(f.id,"/chapter/").concat(g.index+1))}},prevChapter:function(){g.index>1&&r.replace("/manga/".concat(f.id,"/chapter/").concat(g.index-1))}})]})}var Sa=n(192),La=n.n(Sa),Ea=n(365);function Na(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Ta(e){if(0===e.length)return[];var t={};return e.forEach((function(e,n){var a=function(e){var t=new Date;if(Na(t,e))return"TODAY";var n=new Date;return n.setDate(t.getDate()-1),Na(n,e)?"YESTERDAY":e.toLocaleDateString()}(function(e){var t=new Date(0);return t.setUTCSeconds(e),t}(e.chapter.fetchedAt));void 0===t[a]&&(t[a]=[]),t[a].push({item:e,globalIdx:n})})),Object.keys(t).map((function(e){return[e,t[e]]}))}var Ia=JSON.parse(window.localStorage.getItem("serverBaseURL")).replace("http","ws"),Ra={status:"Stopped",queue:[]};function Da(){var e=Object(u.g)(),t=Object(a.useContext)(J),n=t.setTitle,c=t.setAction,r=Object(a.useState)([]),i=Object(o.a)(r,2),s=i[0],l=i[1],d=Object(a.useState)(!0),j=Object(o.a)(d,2),b=j[0],h=j[1],f=Object(a.useState)(!1),O=Object(o.a)(f,2),x=O[0],m=O[1],v=Object(a.useState)(0),y=Object(o.a)(v,2),w=y[0],C=y[1],k=se("serverBaseURL",""),S=Object(o.a)(k,1)[0],L=se("useCache",!0),E=Object(o.a)(L,1)[0],N=Object(a.useState)(),T=Object(o.a)(N,2)[1],I=Object(a.useState)(Ra),R=Object(o.a)(I,2),D=R[0].queue,P=R[1];Object(a.useEffect)((function(){var e=new WebSocket("".concat(Ia,"/api/v1/downloads"));return e.onmessage=function(e){var t=JSON.parse(e.data);P(t)},T(e),function(){return e.close()}}),[]),Object(a.useEffect)((function(){n("Updates"),c(Object(q.jsx)(q.Fragment,{}))}),[]),Object(a.useEffect)((function(){b&&Ye.get("/api/v1/update/recentChapters/".concat(w)).then((function(e){return e.data})).then((function(e){var t=e.hasNextPage,n=e.page;l([].concat(Object(tn.a)(s),Object(tn.a)(n))),h(t),m(!0)}))}),[w]);var F=Object(a.useRef)(null),B=function(){if(F.current){var e=F.current.getBoundingClientRect();(e.y+e.height)/window.innerHeight<2&&b&&C(w+1)}};if(Object(a.useEffect)((function(){return window.addEventListener("scroll",B,!0),function(){window.removeEventListener("scroll",B,!0)}}),[b,s]),!x)return Object(q.jsx)(Ge,{});if(x&&0===s.length)return Object(q.jsx)(Ct,{message:"You don't have any updates yet."});var z=function(e){var t="";return e.downloaded&&(t=" \u2022 Downloaded"),D.forEach((function(n){e.index===n.chapterIndex&&e.mangaId===n.mangaId&&(t=" \u2022 Downloading (".concat((100*n.progress).toFixed(2),"%)"))})),t};return Object(q.jsx)(q.Fragment,{children:Ta(s).map((function(t){return Object(q.jsxs)("div",{children:[Object(q.jsx)(p.a,{variant:"h5",sx:{ml:3,my:2,fontWeight:700},children:t[0]}),t[1].map((function(t){var n=t.item,a=n.chapter,c=n.manga,r=t.globalIdx;return Object(q.jsx)(zt.a,{ref:r===s.length-1?F:void 0,sx:{margin:"10px","&:hover":{backgroundColor:"action.hover",transition:"background-color 100ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},"&:active":{backgroundColor:"action.selected",transition:"background-color 100ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}},onClick:function(){return e.push("/manga/".concat(a.mangaId,"/chapter/").concat(a.index))},children:Object(q.jsxs)(Rn.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:2},children:[Object(q.jsxs)(K.a,{sx:{display:"flex"},children:[Object(q.jsx)(Ea.a,{variant:"rounded",sx:{width:56,height:56,flex:"0 0 auto",marginRight:2,imageRendering:"pixelated"},src:"".concat(S).concat(c.thumbnailUrl,"?useCache=").concat(E)}),Object(q.jsxs)(K.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(q.jsx)(p.a,{variant:"h5",component:"h2",children:c.title}),Object(q.jsxs)(p.a,{variant:"caption",display:"block",gutterBottom:!0,children:[a.name,z(a)]})]})]}),""===z(a)&&Object(q.jsx)(g.a,{onClick:function(e){!function(e){Ye.get("/api/v1/download/".concat(e.mangaId,"/chapter/").concat(e.index))}(a),e.stopPropagation()},size:"large",children:Object(q.jsx)(La.a,{})})]})},r)}))]},t[0])}))})}var Pa=n(193),Fa=n.n(Pa),Ba=n(194),za=n.n(Ba),Aa=JSON.parse(window.localStorage.getItem("serverBaseURL")).replace("http","ws"),Wa={status:"Stopped",queue:[]};function Ha(){var e=Object(a.useState)(),t=Object(o.a)(e,2)[1],n=Object(a.useState)(Wa),c=Object(o.a)(n,2),r=c[0],i=c[1],s=r.queue,u=r.status,l=Object(v.a)(),d=Object(a.useContext)(J),j=d.setTitle,b=d.setAction,h=function(){"Stopped"===u?Ye.get("/api/v1/downloads/start"):Ye.get("/api/v1/downloads/stop")};Object(a.useEffect)((function(){j("Download Queue"),b((function(){return"Stopped"===u?Object(q.jsx)(g.a,{onClick:h,size:"large",children:Object(q.jsx)(Fa.a,{})}):Object(q.jsx)(g.a,{onClick:h,size:"large",children:Object(q.jsx)(za.a,{})})}))}),[u]),Object(a.useEffect)((function(){var e=new WebSocket("".concat(Aa,"/api/v1/downloads"));e.onmessage=function(e){i(JSON.parse(e.data))},t(e)}),[]);return 0===s.length?Object(q.jsx)(Ct,{message:"No downloads"}):Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(_e.a,{onDragEnd:function(e){},children:Object(q.jsx)(_e.c,{droppableId:"droppable",children:function(e){return Object(q.jsxs)(ue.a,{ref:e.innerRef,children:[s.map((function(e,t){return Object(q.jsx)(_e.b,{draggableId:"".concat(e.mangaId,"-").concat(e.chapterIndex),index:t,children:function(t,n){return Object(q.jsxs)(_.a,Object(Fe.a)(Object(Fe.a)(Object(Fe.a)({ContainerProps:{ref:t.innerRef}},t.draggableProps),t.dragHandleProps),{},{style:(a=n.isDragging,c=t.draggableProps.style,r=l.palette,Object(Fe.a)(Object(Fe.a)({},c),a&&{background:"dark"===r.mode?"#424242":"rgb(235,235,235)"})),ref:t.innerRef,children:[Object(q.jsx)(Q.a,{children:Object(q.jsx)(Ze.a,{})}),Object(q.jsx)(Ce.a,{primary:"".concat(e.chapter.name," | ")+" (".concat((100*e.progress).toFixed(2),"%)")+" => state: ".concat(e.state)}),Object(q.jsx)(g.a,{onClick:function(){},size:"large",children:Object(q.jsx)(at.a,{})})]}));var a,c,r}},"".concat(e.mangaId,"-").concat(e.chapterIndex))})),e.placeholder]})}})})})}var Ua=[{code:"all",name:"All",nativeName:"All"},{code:"installed",name:"Installed",nativeName:"Installed"},{code:"updates pending",name:"Updates pending",nativeName:"Updates pending"},{code:"other",name:"other langs?",nativeName:"Other"},{code:"localsourcelang",name:"Local source",nativeName:"Local source"},{code:"en",name:"English",nativeName:"English"},{code:"ca",name:"Catalan; Valencian",nativeName:"Catal\xe0"},{code:"de",name:"German",nativeName:"Deutsch"},{code:"es",name:"Spanish; Castilian",nativeName:"Espa\xf1ol"},{code:"es-419",name:"Spanish; Castilian",nativeName:"Espa\xf1ol (Latinoam\xe9rica)"},{code:"fr",name:"French",nativeName:"Fran\xe7ais"},{code:"id",name:"Indonesian",nativeName:"Indonesia"},{code:"it",name:"Italian",nativeName:"Italiano"},{code:"pt",name:"Portuguese",nativeName:"Portugu\xeas"},{code:"pt-pt",name:"Portuguese",nativeName:"Portugu\xeas (Portugal)"},{code:"pt-br",name:"Portuguese; Brasil",nativeName:"Portugu\xeas (Brasil)"},{code:"vi",name:"Vietnamese",nativeName:"Ti\u1ebfng Vi\u1ec7t"},{code:"tr",name:"Turkish",nativeName:"T\xfcrk\xe7e"},{code:"ru",name:"Russian",nativeName:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"ar",name:"Arabic",nativeName:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093f\u0928\u094d\u0926\u0940"},{code:"th",name:"Thai",nativeName:"\u0e44\u0e17\u0e22"},{code:"zh",name:"Chinese",nativeName:"\u4e2d\u6587"},{code:"zh-hans",name:"Chinese",nativeName:"\u4e2d\u6587 (HANS)"},{code:"zh-hant",name:"Chinese",nativeName:"\u4e2d\u6587 (HANT)"},{code:"zh-rhk",name:"Chinese",nativeName:"\u4e2d\u6587 (RHK)"},{code:"zh-rtw",name:"Chinese",nativeName:"\u4e2d\u6587 (RTW)"},{code:"ja",name:"Japanese",nativeName:"\u65e5\u672c\u8a9e"},{code:"ko",name:"Korean",nativeName:"\ud55c\uad6d\uc5b4"},{code:"zu",name:"Zulu",nativeName:"isiZulu"},{code:"xh",name:"Xhosa",nativeName:"isiXhosa"},{code:"uk",name:"Ukrainian",nativeName:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{code:"ro",name:"Romanian",nativeName:"Rom\xe2n\u0103"},{code:"bg",name:"Bulgarian",nativeName:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438"},{code:"cs",name:"Czech",nativeName:"\u010de\u0161tina"},{code:"pl",name:"Polish",nativeName:"polski"},{code:"no",name:"Norwegian",nativeName:"Norsk"},{code:"nl",name:"Dutch",nativeName:"Nederlands"},{code:"my",name:"Burmese",nativeName:"\u1017\u1019\u102c\u1005\u102c"},{code:"ms",name:"Malay",nativeName:"Malaysia"},{code:"mn",name:"Mongolian",nativeName:"\u041c\u043e\u043d\u0433\u043e\u043b"},{code:"ml",name:"Malayalam",nativeName:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02"},{code:"ku",name:"Kurdish",nativeName:"Kurd\xee"},{code:"hu",name:"Hungarian",nativeName:"Magyar"},{code:"hr",name:"Croatian",nativeName:"Hrvatski"},{code:"he",name:"Hebrew",nativeName:"\u05e2\u05d1\u05e8\u05d9\u05ea"},{code:"fil",name:"Filipino",nativeName:"Filipino"},{code:"fi",name:"Finnish",nativeName:"suomi"},{code:"fa",name:"Persian",nativeName:"\u0641\u0627\u0631\u0633\u06cc"},{code:"eu",name:"Basque",nativeName:"euskara"},{code:"el",name:"Greek",nativeName:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{code:"da",name:"Danish",nativeName:"dansk"},{code:"bn",name:"Bengali",nativeName:"\u09ac\u09be\u0982\u09b2\u09be"},{code:"lt",name:"Lithuanian",nativeName:"lietuvi\u0173 kalba"},{code:"sh",name:"Serbo-Croatian",nativeName:"srpskohrvatski"},{code:"af",name:"Afrikaans",nativeName:"Afrikaans"},{code:"am",name:"Amharic",nativeName:"\u12a0\u121b\u122d\u129b"},{code:"az",name:"Azerbaijani",nativeName:"Az\u0259rbaycan"},{code:"be",name:"Belarusian",nativeName:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f"},{code:"bs",name:"Bosnian",nativeName:"bosanski"},{code:"sv",name:"Swedish",nativeName:"svenska"},{code:"sv",name:"Swedish",nativeName:"svenska"}];function Ma(e){for(var t=-1!==e.indexOf("-")?e.indexOf("-"):e.length,n=e.toLocaleLowerCase().substring(0,t),a="language with code: ".concat(e),c=0;c<Ua.length;c++)Ua[c].code!==n&&Ua[c].code!==e.toLocaleLowerCase()||(a=Ua[c].nativeName);return a}var Va=function(e,t){var n=Ma(e),a=Ma(t);return"en"===e?-1:"en"===t||"localSourceLang"===e?1:"localSourceLang"===t?-1:n>a?1:-1};function qa(e){var t,n=e.shownLangs,c=e.setShownLangs,r=e.allLangs,i=e.forcedLangs,s=Object(a.useState)((t=vt(n),i.forEach((function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)})),t)),u=Object(o.a)(s,2),l=u[0],d=u[1],j=Object(a.useState)(!1),b=Object(o.a)(j,2),h=b[0],f=b[1];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(g.a,{onClick:function(){return f(!0)},"aria-label":"display more actions",edge:"end",color:"inherit",size:"large",children:Object(q.jsx)(Et.a,{})}),Object(q.jsxs)(Ee.a,{sx:{".MuiDialog-paper":{maxHeight:435,width:"80%"}},maxWidth:"xs",open:h,children:[Object(q.jsx)(ct.a,{children:"Enabled Languages"}),Object(q.jsx)(Te.a,{dividers:!0,sx:{padding:0},children:Object(q.jsx)(ue.a,{children:r.map((function(e){return Object(q.jsxs)(_.a,{children:[Object(q.jsx)(Ce.a,{primary:Ma(e)}),Object(q.jsx)(ke.a,{children:Object(q.jsx)(Se.a,{checked:-1!==l.indexOf(e),onChange:function(t){return function(e,t){if(e.target.checked)d([].concat(Object(tn.a)(l),[t]));else{var n=vt(l);n.splice(n.indexOf(t),1),d(n)}}(t,e)}})})]},e)}))})}),Object(q.jsxs)(Ne.a,{children:[Object(q.jsx)(Le.a,{autoFocus:!0,onClick:function(){f(!1)},color:"primary",children:"Cancel"}),Object(q.jsx)(Le.a,{onClick:function(){f(!1),c(l)},color:"primary",children:"Ok"})]})]})]})}qa.defaultProps={forcedLangs:[]};var Ja=n(195),Ya=n.n(Ja),Xa=Object($.a)("div")((function(e){var t=e.theme;return Object(xn.a)({display:"flex"},t.breakpoints.up("sm"),{display:"none"})})),Ga=Object($.a)("div")((function(e){var t,n=e.theme;return t={display:"flex"},Object(xn.a)(t,n.breakpoints.down("sm"),{display:"none"}),Object(xn.a)(t,"& .MuiButton-root",{marginLeft:"20px"}),t}));function Ka(e){var t=e.source,n=t.id,a=t.name,c=t.lang,r=t.iconUrl,i=t.supportsLatest,s=Object(u.g)(),l=se("serverBaseURL",""),d=Object(o.a)(l,1)[0],j=se("useCache",!0),b=Object(o.a)(j,1)[0],h=function(e,t){s.push(t),e.stopPropagation()};return Object(q.jsx)(zt.a,{sx:{margin:"10px","&:hover":{backgroundColor:"action.hover",transition:"background-color 100ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},"&:active":{backgroundColor:"action.selected",transition:"background-color 100ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}},onClick:function(e){return h(e,"/sources/".concat(n,"/popular/"))},children:Object(q.jsxs)(Rn.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:2},children:[Object(q.jsxs)(K.a,{sx:{display:"flex"},children:[Object(q.jsx)(Ea.a,{variant:"rounded",alt:a,sx:{width:56,height:56,flex:"0 0 auto",mr:2},src:"".concat(d).concat(r,"?useCache=").concat(b)}),Object(q.jsxs)(K.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(q.jsx)(p.a,{variant:"h5",component:"h2",children:a}),"0"!==n&&Object(q.jsx)(p.a,{variant:"caption",display:"block",gutterBottom:!0,children:Ma(c)})]})]}),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Xa,{children:[Object(q.jsx)(g.a,{sx:{width:59,height:59},onClick:function(e){return h(e,"/sources/".concat(n,"/search/"))},size:"large",edge:"end",children:Object(q.jsx)(Kt.a,{fontSize:"medium"})}),i&&Object(q.jsx)(g.a,{onClick:function(e){return h(e,"/sources/".concat(n,"/latest/"))},size:"large",children:Object(q.jsx)(Ya.a,{fontSize:"large"})})]}),Object(q.jsxs)(Ga,{children:[Object(q.jsx)(Le.a,{variant:"outlined",onClick:function(e){return h(e,"/sources/".concat(n,"/search/"))},children:"Search"}),i&&Object(q.jsx)(Le.a,{variant:"outlined",onClick:function(e){return h(e,"/sources/".concat(n,"/latest/"))},children:"Latest"}),Object(q.jsx)(Le.a,{variant:"outlined",onClick:function(e){return h(e,"/sources/".concat(n,"/popular/"))},children:"Browse"})]})]})]})})}function _a(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e.lang)&&t.push(e.lang)})),t.sort(Va),t}function Qa(e){var t={};return e.forEach((function(e){void 0===t[e.lang]&&(t[e.lang]=[]),t[e.lang].push(e)})),t}function Za(){var e=Object(a.useContext)(J),t=e.setTitle,n=e.setAction,r=se("shownSourceLangs",["en","localsourcelang"]),i=Object(o.a)(r,2),s=i[0],u=i[1],l=se("showNsfw",!0),d=Object(o.a)(l,1)[0],j=Object(a.useState)([]),b=Object(o.a)(j,2),h=b[0],f=b[1],O=Object(a.useState)(!1),x=Object(o.a)(O,2),p=x[0],g=x[1];return Object(a.useEffect)((function(){["localsourcelang"].forEach((function(e){var t=!1;s.forEach((function(n){n===e&&(t=!0)})),t||u((function(t){return t.push(e),t}))}))}),[]),Object(a.useEffect)((function(){t("Sources"),n(Object(q.jsx)(qa,{shownLangs:s,setShownLangs:u,allLangs:_a(h),forcedLangs:["localsourcelang"]}))}),[s,h]),Object(a.useEffect)((function(){Ye.get("/api/v1/source/list").then((function(e){return e.data})).then((function(e){f(e),g(!0)}))}),[]),0===h.length?p?Object(q.jsx)("h3",{children:"No sources found. Install Some Extensions first."}):Object(q.jsx)(Ge,{}):Object(q.jsx)(q.Fragment,{children:Object.entries(Qa(h)).sort((function(e,t){return Va(e[0],t[0])})).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return-1!==s.indexOf(n)&&Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsx)("h1",{style:{marginLeft:25},children:Ma(n)},n),a.filter((function(e){return d||!e.isNsfw})).map((function(e){return Object(q.jsx)(Ka,{source:e},e.id)}))]},n)}))})}function $a(e){var t=e.extension,n=t.name,c=t.lang,r=t.versionName,i=t.installed,s=t.hasUpdate,u=t.obsolete,l=t.pkgName,d=t.iconUrl,j=e.notifyInstall,b=Object(a.useState)((function(){return u?"obsolete":s?"update":i?"uninstall":"install"})),h=Object(o.a)(b,2),f=h[0],O=h[1],x=se("serverBaseURL",""),g=Object(o.a)(x,1)[0],m=se("useCache",!0),v=Object(o.a)(m,1)[0],y="all"===c?"All":c.toUpperCase();function w(){O("uninstalling"),Ye.get("/api/v1/extension/uninstall/".concat(l)).then((function(){j()}))}function C(){switch(f){case"install":O("installing"),Ye.get("/api/v1/extension/install/".concat(l)).then((function(){O("uninstall"),j()}));break;case"update":O("updating"),Ye.get("/api/v1/extension/update/".concat(l)).then((function(){O("uninstall"),j()}));break;case"obsolete":w(),setTimeout((function(){return window.location.reload()}),3e3);break;case"uninstall":w()}}return Object(q.jsx)(zt.a,{sx:{margin:"10px"},children:Object(q.jsxs)(Rn.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},children:[Object(q.jsxs)(K.a,{sx:{display:"flex"},children:[Object(q.jsx)(Ea.a,{variant:"rounded",sx:{width:56,height:56,flex:"0 0 auto",mr:2},alt:n,src:"".concat(g).concat(d,"?useCache=").concat(v)}),Object(q.jsxs)(K.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(q.jsx)(p.a,{variant:"h5",component:"h2",children:n}),Object(q.jsxs)(p.a,{variant:"caption",display:"block",gutterBottom:!0,children:[y," ",r]})]})]}),Object(q.jsx)(Le.a,{variant:"outlined",sx:{color:"obsolete"===f?"red":"inherit"},onClick:function(){return C()},children:f})]})})}var ec=[];function tc(){var e=Object(a.useContext)(J),t=e.setTitle,n=e.setAction,c=se("shownExtensionLangs",["en","all"]),r=Object(o.a)(c,2),i=r[0],s=r[1],u=se("showNsfw",!0),d=Object(o.a)(u,1)[0],j=Object(v.a)(),b=Object(m.a)(j.breakpoints.down("sm")),h=Object(l.e)("query",l.d),f=Object(o.a)(h,1)[0];Object(a.useEffect)((function(){t("Extensions"),n(Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)($t,{}),Object(q.jsx)(g.a,{onClick:function(){var e;return null===(e=document.getElementById("external-extension-file"))||void 0===e?void 0:e.click()},size:"large",children:Object(q.jsx)(tt.a,{})}),Object(q.jsx)(qa,{shownLangs:i,setShownLangs:s,allLangs:ec})]}))}),[i]);var O=Object(a.useState)([]),x=Object(o.a)(O,2),y=x[0],w=x[1],C=Object(a.useState)(0),k=Object(o.a)(C,2),S=k[0],L=k[1],E=function(){return L(S+1)};Object(a.useEffect)((function(){Ye.get("/api/v1/extension/list").then((function(e){return e.data})).then((function(e){return w(e)}))}),[S]);var N=function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return[n,function(e,t){a([Object(q.jsx)(Ot,{message:e,severity:t},Math.floor(1e3*Math.random())+1)])}]}(Object(a.useState)([])),T=Object(o.a)(N,2),I=T[0],R=T[1],D=function(e){if(e.name.toLowerCase().endsWith("apk")){var t=new FormData;t.append("file",e),document.getElementById("external-extension-file").value=null,R("Installing Extension File....","info"),Ye.post("/api/v1/extension/install",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){R("Installed extension successfully!","success"),E()})).catch((function(){return R("Extension installion failed!","error")}))}else R("invalid file type!","error")},P=function(){var e=Object(lt.a)(ut.a.mark((function e(t){var n;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(dt.a)(t);case 3:n=e.sent,D(n[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){e.preventDefault()};if(Object(a.useEffect)((function(){document.addEventListener("drop",P),document.addEventListener("dragover",F);var e=function(){var e=Object(lt.a)(ut.a.mark((function e(t){var n;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(dt.a)(t);case 2:n=e.sent,D(n[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=document.getElementById("external-extension-file");return null===t||void 0===t||t.addEventListener("change",e),function(){document.removeEventListener("drop",P),document.removeEventListener("dragover",F),null===t||void 0===t||t.removeEventListener("change",e)}}),[y]),0===y.length)return Object(q.jsx)(Ge,{});var B=y.filter((function(e){var t=d||!e.isNsfw;return f?t&&e.name.toLowerCase().includes(f.toLowerCase()):t})),z=["installed","updates pending","all"].concat(Object(tn.a)(i)),A=function(e){ec.length=0;var t={installed:[],"updates pending":[],all:[]};e.forEach((function(e){void 0===t[e.lang]&&(t[e.lang]=[],"all"!==e.lang&&ec.push(e.lang)),e.installed?e.hasUpdate?t["updates pending"].push(e):t.installed.push(e):t[e.lang].push(e)})),ec.sort(Va);var n=[["updates pending",t["updates pending"]],["installed",t.installed],["all",t.all]],a=ec.map((function(e){return[e,t[e]]}));return n.concat(a)}(B).filter((function(e){return e[1].length>0})).filter((function(e){return z.includes(e[0])})).flat(2);return Object(q.jsxs)(q.Fragment,{children:[I,Object(q.jsx)("input",{type:"file",id:"external-extension-file",style:{display:"none"}}),Object(q.jsx)(Sn.a,{style:{height:b?"calc(100vh - 64px - 64px)":"calc(100vh - 64px)"},totalCount:A.length,itemContent:function(e){if("string"===typeof A[e]){var t=A[e];return Object(q.jsx)(p.a,{variant:"h2",style:{paddingLeft:25,paddingBottom:"0.83em",paddingTop:"0.83em",backgroundColor:"rgb(18, 18, 18)",fontSize:"2em",fontWeight:"bold"},children:Ma(t)},t)}var n=A[e];return Object(q.jsx)($a,{extension:n,notifyInstall:function(){E()}},n.apkName)}})]})}function nc(){var e=Object(a.useState)(0),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(mt.a,{value:n,onChange:function(e,t){return c(t)},indicatorColor:"primary",textColor:"primary",centered:!0,variant:"fullWidth",scrollButtons:!0,allowScrollButtonsMobile:!0,children:[Object(q.jsx)(gt.a,{sx:{textTransform:"none"},label:"Sources"}),Object(q.jsx)(gt.a,{sx:{textTransform:"none"},label:"Extensions"})]}),Object(q.jsx)(kt,{index:0,currentIndex:n,children:Object(q.jsx)(Za,{})}),Object(q.jsx)(kt,{index:1,currentIndex:n,children:Object(q.jsx)(tc,{})})]})}function ac(){var e=Object(a.useState)("Tachidesk"),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(Object(q.jsx)("div",{})),O=Object(o.a)(i,2),x=O[0],p=O[1],g=Object(a.useState)({status:!1,value:Object(q.jsx)("div",{})}),m=Object(o.a)(g,2),v=m[0],y=m[1],w=se("darkTheme",!0),C=Object(o.a)(w,2),k=C[0],S=C[1],L={title:n,setTitle:r,action:x,setAction:p,override:v,setOverride:y},E={darkTheme:k,setDarkTheme:S},N=c.a.useMemo((function(){return Object(b.a)({palette:{mode:k?"dark":"light"},components:{MuiCssBaseline:{styleOverrides:"\n                        *::-webkit-scrollbar {\n                            width: 10px;\n                            background: ".concat(k?"#222":"#e1e1e1",";   \n                        }\n                        \n                        *::-webkit-scrollbar-thumb {\n                            background: ").concat(k?"#111":"#aaa",";\n                            border-radius: 5px;\n                        }\n                    ")}}})}),[k]);return Object(q.jsx)(s.a,{children:Object(q.jsx)(h.a,{injectFirst:!0,children:Object(q.jsx)(f.a,{theme:N,children:Object(q.jsx)(l.c,{ReactRouterRoute:u.b,children:Object(q.jsxs)(J.Provider,{value:L,children:[Object(q.jsx)(j.a,{}),Object(q.jsx)(ie,{}),Object(q.jsx)(d.a,{id:"appMainContainer",maxWidth:!1,disableGutters:!0,sx:{mt:8,ml:{sm:8},mb:{xs:8,sm:0},width:"auto",overflow:"auto"},children:Object(q.jsxs)(u.d,{children:[Object(q.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(q.jsx)(u.a,{to:"/library"})}}),Object(q.jsx)(u.b,{path:"/settings/about",children:Object(q.jsx)(Ke,{})}),Object(q.jsx)(u.b,{path:"/settings/categories",children:Object(q.jsx)(ot,{})}),Object(q.jsx)(u.b,{path:"/settings/backup",children:Object(q.jsx)(pt,{})}),Object(q.jsx)(u.b,{path:"/settings",children:Object(q.jsx)(Y.Provider,{value:E,children:Object(q.jsx)(ze,{})})}),Object(q.jsx)(u.b,{path:"/sources/:sourceId/search/",children:Object(q.jsx)(nn,{})}),Object(q.jsx)(u.b,{path:"/sources/:sourceId/popular/",children:Object(q.jsx)(Kn,{popular:!0})}),Object(q.jsx)(u.b,{path:"/sources/:sourceId/latest/",children:Object(q.jsx)(Kn,{popular:!1})}),Object(q.jsx)(u.b,{path:"/sources/:sourceId/configure/",children:Object(q.jsx)(On,{})}),Object(q.jsx)(u.b,{path:"/downloads",children:Object(q.jsx)(Ha,{})}),Object(q.jsx)(u.b,{path:"/manga/:mangaId/chapter/:chapterNum",children:Object(q.jsx)(q.Fragment,{})}),Object(q.jsx)(u.b,{path:"/manga/:id",children:Object(q.jsx)(Gn,{})}),Object(q.jsx)(u.b,{path:"/library",children:Object(q.jsx)(en,{})}),Object(q.jsx)(u.b,{path:"/updates",children:Object(q.jsx)(Da,{})}),Object(q.jsx)(u.b,{path:"/sources",children:Object(q.jsx)(Za,{})}),Object(q.jsx)(u.b,{path:"/extensions",children:Object(q.jsx)(tc,{})}),Object(q.jsx)(u.b,{path:"/browse",children:Object(q.jsx)(nc,{})})]})}),Object(q.jsx)(u.d,{children:Object(q.jsx)(u.b,{path:"/manga/:mangaId/chapter/:chapterIndex",render:function(e){return Object(q.jsx)(ka,{},e.match.params.chapterIndex)}})})]})})})})})}n(268),n(269);i.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsx)(ac,{})}),document.getElementById("root"))}},[[270,1,2]]]);
//# sourceMappingURL=main.3372e3f0.chunk.js.map